{"version":3,"file":"CesiumPro.esm.js","sources":["../../../source/core/CesiumProError.js","../../../source/core/abstract.js","../../../source/core/ajaxCatch.js","../../../source/core/guid.js","../../../source/core/defaultValue.js","../../../source/core/ArrowPolyline.js","../../../source/core/defined.js","../../../source/core/Event.js","../../../source/core/checkViewer.js","../../../source/core/Properties.js","../../../source/core/Graphic.js","../../../source/core/BillBoardGraphic.js","../../../source/core/CVT.js","../../../source/thirdParty/turf/turfHelpers.js","../../../source/thirdParty/turf/turfMeta.js","../../../source/thirdParty/turf/turfArea.js","../../../source/core/Cartometry.js","../../../source/core/CartometryType.js","../../../source/core/clone.js","../../../source/core/CustomShader.js","../../../source/core/createTilesetShader.js","../../../source/core/createViewer.js","../../../source/thirdParty/jquery.js","../../../source/core/CursorTip.js","../../../source/core/destroyObject.js","../../../source/core/CustomPrimitive.js","../../../source/core/DataLoader.js","../../../source/core/dateFormat.js","../../../source/core/depthTest.js","../../../source/core/DraggableElement.js","../../../source/core/flyChinaHome.js","../../../source/core/flyTo.js","../../../source/core/fxaa.js","../../../source/core/GraphicType.js","../../../source/shader/GroundSkyBoxFS.js","../../../source/shader/GroundSkyBoxVS.js","../../../source/core/GroundSkyBox.js","../../../source/core/logo.js","../../../source/core/Model.js","../../../source/core/URL.js","../../../source/graphic/PointGraphic.js","../../../source/graphic/NodeGraphic.js","../../../source/graphic/PolygonGraphic.js","../../../source/core/ModelAttachVector.js","../../../source/core/ModelGraphic.js","../../../source/core/pickPosition.js","../../../source/core/Plotting.js","../../../source/core/PlotUtil.js","../../../source/core/pointVisiblity.js","../../../source/core/PolygonPrimitive.js","../../../source/core/randomPosition.js","../../../source/core/SectorGeoemetry.js","../../../source/core/StepFlyTo.js","../../../source/core/ViewerParams.js","../../../source/shader/waterFaceFS.js","../../../source/shader/waterFaceVS.js","../../../source/core/WaterFacePrimitive.js","../../../source/datasource/VectorTileProvider.js","../../../source/thirdParty/arrow.js","../../../source/graphic/ArrowGraphic.js","../../../source/graphic/PolylineGraphic.js","../../../source/manager/CartometryManager.js","../../../source/material/DynamicFadeMaterialProperty.js","../../../source/shader/dynamicScanMaterial.js","../../../source/material/DynamicScanMaterialProperty.js","../../../source/shader/dynamicSectorFadeMaterial.js","../../../source/material/DynamicSectorFadeMaterialProperty.js","../../../source/shader/dynamicSpreadMaterial.js","../../../source/material/DynamicSpreadMaterialProperty.js","../../../source/shader/dynamicSpreadWallMaterial.js","../../../source/material/DynamicSpreadWallMaterialProperty.js","../../../source/shader/dynamicWareMaterial.js","../../../source/material/DynamicWareMaterialProperty.js","../../../source/shader/polylineFlowMaterial.js","../../../source/material/PolylineFlowMaterialProperty.js","../../../source/shader/polylineGlowMaterial.js","../../../source/material/PolylineGlowMaterialProperty.js","../../../source/shader/polylineTrailLinkMaterial.js","../../../source/material/PolylineTrailLinkMaterialProperty.js","../../../source/shader/waterAppearanceVS.js","../../../source/shader/waterAppearanceFS.js","../../../source/shader/waterFaceMaterial.js","../../../source/material/WaterFaceAppearance.js","../../../source/shader/PostProcessStage/selected.js","../../../source/shader/PostProcessStage/seperableBlur.js","../../../source/shader/PostProcessStage/bloom.js","../../../source/postProcessStage/BloomPass.js","../../../source/shader/postProcessStage/circleScan.js","../../../source/postProcessStage/PostProcessing.js","../../../source/postProcessStage/CircleScan.js","../../../source/shader/postProcessStage/radarScan.js","../../../source/postProcessStage/RadarScan.js","../../../source/shader/postProcessStage/specularReflection.js","../../../source/postProcessStage/SpecularReflection.js","../../../source/postProcessStage/UnrealBloomPass.js","../../../source/shader/dynamicFlowWallMaterial.js","../../../source/shader/dynamicWaterMaterial.js","../../../source/shader/polylineTrackMaterial.js","../../../source/thirdParty/filesaver.js","../../../source/thirdParty/html2canvas.js","../../../source/thirdParty/libgif.js","../../../source/thirdParty/netcdfjs.js","../../../source/thirdParty/PBF.js","../../../source/thirdParty/shapefile.js","../../../source/shader/postProcessStage/bloom.js","../../../source/shader/postProcessStage/selected.js","../../../source/shader/postProcessStage/seperableBlur.js","../../../source/CesiumPro.js"],"sourcesContent":["class CesiumProError extends Error {\r\n  /**\r\n   * 定义CesiumPro抛出的错误\r\n   * @extends Error\r\n   * @param {String} message 描述错误消息的内容\r\n   * @example\r\n   * function flyTo(viewer,entity){\r\n   *    if(!viewer){\r\n   *      throw(new CesiumPro.CesiumProError(\"viewer未定义\"))\r\n   *    }\r\n   *    viewer.flyTo(entity)\r\n   * }\r\n   *\r\n   */\r\n  constructor(message) {\r\n    super(message);\r\n    this.name = 'CesiumProError';\r\n  }\r\n}\r\nexport default CesiumProError;\r\n","import CesiumProError from './CesiumProError';\r\n\r\nfunction abstract() {\r\n  throw new CesiumProError('抽象方法无法被调用。');\r\n}\r\nexport default abstract;\r\n","/**\r\n * 捕获ajax异常\r\n *\r\n * @exports ajaxCatch\r\n * @param {Any} e ajax抛出的错误\r\n * @param {function} [callback=console.error] 回调函数\r\n *\r\n * @example\r\n *\r\n * axios.get('url')\r\n * .then(res=>{\r\n *    do(res)\r\n * }).catch(e=>{\r\n *    CesiumPro.ajaxCatch(e,console.log);\r\n * })\r\n */\r\nconst errorCatch = function (e, callback = console.error) {\r\n  if (e.response) {\r\n    callback(e.status, e.response.data);\r\n  } else if (e.request) {\r\n    callback(e.status, e.request);\r\n  } else if (e.message) {\r\n    callback(e.status, e.message);\r\n  } else if (e.statusText) {\r\n    callback(e.status, e.statusText);\r\n  } else {\r\n    callback(e);\r\n  }\r\n};\r\n\r\nexport default errorCatch;\r\n","/**\r\n * 生成符合RFC4122 v4的guid\r\n * @exports guid\r\n * @return {String} guid\r\n */\r\nfunction guid() {\r\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n    const r = Math.floor((Math.random() * 16));\r\n    // y值限定在[8,B]\r\n    /* eslint-disable */\r\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n    return v.toString(16);\r\n  });\r\n}\r\nexport default guid;\r\n","/**\r\n * 如果第一个元素为空或未定义，则返回第二个元素，用于设置默认属性\r\n * @exports defaultValue\r\n * @param {any} a\r\n * @param {any} b\r\n * @returns {any} 如果第一个元素为空或未定义，则返回第二个元素\r\n *\r\n * @example\r\n * param = Cesium.defaultValue(param, 'default');\r\n */\r\nfunction defaultValue(a, b) {\r\n  if (a !== undefined && a !== null) {\r\n    return a;\r\n  }\r\n  return b;\r\n}\r\n/**\r\n *\r\n * 空对象，该对象不能被编辑\r\n *\r\n * @type {Object}\r\n * @memberof defaultValue\r\n *\r\n */\r\ndefaultValue.EMPTY_OBJECT = Object.freeze({});\r\nexport default defaultValue;\r\n","import guid from './guid';\r\nimport defaultValue from './defaultValue';\n\r\nclass ArrowPolyline {\r\n  /**\r\n   * 通过Primitive创建箭头线，其实质是一个圆柱加一个圆锥，所以他永远不会延着地球表面弯曲。\r\n   * @param {} options [description]\r\n   */\r\n  constructor(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._width = defaultValue(options.width, 3);\r\n    this._headWidth = defaultValue(options.headWidth, 2 * this._width);\r\n    this._color = option.color || Cesium.Color.RED;\r\n    this._width = option.width || 3;\r\n    this._headWidth = option\r\n      .headWidth || 2 * this._width;\r\n    this._length = option.length || 300;\r\n    this._headLength = option.headLength || 10;\r\n    this._inverse = option.inverse || false;\r\n    this.position = option.position;\r\n    const id = option.id || guid();\r\n    const line = Cesium.CylinderGeometry.createGeometry(new Cesium.CylinderGeometry({\r\n      length: this._length,\r\n      topRadius: this._width,\r\n      bottomRadius: this._width,\r\n    }));\r\n    const arrow = Cesium.CylinderGeometry.createGeometry(new Cesium.CylinderGeometry({\r\n      length: this._headLength,\r\n      topRadius: 0,\r\n      bottomRadius: this._headWidth,\r\n    }));\r\n    let offset = (this._length + this._headLength) / 2;\r\n    if (this._inverse) {\r\n      offset = -offset;\r\n    }\r\n\r\n    ArrowPolyline.translate(arrow, [0, 0, offset]);\r\n\r\n    return new Cesium.Primitive({\r\n      modelMatrix: Cesium.Transforms.eastNorthUpToFixedFrame(this.position),\r\n      geometryInstances: [new Cesium.GeometryInstance({\r\n        id: `${id}-line`,\r\n        geometry: line,\r\n      }),\r\n      new Cesium.GeometryInstance({\r\n        id: `${id}-arrow`,\r\n        geometry: arrow,\r\n      }),\r\n      ],\r\n      appearance: new Cesium.MaterialAppearance({\r\n        material: Cesium.Material.fromType('Color', {\r\n          color: this._color,\r\n        }),\r\n      }),\r\n    });\r\n  }\n\r\n  static translate = function (geometry, offset) {\r\n    const scratchOffset = new Cesium.Cartesian3();\r\n    if (Cesium.isArray(offset)) {\r\n      scratchOffset.x = offset[0];\r\n      scratchOffset.y = offset[1];\r\n      scratchOffset.z = offset[2];\r\n    } else {\r\n      Cesium.Cartesian3.clone(offset, scratchOffset);\r\n    }\r\n\r\n    for (let i = 0; i < geometry.attributes.position.values.length; i += 3) {\r\n      geometry.attributes.position.values[i] += scratchOffset.x;\r\n      geometry.attributes.position.values[i + 1] += scratchOffset.y;\r\n      geometry.attributes.position.values[i + 2] += scratchOffset.z;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ArrowPolyline;\r\n","/**\r\n * 判断一个变量是否被定义\r\n * @param value\r\n * @exports defined\r\n */\r\nfunction defined(value) {\r\n  return value !== undefined && value !== null;\r\n}\r\nexport default defined;\r\n","/* eslint-disable prefer-rest-params */\r\n\r\nimport CesiumProError from './CesiumProError';\r\n\r\nfunction compareNumber(a, b) {\r\n  return b - a;\r\n}\r\nclass Event {\r\n  /**\r\n   * 事件管理器\r\n   * @example\r\n   * const addMarkerEvent=new Event();\r\n   * function saveMark(mark){\r\n   *  console.log(\"添加了一个mark\",mark.id)\r\n   * }\r\n   * addMarkerEvent.on(saveMark)\r\n   * const mark=viewer.entities.add({\r\n   *  id:\"mark1\",\r\n   *  billboard:{\r\n   *    image:\"./icon/pin.png\"\r\n   *  }\r\n   * })\r\n   * addMarkerEvent.emit(mark)\r\n   */\r\n  constructor() {\r\n    this._listeners = [];\r\n    this._scopes = [];\r\n    this._toRemove = [];\r\n    this._insideRaiseEvent = false;\r\n  }\r\n\r\n  /**\r\n   * 当前订阅事件的侦听器个数\r\n   */\r\n  get numberOfListeners() {\r\n    return this._listeners.length - this._toRemove.length;\r\n  }\r\n\r\n  /**\r\n   * 注册事件触发时执行的回调函数\r\n   * @param {Function} listener 事件触发时执行的回调函数\r\n   * @param {Object} [scope] 侦听器函数中this的指针\r\n   * @return {Function} 用于取消侦听器监测的函数\r\n   *\r\n   * @see Event#removeEventListener\r\n   * @see Event#raise\r\n   */\r\n\r\n  addEventListener(listener, scope) {\r\n    if (typeof listener !== 'function') {\r\n      throw new CesiumProError('侦听器应该是一个函数');\r\n    }\r\n\r\n    this._listeners.push(listener);\r\n    this._scopes.push(scope);\r\n\r\n    const event = this;\r\n    return function () {\r\n      event.removeEventListener(listener, scope);\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 注销事件触发时的回调函数\r\n   * @param {Function} listener 将要被注销的函数\r\n   * @param {Object} [scope] 侦听器函数中this的指针\r\n   * @return {Boolean} 如果为真，事件被成功注销，否则，事件注销失败\r\n   *\r\n   * @see Event#addEventListener\r\n   * @see Event#raise\r\n   */\r\n  removeEventListener(listener, scope) {\r\n    if (typeof listener !== 'function') {\r\n      throw new CesiumProError('侦听器应该是一个函数');\r\n    }\r\n    const listeners = this._listeners;\r\n    const scopes = this._scopes;\r\n\r\n    let index = -1;\r\n    for (let i = 0; i < listeners.length; i++) {\r\n      if (listeners[i] === listener && scopes[i] === scope) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (index !== -1) {\r\n      if (this._insideRaiseEvent) {\r\n        // In order to allow removing an event subscription from within\r\n        // a callback, we don't actually remove the items here.  Instead\r\n        // remember the index they are at and undefined their value.\r\n        this._toRemove.push(index);\r\n        listeners[index] = undefined;\r\n        scopes[index] = undefined;\r\n      } else {\r\n        listeners.splice(index, 1);\r\n        scopes.splice(index, 1);\r\n      }\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * 触发事件\r\n   * @param {*} arguments 此方法接受任意数据的参数并传递给侦听器函数\r\n   *\r\n   * @see Event#addEventListener\r\n   * @see Event#removeEventListener\r\n   */\r\n  raise() {\r\n    this._insideRaiseEvent = true;\r\n\r\n    let i;\r\n    const listeners = this._listeners;\r\n    const scopes = this._scopes;\r\n    let {\r\n      length,\r\n    } = listeners;\r\n\r\n    for (i = 0; i < length; i++) {\r\n      const listener = listeners[i];\r\n      if (Cesium.defined(listener)) {\r\n        listeners[i].apply(scopes[i], arguments);\r\n      }\r\n    }\r\n\r\n    // Actually remove items removed in removeEventListener.\r\n    const toRemove = this._toRemove;\r\n    length = toRemove.length;\r\n    // 降序排列，从后往前删\r\n    if (length > 0) {\r\n      toRemove.sort(compareNumber);\r\n      for (i = 0; i < length; i++) {\r\n        const index = toRemove[i];\r\n        listeners.splice(index, 1);\r\n        scopes.splice(index, 1);\r\n      }\r\n      toRemove.length = 0;\r\n    }\r\n\r\n    this._insideRaiseEvent = false;\r\n  }\r\n}\r\nexport default Event;\r\n","import CesiumProError from './CesiumProError';\r\n\r\n/**\r\n * 检查变是否是一个Cesium.Viewer对象\r\n * @exports checkViewer\r\n *\r\n * @param {any} viewer 将要检查的对象\r\n */\r\nfunction checkViewer(viewer) {\r\n  if (!(viewer && viewer instanceof Cesium.Viewer)) {\r\n    const type = typeof viewer;\r\n    throw new CesiumProError(`Expected viewer to be typeof Viewer, actual typeof was ${type}`);\r\n  }\r\n}\r\nexport default checkViewer;\r\n","import Event from './Event';\r\nimport defined from './defined';\r\nimport CesiumProError from './CesiumProError';\r\n\r\nfunction createProperty(name, configurable = false) {\r\n  const privateName = `_${name}`;\r\n  return {\r\n    configurable,\r\n    get() {\r\n      return this[privateName];\r\n    },\r\n    set(value) {\r\n      const oldValue = this[privateName];\r\n      if (value !== oldValue) {\r\n        this[privateName] = value;\r\n        this._definitionChanged.raise(name, value, oldValue);\r\n      }\n    },\r\n  };\r\n}\r\nclass Properties {\r\n  /**\r\n   * 一个key-value集合，用于保存对象的属性信息\r\n   * @param {Object} [options={}]\r\n   */\r\n  constructor(options = {}) {\r\n    this._definitionChange = new Event();\r\n    this._propertyNames = [];\r\n    for (const key in options) {\r\n      if (options.hasOwnProperty(key)) {\r\n        this[`_${key}`] = options[key];\r\n        this._propertyNames.push(key);\r\n        Object.defineProperty(this, key, createProperty(key));\r\n      }\r\n    }\r\n  }\n\r\n  /**\r\n   * 所有属性的key值\r\n   * @return {Array} 所有属性的key值\r\n   */\r\n  get propertyNames() {\r\n    return this._propertyNames;\r\n  }\n\r\n  /**\r\n   * 添加属性\r\n   * @param {*} key   键\r\n   * @param {*} value 值\r\n   * @fires Properties#definitionChanged\r\n   */\r\n  addProperty(key, value) {\r\n    if (!defined(key)) {\r\n      throw new CesiumProError('key is reqiured.');\r\n    }\r\n    if (this.propertyNames.includes(key)) {\r\n      throw new CesiumProError(`${key}has be a registered property.`);\r\n    }\r\n    this[`_${key}`] = value;\r\n    Object.defineProperty(this, key, createProperty(key));\r\n  }\r\n\r\n  /**\r\n   * 删除属性\r\n   * @param  {*} key\r\n   * @fires Properties#definitionChanged\r\n   */\r\n  removeProperty(key) {\r\n    if (!defined(key)) {\r\n      throw new CesiumProError('key is reqiured.');\r\n    }\r\n    if (this.propertyNames.includes(key)) {\r\n      delete this[key];\r\n      delete this[`_${key}`];\r\n      const index = this.propertyNames.indexOf(key);\r\n      this.propertyNames.slice(index, 1);\r\n      this.definitionChanged.raise(key);\r\n    }\r\n  }\n\r\n  /**\r\n   * 将该对象转换为字符串\r\n   * @return {String}\r\n   */\r\n  toString() {\r\n    const json = this.toJson();\r\n    return JSON.stringify(json);\r\n  }\n\r\n  /**\r\n   * 将该对象转换为json\r\n   * @return {Object}\r\n   */\r\n  toJson() {\r\n    const json = {};\r\n    for (const property of this.propertyNames) {\r\n      json[property] = this[property];\r\n    }\r\n    return json;\r\n  }\r\n\r\n  /**\r\n   * 判断该对象是否包含属性key\r\n   * @param  {*}  key\r\n   * @return {Boolean}\r\n   */\r\n  hasProperty(key) {\r\n    if (!defined(key)) {\r\n      throw new CesiumProError('key is reqiured.');\r\n    }\r\n    return this.propertyNames.includes(key);\r\n  }\n\r\n  /**\r\n   * 其定义发生变化时触发的事件,事件订阅者以发生变化的属性、变化后的值、变化前的值作为参数。\r\n   * @Event\r\n   * @return {Event}\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged;\r\n  }\r\n\r\n  destroy() {\r\n    this._definitionChanged = undefined;\r\n    this._propertyNames = undefined;\r\n  }\r\n}\r\nexport default Properties;\r\n","import defined from './defined';\r\nimport defaultValue from './defaultValue';\r\nimport Event from './Event';\r\nimport checkViewer from './checkViewer';\r\nimport Properties from './Properties';\r\nimport abstract from './abstract';\r\nimport uuid from './guid';\r\n\r\nconst {\r\n  CallbackProperty,\r\n  ConstantPositionProperty,\r\n} = Cesium;\r\n\r\nfunction toCallbackProperty(values) {\r\n  return new CallbackProperty(() => values, false);\r\n}\r\nclass Graphic {\r\n  /**\r\n   * 可编辑的几何图形基类，定义了可编辑几何图形的公共属性和操作方法，一般做为某种图形的父类使用，不要直接创建它。\r\n   * @param {Cesium.Viewer} viewer\r\n   * @param {Object} options   具有以下属性\r\n   * @param {Object} entityOptions 描述一个实体对象\r\n   */\r\n  constructor(viewer, entityOptions, options = {}) {\r\n    checkViewer(viewer);\r\n    this._viewer = viewer;\r\n    this._type = undefined;\r\n    this._properties = undefined;\r\n    this._show = true;\r\n    this._id = defaultValue(options.id, uuid());\r\n    this._dataSource = new Cesium.CustomDataSource('cesiumpro-graphic');\r\n    this._root = this._dataSource.entities;\r\n    this._node = undefined;\r\n\r\n    this._preEdit = new Event();\r\n    this._postEdit = new Event();\r\n    this._preCreate = new Event();\r\n    this._postCreate = new Event();\r\n    this._preRemove = new Event();\r\n    this._postRemove = new Event();\r\n  }\r\n\r\n  /**\r\n   * 图形id\r\n   * @readonly\r\n   * @type {String}\r\n   */\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * 保存所有图形实体的集合\r\n   * @return {EntityCollection}\r\n   */\r\n  get root() {\r\n    return this._root;\r\n  }\r\n  /**\r\n   * 图形的顶点位置信息\r\n   * @readonly\r\n   * @return {Cartesian3[]|Cartesian3}\r\n   */\r\n  get positions() {\r\n    return this._positions;\r\n  }\r\n\r\n  /**\r\n   * 图形类型\r\n   * @readonly\r\n   * @type {GraphicType}\r\n   */\r\n  get type() {\r\n    return this._type;\r\n  }\r\n\r\n  /**\r\n   * 保存了描述该图形的所有属性信息\r\n   * @readonly\r\n   * @type {Properties} 描述该图形的所有属性信息\r\n   */\r\n  get properties() {\r\n    return this._properties;\r\n  }\r\n\r\n  /**\r\n   * 包含了该图形几何信息的实体，场景将根据它渲染图形，且场景中任何对该图形的操作都直接作用于其实体。\r\n   * @readonly\r\n   * @type {Cesium.Entity} 图形在场景中的实体\r\n   */\r\n  get entity() {\r\n    return this._entity;\r\n  }\r\n\r\n  /**\r\n   * 图形开始编辑前触发的事件，事件订阅者将以被编辑图形作为参数\r\n   * @readonly\r\n   * @Event\r\n   * @type {Event}\r\n   */\r\n  get preEdit() {\r\n    return this._preEdit;\r\n  }\r\n\r\n  /**\r\n   * 图形编辑完成后触发的事件，事件订阅者将以被编辑图形作为参数\r\n   * @readonly\r\n   * @Event\r\n   * @type {Event}\r\n   */\r\n  get postEdit() {\r\n    return this._postEdit;\r\n  }\r\n\r\n  /**\r\n   * 实体创建完成，添加到场景之前触发的事件，事件订阅者将以创建的实体作为参数。此时图形还没有添加到场景。\r\n   * @readonly\r\n   * @Event\r\n   * @type {Event}\r\n   */\r\n  get preCreate() {\r\n    return this._preCreate;\r\n  }\r\n\r\n  /**\r\n   * 图形创建完成后触发的事件，事件订阅者将以被创建的实体作为参数，此时图形已经被添加到场景中。\r\n   * @readonly\r\n   * @Event\r\n   * @type {Event}\r\n   */\r\n  get postCreate() {\r\n    return this._postCreate;\r\n  }\r\n\r\n  /**\r\n   * 图形被删除前触发的事件，事件订阅者将以被删除的图形作为参数\r\n   * @readonly\r\n   * @Event\r\n   * @type {Event}\r\n   */\r\n  get preRemove() {\r\n    return this._preRemove;\r\n  }\r\n\r\n  /**\r\n   * 图形被删除后触发的事件，事件订阅者将以被删除的图形作为参数\r\n   * @readonly\r\n   * @Event\r\n   * @type {Event}\r\n   */\r\n  get postRemove() {\r\n    return this._postRemove;\r\n  }\r\n\r\n  /**\r\n   * viewer\r\n   * @readonly\r\n   * @type {Cesium.Viewer}\r\n   */\r\n  get viewer() {\r\n    return this._viewer;\r\n  }\r\n\r\n  /**\r\n   * 图形是否可见\r\n   * @return {Bool} [description]\r\n   */\r\n  get show() {\r\n    return this._show;\r\n  }\r\n\r\n  set show(v) {\r\n    this._show = v;\r\n    if (this.entity) {\r\n      this.entity.show = this._show;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 将实体添加到场景中\r\n   * @fires Graphic#preCreate\r\n   * @fires Graphic#postCreate\r\n   */\r\n  add() {\r\n    this.preCreate.raise(this.entity);\r\n    if (defined(this.viewer && defined(this.entity))) {\r\n      this._viewer.entities.add(this.entity);\r\n      this.postCreate.raise(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 将实体从场景中删除。\r\n   * @fires Graphic#preRemove\r\n   * @fires Graphic#postRemove\r\n   */\r\n  remove() {\r\n    this.preRemove.raise(this);\r\n    if (defined(this.viewer) && defined(this.entity)) {\r\n      this._viewer.entities.remove(this.entity);\r\n      this.postRemove.raise(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 销毁对象。\r\n   */\r\n  destroy() {\r\n    if (defined(this.viewer) && defined(this.entity)) {\r\n      this._viewer.entities.remove(this.entity);\r\n    }\r\n    this._viewer = undefined;\r\n    this._entity = undefined;\r\n    this._entityOptions = undefined;\r\n    this._positions = undefined;\r\n    this.properties && this.properties.destroy();\r\n    this._properties = undefined;\r\n  }\r\n\r\n  /**\r\n   * 定位到图形\r\n   */\r\n  zoomTo() {\r\n    if (defined(this._viewer)) {\r\n      this._viewer.flyTo([this.entity]);\r\n    }\r\n    if (this.entity.position) {\r\n      const position = this.entity.position.getValue(this._viewer.clock.currentTime);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 开始编辑几何信息，此时图形的顶点可以被修改、删除、移动。\r\n   * 属性信息的编辑不需要调用该方法。\r\n   * @fires Graphic#preEdit\r\n   */\r\n  startEdit() {\r\n    if (this.entity) {\r\n      this.preEdit.raise(this);\r\n      const callbackProperty = toCallbackProperty(this.positions);\r\n      this.entity.position && (this.entity.position = callbackProperty);\r\n      this.entity.polyline && (this.entity.polyline.positions = toCallbackProperty(this._nodePositions || this.positions));\r\n      this.entity.polygon && (this.entity.polygon.hierarchy = toCallbackProperty(new Cesium.PolygonHierarchy(this.positions)));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @fires Graphic#postEdit\r\n   * 几何要素编辑完成后调用该方法，以降低性能消耗。\r\n   * <p style='font-weight:bold'>建议在图形编辑完成后调用该方法，因为CallbackProperty对资源消耗比较大，虽然对单个图形来说，不调用此方法并不会有任何影响。</p>\r\n   */\r\n  stopEdit() {\r\n    if (this.entity) {\r\n      const callbackProperty = toCallbackProperty(this.positions);\r\n      this.entity.position && (this.entity.position = this.positions);\r\n      this.entity.polyline && (this.entity.polyline.positions = this._nodePositions || this.positions);\r\n      this.entity.polygon && (this.entity.polygon.hierarchy = new Cesium.PolygonHierarchy(this.positions));\r\n      this.postEdit.raise(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 创建属性信息\r\n   * @private\r\n   */\r\n  createProperties() {\r\n    const options = this._entityOptions;\r\n    const {\r\n      properties\r\n    } = options;\r\n    if (properties) {\r\n      this._properties = new Properties(properties);\r\n      delete options.properties;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 创建实体\r\n   * @private\r\n   * @return {Entity}\r\n   */\r\n  createEntity() {\r\n    this.createProperties();\r\n  }\r\n\r\n  /**\r\n   * 将对象转为GeoJson格式\r\n   * @return {Object}\r\n   */\r\n  toGeoJson() {\r\n    abstract();\r\n  }\r\n\r\n  /**\r\n   * 返回该图形的几何描述，包括类型，经纬度等，必须在派生类中实现它。\r\n   * @return {Object}\r\n   */\r\n  getGeometry() {\r\n    abstract();\r\n  }\r\n}\r\n\r\nexport default Graphic;\r\n","import Graphic from './Graphic';\n\r\nclass BillboardGraphic extends Graphic {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  static defaultStyle = {\r\n    image: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJEN0VBRDA0MzJCRTExRUE5MjY2QTg3OUVFNjUyQzhCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJEN0VBRDA1MzJCRTExRUE5MjY2QTg3OUVFNjUyQzhCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkQ3RUFEMDIzMkJFMTFFQTkyNjZBODc5RUU2NTJDOEIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkQ3RUFEMDMzMkJFMTFFQTkyNjZBODc5RUU2NTJDOEIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6qzlgwAAADR0lEQVR42uxXTUhUURQ+88aZ93JSZyiDCCkt+0VLtGzRn/QntotMoqBEol1Ui9JVtNCsoKJNSFgQREjRKiXF/mxToIQK2YBZIRKlaE1pb+Y5M33n+dRJfTN3ZoLZdOG7986dc75z5v6cc8YSDAYpkU2iBLeEO5AUpfxy4BCwHVgLLDTWh4B3wEvgPvBBlNAy1x1w3fP89XnkcOoyDJeBA6wTgZMJHwJnwfNpBk/0DkCpFEM9kKL6iR591qixX6OukQB9+x3QZRbNkyjXJdG+DBvtX2ojxaov/wQqwPUgZgegUIHhFss19o9TVYdK/aOBsD8/wyHRxXwFziRN7sZx8NWbOWB6CSFchKGOjZ9/q9KRtrGIxrmxDMuyjnFcdQaX+B3g7QZ6gCWXur1U2+WN6YZX5sp0Lkfm6YBxaT2iO3CKjbcP+elKtzfmJ8a6zMFcwGnRHVB4J/mJFbeM0ptBf1zvvDDdSk/2OCafagagRtqBvWy8c9gft3FuzMFcRswoFjmC3dy1DIybktqhVVugUF9pCn0EeG4PE1NDuHaJOFDA3auv5r/+Qp5CJ1bZyWW3kBPgedV62VQ+hGujiANZ3Lk95g6UZdlmrR1dYTeVD+HKFHHAyd2w+u/SdAiXS8QBXVpJMg/5DX3arLW7vZqpvGyd4lJFHOCsRuuc5reKo1yd20fffUEdPK/pVE3lc1xTXL0i6fgxsKEs02b6DH2IyJXtqg6RdjDTFsodMRAtBvq8AVJ2NP2i9z8CcZ3/6jSJXpTMJ1nSt58v+JdIR8AC1VCg21uSKdVmidk469aDQ56wUj3TeLhkxHvWCmx7jWMoez5GHi0YtfGGomTanK4XB21GENKEkhHyt2ZUP24maC120Mo08fKRZVnHMO5mLoNTvB6AwiCGnZyWs1MlegbC8mx72HqMvzuGgMSyrIPWzRwGV/RVMRQ5j2/laOpAXLi6SaEmZLb8BdZZsrzG310rVMgxEUOesq7BEXdRynG2Bjij66BrQol2o2eiVji5RqYSlGCW6UB2nesR8PjiLkpnEHCqvmM8VTJ5QeXQbzbRnyPuwoEo4QRuAv7gdPMba85o+WJxYBJ5QDPQYsxj4rH8/3OaaAf+CDAAVvn1VEy/MOwAAAAASUVORK5CYII=',\r\n    verticalOrigin: Cesium.VerticalOrigin.BASELINE,\r\n  }\r\n}\r\n\r\nexport default BillboardGraphic;\r\n","import defined from './defined';\r\n/**\r\n * 坐标转换工具\r\n * @namespace CVT\r\n */\r\nconst CVT = {};\r\n\r\n/**\r\n * 笛卡尔坐标转屏幕坐标\r\n * @param {Cesium.Cartesian3} cartesian 笛卡尔坐标\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n */\r\nCVT.cartesian2Pixel = function (cartesian, viewer) {\r\n  return Cesium.SceneTransforms.wgs84ToWindowCoordinates(\r\n    viewer.scene,\r\n    cartesian,\r\n  );\r\n};\r\n/**\r\n * 屏幕坐标转笛卡尔坐标\r\n * @param {Cesium.Cartesian2} pixel 屏幕坐标\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n */\r\nCVT.pixel2Cartesian = function (pixel, viewer) {\r\n  const ray = viewer.camera.getPickRay(pixel);\r\n  const cartesian = viewer.scene.globe.pick(ray, viewer.scene);\r\n  return cartesian;\r\n};\r\n\r\n/**\r\n * 屏幕坐标转笛卡尔坐标，此方法获得的坐标为二维坐标，即高度永远为0\r\n * @param {Cesium.Cartesian2} pixel 屏幕坐标\r\n * @param {Cesium.Viewer} [viewer] Viewer对象\r\n */\r\nCVT.pixel2Cartesian2D = function (pixel, viewer) {\r\n  let ellipsoid;\r\n  if (defined(viewer)) {\r\n    ellipsoid = viewer.scene.globe.ellipsoid;\r\n  } else {\r\n    ellipsoid = Cesium.Ellipsoid.WGS84;\r\n  }\r\n  const cartesian = viewer.camera.pickEllipsoid(\r\n    pixel,\r\n    ellipsoid,\r\n  );\r\n  return cartesian;\r\n};\r\n\r\n/**\r\n * 笛卡尔坐标转经纬度（弧度）\r\n * @param {Cesium.Cartesian3} cartesian 笛卡尔坐标\r\n * @param {Cesium.Viewer} [viewer] Viewer对象\r\n */\r\nCVT.cartesian2Radians = function (cartesian, viewer) {\r\n  let ellipsoid;\r\n  if (defined(viewer)) {\r\n    ellipsoid = viewer.scene.globe.ellipsoid;\r\n  } else {\r\n    ellipsoid = Cesium.Ellipsoid.WGS84;\r\n  }\r\n  const cartographic = Cesium.Cartographic.fromCartesian(\r\n    cartesian,\r\n    ellipsoid,\r\n  );\r\n  const lon = cartographic.longitude;\r\n  const lat = cartographic.latitude;\r\n  const {\r\n    height,\r\n  } = cartographic;\r\n  return {\r\n    lon,\r\n    lat,\r\n    height,\r\n  };\r\n};\r\n/**\r\n * 笛卡尔坐标转经纬度（度）\r\n * @param {Cesium.Cartesian3} cartesian 笛卡尔坐标\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n */\r\nCVT.cartesian2Degrees = function (cartesian, viewer) {\r\n  const coords = CVT.cartesian2Radians(cartesian, viewer);\r\n  const lon = Cesium.Math.toDegrees(coords.lon);\r\n  const lat = Cesium.Math.toDegrees(coords.lat);\r\n  const {\r\n    height,\r\n  } = coords;\r\n  return {\r\n    lon,\r\n    lat,\r\n    height,\r\n  };\r\n};\r\n/**\r\n * 屏幕坐标转经纬度（度）\r\n * @param {Cesium.Cartesian2} pixel 屏幕坐标\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n */\r\nCVT.pixel2Degrees = function (pixel, viewer) {\r\n  const cartesian = CVT.pixel2Cartesian(pixel, viewer);\r\n  if (Cesium.defined(cartesian)) {\r\n    return CVT.cartesian2Degrees(cartesian, viewer);\r\n  }\r\n  return undefined;\r\n};\r\n\r\n/**\r\n * 屏幕坐标转经纬度（弧度）\r\n * @param {Cesium.Cartesian2} pixel 屏幕坐标\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n */\r\nCVT.pixel2Radians = function (pixel, viewer) {\r\n  const cartesian = CVT.pixel2Cartesian(pixel, viewer);\r\n  if (Cesium.defined(cartesian)) {\r\n    return CVT.cartesian2Radians(cartesian, viewer);\r\n  }\r\n  return undefined;\r\n};\r\n\r\n/**\r\n * 获得经纬度坐标（度）\r\n * @param {Cesium.Cartesian2|Cesium.Cartesian3|Cesium.Cartographic} position\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n */\r\nCVT.toDegrees = function (position, viewer) {\r\n  if (position instanceof Cesium.Cartesian3) {\r\n    return CVT.cartesian2Degrees(position, viewer);\r\n  }\r\n  if (position instanceof Cesium.Cartesian2) {\r\n    return CVT.pixel2Degrees(position, viewer);\r\n  }\r\n  if (position instanceof Cesium.Cartographic) {\r\n    return {\r\n      lon: Cesium.Math.toDegrees(position.longitude),\r\n      lat: Cesium.Math.toDegrees(position.latitude),\r\n      height: position.height,\r\n    };\r\n  }\r\n  return undefined;\r\n};\r\n\r\n/**\r\n * 获得经纬度坐标（弧度）\r\n * @param {Cesium.Cartesian2|Cesium.Cartesian3|Cesium.Cartographic} position\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n */\r\nCVT.toRadians = function (position, viewer) {\r\n  if (position instanceof Cesium.Cartesian3) {\r\n    return CVT.cartesian2Radians(position, viewer);\r\n  }\r\n  if (position instanceof Cesium.Cartesian2) {\r\n    return CVT.pixel2Radians(position, viewer);\r\n  }\r\n  if (position instanceof Cesium.Cartographic) {\r\n    return {\r\n      lon: position.longitude,\r\n      lat: position.latitude,\r\n      height: position.height,\r\n    };\r\n  }\r\n  return undefined;\r\n};\r\n\r\n/**\r\n * 获得屏幕坐标\r\n * @param {Cesium.Cartesian3|Cesium.Cartographic} position\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n */\r\nCVT.toPixel = function (position, viewer) {\r\n  if (position instanceof Cesium.Cartesian3) {\r\n    return CVT.cartesian2Pixel(position, viewer);\r\n  }\r\n  if (position instanceof Cesium.Cartographic) {\r\n    const cartesian = Cesium.Cartographic.toCartesian(position);\r\n    return CVT.cartesian2Pixel(cartesian, viewer);\r\n  }\r\n  return undefined;\r\n};\r\n\r\n/**\r\n * 获得笛卡尔坐标\r\n * @param {Cesium.Cartesian2|Cesium.Cartographic} position\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n */\r\nCVT.toCartesian = function (position, viewer) {\r\n  if (position instanceof Cesium.Cartesian2) {\r\n    return CVT.pixel2Cartesian(position, viewer);\r\n  }\r\n  if (position instanceof Cesium.Cartographic) {\r\n    return Cesium.Cartographic.toCartesian(position);\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport default CVT;\r\n","/**\r\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\r\n */\r\nexport var earthRadius = 6371008.8;\r\n\r\n/**\r\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\r\n */\r\nexport var factors = {\r\n  meters: earthRadius,\r\n  metres: earthRadius,\r\n  millimeters: earthRadius * 1000,\r\n  millimetres: earthRadius * 1000,\r\n  centimeters: earthRadius * 100,\r\n  centimetres: earthRadius * 100,\r\n  kilometers: earthRadius / 1000,\r\n  kilometres: earthRadius / 1000,\r\n  miles: earthRadius / 1609.344,\r\n  nauticalmiles: earthRadius / 1852,\r\n  inches: earthRadius * 39.370,\r\n  yards: earthRadius / 1.0936,\r\n  feet: earthRadius * 3.28084,\r\n  radians: 1,\r\n  degrees: earthRadius / 111325,\r\n};\r\n\r\n/**\r\n * Units of measurement factors based on 1 meter.\r\n */\r\nexport var unitsFactors = {\r\n  meters: 1,\r\n  metres: 1,\r\n  millimeters: 1000,\r\n  millimetres: 1000,\r\n  centimeters: 100,\r\n  centimetres: 100,\r\n  kilometers: 1 / 1000,\r\n  kilometres: 1 / 1000,\r\n  miles: 1 / 1609.344,\r\n  nauticalmiles: 1 / 1852,\r\n  inches: 39.370,\r\n  yards: 1 / 1.0936,\r\n  feet: 3.28084,\r\n  radians: 1 / earthRadius,\r\n  degrees: 1 / 111325,\r\n};\r\n\r\n/**\r\n * Area of measurement factors based on 1 square meter.\r\n */\r\nexport var areaFactors = {\r\n  meters: 1,\r\n  metres: 1,\r\n  millimeters: 1000000,\r\n  millimetres: 1000000,\r\n  centimeters: 10000,\r\n  centimetres: 10000,\r\n  kilometers: 0.000001,\r\n  kilometres: 0.000001,\r\n  acres: 0.000247105,\r\n  miles: 3.86e-7,\r\n  yards: 1.195990046,\r\n  feet: 10.763910417,\r\n  inches: 1550.003100006\r\n};\r\n\r\n/**\r\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\r\n *\r\n * @name feature\r\n * @param {Geometry} geometry input geometry\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the Feature\r\n * @returns {Feature} a GeoJSON Feature\r\n * @example\r\n * var geometry = {\r\n *   \"type\": \"Point\",\r\n *   \"coordinates\": [110, 50]\r\n * };\r\n *\r\n * var feature = turf.feature(geometry);\r\n *\r\n * //=feature\r\n */\r\nexport function feature(geometry, properties, options) {\r\n  // Optional Parameters\r\n  options = options || {};\r\n  if (!isObject(options)) throw new Error('options is invalid');\r\n  var bbox = options.bbox;\r\n  var id = options.id;\r\n\r\n  // Validation\r\n  if (geometry === undefined) throw new Error('geometry is required');\r\n  if (properties && properties.constructor !== Object) throw new Error('properties must be an Object');\r\n  if (bbox) validateBBox(bbox);\r\n  if (id) validateId(id);\r\n\r\n  // Main\r\n  var feat = {\r\n    type: 'Feature'\r\n  };\r\n  if (id) feat.id = id;\r\n  if (bbox) feat.bbox = bbox;\r\n  feat.properties = properties || {};\r\n  feat.geometry = geometry;\r\n  return feat;\r\n}\r\n\r\n/**\r\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\r\n * For GeometryCollection type use `helpers.geometryCollection`\r\n *\r\n * @name geometry\r\n * @param {string} type Geometry Type\r\n * @param {Array<number>} coordinates Coordinates\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Geometry\r\n * @returns {Geometry} a GeoJSON Geometry\r\n * @example\r\n * var type = 'Point';\r\n * var coordinates = [110, 50];\r\n *\r\n * var geometry = turf.geometry(type, coordinates);\r\n *\r\n * //=geometry\r\n */\r\nexport function geometry(type, coordinates, options) {\r\n  // Optional Parameters\r\n  options = options || {};\r\n  if (!isObject(options)) throw new Error('options is invalid');\r\n  var bbox = options.bbox;\r\n\r\n  // Validation\r\n  if (!type) throw new Error('type is required');\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n  if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\r\n  if (bbox) validateBBox(bbox);\r\n\r\n  // Main\r\n  var geom;\r\n  switch (type) {\r\n    case 'Point':\r\n      geom = point(coordinates).geometry;\r\n      break;\r\n    case 'LineString':\r\n      geom = lineString(coordinates).geometry;\r\n      break;\r\n    case 'Polygon':\r\n      geom = polygon(coordinates).geometry;\r\n      break;\r\n    case 'MultiPoint':\r\n      geom = multiPoint(coordinates).geometry;\r\n      break;\r\n    case 'MultiLineString':\r\n      geom = multiLineString(coordinates).geometry;\r\n      break;\r\n    case 'MultiPolygon':\r\n      geom = multiPolygon(coordinates).geometry;\r\n      break;\r\n    default:\r\n      throw new Error(type + ' is invalid');\r\n  }\r\n  if (bbox) geom.bbox = bbox;\r\n  return geom;\r\n}\r\n\r\n/**\r\n * Creates a {@link Point} {@link Feature} from a Position.\r\n *\r\n * @name point\r\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the Feature\r\n * @returns {Feature<Point>} a Point feature\r\n * @example\r\n * var point = turf.point([-75.343, 39.984]);\r\n *\r\n * //=point\r\n */\r\nexport function point(coordinates, properties, options) {\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n  if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\r\n  if (coordinates.length < 2) throw new Error('coordinates must be at least 2 numbers long');\r\n  if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) throw new Error('coordinates must contain numbers');\r\n\r\n  return feature({\r\n    type: 'Point',\r\n    coordinates: coordinates\r\n  }, properties, options);\r\n}\r\n\r\n/**\r\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\r\n *\r\n * @name points\r\n * @param {Array<Array<number>>} coordinates an array of Points\r\n * @param {Object} [properties={}] Translate these properties to each Feature\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the FeatureCollection\r\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\r\n * @returns {FeatureCollection<Point>} Point Feature\r\n * @example\r\n * var points = turf.points([\r\n *   [-75, 39],\r\n *   [-80, 45],\r\n *   [-78, 50]\r\n * ]);\r\n *\r\n * //=points\r\n */\r\nexport function points(coordinates, properties, options) {\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n  if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\r\n\r\n  return featureCollection(coordinates.map(function(coords) {\r\n    return point(coords, properties);\r\n  }), options);\r\n}\r\n\r\n/**\r\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\r\n *\r\n * @name polygon\r\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the Feature\r\n * @returns {Feature<Polygon>} Polygon Feature\r\n * @example\r\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\r\n *\r\n * //=polygon\r\n */\r\nexport function polygon(coordinates, properties, options) {\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n\r\n  for (var i = 0; i < coordinates.length; i++) {\r\n    var ring = coordinates[i];\r\n    if (ring.length < 4) {\r\n      throw new Error('Each LinearRing of a Polygon must have 4 or more Positions.');\r\n    }\r\n    for (var j = 0; j < ring[ring.length - 1].length; j++) {\r\n      // Check if first point of Polygon contains two numbers\r\n      if (i === 0 && j === 0 && !isNumber(ring[0][0]) || !isNumber(ring[0][1])) throw new Error('coordinates must contain numbers');\r\n      if (ring[ring.length - 1][j] !== ring[0][j]) {\r\n        throw new Error('First and last Position are not equivalent.');\r\n      }\r\n    }\r\n  }\r\n\r\n  return feature({\r\n    type: 'Polygon',\r\n    coordinates: coordinates\r\n  }, properties, options);\r\n}\r\n\r\n/**\r\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\r\n *\r\n * @name polygons\r\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\r\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\r\n * @example\r\n * var polygons = turf.polygons([\r\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\r\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\r\n * ]);\r\n *\r\n * //=polygons\r\n */\r\nexport function polygons(coordinates, properties, options) {\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n  if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\r\n\r\n  return featureCollection(coordinates.map(function(coords) {\r\n    return polygon(coords, properties);\r\n  }), options);\r\n}\r\n\r\n/**\r\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\r\n *\r\n * @name lineString\r\n * @param {Array<Array<number>>} coordinates an array of Positions\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the Feature\r\n * @returns {Feature<LineString>} LineString Feature\r\n * @example\r\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\r\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\r\n *\r\n * //=linestring1\r\n * //=linestring2\r\n */\r\nexport function lineString(coordinates, properties, options) {\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n  if (coordinates.length < 2) throw new Error('coordinates must be an array of two or more positions');\r\n  // Check if first point of LineString contains two numbers\r\n  if (!isNumber(coordinates[0][1]) || !isNumber(coordinates[0][1])) throw new Error('coordinates must contain numbers');\r\n\r\n  return feature({\r\n    type: 'LineString',\r\n    coordinates: coordinates\r\n  }, properties, options);\r\n}\r\n\r\n/**\r\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\r\n *\r\n * @name lineStrings\r\n * @param {Array<Array<number>>} coordinates an array of LinearRings\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the FeatureCollection\r\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\r\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\r\n * @example\r\n * var linestrings = turf.lineStrings([\r\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\r\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\r\n * ]);\r\n *\r\n * //=linestrings\r\n */\r\nexport function lineStrings(coordinates, properties, options) {\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n  if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\r\n\r\n  return featureCollection(coordinates.map(function(coords) {\r\n    return lineString(coords, properties);\r\n  }), options);\r\n}\r\n\r\n/**\r\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\r\n *\r\n * @name featureCollection\r\n * @param {Feature[]} features input features\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the Feature\r\n * @returns {FeatureCollection} FeatureCollection of Features\r\n * @example\r\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\r\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\r\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\r\n *\r\n * var collection = turf.featureCollection([\r\n *   locationA,\r\n *   locationB,\r\n *   locationC\r\n * ]);\r\n *\r\n * //=collection\r\n */\r\nexport function featureCollection(features, options) {\r\n  // Optional Parameters\r\n  options = options || {};\r\n  if (!isObject(options)) throw new Error('options is invalid');\r\n  var bbox = options.bbox;\r\n  var id = options.id;\r\n\r\n  // Validation\r\n  if (!features) throw new Error('No features passed');\r\n  if (!Array.isArray(features)) throw new Error('features must be an Array');\r\n  if (bbox) validateBBox(bbox);\r\n  if (id) validateId(id);\r\n\r\n  // Main\r\n  var fc = {\r\n    type: 'FeatureCollection'\r\n  };\r\n  if (id) fc.id = id;\r\n  if (bbox) fc.bbox = bbox;\r\n  fc.features = features;\r\n  return fc;\r\n}\r\n\r\n/**\r\n * Creates a {@link Feature<MultiLineString>} based on a\r\n * coordinate array. Properties can be added optionally.\r\n *\r\n * @name multiLineString\r\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the Feature\r\n * @returns {Feature<MultiLineString>} a MultiLineString feature\r\n * @throws {Error} if no coordinates are passed\r\n * @example\r\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\r\n *\r\n * //=multiLine\r\n */\r\nexport function multiLineString(coordinates, properties, options) {\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n\r\n  return feature({\r\n    type: 'MultiLineString',\r\n    coordinates: coordinates\r\n  }, properties, options);\r\n}\r\n\r\n/**\r\n * Creates a {@link Feature<MultiPoint>} based on a\r\n * coordinate array. Properties can be added optionally.\r\n *\r\n * @name multiPoint\r\n * @param {Array<Array<number>>} coordinates an array of Positions\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the Feature\r\n * @returns {Feature<MultiPoint>} a MultiPoint feature\r\n * @throws {Error} if no coordinates are passed\r\n * @example\r\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\r\n *\r\n * //=multiPt\r\n */\r\nexport function multiPoint(coordinates, properties, options) {\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n\r\n  return feature({\r\n    type: 'MultiPoint',\r\n    coordinates: coordinates\r\n  }, properties, options);\r\n}\r\n\r\n/**\r\n * Creates a {@link Feature<MultiPolygon>} based on a\r\n * coordinate array. Properties can be added optionally.\r\n *\r\n * @name multiPolygon\r\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the Feature\r\n * @returns {Feature<MultiPolygon>} a multipolygon feature\r\n * @throws {Error} if no coordinates are passed\r\n * @example\r\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\r\n *\r\n * //=multiPoly\r\n *\r\n */\r\nexport function multiPolygon(coordinates, properties, options) {\r\n  if (!coordinates) throw new Error('coordinates is required');\r\n\r\n  return feature({\r\n    type: 'MultiPolygon',\r\n    coordinates: coordinates\r\n  }, properties, options);\r\n}\r\n\r\n/**\r\n * Creates a {@link Feature<GeometryCollection>} based on a\r\n * coordinate array. Properties can be added optionally.\r\n *\r\n * @name geometryCollection\r\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\r\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\r\n * @param {Object} [options={}] Optional Parameters\r\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\r\n * @param {string|number} [options.id] Identifier associated with the Feature\r\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\r\n * @example\r\n * var pt = {\r\n *     \"type\": \"Point\",\r\n *       \"coordinates\": [100, 0]\r\n *     };\r\n * var line = {\r\n *     \"type\": \"LineString\",\r\n *     \"coordinates\": [ [101, 0], [102, 1] ]\r\n *   };\r\n * var collection = turf.geometryCollection([pt, line]);\r\n *\r\n * //=collection\r\n */\r\nexport function geometryCollection(geometries, properties, options) {\r\n  if (!geometries) throw new Error('geometries is required');\r\n  if (!Array.isArray(geometries)) throw new Error('geometries must be an Array');\r\n\r\n  return feature({\r\n    type: 'GeometryCollection',\r\n    geometries: geometries\r\n  }, properties, options);\r\n}\r\n\r\n/**\r\n * Round number to precision\r\n *\r\n * @param {number} num Number\r\n * @param {number} [precision=0] Precision\r\n * @returns {number} rounded number\r\n * @example\r\n * turf.round(120.4321)\r\n * //=120\r\n *\r\n * turf.round(120.4321, 2)\r\n * //=120.43\r\n */\r\nexport function round(num, precision) {\r\n  if (num === undefined || num === null || isNaN(num)) throw new Error('num is required');\r\n  if (precision && !(precision >= 0)) throw new Error('precision must be a positive number');\r\n  var multiplier = Math.pow(10, precision || 0);\r\n  return Math.round(num * multiplier) / multiplier;\r\n}\r\n\r\n/**\r\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\r\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\r\n *\r\n * @name radiansToLength\r\n * @param {number} radians in radians across the sphere\r\n * @param {string} [units='kilometers'] can be degrees, radians, miles, or kilometers inches, yards, metres, meters, kilometres, kilometers.\r\n * @returns {number} distance\r\n */\r\nexport function radiansToLength(radians, units) {\r\n  if (radians === undefined || radians === null) throw new Error('radians is required');\r\n\r\n  if (units && typeof units !== 'string') throw new Error('units must be a string');\r\n  var factor = factors[units || 'kilometers'];\r\n  if (!factor) throw new Error(units + ' units is invalid');\r\n  return radians * factor;\r\n}\r\n\r\n/**\r\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\r\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\r\n *\r\n * @name lengthToRadians\r\n * @param {number} distance in real units\r\n * @param {string} [units='kilometers'] can be degrees, radians, miles, or kilometers inches, yards, metres, meters, kilometres, kilometers.\r\n * @returns {number} radians\r\n */\r\nexport function lengthToRadians(distance, units) {\r\n  if (distance === undefined || distance === null) throw new Error('distance is required');\r\n\r\n  if (units && typeof units !== 'string') throw new Error('units must be a string');\r\n  var factor = factors[units || 'kilometers'];\r\n  if (!factor) throw new Error(units + ' units is invalid');\r\n  return distance / factor;\r\n}\r\n\r\n/**\r\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\r\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\r\n *\r\n * @name lengthToDegrees\r\n * @param {number} distance in real units\r\n * @param {string} [units='kilometers'] can be degrees, radians, miles, or kilometers inches, yards, metres, meters, kilometres, kilometers.\r\n * @returns {number} degrees\r\n */\r\nexport function lengthToDegrees(distance, units) {\r\n  return radiansToDegrees(lengthToRadians(distance, units));\r\n}\r\n\r\n/**\r\n * Converts any bearing angle from the north line direction (positive clockwise)\r\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\r\n *\r\n * @name bearingToAzimuth\r\n * @param {number} bearing angle, between -180 and +180 degrees\r\n * @returns {number} angle between 0 and 360 degrees\r\n */\r\nexport function bearingToAzimuth(bearing) {\r\n  if (bearing === null || bearing === undefined) throw new Error('bearing is required');\r\n\r\n  var angle = bearing % 360;\r\n  if (angle < 0) angle += 360;\r\n  return angle;\r\n}\r\n\r\n/**\r\n * Converts an angle in radians to degrees\r\n *\r\n * @name radiansToDegrees\r\n * @param {number} radians angle in radians\r\n * @returns {number} degrees between 0 and 360 degrees\r\n */\r\nexport function radiansToDegrees(radians) {\r\n  if (radians === null || radians === undefined) throw new Error('radians is required');\r\n\r\n  var degrees = radians % (2 * Math.PI);\r\n  return degrees * 180 / Math.PI;\r\n}\r\n\r\n/**\r\n * Converts an angle in degrees to radians\r\n *\r\n * @name degreesToRadians\r\n * @param {number} degrees angle between 0 and 360 degrees\r\n * @returns {number} angle in radians\r\n */\r\nexport function degreesToRadians(degrees) {\r\n  if (degrees === null || degrees === undefined) throw new Error('degrees is required');\r\n\r\n  var radians = degrees % 360;\r\n  return radians * Math.PI / 180;\r\n}\r\n\r\n/**\r\n * Converts a length to the requested unit.\r\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\r\n *\r\n * @param {number} length to be converted\r\n * @param {string} originalUnit of the length\r\n * @param {string} [finalUnit='kilometers'] returned unit\r\n * @returns {number} the converted length\r\n */\r\nexport function convertLength(length, originalUnit, finalUnit) {\r\n  if (length === null || length === undefined) throw new Error('length is required');\r\n  if (!(length >= 0)) throw new Error('length must be a positive number');\r\n\r\n  return radiansToLength(lengthToRadians(length, originalUnit), finalUnit || 'kilometers');\r\n}\r\n\r\n/**\r\n * Converts a area to the requested unit.\r\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches\r\n * @param {number} area to be converted\r\n * @param {string} [originalUnit='meters'] of the distance\r\n * @param {string} [finalUnit='kilometers'] returned unit\r\n * @returns {number} the converted distance\r\n */\r\nexport function convertArea(area, originalUnit, finalUnit) {\r\n  if (area === null || area === undefined) throw new Error('area is required');\r\n  if (!(area >= 0)) throw new Error('area must be a positive number');\r\n\r\n  var startFactor = areaFactors[originalUnit || 'meters'];\r\n  if (!startFactor) throw new Error('invalid original units');\r\n\r\n  var finalFactor = areaFactors[finalUnit || 'kilometers'];\r\n  if (!finalFactor) throw new Error('invalid final units');\r\n\r\n  return (area / startFactor) * finalFactor;\r\n}\r\n\r\n/**\r\n * isNumber\r\n *\r\n * @param {*} num Number to validate\r\n * @returns {boolean} true/false\r\n * @example\r\n * turf.isNumber(123)\r\n * //=true\r\n * turf.isNumber('foo')\r\n * //=false\r\n */\r\nexport function isNumber(num) {\r\n  return !isNaN(num) && num !== null && !Array.isArray(num);\r\n}\r\n\r\n/**\r\n * isObject\r\n *\r\n * @param {*} input variable to validate\r\n * @returns {boolean} true/false\r\n * @example\r\n * turf.isObject({elevation: 10})\r\n * //=true\r\n * turf.isObject('foo')\r\n * //=false\r\n */\r\nexport function isObject(input) {\r\n  return (!!input) && (input.constructor === Object);\r\n}\r\n\r\n/**\r\n * Validate BBox\r\n *\r\n * @private\r\n * @param {Array<number>} bbox BBox to validate\r\n * @returns {void}\r\n * @throws Error if BBox is not valid\r\n * @example\r\n * validateBBox([-180, -40, 110, 50])\r\n * //=OK\r\n * validateBBox([-180, -40])\r\n * //=Error\r\n * validateBBox('Foo')\r\n * //=Error\r\n * validateBBox(5)\r\n * //=Error\r\n * validateBBox(null)\r\n * //=Error\r\n * validateBBox(undefined)\r\n * //=Error\r\n */\r\nexport function validateBBox(bbox) {\r\n  if (!bbox) throw new Error('bbox is required');\r\n  if (!Array.isArray(bbox)) throw new Error('bbox must be an Array');\r\n  if (bbox.length !== 4 && bbox.length !== 6) throw new Error('bbox must be an Array of 4 or 6 numbers');\r\n  bbox.forEach(function(num) {\r\n    if (!isNumber(num)) throw new Error('bbox must only contain numbers');\r\n  });\r\n}\r\nexport default {\r\n  geometry,\r\n  polygon,\r\n  points,\r\n  lineString\r\n}\r\n","import {\r\n  feature,\r\n  lineString\r\n} from './turfHelpers';\r\n\r\n/**\r\n * Callback for coordEach\r\n *\r\n * @callback coordEachCallback\r\n * @param {Array<number>} currentCoord The current coordinate being processed.\r\n * @param {number} coordIndex The current index of the coordinate being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\r\n * @param {number} geometryIndex The current index of the Geometry being processed.\r\n */\r\n\r\n/**\r\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\r\n *\r\n * @name coordEach\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\r\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\r\n * @example\r\n * var features = turf.featureCollection([\r\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\r\n *   turf.point([36, 53], {\"hello\": \"world\"})\r\n * ]);\r\n *\r\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\r\n *   //=currentCoord\r\n *   //=coordIndex\r\n *   //=featureIndex\r\n *   //=multiFeatureIndex\r\n *   //=geometryIndex\r\n * });\r\n */\r\nexport function coordEach(geojson, callback, excludeWrapCoord) {\r\n  // Handles null Geometry -- Skips this GeoJSON\r\n  if (geojson === null) return;\r\n  var j, k, l, geometry, stopG, coords,\r\n    geometryMaybeCollection,\r\n    wrapShrink = 0,\r\n    coordIndex = 0,\r\n    isGeometryCollection,\r\n    type = geojson.type,\r\n    isFeatureCollection = type === 'FeatureCollection',\r\n    isFeature = type === 'Feature',\r\n    stop = isFeatureCollection ? geojson.features.length : 1;\r\n\r\n  // This logic may look a little weird. The reason why it is that way\r\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\r\n  // of objects at its root: FeatureCollection, Features, Geometries.\r\n  // This function has the responsibility of handling all of them, and that\r\n  // means that some of the `for` loops you see below actually just don't apply\r\n  // to certain inputs. For instance, if you give this just a\r\n  // Point geometry, then both loops are short-circuited and all we do\r\n  // is gradually rename the input until it's called 'geometry'.\r\n  //\r\n  // This also aims to allocate as few resources as possible: just a\r\n  // few numbers and booleans, rather than any temporary arrays as would\r\n  // be required with the normalization approach.\r\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\r\n    geometryMaybeCollection = (isFeatureCollection ? geojson.features[featureIndex].geometry :\r\n      (isFeature ? geojson.geometry : geojson));\r\n    isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\r\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\r\n\r\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\r\n      var multiFeatureIndex = 0;\r\n      var geometryIndex = 0;\r\n      geometry = isGeometryCollection ?\r\n        geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\r\n\r\n      // Handles null Geometry -- Skips this geometry\r\n      if (geometry === null) continue;\r\n      coords = geometry.coordinates;\r\n      var geomType = geometry.type;\r\n\r\n      wrapShrink = (excludeWrapCoord && (geomType === 'Polygon' || geomType === 'MultiPolygon')) ? 1 : 0;\r\n\r\n      switch (geomType) {\r\n        case null:\r\n          break;\r\n        case 'Point':\r\n          callback(coords, coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\r\n          coordIndex++;\r\n          multiFeatureIndex++;\r\n          break;\r\n        case 'LineString':\r\n        case 'MultiPoint':\r\n          for (j = 0; j < coords.length; j++) {\r\n            callback(coords[j], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\r\n            coordIndex++;\r\n            if (geomType === 'MultiPoint') multiFeatureIndex++;\r\n          }\r\n          if (geomType === 'LineString') multiFeatureIndex++;\r\n          break;\r\n        case 'Polygon':\r\n        case 'MultiLineString':\r\n          for (j = 0; j < coords.length; j++) {\r\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\r\n              callback(coords[j][k], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\r\n              coordIndex++;\r\n            }\r\n            if (geomType === 'MultiLineString') multiFeatureIndex++;\r\n            if (geomType === 'Polygon') geometryIndex++;\r\n          }\r\n          if (geomType === 'Polygon') multiFeatureIndex++;\r\n          break;\r\n        case 'MultiPolygon':\r\n          for (j = 0; j < coords.length; j++) {\r\n            if (geomType === 'MultiPolygon') geometryIndex = 0;\r\n            for (k = 0; k < coords[j].length; k++) {\r\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\r\n                callback(coords[j][k][l], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\r\n                coordIndex++;\r\n              }\r\n              geometryIndex++;\r\n            }\r\n            multiFeatureIndex++;\r\n          }\r\n          break;\r\n        case 'GeometryCollection':\r\n          for (j = 0; j < geometry.geometries.length; j++)\r\n            coordEach(geometry.geometries[j], callback, excludeWrapCoord);\r\n          break;\r\n        default:\r\n          throw new Error('Unknown Geometry Type');\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Callback for coordReduce\r\n *\r\n * The first time the callback function is called, the values provided as arguments depend\r\n * on whether the reduce method has an initialValue argument.\r\n *\r\n * If an initialValue is provided to the reduce method:\r\n *  - The previousValue argument is initialValue.\r\n *  - The currentValue argument is the value of the first element present in the array.\r\n *\r\n * If an initialValue is not provided:\r\n *  - The previousValue argument is the value of the first element present in the array.\r\n *  - The currentValue argument is the value of the second element present in the array.\r\n *\r\n * @callback coordReduceCallback\r\n * @param {*} previousValue The accumulated value previously returned in the last invocation\r\n * of the callback, or initialValue, if supplied.\r\n * @param {Array<number>} currentCoord The current coordinate being processed.\r\n * @param {number} coordIndex The current index of the coordinate being processed.\r\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\r\n * @param {number} geometryIndex The current index of the Geometry being processed.\r\n */\r\n\r\n/**\r\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\r\n *\r\n * @name coordReduce\r\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\r\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\r\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\r\n * @returns {*} The value that results from the reduction.\r\n * @example\r\n * var features = turf.featureCollection([\r\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\r\n *   turf.point([36, 53], {\"hello\": \"world\"})\r\n * ]);\r\n *\r\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\r\n *   //=previousValue\r\n *   //=currentCoord\r\n *   //=coordIndex\r\n *   //=featureIndex\r\n *   //=multiFeatureIndex\r\n *   //=geometryIndex\r\n *   return currentCoord;\r\n * });\r\n */\r\nexport function coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\r\n  var previousValue = initialValue;\r\n  coordEach(geojson, function(currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\r\n    if (coordIndex === 0 && initialValue === undefined) previousValue = currentCoord;\r\n    else previousValue = callback(previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\r\n  }, excludeWrapCoord);\r\n  return previousValue;\r\n}\r\n\r\n/**\r\n * Callback for propEach\r\n *\r\n * @callback propEachCallback\r\n * @param {Object} currentProperties The current Properties being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n */\r\n\r\n/**\r\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\r\n *\r\n * @name propEach\r\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\r\n * @example\r\n * var features = turf.featureCollection([\r\n *     turf.point([26, 37], {foo: 'bar'}),\r\n *     turf.point([36, 53], {hello: 'world'})\r\n * ]);\r\n *\r\n * turf.propEach(features, function (currentProperties, featureIndex) {\r\n *   //=currentProperties\r\n *   //=featureIndex\r\n * });\r\n */\r\nexport function propEach(geojson, callback) {\r\n  var i;\r\n  switch (geojson.type) {\r\n    case 'FeatureCollection':\r\n      for (i = 0; i < geojson.features.length; i++) {\r\n        callback(geojson.features[i].properties, i);\r\n      }\r\n      break;\r\n    case 'Feature':\r\n      callback(geojson.properties, 0);\r\n      break;\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * Callback for propReduce\r\n *\r\n * The first time the callback function is called, the values provided as arguments depend\r\n * on whether the reduce method has an initialValue argument.\r\n *\r\n * If an initialValue is provided to the reduce method:\r\n *  - The previousValue argument is initialValue.\r\n *  - The currentValue argument is the value of the first element present in the array.\r\n *\r\n * If an initialValue is not provided:\r\n *  - The previousValue argument is the value of the first element present in the array.\r\n *  - The currentValue argument is the value of the second element present in the array.\r\n *\r\n * @callback propReduceCallback\r\n * @param {*} previousValue The accumulated value previously returned in the last invocation\r\n * of the callback, or initialValue, if supplied.\r\n * @param {*} currentProperties The current Properties being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n */\r\n\r\n/**\r\n * Reduce properties in any GeoJSON object into a single value,\r\n * similar to how Array.reduce works. However, in this case we lazily run\r\n * the reduction, so an array of all properties is unnecessary.\r\n *\r\n * @name propReduce\r\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\r\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\r\n * @returns {*} The value that results from the reduction.\r\n * @example\r\n * var features = turf.featureCollection([\r\n *     turf.point([26, 37], {foo: 'bar'}),\r\n *     turf.point([36, 53], {hello: 'world'})\r\n * ]);\r\n *\r\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\r\n *   //=previousValue\r\n *   //=currentProperties\r\n *   //=featureIndex\r\n *   return currentProperties\r\n * });\r\n */\r\nexport function propReduce(geojson, callback, initialValue) {\r\n  var previousValue = initialValue;\r\n  propEach(geojson, function(currentProperties, featureIndex) {\r\n    if (featureIndex === 0 && initialValue === undefined) previousValue = currentProperties;\r\n    else previousValue = callback(previousValue, currentProperties, featureIndex);\r\n  });\r\n  return previousValue;\r\n}\r\n\r\n/**\r\n * Callback for featureEach\r\n *\r\n * @callback featureEachCallback\r\n * @param {Feature<any>} currentFeature The current Feature being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n */\r\n\r\n/**\r\n * Iterate over features in any GeoJSON object, similar to\r\n * Array.forEach.\r\n *\r\n * @name featureEach\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\r\n * @example\r\n * var features = turf.featureCollection([\r\n *   turf.point([26, 37], {foo: 'bar'}),\r\n *   turf.point([36, 53], {hello: 'world'})\r\n * ]);\r\n *\r\n * turf.featureEach(features, function (currentFeature, featureIndex) {\r\n *   //=currentFeature\r\n *   //=featureIndex\r\n * });\r\n */\r\nexport function featureEach(geojson, callback) {\r\n  if (geojson.type === 'Feature') {\r\n    callback(geojson, 0);\r\n  } else if (geojson.type === 'FeatureCollection') {\r\n    for (var i = 0; i < geojson.features.length; i++) {\r\n      callback(geojson.features[i], i);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Callback for featureReduce\r\n *\r\n * The first time the callback function is called, the values provided as arguments depend\r\n * on whether the reduce method has an initialValue argument.\r\n *\r\n * If an initialValue is provided to the reduce method:\r\n *  - The previousValue argument is initialValue.\r\n *  - The currentValue argument is the value of the first element present in the array.\r\n *\r\n * If an initialValue is not provided:\r\n *  - The previousValue argument is the value of the first element present in the array.\r\n *  - The currentValue argument is the value of the second element present in the array.\r\n *\r\n * @callback featureReduceCallback\r\n * @param {*} previousValue The accumulated value previously returned in the last invocation\r\n * of the callback, or initialValue, if supplied.\r\n * @param {Feature} currentFeature The current Feature being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n */\r\n\r\n/**\r\n * Reduce features in any GeoJSON object, similar to Array.reduce().\r\n *\r\n * @name featureReduce\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\r\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\r\n * @returns {*} The value that results from the reduction.\r\n * @example\r\n * var features = turf.featureCollection([\r\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\r\n *   turf.point([36, 53], {\"hello\": \"world\"})\r\n * ]);\r\n *\r\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\r\n *   //=previousValue\r\n *   //=currentFeature\r\n *   //=featureIndex\r\n *   return currentFeature\r\n * });\r\n */\r\nexport function featureReduce(geojson, callback, initialValue) {\r\n  var previousValue = initialValue;\r\n  featureEach(geojson, function(currentFeature, featureIndex) {\r\n    if (featureIndex === 0 && initialValue === undefined) previousValue = currentFeature;\r\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\r\n  });\r\n  return previousValue;\r\n}\r\n\r\n/**\r\n * Get all coordinates from any GeoJSON object.\r\n *\r\n * @name coordAll\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\r\n * @returns {Array<Array<number>>} coordinate position array\r\n * @example\r\n * var features = turf.featureCollection([\r\n *   turf.point([26, 37], {foo: 'bar'}),\r\n *   turf.point([36, 53], {hello: 'world'})\r\n * ]);\r\n *\r\n * var coords = turf.coordAll(features);\r\n * //= [[26, 37], [36, 53]]\r\n */\r\nexport function coordAll(geojson) {\r\n  var coords = [];\r\n  coordEach(geojson, function(coord) {\r\n    coords.push(coord);\r\n  });\r\n  return coords;\r\n}\r\n\r\n/**\r\n * Callback for geomEach\r\n *\r\n * @callback geomEachCallback\r\n * @param {Geometry} currentGeometry The current Geometry being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n * @param {Object} featureProperties The current Feature Properties being processed.\r\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\r\n * @param {number|string} featureId The current Feature Id being processed.\r\n */\r\n\r\n/**\r\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\r\n *\r\n * @name geomEach\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\r\n * @example\r\n * var features = turf.featureCollection([\r\n *     turf.point([26, 37], {foo: 'bar'}),\r\n *     turf.point([36, 53], {hello: 'world'})\r\n * ]);\r\n *\r\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\r\n *   //=currentGeometry\r\n *   //=featureIndex\r\n *   //=featureProperties\r\n *   //=featureBBox\r\n *   //=featureId\r\n * });\r\n */\r\nexport function geomEach(geojson, callback) {\r\n  var i, j, g, geometry, stopG,\r\n    geometryMaybeCollection,\r\n    isGeometryCollection,\r\n    featureProperties,\r\n    featureBBox,\r\n    featureId,\r\n    featureIndex = 0,\r\n    isFeatureCollection = geojson.type === 'FeatureCollection',\r\n    isFeature = geojson.type === 'Feature',\r\n    stop = isFeatureCollection ? geojson.features.length : 1;\r\n\r\n  // This logic may look a little weird. The reason why it is that way\r\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\r\n  // of objects at its root: FeatureCollection, Features, Geometries.\r\n  // This function has the responsibility of handling all of them, and that\r\n  // means that some of the `for` loops you see below actually just don't apply\r\n  // to certain inputs. For instance, if you give this just a\r\n  // Point geometry, then both loops are short-circuited and all we do\r\n  // is gradually rename the input until it's called 'geometry'.\r\n  //\r\n  // This also aims to allocate as few resources as possible: just a\r\n  // few numbers and booleans, rather than any temporary arrays as would\r\n  // be required with the normalization approach.\r\n  for (i = 0; i < stop; i++) {\r\n\r\n    geometryMaybeCollection = (isFeatureCollection ? geojson.features[i].geometry :\r\n      (isFeature ? geojson.geometry : geojson));\r\n    featureProperties = (isFeatureCollection ? geojson.features[i].properties :\r\n      (isFeature ? geojson.properties : {}));\r\n    featureBBox = (isFeatureCollection ? geojson.features[i].bbox :\r\n      (isFeature ? geojson.bbox : undefined));\r\n    featureId = (isFeatureCollection ? geojson.features[i].id :\r\n      (isFeature ? geojson.id : undefined));\r\n    isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\r\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\r\n\r\n    for (g = 0; g < stopG; g++) {\r\n      geometry = isGeometryCollection ?\r\n        geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\r\n\r\n      // Handle null Geometry\r\n      if (geometry === null) {\r\n        callback(null, featureIndex, featureProperties, featureBBox, featureId);\r\n        continue;\r\n      }\r\n      switch (geometry.type) {\r\n        case 'Point':\r\n        case 'LineString':\r\n        case 'MultiPoint':\r\n        case 'Polygon':\r\n        case 'MultiLineString':\r\n        case 'MultiPolygon': {\r\n          callback(geometry, featureIndex, featureProperties, featureBBox, featureId);\r\n          break;\r\n        }\r\n        case 'GeometryCollection': {\r\n          for (j = 0; j < geometry.geometries.length; j++) {\r\n            callback(geometry.geometries[j], featureIndex, featureProperties, featureBBox, featureId);\r\n          }\r\n          break;\r\n        }\r\n        default:\r\n          throw new Error('Unknown Geometry Type');\r\n      }\r\n    }\r\n    // Only increase `featureIndex` per each feature\r\n    featureIndex++;\r\n  }\r\n}\r\n\r\n/**\r\n * Callback for geomReduce\r\n *\r\n * The first time the callback function is called, the values provided as arguments depend\r\n * on whether the reduce method has an initialValue argument.\r\n *\r\n * If an initialValue is provided to the reduce method:\r\n *  - The previousValue argument is initialValue.\r\n *  - The currentValue argument is the value of the first element present in the array.\r\n *\r\n * If an initialValue is not provided:\r\n *  - The previousValue argument is the value of the first element present in the array.\r\n *  - The currentValue argument is the value of the second element present in the array.\r\n *\r\n * @callback geomReduceCallback\r\n * @param {*} previousValue The accumulated value previously returned in the last invocation\r\n * of the callback, or initialValue, if supplied.\r\n * @param {Geometry} currentGeometry The current Geometry being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n * @param {Object} featureProperties The current Feature Properties being processed.\r\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\r\n * @param {number|string} featureId The current Feature Id being processed.\r\n */\r\n\r\n/**\r\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\r\n *\r\n * @name geomReduce\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\r\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\r\n * @returns {*} The value that results from the reduction.\r\n * @example\r\n * var features = turf.featureCollection([\r\n *     turf.point([26, 37], {foo: 'bar'}),\r\n *     turf.point([36, 53], {hello: 'world'})\r\n * ]);\r\n *\r\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\r\n *   //=previousValue\r\n *   //=currentGeometry\r\n *   //=featureIndex\r\n *   //=featureProperties\r\n *   //=featureBBox\r\n *   //=featureId\r\n *   return currentGeometry\r\n * });\r\n */\r\nexport function geomReduce(geojson, callback, initialValue) {\r\n  var previousValue = initialValue;\r\n  geomEach(geojson, function(currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\r\n    if (featureIndex === 0 && initialValue === undefined) previousValue = currentGeometry;\r\n    else previousValue = callback(previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId);\r\n  });\r\n  return previousValue;\r\n}\r\n\r\n/**\r\n * Callback for flattenEach\r\n *\r\n * @callback flattenEachCallback\r\n * @param {Feature} currentFeature The current flattened feature being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\r\n */\r\n\r\n/**\r\n * Iterate over flattened features in any GeoJSON object, similar to\r\n * Array.forEach.\r\n *\r\n * @name flattenEach\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\r\n * @example\r\n * var features = turf.featureCollection([\r\n *     turf.point([26, 37], {foo: 'bar'}),\r\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\r\n * ]);\r\n *\r\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\r\n *   //=currentFeature\r\n *   //=featureIndex\r\n *   //=multiFeatureIndex\r\n * });\r\n */\r\nexport function flattenEach(geojson, callback) {\r\n  geomEach(geojson, function(geometry, featureIndex, properties, bbox, id) {\r\n    // Callback for single geometry\r\n    var type = (geometry === null) ? null : geometry.type;\r\n    switch (type) {\r\n      case null:\r\n      case 'Point':\r\n      case 'LineString':\r\n      case 'Polygon':\r\n        callback(feature(geometry, properties, {\r\n          bbox: bbox,\r\n          id: id\r\n        }), featureIndex, 0);\r\n        return;\r\n    }\r\n\r\n    var geomType;\r\n\r\n    // Callback for multi-geometry\r\n    switch (type) {\r\n      case 'MultiPoint':\r\n        geomType = 'Point';\r\n        break;\r\n      case 'MultiLineString':\r\n        geomType = 'LineString';\r\n        break;\r\n      case 'MultiPolygon':\r\n        geomType = 'Polygon';\r\n        break;\r\n    }\r\n\r\n    geometry.coordinates.forEach(function(coordinate, multiFeatureIndex) {\r\n      var geom = {\r\n        type: geomType,\r\n        coordinates: coordinate\r\n      };\r\n      callback(feature(geom, properties), featureIndex, multiFeatureIndex);\r\n    });\r\n\r\n  });\r\n}\r\n\r\n/**\r\n * Callback for flattenReduce\r\n *\r\n * The first time the callback function is called, the values provided as arguments depend\r\n * on whether the reduce method has an initialValue argument.\r\n *\r\n * If an initialValue is provided to the reduce method:\r\n *  - The previousValue argument is initialValue.\r\n *  - The currentValue argument is the value of the first element present in the array.\r\n *\r\n * If an initialValue is not provided:\r\n *  - The previousValue argument is the value of the first element present in the array.\r\n *  - The currentValue argument is the value of the second element present in the array.\r\n *\r\n * @callback flattenReduceCallback\r\n * @param {*} previousValue The accumulated value previously returned in the last invocation\r\n * of the callback, or initialValue, if supplied.\r\n * @param {Feature} currentFeature The current Feature being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\r\n */\r\n\r\n/**\r\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\r\n *\r\n * @name flattenReduce\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\r\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\r\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\r\n * @returns {*} The value that results from the reduction.\r\n * @example\r\n * var features = turf.featureCollection([\r\n *     turf.point([26, 37], {foo: 'bar'}),\r\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\r\n * ]);\r\n *\r\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\r\n *   //=previousValue\r\n *   //=currentFeature\r\n *   //=featureIndex\r\n *   //=multiFeatureIndex\r\n *   return currentFeature\r\n * });\r\n */\r\nexport function flattenReduce(geojson, callback, initialValue) {\r\n  var previousValue = initialValue;\r\n  flattenEach(geojson, function(currentFeature, featureIndex, multiFeatureIndex) {\r\n    if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === undefined) previousValue = currentFeature;\r\n    else previousValue = callback(previousValue, currentFeature, featureIndex, multiFeatureIndex);\r\n  });\r\n  return previousValue;\r\n}\r\n\r\n/**\r\n * Callback for segmentEach\r\n *\r\n * @callback segmentEachCallback\r\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\r\n * @param {number} geometryIndex The current index of the Geometry being processed.\r\n * @param {number} segmentIndex The current index of the Segment being processed.\r\n * @returns {void}\r\n */\r\n\r\n/**\r\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\r\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\r\n *\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\r\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\r\n * @returns {void}\r\n * @example\r\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\r\n *\r\n * // Iterate over GeoJSON by 2-vertex segments\r\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\r\n *   //=currentSegment\r\n *   //=featureIndex\r\n *   //=multiFeatureIndex\r\n *   //=geometryIndex\r\n *   //=segmentIndex\r\n * });\r\n *\r\n * // Calculate the total number of segments\r\n * var total = 0;\r\n * turf.segmentEach(polygon, function () {\r\n *     total++;\r\n * });\r\n */\r\nexport function segmentEach(geojson, callback) {\r\n  flattenEach(geojson, function(feature, featureIndex, multiFeatureIndex) {\r\n    var segmentIndex = 0;\r\n\r\n    // Exclude null Geometries\r\n    if (!feature.geometry) return;\r\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\r\n    var type = feature.geometry.type;\r\n    if (type === 'Point' || type === 'MultiPoint') return;\r\n\r\n    // Generate 2-vertex line segments\r\n    coordReduce(feature, function(previousCoords, currentCoord, coordIndex, featureIndexCoord, mutliPartIndexCoord, geometryIndex) {\r\n      var currentSegment = lineString([previousCoords, currentCoord], feature.properties);\r\n      callback(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex);\r\n      segmentIndex++;\r\n      return currentCoord;\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Callback for segmentReduce\r\n *\r\n * The first time the callback function is called, the values provided as arguments depend\r\n * on whether the reduce method has an initialValue argument.\r\n *\r\n * If an initialValue is provided to the reduce method:\r\n *  - The previousValue argument is initialValue.\r\n *  - The currentValue argument is the value of the first element present in the array.\r\n *\r\n * If an initialValue is not provided:\r\n *  - The previousValue argument is the value of the first element present in the array.\r\n *  - The currentValue argument is the value of the second element present in the array.\r\n *\r\n * @callback segmentReduceCallback\r\n * @param {*} previousValue The accumulated value previously returned in the last invocation\r\n * of the callback, or initialValue, if supplied.\r\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed.\r\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\r\n * @param {number} geometryIndex The current index of the Geometry being processed.\r\n * @param {number} segmentIndex The current index of the Segment being processed.\r\n */\r\n\r\n/**\r\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\r\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\r\n *\r\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\r\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\r\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\r\n * @returns {void}\r\n * @example\r\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\r\n *\r\n * // Iterate over GeoJSON by 2-vertex segments\r\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\r\n *   //= previousSegment\r\n *   //= currentSegment\r\n *   //= featureIndex\r\n *   //= multiFeatureIndex\r\n *   //= geometryIndex\r\n *   //= segmentInex\r\n *   return currentSegment\r\n * });\r\n *\r\n * // Calculate the total number of segments\r\n * var initialValue = 0\r\n * var total = turf.segmentReduce(polygon, function (previousValue) {\r\n *     previousValue++;\r\n *     return previousValue;\r\n * }, initialValue);\r\n */\r\nexport function segmentReduce(geojson, callback, initialValue) {\r\n  var previousValue = initialValue;\r\n  var started = false;\r\n  segmentEach(geojson, function(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\r\n    if (started === false && initialValue === undefined) previousValue = currentSegment;\r\n    else previousValue = callback(previousValue, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex);\r\n    started = true;\r\n  });\r\n  return previousValue;\r\n}\r\n\r\n/**\r\n * Callback for lineEach\r\n *\r\n * @callback lineEachCallback\r\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\r\n * @param {number} featureIndex The current index of the Feature being processed\r\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\r\n * @param {number} geometryIndex The current index of the Geometry being processed\r\n */\r\n\r\n/**\r\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\r\n * similar to Array.forEach.\r\n *\r\n * @name lineEach\r\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\r\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\r\n * @example\r\n * var multiLine = turf.multiLineString([\r\n *   [[26, 37], [35, 45]],\r\n *   [[36, 53], [38, 50], [41, 55]]\r\n * ]);\r\n *\r\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\r\n *   //=currentLine\r\n *   //=featureIndex\r\n *   //=multiFeatureIndex\r\n *   //=geometryIndex\r\n * });\r\n */\r\nexport function lineEach(geojson, callback) {\r\n  // validation\r\n  if (!geojson) throw new Error('geojson is required');\r\n\r\n  flattenEach(geojson, function(feature, featureIndex, multiFeatureIndex) {\r\n    if (feature.geometry === null) return;\r\n    var type = feature.geometry.type;\r\n    var coords = feature.geometry.coordinates;\r\n    switch (type) {\r\n      case 'LineString':\r\n        callback(feature, featureIndex, multiFeatureIndex, 0, 0);\r\n        break;\r\n      case 'Polygon':\r\n        for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\r\n          callback(lineString(coords[geometryIndex], feature.properties), featureIndex, multiFeatureIndex, geometryIndex);\r\n        }\r\n        break;\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Callback for lineReduce\r\n *\r\n * The first time the callback function is called, the values provided as arguments depend\r\n * on whether the reduce method has an initialValue argument.\r\n *\r\n * If an initialValue is provided to the reduce method:\r\n *  - The previousValue argument is initialValue.\r\n *  - The currentValue argument is the value of the first element present in the array.\r\n *\r\n * If an initialValue is not provided:\r\n *  - The previousValue argument is the value of the first element present in the array.\r\n *  - The currentValue argument is the value of the second element present in the array.\r\n *\r\n * @callback lineReduceCallback\r\n * @param {*} previousValue The accumulated value previously returned in the last invocation\r\n * of the callback, or initialValue, if supplied.\r\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\r\n * @param {number} featureIndex The current index of the Feature being processed\r\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\r\n * @param {number} geometryIndex The current index of the Geometry being processed\r\n */\r\n\r\n/**\r\n * Reduce features in any GeoJSON object, similar to Array.reduce().\r\n *\r\n * @name lineReduce\r\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\r\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\r\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\r\n * @returns {*} The value that results from the reduction.\r\n * @example\r\n * var multiPoly = turf.multiPolygon([\r\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\r\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\r\n * ]);\r\n *\r\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\r\n *   //=previousValue\r\n *   //=currentLine\r\n *   //=featureIndex\r\n *   //=multiFeatureIndex\r\n *   //=geometryIndex\r\n *   return currentLine\r\n * });\r\n */\r\nexport function lineReduce(geojson, callback, initialValue) {\r\n  var previousValue = initialValue;\r\n  lineEach(geojson, function(currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\r\n    if (featureIndex === 0 && initialValue === undefined) previousValue = currentLine;\r\n    else previousValue = callback(previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex);\r\n  });\r\n  return previousValue;\r\n}\r\nexport default {\r\n  geomReduce,\r\n  lineReduce\r\n}\r\n","\"use strict\";\r\nimport {\r\n  geomReduce\r\n} from './turfMeta.js'\r\n// Note: change RADIUS => earthRadius\r\nvar RADIUS = 6378137;\r\n/**\r\n * Takes one or more features and returns their area in square meters.\r\n *\r\n * @name area\r\n * @param {GeoJSON} geojson input GeoJSON feature(s)\r\n * @returns {number} area in square meters\r\n * @example\r\n * var polygon = turf.polygon([[[125, -15], [113, -22], [154, -27], [144, -15], [125, -15]]]);\r\n *\r\n * var area = turf.area(polygon);\r\n *\r\n * //addToMap\r\n * var addToMap = [polygon]\r\n * polygon.properties.area = area\r\n */\r\nfunction area(geojson) {\r\n  return geomReduce(geojson, function(value, geom) {\r\n    return value + calculateArea(geom);\r\n  }, 0);\r\n}\r\n\r\n/**\r\n * Calculate Area\r\n *\r\n * @private\r\n * @param {Geometry} geom GeoJSON Geometries\r\n * @returns {number} area\r\n */\r\nfunction calculateArea(geom) {\r\n  var total = 0;\r\n  var i;\r\n  switch (geom.type) {\r\n    case \"Polygon\":\r\n      return polygonArea(geom.coordinates);\r\n    case \"MultiPolygon\":\r\n      for (i = 0; i < geom.coordinates.length; i++) {\r\n        total += polygonArea(geom.coordinates[i]);\r\n      }\r\n      return total;\r\n    case \"Point\":\r\n    case \"MultiPoint\":\r\n    case \"LineString\":\r\n    case \"MultiLineString\":\r\n      return 0;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction polygonArea(coords) {\r\n  var total = 0;\r\n  if (coords && coords.length > 0) {\r\n    total += Math.abs(ringArea(coords[0]));\r\n    for (var i = 1; i < coords.length; i++) {\r\n      total -= Math.abs(ringArea(coords[i]));\r\n    }\r\n  }\r\n  return total;\r\n}\r\n/**\r\n * @private\r\n * Calculate the approximate area of the polygon were it projected onto the earth.\r\n * Note that this area will be positive if ring is oriented clockwise, otherwise it will be negative.\r\n *\r\n * Reference:\r\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for Polygons on a Sphere\",\r\n * JPL Publication 07-03, Jet Propulsion\r\n * Laboratory, Pasadena, CA, June 2007 http://trs-new.jpl.nasa.gov/dspace/handle/2014/40409\r\n *\r\n * @param {Array<Array<number>>} coords Ring Coordinates\r\n * @returns {number} The approximate signed geodesic area of the polygon in square meters.\r\n */\r\nfunction ringArea(coords) {\r\n  var p1;\r\n  var p2;\r\n  var p3;\r\n  var lowerIndex;\r\n  var middleIndex;\r\n  var upperIndex;\r\n  var i;\r\n  var total = 0;\r\n  var coordsLength = coords.length;\r\n  if (coordsLength > 2) {\r\n    for (i = 0; i < coordsLength; i++) {\r\n      if (i === coordsLength - 2) {\r\n        lowerIndex = coordsLength - 2;\r\n        middleIndex = coordsLength - 1;\r\n        upperIndex = 0;\r\n      } else if (i === coordsLength - 1) {\r\n        lowerIndex = coordsLength - 1;\r\n        middleIndex = 0;\r\n        upperIndex = 1;\r\n      } else {\r\n        lowerIndex = i;\r\n        middleIndex = i + 1;\r\n        upperIndex = i + 2;\r\n      }\r\n      p1 = coords[lowerIndex];\r\n      p2 = coords[middleIndex];\r\n      p3 = coords[upperIndex];\r\n      total += (rad(p3[0]) - rad(p1[0])) * Math.sin(rad(p2[1]));\r\n    }\r\n    total = total * RADIUS * RADIUS / 2;\r\n  }\r\n  return total;\r\n}\r\n\r\nfunction rad(num) {\r\n  return num * Math.PI / 180;\r\n}\r\nexport default area;\r\n","import CVT from './CVT'\r\nimport turfArea from '../thirdParty/turf/turfArea'\r\nimport {\r\n  polygon as turfPolygon\r\n} from '../thirdParty/turf/turfHelpers'\r\n/**\r\n * 地图量算工具,包括距离量算、面积量算、角度量算、高度量算\r\n * @namespace Cartometry\r\n */\r\nconst Cartometry = {};\r\n/**\r\n * 贴地距离\r\n * @param {Cesium.Cartesian3[]} positions 构成直线的顶点坐标\r\n * @return {Number} 长度，单位米\r\n */\r\nCartometry.surfaceDistance = function(positions) {\r\n  let distance = 0;\r\n  for (let i = 0; i < positions.length - 1; i += 1) {\r\n    const point1cartographic = Cesium.Cartographic.fromCartesian(positions[i]);\r\n    const point2cartographic = Cesium.Cartographic.fromCartesian(positions[i + 1]);\r\n    /** 根据经纬度计算出距离* */\r\n    const geodesic = new Cesium.EllipsoidGeodesic();\r\n    geodesic.setEndPoints(point1cartographic, point2cartographic);\r\n    const s = geodesic.surfaceDistance;\r\n    distance += s;\r\n  }\r\n  return distance;\r\n};\r\n\r\n/**\r\n * 空间距离\r\n * @param {Cesium.Cartesian3[]} positions 构成直线的顶点坐标\r\n * @return {Number} 长度，单位米\r\n */\r\nCartometry.spaceDistance = function(positions) {\r\n  let dis = 0;\r\n  for (let i = 1; i < positions.length; i++) {\r\n    const s = positions[i - 1];\r\n    const e = positions[i];\r\n    dis += Cesium.Cartesian3.distance(s, e);\r\n  }\r\n  return dis;\r\n};\r\n\r\n/**\r\n *\r\n * 计算两个向量之间的夹角，两个向量必须拥有相同的起点。\r\n * @param {Cesium.Cartesian3} p1 向量起点\r\n * @param {Cesium.Cartesian3} p2 向量1终点\r\n * @param {Cesium.Cartesian3} p3 向量2终点\r\n * @return {Number} 返回p1p2和p1p3之间的夹角，单位：度\r\n */\r\nCartometry.angle = function(p1, p2, p3) {\r\n  // 以任意一点为原点建立局部坐标系\r\n  const matrix = Cesium.Transforms.eastNorthUpToFixedFrame(p1);\r\n  const inverseMatrix = Cesium.Matrix4.inverseTransformation(matrix, new Cesium.Matrix4());\r\n  // 将其它两个点坐标转换到局部坐标\r\n  const localp2 = Cesium.Matrix4.multiplyByPoint(inverseMatrix, p2, new Cesium.Cartesian3());\r\n  const localp3 = Cesium.Matrix4.multiplyByPoint(inverseMatrix, p3, new Cesium.Cartesian3());\r\n  // 归一化\r\n  const normalizep2 = Cesium.Cartesian3.normalize(localp2, new Cesium.Cartesian3());\r\n  const normalizep3 = Cesium.Cartesian3.normalize(localp3, new Cesium.Cartesian3());\r\n  // 计算两点夹角\r\n  const cos = Cesium.Cartesian3.dot(normalizep2, normalizep3);\r\n  const angle = Cesium.Math.acosClamped(cos);\r\n  return Cesium.Math.toDegrees(angle);\r\n};\r\n\r\n/**\r\n * 计算向量的方位角\r\n * @param  {Cesium.Cartesian3} center 向量起点\r\n * @param  {Cesium.Cartesian3} point  向量终点\r\n * @return {Number}        角度，单位：度\r\n * @example\r\n *\r\n * const start=Cesium.Cartesian3.fromDegrees(110,30);\r\n * const end=Cesium.Cartesian3.fromDegrees(110,40)\r\n * const angle = CesiumPro.Cartometry.angleBetweenNorth(start,end);\r\n */\r\nCartometry.angleBetweenNorth = function(center, point) {\r\n  const matrix = Cesium.Transforms.eastNorthUpToFixedFrame(center);\r\n  const inverseMatrix = Cesium.Matrix4.inverseTransformation(matrix, new Cesium.Matrix4());\r\n  const localp = Cesium.Matrix4.multiplyByPoint(inverseMatrix, point, new Cesium.Cartesian3());\r\n  const normalize = Cesium.Cartesian3.normalize(localp, new Cesium.Cartesian3());\r\n  const north = new Cesium.Cartesian3(0, 1, 0);\r\n  const cos = Cesium.Cartesian3.dot(normalize, north);\r\n  let angle = Cesium.Math.acosClamped(cos);\r\n  angle = Cesium.Math.toDegrees(angle);\r\n\r\n  const east = new Cesium.Cartesian3(1, 0, 0);\r\n  const arceast = Cesium.Cartesian3.dot(east, normalize);\r\n  if (arceast < 0) {\r\n    angle = 360 - angle;\r\n  }\r\n\r\n  return angle;\r\n};\r\n/**\r\n * 贴地面积\r\n * @param {Cesium.Cartesian3[]} positions 构成多边形的顶点坐标\r\n * @return {Number} 面积，单位：平方米\r\n */\r\nCartometry.surfaceArea = function(positions) {\r\n  // TODO:计算方法有问题\r\n  let res = 0;\r\n  // 拆分三角曲面\r\n\r\n  for (let i = 0; i < positions.length - 2; i += 1) {\r\n    const j = (i + 1) % positions.length;\r\n    const k = (i + 2) % positions.length;\r\n    const totalAngle = Cartometry.angle(positions[i], positions[j], positions[k]);\r\n    const distemp1 = Cartometry.spaceDistance([positions[i], positions[j]]);\r\n    const distemp2 = Cartometry.spaceDistance([positions[j], positions[k]]);\r\n    res += distemp1 * distemp2 * Math.abs(Math.sin(Cesium.Math.toRadians(totalAngle)));\r\n  }\r\n  return res;\r\n};\r\n\r\n/**\r\n * 空间面积\r\n * @param {Cesium.Cartesian3[]} positions 构成多边形的顶点坐标\r\n * @return {Number} 面积，单位：平方米\r\n */\r\nCartometry.spaceArea = function(positions) {\r\n  let res = 0;\r\n  const points = []\r\n  for (let position of positions) {\r\n    const coord = CVT.toDegrees(position);\r\n    points.push([coord.lon, coord.lat]);\r\n  }\r\n  points.push(points[0]);\r\n  const polygon = turfPolygon([points]);\r\n  return turfArea(polygon);\r\n};\r\n\r\n/**\r\n * 计算相邻两个点之间的高度差\r\n * @param  {} positions\r\n * @return {} 相信两个顶点之间的高度差，单位m\r\n */\r\nCartometry.heightFromCartesianArray = function(positions) {\r\n  if (positions.length < 2) {\r\n    return 0;\r\n  }\r\n  const rst = [];\r\n  for (let i = 1; i < positions.length; i++) {\r\n    const startC = Cesium.Cartographic.fromCartesian(positions[i - 1]);\r\n    const endC = Cesium.Cartographic.fromCartesian(positions[i]);\r\n    if (startC && endC) {\r\n      rst.push(endC.height - startC.height);\r\n    } else {\r\n      rst.push('NaN');\r\n    }\r\n  }\r\n  return rst;\r\n};\r\nexport default Cartometry;\r\n","/**\r\n * 地图量算类型\r\n * @exports CartometryType\r\n * @enum {Number}\r\n */\r\nconst CartometryType = {\r\n  /**\r\n   * 贴地距离\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  SURFACE_DISTANCE: 1,\r\n  /**\r\n   * 空间距离\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  SPACE_DISTANCE: 2,\r\n  /**\r\n   * 空间面积\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  SPACE_AREA: 3,\r\n  /**\r\n   * 贴地面积\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  SURFACE_AREA: 4,\r\n  /**\r\n   * 高度\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  HEIGHT: 5,\r\n  /**\r\n   * 方位角\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  ANGLE: 6,\r\n};\r\n\r\n/**\r\n * 验证是否是合法类型\r\n * @param {CartometryType}\r\n * @returns {Number}\r\n */\r\nCartometryType.validate = function (type) {\r\n  return type === CartometryType.SURFACE_AREA || type === CartometryType.SURFACE_DISTANCE\r\n    || type === CartometryType.SPACE_AREA || type === CartometryType.SPACE_DISTANCE\r\n    || type === CartometryType.HEIGHT || type === CartometryType.ANGLE;\r\n};\r\n\r\n/**\r\n * 从枚举值获得枚举标签\r\n * @param  {CartometryType} value 枚举值\r\n * @returns {String}\r\n */\r\nCartometryType.getKey = function (value) {\r\n  let key;\r\n  switch (value) {\r\n    case 1:\r\n      key = 'SURFACE_DISTANCE';\r\n      break;\r\n    case 2:\r\n      key = 'SPACE_DISTANCE';\r\n      break;\r\n    case 3:\r\n      key = 'SPACE_AREA';\r\n      break;\r\n    case 4:\r\n      key = 'SURFACE_AREA';\r\n      break;\r\n    case 5:\r\n      key = 'HEIGHT';\r\n      break;\r\n    case 6:\r\n      key = 'ANGLE';\r\n      break;\r\n    default:\r\n      key = undefined;\r\n  }\r\n  return key;\r\n};\r\nexport default Object.freeze(CartometryType);\r\n","import defaultValue from './defaultValue';\r\n/**\r\n * @exports clone\r\n * 生成一个对象的副本\r\n * @param  {Object} object 被克隆的对象\r\n * @param  {Bool} deep   是否深度遍历\r\n * @return {Object}   object的副本\r\n */\r\nfunction clone(object, deep) {\r\n  if (object === null || typeof object !== 'object') {\r\n    return object;\r\n  }\r\n\r\n  deep = defaultValue(deep, false);\r\n\r\n  const result = new object.constructor();\r\n  for (const propertyName in object) {\r\n    if (object.hasOwnProperty(propertyName)) {\r\n      let value = object[propertyName];\r\n      if (deep) {\r\n        value = clone(value, deep);\r\n      }\r\n      result[propertyName] = value;\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport default clone;\r\n","import defined from './defined';\r\nimport defaultValue from './defaultValue';\r\nimport guid from './guid';\r\nconst defaultShader = `\r\nvoid main(){\r\n  czm_cesiumpro_main();\r\n}`\r\nclass CustomShader {\r\n  /**\r\n   * 3d tileset自定义着色器的管理类，它包含一个顶点着色器和一个片元着色器\r\n   * @param {Object} options 具有以下属性\r\n   * @param {String} [options.key] 着色器的key值，着色器只会作用于与其key值相同的模型\r\n   * @param {String} [options.fragmentShader=''] 片元着色器\r\n   * @param {String} [options.vertexShader=''] 顶点着色器\r\n   */\r\n  constructor(options) {\r\n    options = defaultValue(options, {});\r\n    this._key = defaultValue(options.key, guid());\r\n    this._vertexShader = defaultValue(options.vertexShader, defaultShader);\r\n    this._fragmentShader = defaultValue(options.fragmentShader, defaultShader);\r\n    this._changed = true;\r\n    this._enabled = true;\r\n  }\r\n  /**\r\n   * 表示着色器是否发生了变化，如果为true则在下一帧渲染时重新生成着色器程序\r\n   * @return {Bool} 着色器是否发生了变化\r\n   */\r\n  get changed() {\r\n    return this._changed;\r\n  }\r\n  set changed(val) {\r\n    this._changed = val;\r\n  }\r\n  /**\r\n   * 顶点着色器\r\n   */\r\n  get vertexShader() {\r\n    if (this.enabled) {\r\n      return this._vertexShader;\r\n    }\r\n    return defaultShader\r\n  }\r\n  set vertexShader(val) {\r\n    this._vertexShader = val;\r\n    this._changed = true;\r\n  }\r\n  /**\r\n   * 片元着色器\r\n   */\r\n  get fragmentShader() {\r\n    if (this.enabled) {\r\n      return this._fragmentShader;\r\n    }\r\n    return defaultShader\r\n  }\r\n  set fragmentShader(val) {\r\n    this._fragmentShader = val;\r\n    this._changed = false;\r\n  }\r\n  /**\r\n   * 着色器id,它只会对key值相同的模型生效\r\n   */\r\n  get key() {\r\n    return this._key;\r\n  }\r\n  /**\r\n   * 清除着色器程序\r\n   * @return\r\n   */\r\n  clear() {\r\n    this._vertexShader = defaultShader;\r\n    this._fragmentShader = defaultShader;\r\n    this._changed = true;\r\n  }\r\n  /**\r\n   * 着色器是否生效\r\n   */\r\n  get enabled() {\r\n    return this._enabled;\r\n  }\r\n\r\n  set enabled(val) {\r\n    this._enabled = val;\r\n    this._changed = true;\r\n  }\r\n}\r\nexport default CustomShader;\r\n","const cachedShader = new Map();\r\n\r\nimport defaultValue from './defaultValue';\r\nimport CesiumProError from './CesiumProError';\r\nimport CustomShader from './CustomShader';\r\n\r\n/**\r\n *\r\n * <p>为3D tileset自定义着色器，着色器应该遵循以下规范:</p>\r\n * <p>1.着色器必须有一个main函数</p>\r\n * <p>2.着色器的main函数中必须调用czm_cesiumpro_main函数</p>\r\n * @param {Cesium.Cesium3DTileset} tileset shader将要作用的tileset\r\n * @param {Object} options  具有以下属性\r\n * @param {String} [options.vertexShader] 顶点着色器\r\n * @param {String} [options.fragmentShader] 片元着色器\r\n * @return {CustomShader} 自定义shader\r\n * @exports createTilesetShader\r\n * @example\r\n * const tileset=new Cesium.Cesium3DTileset({url:'http://...'});\r\n * const fragmentShader=`\r\n * czm_cesiumpro_main();\r\n * gl_FragColor*=vec4(0.2,0.3,0.1,1.0);\r\n * `\r\n * const shader=new CesiumPro.CustomShader({fragmentShader})\r\n * CesiumPro.createTilesetShader(tileset,shader)\r\n */\r\nfunction createTilesetShader(tileset, shader) {\r\n  const key = tileset.url;\r\n  if (shader instanceof CustomShader === false) {\r\n    throw new CesiumProError('parameter shader is invalid.')\r\n  }\r\n  cachedShader.set(key, shader);\r\n  return shader;\r\n}\r\nexport {\r\n  cachedShader\r\n};\r\nexport default createTilesetShader;\r\n","/**\r\n * 创建三维场景,修改了Cesium.Viewer的默认参数，隐藏了一些默认按钮,默认底图修改为google\r\n *\r\n * @exports createViewer\r\n * @param {String|Element} container 用于创建三维场景的DOM或元素id\r\n * @param {Object} options 同Cesium Viewer相同的参数\r\n * @returns {Cesium.Viewer}\r\n */\r\nfunction createViewer(container, options = {}) {\r\n  const defaultOption = {\r\n    animation: false,\r\n    timeline: false,\r\n    geocoder: false,\r\n    homeButton: false,\r\n    navigationHelpButton: false,\r\n    baseLayerPicker: false,\r\n    fullscreenElement: 'cesiumContainer',\r\n    fullscreenButton: false,\r\n    shouldAnimate: true,\r\n    infoBox: false,\r\n    selectionIndicator: false,\r\n    sceneModePicker: false,\r\n    shadows: false,\r\n    imageryProvider: new Cesium.UrlTemplateImageryProvider({\r\n      url: 'http://mt1.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}&s=Gali',\r\n    }),\r\n    contextOptions: {\r\n      // cesium状态下允许canvas转图片convertToImage\r\n      webgl: {\r\n        alpha: true,\r\n        depth: false,\r\n        stencil: true,\r\n        antialias: true,\r\n        premultipliedAlpha: true,\r\n        preserveDrawingBuffer: true, // 截图时需要打开\r\n        failIfMajorPerformanceCaveat: true,\r\n      },\r\n      allowTextureFilterAnisotropic: true,\r\n    },\r\n    // terrainProvider: Cesium.createWorldTerrain()\r\n    // terrainProvider: false\r\n  };\r\n  const viewer = new Cesium.Viewer(container, {\r\n    ...defaultOption,\r\n    ...options,\r\n  });\r\n  viewer.camera.flyChinaHome();\r\n  return viewer;\r\n}\r\n\r\nexport default createViewer;\r\n","/* eslint-disable */\n\nconst arr = [];\n\nconst { document } = window;\n\nconst getProto = Object.getPrototypeOf;\n\nconst { slice } = arr;\n\nconst { concat } = arr;\n\nconst { push } = arr;\n\nconst { indexOf } = arr;\n\nconst class2type = {};\n\nconst { toString } = class2type;\n\nconst hasOwn = class2type.hasOwnProperty;\n\nconst fnToString = hasOwn.toString;\n\nconst ObjectFunctionString = fnToString.call(Object);\n\nconst support = {};\n\nconst isFunction = function isFunction(obj) {\n  // Support: Chrome <=57, Firefox <=52\n  // In some browsers, typeof returns \"function\" for HTML <object> elements\n  // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n  // We don't want to classify *any* DOM node as a function.\n  return typeof obj === 'function' && typeof obj.nodeType !== 'number';\n};\n\n\nconst isWindow = function isWindow(obj) {\n  return obj != null && obj === obj.window;\n};\n\n\nconst preservedScriptAttributes = {\n  type: true,\n  src: true,\n  nonce: true,\n  noModule: true,\n};\n\nfunction DOMEval(code, node, doc) {\n  doc = doc || document;\n\n  let i; let val;\n  const script = doc.createElement('script');\n\n  script.text = code;\n  if (node) {\n    for (i in preservedScriptAttributes) {\n      // Support: Firefox 64+, Edge 18+\n      // Some browsers don't support the \"nonce\" property on scripts.\n      // On the other hand, just using `getAttribute` is not enough as\n      // the `nonce` attribute is reset to an empty string whenever it\n      // becomes browsing-context connected.\n      // See https://github.com/whatwg/html/issues/2369\n      // See https://html.spec.whatwg.org/#nonce-attributes\n      // The `node.getAttribute` check was added for the sake of\n      // `jQuery.globalEval` so that it can fake a nonce-containing node\n      // via an object.\n      val = node[i] || node.getAttribute && node.getAttribute(i);\n      if (val) {\n        script.setAttribute(i, val);\n      }\n    }\n  }\n  doc.head.appendChild(script).parentNode.removeChild(script);\n}\n\n\nfunction toType(obj) {\n  if (obj == null) {\n    return `${obj}`;\n  }\n\n  // Support: Android <=2.3 only (functionish RegExp)\n  return typeof obj === 'object' || typeof obj === 'function'\n    ? class2type[toString.call(obj)] || 'object'\n    : typeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\nconst\n  version = '3.4.1';\n\n// Define a local copy of jQuery\nvar jQuery = function (selector, context) {\n  // The jQuery object is actually just the init constructor 'enhanced'\n  // Need init if jQuery is called (just allow error to be thrown if not included)\n  return new jQuery.fn.init(selector, context);\n};\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\nconst rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\njQuery.fn = jQuery.prototype = {\n\n  // The current version of jQuery being used\n  jquery: version,\n\n  constructor: jQuery,\n\n  // The default length of a jQuery object is 0\n  length: 0,\n\n  toArray() {\n    return slice.call(this);\n  },\n\n  // Get the Nth element in the matched element set OR\n  // Get the whole matched element set as a clean array\n  get(num) {\n    // Return all the elements in a clean array\n    if (num == null) {\n      return slice.call(this);\n    }\n\n    // Return just the one element from the set\n    return num < 0 ? this[num + this.length] : this[num];\n  },\n\n  // Take an array of elements and push it onto the stack\n  // (returning the new matched element set)\n  pushStack(elems) {\n    // Build a new jQuery matched element set\n    const ret = jQuery.merge(this.constructor(), elems);\n\n    // Add the old object onto the stack (as a reference)\n    ret.prevObject = this;\n\n    // Return the newly-formed element set\n    return ret;\n  },\n\n  // Execute a callback for every element in the matched set.\n  each(callback) {\n    return jQuery.each(this, callback);\n  },\n\n  map(callback) {\n    return this.pushStack(jQuery.map(this, (elem, i) => callback.call(elem, i, elem)));\n  },\n\n  slice() {\n    return this.pushStack(slice.apply(this, arguments));\n  },\n\n  first() {\n    return this.eq(0);\n  },\n\n  last() {\n    return this.eq(-1);\n  },\n\n  eq(i) {\n    const len = this.length;\n    const j = +i + (i < 0 ? len : 0);\n    return this.pushStack(j >= 0 && j < len ? [this[j]] : []);\n  },\n\n  end() {\n    return this.prevObject || this.constructor();\n  },\n\n  // For internal use only.\n  // Behaves like an Array's method, not like a jQuery method.\n  push,\n  sort: arr.sort,\n  splice: arr.splice,\n};\n\njQuery.extend = jQuery.fn.extend = function () {\n  let options; let name; let src; let copy; let copyIsArray; let clone;\n  let target = arguments[0] || {};\n  let i = 1;\n  const { length } = arguments;\n  let deep = false;\n\n  // Handle a deep copy situation\n  if (typeof target === 'boolean') {\n    deep = target;\n\n    // Skip the boolean and the target\n    target = arguments[i] || {};\n    i++;\n  }\n\n  // Handle case when target is a string or something (possible in deep copy)\n  if (typeof target !== 'object' && !isFunction(target)) {\n    target = {};\n  }\n\n  // Extend jQuery itself if only one argument is passed\n  if (i === length) {\n    target = this;\n    i--;\n  }\n\n  for (; i < length; i++) {\n    // Only deal with non-null/undefined values\n    if ((options = arguments[i]) != null) {\n      // Extend the base object\n      for (name in options) {\n        copy = options[name];\n\n        // Prevent Object.prototype pollution\n        // Prevent never-ending loop\n        if (name === '__proto__' || target === copy) {\n          continue;\n        }\n\n        // Recurse if we're merging plain objects or arrays\n        if (deep && copy && (jQuery.isPlainObject(copy)\n\t\t\t\t\t|| (copyIsArray = Array.isArray(copy)))) {\n          src = target[name];\n\n          // Ensure proper type for the source value\n          if (copyIsArray && !Array.isArray(src)) {\n            clone = [];\n          } else if (!copyIsArray && !jQuery.isPlainObject(src)) {\n            clone = {};\n          } else {\n            clone = src;\n          }\n          copyIsArray = false;\n\n          // Never move original objects, clone them\n          target[name] = jQuery.extend(deep, clone, copy);\n\n          // Don't bring in undefined values\n        } else if (copy !== undefined) {\n          target[name] = copy;\n        }\n      }\n    }\n  }\n\n  // Return the modified object\n  return target;\n};\n\njQuery.extend({\n\n  // Unique for each copy of jQuery on the page\n  expando: `jQuery${(version + Math.random()).replace(/\\D/g, '')}`,\n\n  // Assume jQuery is ready without the ready module\n  isReady: true,\n\n  error(msg) {\n    throw new Error(msg);\n  },\n\n  noop() {},\n\n  isPlainObject(obj) {\n    let proto; let\n      Ctor;\n\n    // Detect obvious negatives\n    // Use toString instead of jQuery.type to catch host objects\n    if (!obj || toString.call(obj) !== '[object Object]') {\n      return false;\n    }\n\n    proto = getProto(obj);\n\n    // Objects with no prototype (e.g., `Object.create( null )`) are plain\n    if (!proto) {\n      return true;\n    }\n\n    // Objects with prototype are plain iff they were constructed by a global Object function\n    Ctor = hasOwn.call(proto, 'constructor') && proto.constructor;\n    return typeof Ctor === 'function' && fnToString.call(Ctor) === ObjectFunctionString;\n  },\n\n  isEmptyObject(obj) {\n    let name;\n\n    for (name in obj) {\n      return false;\n    }\n    return true;\n  },\n\n  // Evaluates a script in a global context\n  globalEval(code, options) {\n    DOMEval(code, { nonce: options && options.nonce });\n  },\n\n  each(obj, callback) {\n    let length; let\n      i = 0;\n\n    if (isArrayLike(obj)) {\n      length = obj.length;\n      for (; i < length; i++) {\n        if (callback.call(obj[i], i, obj[i]) === false) {\n          break;\n        }\n      }\n    } else {\n      for (i in obj) {\n        if (callback.call(obj[i], i, obj[i]) === false) {\n          break;\n        }\n      }\n    }\n\n    return obj;\n  },\n\n  // Support: Android <=4.0 only\n  trim(text) {\n    return text == null\n      ? ''\n      : (`${text}`).replace(rtrim, '');\n  },\n\n  // results is for internal usage only\n  makeArray(arr, results) {\n    const ret = results || [];\n\n    if (arr != null) {\n      if (isArrayLike(Object(arr))) {\n        jQuery.merge(ret,\n          typeof arr === 'string'\n            ? [arr] : arr);\n      } else {\n        push.call(ret, arr);\n      }\n    }\n\n    return ret;\n  },\n\n  inArray(elem, arr, i) {\n    return arr == null ? -1 : indexOf.call(arr, elem, i);\n  },\n\n  // Support: Android <=4.0 only, PhantomJS 1 only\n  // push.apply(_, arraylike) throws on ancient WebKit\n  merge(first, second) {\n    const len = +second.length;\n    let j = 0;\n    let i = first.length;\n\n    for (; j < len; j++) {\n      first[i++] = second[j];\n    }\n\n    first.length = i;\n\n    return first;\n  },\n\n  grep(elems, callback, invert) {\n    let callbackInverse;\n    const matches = [];\n    let i = 0;\n    const { length } = elems;\n    const callbackExpect = !invert;\n\n    // Go through the array, only saving the items\n    // that pass the validator function\n    for (; i < length; i++) {\n      callbackInverse = !callback(elems[i], i);\n      if (callbackInverse !== callbackExpect) {\n        matches.push(elems[i]);\n      }\n    }\n\n    return matches;\n  },\n\n  // arg is for internal usage only\n  map(elems, callback, arg) {\n    let length; let value;\n    let i = 0;\n    const ret = [];\n\n    // Go through the array, translating each of the items to their new values\n    if (isArrayLike(elems)) {\n      length = elems.length;\n      for (; i < length; i++) {\n        value = callback(elems[i], i, arg);\n\n        if (value != null) {\n          ret.push(value);\n        }\n      }\n\n      // Go through every key on the object,\n    } else {\n      for (i in elems) {\n        value = callback(elems[i], i, arg);\n\n        if (value != null) {\n          ret.push(value);\n        }\n      }\n    }\n\n    // Flatten any nested arrays\n    return concat.apply([], ret);\n  },\n\n  // A global GUID counter for objects\n  guid: 1,\n\n  // jQuery.support is not used in Core but other projects attach their\n  // properties to it so it needs to exist.\n  support,\n});\n\nif (typeof Symbol === 'function') {\n  jQuery.fn[Symbol.iterator] = arr[Symbol.iterator];\n}\n\n// Populate the class2type map\njQuery.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),\n  (i, name) => {\n    class2type[`[object ${name}]`] = name.toLowerCase();\n  });\n\nfunction isArrayLike(obj) {\n  // Support: real iOS 8.2 only (not reproducible in simulator)\n  // `in` check used to prevent JIT error (gh-2145)\n  // hasOwn isn't used here due to false negatives\n  // regarding Nodelist length in IE\n  const length = !!obj && 'length' in obj && obj.length;\n  const type = toType(obj);\n\n  if (isFunction(obj) || isWindow(obj)) {\n    return false;\n  }\n\n  return type === 'array' || length === 0\n\t\t|| typeof length === 'number' && length > 0 && (length - 1) in obj;\n}\nconst Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.4\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2019-04-08\n */\n(function (window) {\n  let i;\n  let support;\n  let Expr;\n  let getText;\n  let isXML;\n  let tokenize;\n  let compile;\n  let select;\n  let outermostContext;\n  let sortInput;\n  let hasDuplicate;\n\n  // Local document vars\n  let setDocument;\n  let document;\n  let docElem;\n  let documentIsHTML;\n  let rbuggyQSA;\n  let rbuggyMatches;\n  let matches;\n  let contains;\n\n  // Instance-specific data\n  const expando = `sizzle${1 * new Date()}`;\n  const preferredDoc = window.document;\n  let dirruns = 0;\n  let done = 0;\n  const classCache = createCache();\n  const tokenCache = createCache();\n  const compilerCache = createCache();\n  const nonnativeSelectorCache = createCache();\n  let sortOrder = function (a, b) {\n    if (a === b) {\n      hasDuplicate = true;\n    }\n    return 0;\n  };\n\n  // Instance methods\n  const hasOwn = ({}).hasOwnProperty;\n  let arr = [];\n  const { pop } = arr;\n  const push_native = arr.push;\n  let { push } = arr;\n  const { slice } = arr;\n  // Use a stripped-down indexOf as it's faster than native\n  // https://jsperf.com/thor-indexof-vs-for/5\n  const indexOf = function (list, elem) {\n    let i = 0;\n    const len = list.length;\n    for (; i < len; i++) {\n      if (list[i] === elem) {\n        return i;\n      }\n    }\n    return -1;\n  };\n\n  const booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped';\n\n  // Regular expressions\n\n  // http://www.w3.org/TR/css3-selectors/#whitespace\n  const whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]';\n\n  // http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n  const identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+';\n\n  // Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n  const attributes = `\\\\[${whitespace}*(${identifier})(?:${whitespace\n    // Operator (capture 2)\n\t\t }*([*^$|!~]?=)${whitespace\n    // \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t }*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(${identifier}))|)${whitespace\n\t\t }*\\\\]`;\n\n  const pseudos = `:(${identifier})(?:\\\\((`\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t+ '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|'\n\t\t// 2. simple (capture 6)\n\t\t+ `((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|${attributes})*)|`\n\t\t// 3. anything else (capture 2)\n\t\t+ '.*'\n\t\t+ ')\\\\)|)';\n\n  // Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n  const rwhitespace = new RegExp(`${whitespace}+`, 'g');\n  const rtrim = new RegExp(`^${whitespace}+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)${whitespace}+$`, 'g');\n\n  const rcomma = new RegExp(`^${whitespace}*,${whitespace}*`);\n  const rcombinators = new RegExp(`^${whitespace}*([>+~]|${whitespace})${whitespace}*`);\n  const rdescend = new RegExp(`${whitespace}|>`);\n\n  const rpseudo = new RegExp(pseudos);\n  const ridentifier = new RegExp(`^${identifier}$`);\n\n  const matchExpr = {\n    ID: new RegExp(`^#(${identifier})`),\n    CLASS: new RegExp(`^\\\\.(${identifier})`),\n    TAG: new RegExp(`^(${identifier}|[*])`),\n    ATTR: new RegExp(`^${attributes}`),\n    PSEUDO: new RegExp(`^${pseudos}`),\n    CHILD: new RegExp(`^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(${whitespace\n\t\t\t }*(even|odd|(([+-]|)(\\\\d*)n|)${whitespace}*(?:([+-]|)${whitespace\n\t\t\t }*(\\\\d+)|))${whitespace}*\\\\)|)`, 'i'),\n    bool: new RegExp(`^(?:${booleans})$`, 'i'),\n    // For use in libraries implementing .is()\n    // We use this for POS matching in `select`\n    needsContext: new RegExp(`^${whitespace}*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(${\n\t\t\t whitespace}*((?:-\\\\d)?\\\\d*)${whitespace}*\\\\)|)(?=[^-]|$)`, 'i'),\n  };\n\n  const rhtml = /HTML$/i;\n  const rinputs = /^(?:input|select|textarea|button)$/i;\n  const rheader = /^h\\d$/i;\n\n  const rnative = /^[^{]+\\{\\s*\\[native \\w/;\n\n  // Easily-parseable/retrievable ID or TAG or CLASS selectors\n  const rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/;\n\n  const rsibling = /[+~]/;\n\n  // CSS escapes\n  // http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n  const runescape = new RegExp(`\\\\\\\\([\\\\da-f]{1,6}${whitespace}?|(${whitespace})|.)`, 'ig');\n  const funescape = function (_, escaped, escapedWhitespace) {\n    const high = `0x${escaped}` - 0x10000;\n    // NaN means non-codepoint\n    // Support: Firefox<24\n    // Workaround erroneous numeric interpretation of +\"0x\"\n    return high !== high || escapedWhitespace\n      ? escaped\n      : high < 0\n      // BMP codepoint\n        ? String.fromCharCode(high + 0x10000)\n      // Supplemental Plane codepoint (surrogate pair)\n        : String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);\n  };\n\n  // CSS string/identifier serialization\n  // https://drafts.csswg.org/cssom/#common-serializing-idioms\n  const rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g;\n  const fcssescape = function (ch, asCodePoint) {\n    if (asCodePoint) {\n      // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n      if (ch === '\\0') {\n        return '\\uFFFD';\n      }\n\n      // Control characters and (dependent upon position) numbers get escaped as code points\n      return `${ch.slice(0, -1)}\\\\${ch.charCodeAt(ch.length - 1).toString(16)} `;\n    }\n\n    // Other potentially-special ASCII characters get backslash-escaped\n    return `\\\\${ch}`;\n  };\n\n  // Used for iframes\n  // See setDocument()\n  // Removing the function wrapper causes a \"Permission Denied\"\n  // error in IE\n  const unloadHandler = function () {\n    setDocument();\n  };\n\n  const inDisabledFieldset = addCombinator(\n    (elem) => elem.disabled === true && elem.nodeName.toLowerCase() === 'fieldset',\n    { dir: 'parentNode', next: 'legend' },\n  );\n\n  // Optimize for push.apply( _, NodeList )\n  try {\n    push.apply(\n      (arr = slice.call(preferredDoc.childNodes)),\n      preferredDoc.childNodes,\n    );\n    // Support: Android<4.0\n    // Detect silently failing push.apply\n    arr[preferredDoc.childNodes.length].nodeType;\n  } catch (e) {\n    push = {\n      apply: arr.length\n\n      // Leverage slice if possible\n        ? function (target, els) {\n          push_native.apply(target, slice.call(els));\n        }\n\n      // Support: IE<9\n      // Otherwise append directly\n        : function (target, els) {\n          let j = target.length;\n          let i = 0;\n          // Can't trust NodeList.length\n          while ((target[j++] = els[i++])) {}\n          target.length = j - 1;\n        },\n    };\n  }\n\n  function Sizzle(selector, context, results, seed) {\n    let m; let i; let elem; let nid; let match; let groups; let newSelector;\n    let newContext = context && context.ownerDocument;\n\n    // nodeType defaults to 9, since context defaults to document\n    const nodeType = context ? context.nodeType : 9;\n\n    results = results || [];\n\n    // Return early from calls with invalid selector or context\n    if (typeof selector !== 'string' || !selector\n\t\t|| nodeType !== 1 && nodeType !== 9 && nodeType !== 11) {\n      return results;\n    }\n\n    // Try to shortcut find operations (as opposed to filters) in HTML documents\n    if (!seed) {\n      if ((context ? context.ownerDocument || context : preferredDoc) !== document) {\n        setDocument(context);\n      }\n      context = context || document;\n\n      if (documentIsHTML) {\n        // If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n        // (excepting DocumentFragment context, where the methods don't exist)\n        if (nodeType !== 11 && (match = rquickExpr.exec(selector))) {\n          // ID selector\n          if ((m = match[1])) {\n            // Document context\n            if (nodeType === 9) {\n              if ((elem = context.getElementById(m))) {\n                // Support: IE, Opera, Webkit\n                // TODO: identify versions\n                // getElementById can match elements by name instead of ID\n                if (elem.id === m) {\n                  results.push(elem);\n                  return results;\n                }\n              } else {\n                return results;\n              }\n\n              // Element context\n            } else {\n              // Support: IE, Opera, Webkit\n              // TODO: identify versions\n              // getElementById can match elements by name instead of ID\n              if (newContext && (elem = newContext.getElementById(m))\n\t\t\t\t\t\t\t&& contains(context, elem)\n\t\t\t\t\t\t\t&& elem.id === m) {\n                results.push(elem);\n                return results;\n              }\n            }\n\n            // Type selector\n          } else if (match[2]) {\n            push.apply(results, context.getElementsByTagName(selector));\n            return results;\n\n            // Class selector\n          } else if ((m = match[3]) && support.getElementsByClassName\n\t\t\t\t\t&& context.getElementsByClassName) {\n            push.apply(results, context.getElementsByClassName(m));\n            return results;\n          }\n        }\n\n        // Take advantage of querySelectorAll\n        if (support.qsa\n\t\t\t\t&& !nonnativeSelectorCache[`${selector} `]\n\t\t\t\t&& (!rbuggyQSA || !rbuggyQSA.test(selector))\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t&& (nodeType !== 1 || context.nodeName.toLowerCase() !== 'object')) {\n          newSelector = selector;\n          newContext = context;\n\n          // qSA considers elements outside a scoping root when evaluating child or\n          // descendant combinators, which is not what we want.\n          // In such cases, we work around the behavior by prefixing every selector in the\n          // list with an ID selector referencing the scope context.\n          // Thanks to Andrew Dupont for this technique.\n          if (nodeType === 1 && rdescend.test(selector)) {\n            // Capture the context ID, setting it first if necessary\n            if ((nid = context.getAttribute('id'))) {\n              nid = nid.replace(rcssescape, fcssescape);\n            } else {\n              context.setAttribute('id', (nid = expando));\n            }\n\n            // Prefix every selector in the list\n            groups = tokenize(selector);\n            i = groups.length;\n            while (i--) {\n              groups[i] = `#${nid} ${toSelector(groups[i])}`;\n            }\n            newSelector = groups.join(',');\n\n            // Expand context for sibling selectors\n            newContext = rsibling.test(selector) && testContext(context.parentNode)\n\t\t\t\t\t\t|| context;\n          }\n\n          try {\n            push.apply(results,\n              newContext.querySelectorAll(newSelector));\n            return results;\n          } catch (qsaError) {\n            nonnativeSelectorCache(selector, true);\n          } finally {\n            if (nid === expando) {\n              context.removeAttribute('id');\n            }\n          }\n        }\n      }\n    }\n\n    // All others\n    return select(selector.replace(rtrim, '$1'), context, results, seed);\n  }\n\n  /**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\n  function createCache() {\n    const keys = [];\n\n    function cache(key, value) {\n      // Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n      if (keys.push(`${key} `) > Expr.cacheLength) {\n        // Only keep the most recent entries\n        delete cache[keys.shift()];\n      }\n      return (cache[`${key} `] = value);\n    }\n    return cache;\n  }\n\n  /**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\n  function markFunction(fn) {\n    fn[expando] = true;\n    return fn;\n  }\n\n  /**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\n  function assert(fn) {\n    let el = document.createElement('fieldset');\n\n    try {\n      return !!fn(el);\n    } catch (e) {\n      return false;\n    } finally {\n      // Remove from its parent by default\n      if (el.parentNode) {\n        el.parentNode.removeChild(el);\n      }\n      // release memory in IE\n      el = null;\n    }\n  }\n\n  /**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\n  function addHandle(attrs, handler) {\n    const arr = attrs.split('|');\n    let i = arr.length;\n\n    while (i--) {\n      Expr.attrHandle[arr[i]] = handler;\n    }\n  }\n\n  /**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\n  function siblingCheck(a, b) {\n    let cur = b && a;\n    const diff = cur && a.nodeType === 1 && b.nodeType === 1\n\t\t\t&& a.sourceIndex - b.sourceIndex;\n\n    // Use IE sourceIndex if available on both nodes\n    if (diff) {\n      return diff;\n    }\n\n    // Check if b follows a\n    if (cur) {\n      while ((cur = cur.nextSibling)) {\n        if (cur === b) {\n          return -1;\n        }\n      }\n    }\n\n    return a ? 1 : -1;\n  }\n\n  /**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\n  function createInputPseudo(type) {\n    return function (elem) {\n      const name = elem.nodeName.toLowerCase();\n      return name === 'input' && elem.type === type;\n    };\n  }\n\n  /**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\n  function createButtonPseudo(type) {\n    return function (elem) {\n      const name = elem.nodeName.toLowerCase();\n      return (name === 'input' || name === 'button') && elem.type === type;\n    };\n  }\n\n  /**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\n  function createDisabledPseudo(disabled) {\n    // Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n    return function (elem) {\n      // Only certain elements can match :enabled or :disabled\n      // https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n      // https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n      if ('form' in elem) {\n        // Check for inherited disabledness on relevant non-disabled elements:\n        // * listed form-associated elements in a disabled fieldset\n        //   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n        //   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n        // * option elements in a disabled optgroup\n        //   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n        // All such elements have a \"form\" property.\n        if (elem.parentNode && elem.disabled === false) {\n          // Option elements defer to a parent optgroup if present\n          if ('label' in elem) {\n            if ('label' in elem.parentNode) {\n              return elem.parentNode.disabled === disabled;\n            }\n            return elem.disabled === disabled;\n          }\n\n          // Support: IE 6 - 11\n          // Use the isDisabled shortcut property to check for disabled fieldset ancestors\n          return elem.isDisabled === disabled\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\t|| elem.isDisabled !== !disabled\n\t\t\t\t\t\t&& inDisabledFieldset(elem) === disabled;\n        }\n\n        return elem.disabled === disabled;\n\n        // Try to winnow out elements that can't be disabled before trusting the disabled property.\n        // Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n        // even exist on them, let alone have a boolean value.\n      } if ('label' in elem) {\n        return elem.disabled === disabled;\n      }\n\n      // Remaining elements are neither :enabled nor :disabled\n      return false;\n    };\n  }\n\n  /**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\n  function createPositionalPseudo(fn) {\n    return markFunction((argument) => {\n      argument = +argument;\n      return markFunction((seed, matches) => {\n        let j;\n        const matchIndexes = fn([], seed.length, argument);\n        let i = matchIndexes.length;\n\n        // Match elements found at the specified indexes\n        while (i--) {\n          if (seed[(j = matchIndexes[i])]) {\n            seed[j] = !(matches[j] = seed[j]);\n          }\n        }\n      });\n    });\n  }\n\n  /**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\n  function testContext(context) {\n    return context && typeof context.getElementsByTagName !== 'undefined' && context;\n  }\n\n  // Expose support vars for convenience\n  support = Sizzle.support = {};\n\n  /**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\n  isXML = Sizzle.isXML = function (elem) {\n    const namespace = elem.namespaceURI;\n    const docElem = (elem.ownerDocument || elem).documentElement;\n\n    // Support: IE <=8\n    // Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n    // https://bugs.jquery.com/ticket/4833\n    return !rhtml.test(namespace || docElem && docElem.nodeName || 'HTML');\n  };\n\n  /**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\n  setDocument = Sizzle.setDocument = function (node) {\n    let hasCompare; let subWindow;\n    const doc = node ? node.ownerDocument || node : preferredDoc;\n\n    // Return early if doc is invalid or already selected\n    if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {\n      return document;\n    }\n\n    // Update global variables\n    document = doc;\n    docElem = document.documentElement;\n    documentIsHTML = !isXML(document);\n\n    // Support: IE 9-11, Edge\n    // Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n    if (preferredDoc !== document\n\t\t&& (subWindow = document.defaultView) && subWindow.top !== subWindow) {\n      // Support: IE 11, Edge\n      if (subWindow.addEventListener) {\n        subWindow.addEventListener('unload', unloadHandler, false);\n\n        // Support: IE 9 - 10 only\n      } else if (subWindow.attachEvent) {\n        subWindow.attachEvent('onunload', unloadHandler);\n      }\n    }\n\n    /* Attributes\n\t---------------------------------------------------------------------- */\n\n    // Support: IE<8\n    // Verify that getAttribute really returns attributes and not properties\n    // (excepting IE8 booleans)\n    support.attributes = assert((el) => {\n      el.className = 'i';\n      return !el.getAttribute('className');\n    });\n\n    /* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n    // Check if getElementsByTagName(\"*\") returns only elements\n    support.getElementsByTagName = assert((el) => {\n      el.appendChild(document.createComment(''));\n      return !el.getElementsByTagName('*').length;\n    });\n\n    // Support: IE<9\n    support.getElementsByClassName = rnative.test(document.getElementsByClassName);\n\n    // Support: IE<10\n    // Check if getElementById returns elements by name\n    // The broken getElementById methods don't pick up programmatically-set names,\n    // so use a roundabout getElementsByName test\n    support.getById = assert((el) => {\n      docElem.appendChild(el).id = expando;\n      return !document.getElementsByName || !document.getElementsByName(expando).length;\n    });\n\n    // ID filter and find\n    if (support.getById) {\n      Expr.filter.ID = function (id) {\n        const attrId = id.replace(runescape, funescape);\n        return function (elem) {\n          return elem.getAttribute('id') === attrId;\n        };\n      };\n      Expr.find.ID = function (id, context) {\n        if (typeof context.getElementById !== 'undefined' && documentIsHTML) {\n          const elem = context.getElementById(id);\n          return elem ? [elem] : [];\n        }\n      };\n    } else {\n      Expr.filter.ID = function (id) {\n        const attrId = id.replace(runescape, funescape);\n        return function (elem) {\n          const node = typeof elem.getAttributeNode !== 'undefined'\n\t\t\t\t\t&& elem.getAttributeNode('id');\n          return node && node.value === attrId;\n        };\n      };\n\n      // Support: IE 6 - 7 only\n      // getElementById is not reliable as a find shortcut\n      Expr.find.ID = function (id, context) {\n        if (typeof context.getElementById !== 'undefined' && documentIsHTML) {\n          let node; let i; let elems;\n          let elem = context.getElementById(id);\n\n          if (elem) {\n            // Verify the id attribute\n            node = elem.getAttributeNode('id');\n            if (node && node.value === id) {\n              return [elem];\n            }\n\n            // Fall back on getElementsByName\n            elems = context.getElementsByName(id);\n            i = 0;\n            while ((elem = elems[i++])) {\n              node = elem.getAttributeNode('id');\n              if (node && node.value === id) {\n                return [elem];\n              }\n            }\n          }\n\n          return [];\n        }\n      };\n    }\n\n    // Tag\n    Expr.find.TAG = support.getElementsByTagName\n      ? function (tag, context) {\n        if (typeof context.getElementsByTagName !== 'undefined') {\n          return context.getElementsByTagName(tag);\n\n          // DocumentFragment nodes don't have gEBTN\n        } if (support.qsa) {\n          return context.querySelectorAll(tag);\n        }\n      }\n\n      : function (tag, context) {\n        let elem;\n        const tmp = [];\n        let i = 0;\n        // By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n        const results = context.getElementsByTagName(tag);\n\n        // Filter out possible comments\n        if (tag === '*') {\n          while ((elem = results[i++])) {\n            if (elem.nodeType === 1) {\n              tmp.push(elem);\n            }\n          }\n\n          return tmp;\n        }\n        return results;\n      };\n\n    // Class\n    Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\n      if (typeof context.getElementsByClassName !== 'undefined' && documentIsHTML) {\n        return context.getElementsByClassName(className);\n      }\n    };\n\n    /* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n    // QSA and matchesSelector support\n\n    // matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n    rbuggyMatches = [];\n\n    // qSa(:focus) reports false when true (Chrome 21)\n    // We allow this because of a bug in IE8/9 that throws an error\n    // whenever `document.activeElement` is accessed on an iframe\n    // So, we allow :focus to pass through QSA all the time to avoid the IE error\n    // See https://bugs.jquery.com/ticket/13378\n    rbuggyQSA = [];\n\n    if ((support.qsa = rnative.test(document.querySelectorAll))) {\n      // Build QSA regex\n      // Regex strategy adopted from Diego Perini\n      assert((el) => {\n        // Select is set to empty string on purpose\n        // This is to test IE's treatment of not explicitly\n        // setting a boolean content attribute,\n        // since its presence should be enough\n        // https://bugs.jquery.com/ticket/12359\n        docElem.appendChild(el).innerHTML = `<a id='${expando}'></a>`\n\t\t\t\t+ `<select id='${expando}-\\r\\\\' msallowcapture=''>`\n\t\t\t\t+ '<option selected=\\'\\'></option></select>';\n\n        // Support: IE8, Opera 11-12.16\n        // Nothing should be selected when empty strings follow ^= or $= or *=\n        // The test attribute must be unknown in Opera but \"safe\" for WinRT\n        // https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n        if (el.querySelectorAll(\"[msallowcapture^='']\").length) {\n          rbuggyQSA.push(`[*^$]=${whitespace}*(?:''|\"\")`);\n        }\n\n        // Support: IE8\n        // Boolean attributes and \"value\" are not treated correctly\n        if (!el.querySelectorAll('[selected]').length) {\n          rbuggyQSA.push(`\\\\[${whitespace}*(?:value|${booleans})`);\n        }\n\n        // Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n        if (!el.querySelectorAll(`[id~=${expando}-]`).length) {\n          rbuggyQSA.push('~=');\n        }\n\n        // Webkit/Opera - :checked should return selected option elements\n        // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n        // IE8 throws error here and will not see later tests\n        if (!el.querySelectorAll(':checked').length) {\n          rbuggyQSA.push(':checked');\n        }\n\n        // Support: Safari 8+, iOS 8+\n        // https://bugs.webkit.org/show_bug.cgi?id=136851\n        // In-page `selector#id sibling-combinator selector` fails\n        if (!el.querySelectorAll(`a#${expando}+*`).length) {\n          rbuggyQSA.push('.#.+[+~]');\n        }\n      });\n\n      assert((el) => {\n        el.innerHTML = \"<a href='' disabled='disabled'></a>\"\n\t\t\t\t+ \"<select disabled='disabled'><option/></select>\";\n\n        // Support: Windows 8 Native Apps\n        // The type and name attributes are restricted during .innerHTML assignment\n        const input = document.createElement('input');\n        input.setAttribute('type', 'hidden');\n        el.appendChild(input).setAttribute('name', 'D');\n\n        // Support: IE8\n        // Enforce case-sensitivity of name attribute\n        if (el.querySelectorAll('[name=d]').length) {\n          rbuggyQSA.push(`name${whitespace}*[*^$|!~]?=`);\n        }\n\n        // FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n        // IE8 throws error here and will not see later tests\n        if (el.querySelectorAll(':enabled').length !== 2) {\n          rbuggyQSA.push(':enabled', ':disabled');\n        }\n\n        // Support: IE9-11+\n        // IE's :disabled selector does not pick up the children of disabled fieldsets\n        docElem.appendChild(el).disabled = true;\n        if (el.querySelectorAll(':disabled').length !== 2) {\n          rbuggyQSA.push(':enabled', ':disabled');\n        }\n\n        // Opera 10-11 does not throw on post-comma invalid pseudos\n        el.querySelectorAll('*,:x');\n        rbuggyQSA.push(',.*:');\n      });\n    }\n\n    if ((support.matchesSelector = rnative.test((matches = docElem.matches\n\t\t|| docElem.webkitMatchesSelector\n\t\t|| docElem.mozMatchesSelector\n\t\t|| docElem.oMatchesSelector\n\t\t|| docElem.msMatchesSelector)))) {\n      assert((el) => {\n        // Check to see if it's possible to do matchesSelector\n        // on a disconnected node (IE 9)\n        support.disconnectedMatch = matches.call(el, '*');\n\n        // This should fail with an exception\n        // Gecko does not error, returns false instead\n        matches.call(el, \"[s!='']:x\");\n        rbuggyMatches.push('!=', pseudos);\n      });\n    }\n\n    rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n    rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n\n    /* Contains\n\t---------------------------------------------------------------------- */\n    hasCompare = rnative.test(docElem.compareDocumentPosition);\n\n    // Element contains another\n    // Purposefully self-exclusive\n    // As in, an element does not contain itself\n    contains = hasCompare || rnative.test(docElem.contains)\n      ? function (a, b) {\n        const adown = a.nodeType === 9 ? a.documentElement : a;\n        const bup = b && b.parentNode;\n        return a === bup || !!(bup && bup.nodeType === 1 && (\n          adown.contains\n            ? adown.contains(bup)\n            : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16\n        ));\n      }\n      : function (a, b) {\n        if (b) {\n          while ((b = b.parentNode)) {\n            if (b === a) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n\n    /* Sorting\n\t---------------------------------------------------------------------- */\n\n    // Document order sorting\n    sortOrder = hasCompare\n      ? function (a, b) {\n        // Flag for duplicate removal\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n\n        // Sort on method existence if only one input has compareDocumentPosition\n        let compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n        if (compare) {\n          return compare;\n        }\n\n        // Calculate position if both inputs belong to the same document\n        compare = (a.ownerDocument || a) === (b.ownerDocument || b)\n          ? a.compareDocumentPosition(b)\n\n        // Otherwise we know they are disconnected\n          : 1;\n\n        // Disconnected nodes\n        if (compare & 1\n\t\t\t|| (!support.sortDetached && b.compareDocumentPosition(a) === compare)) {\n          // Choose the first element that is related to our preferred document\n          if (a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {\n            return -1;\n          }\n          if (b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {\n            return 1;\n          }\n\n          // Maintain original order\n          return sortInput\n            ? (indexOf(sortInput, a) - indexOf(sortInput, b))\n            : 0;\n        }\n\n        return compare & 4 ? -1 : 1;\n      }\n      : function (a, b) {\n        // Exit early if the nodes are identical\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n\n        let cur;\n        let i = 0;\n        const aup = a.parentNode;\n        const bup = b.parentNode;\n        const ap = [a];\n        const bp = [b];\n\n        // Parentless nodes are either documents or disconnected\n        if (!aup || !bup) {\n          return a === document ? -1\n            : b === document ? 1\n              : aup ? -1\n                : bup ? 1\n                  : sortInput\n                    ? (indexOf(sortInput, a) - indexOf(sortInput, b))\n                    : 0;\n\n          // If the nodes are siblings, we can do a quick check\n        } if (aup === bup) {\n          return siblingCheck(a, b);\n        }\n\n        // Otherwise we need full lists of their ancestors for comparison\n        cur = a;\n        while ((cur = cur.parentNode)) {\n          ap.unshift(cur);\n        }\n        cur = b;\n        while ((cur = cur.parentNode)) {\n          bp.unshift(cur);\n        }\n\n        // Walk down the tree looking for a discrepancy\n        while (ap[i] === bp[i]) {\n          i++;\n        }\n\n        return i\n        // Do a sibling check if the nodes have a common ancestor\n          ? siblingCheck(ap[i], bp[i])\n\n        // Otherwise nodes in our document sort first\n          : ap[i] === preferredDoc ? -1\n            : bp[i] === preferredDoc ? 1\n              : 0;\n      };\n\n    return document;\n  };\n\n  Sizzle.matches = function (expr, elements) {\n    return Sizzle(expr, null, null, elements);\n  };\n\n  Sizzle.matchesSelector = function (elem, expr) {\n    // Set document vars if needed\n    if ((elem.ownerDocument || elem) !== document) {\n      setDocument(elem);\n    }\n\n    if (support.matchesSelector && documentIsHTML\n\t\t&& !nonnativeSelectorCache[`${expr} `]\n\t\t&& (!rbuggyMatches || !rbuggyMatches.test(expr))\n\t\t&& (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n      try {\n        const ret = matches.call(elem, expr);\n\n        // IE 9's matchesSelector returns false on disconnected nodes\n        if (ret || support.disconnectedMatch\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\t|| elem.document && elem.document.nodeType !== 11) {\n          return ret;\n        }\n      } catch (e) {\n        nonnativeSelectorCache(expr, true);\n      }\n    }\n\n    return Sizzle(expr, document, null, [elem]).length > 0;\n  };\n\n  Sizzle.contains = function (context, elem) {\n    // Set document vars if needed\n    if ((context.ownerDocument || context) !== document) {\n      setDocument(context);\n    }\n    return contains(context, elem);\n  };\n\n  Sizzle.attr = function (elem, name) {\n    // Set document vars if needed\n    if ((elem.ownerDocument || elem) !== document) {\n      setDocument(elem);\n    }\n\n    const fn = Expr.attrHandle[name.toLowerCase()];\n    // Don't get fooled by Object.prototype properties (jQuery #13807)\n    let val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase())\n      ? fn(elem, name, !documentIsHTML)\n      : undefined;\n\n    return val !== undefined\n      ? val\n      : support.attributes || !documentIsHTML\n        ? elem.getAttribute(name)\n        : (val = elem.getAttributeNode(name)) && val.specified\n          ? val.value\n          : null;\n  };\n\n  Sizzle.escape = function (sel) {\n    return (`${sel}`).replace(rcssescape, fcssescape);\n  };\n\n  Sizzle.error = function (msg) {\n    throw new Error(`Syntax error, unrecognized expression: ${msg}`);\n  };\n\n  /**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\n  Sizzle.uniqueSort = function (results) {\n    let elem;\n    const duplicates = [];\n    let j = 0;\n    let i = 0;\n\n    // Unless we *know* we can detect duplicates, assume their presence\n    hasDuplicate = !support.detectDuplicates;\n    sortInput = !support.sortStable && results.slice(0);\n    results.sort(sortOrder);\n\n    if (hasDuplicate) {\n      while ((elem = results[i++])) {\n        if (elem === results[i]) {\n          j = duplicates.push(i);\n        }\n      }\n      while (j--) {\n        results.splice(duplicates[j], 1);\n      }\n    }\n\n    // Clear input after sorting to release objects\n    // See https://github.com/jquery/sizzle/pull/225\n    sortInput = null;\n\n    return results;\n  };\n\n  /**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\n  getText = Sizzle.getText = function (elem) {\n    let node;\n    let ret = '';\n    let i = 0;\n    const { nodeType } = elem;\n\n    if (!nodeType) {\n      // If no nodeType, this is expected to be an array\n      while ((node = elem[i++])) {\n        // Do not traverse comment nodes\n        ret += getText(node);\n      }\n    } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n      // Use textContent for elements\n      // innerText usage removed for consistency of new lines (jQuery #11153)\n      if (typeof elem.textContent === 'string') {\n        return elem.textContent;\n      }\n      // Traverse its children\n      for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n        ret += getText(elem);\n      }\n    } else if (nodeType === 3 || nodeType === 4) {\n      return elem.nodeValue;\n    }\n    // Do not include comment or processing instruction nodes\n\n    return ret;\n  };\n\n  Expr = Sizzle.selectors = {\n\n    // Can be adjusted by the user\n    cacheLength: 50,\n\n    createPseudo: markFunction,\n\n    match: matchExpr,\n\n    attrHandle: {},\n\n    find: {},\n\n    relative: {\n      '>': { dir: 'parentNode', first: true },\n      ' ': { dir: 'parentNode' },\n      '+': { dir: 'previousSibling', first: true },\n      '~': { dir: 'previousSibling' },\n    },\n\n    preFilter: {\n      ATTR(match) {\n        match[1] = match[1].replace(runescape, funescape);\n\n        // Move the given value to match[3] whether quoted or unquoted\n        match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n\n        if (match[2] === '~=') {\n          match[3] = ` ${match[3]} `;\n        }\n\n        return match.slice(0, 4);\n      },\n\n      CHILD(match) {\n        /* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n        match[1] = match[1].toLowerCase();\n\n        if (match[1].slice(0, 3) === 'nth') {\n          // nth-* requires argument\n          if (!match[3]) {\n            Sizzle.error(match[0]);\n          }\n\n          // numeric x and y parameters for Expr.filter.CHILD\n          // remember that false/true cast respectively to 0/1\n          match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n          match[5] = +((match[7] + match[8]) || match[3] === 'odd');\n\n          // other types prohibit arguments\n        } else if (match[3]) {\n          Sizzle.error(match[0]);\n        }\n\n        return match;\n      },\n\n      PSEUDO(match) {\n        let excess;\n        const unquoted = !match[6] && match[2];\n\n        if (matchExpr.CHILD.test(match[0])) {\n          return null;\n        }\n\n        // Accept quoted arguments as-is\n        if (match[3]) {\n          match[2] = match[4] || match[5] || '';\n\n          // Strip excess characters from unquoted arguments\n        } else if (unquoted && rpseudo.test(unquoted)\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t&& (excess = tokenize(unquoted, true))\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t&& (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n          // excess is a negative index\n          match[0] = match[0].slice(0, excess);\n          match[2] = unquoted.slice(0, excess);\n        }\n\n        // Return only captures needed by the pseudo filter method (type and argument)\n        return match.slice(0, 3);\n      },\n    },\n\n    filter: {\n\n      TAG(nodeNameSelector) {\n        const nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n        return nodeNameSelector === '*'\n          ? function () { return true; }\n          : function (elem) {\n            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n          };\n      },\n\n      CLASS(className) {\n        let pattern = classCache[`${className} `];\n\n        return pattern\n\t\t\t\t|| (pattern = new RegExp(`(^|${whitespace})${className}(${whitespace}|$)`))\n\t\t\t\t&& classCache(className, (elem) => pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== 'undefined' && elem.getAttribute('class') || ''));\n      },\n\n      ATTR(name, operator, check) {\n        return function (elem) {\n          let result = Sizzle.attr(elem, name);\n\n          if (result == null) {\n            return operator === '!=';\n          }\n          if (!operator) {\n            return true;\n          }\n\n          result += '';\n\n          return operator === '=' ? result === check\n            : operator === '!=' ? result !== check\n              : operator === '^=' ? check && result.indexOf(check) === 0\n                : operator === '*=' ? check && result.indexOf(check) > -1\n                  : operator === '$=' ? check && result.slice(-check.length) === check\n                    : operator === '~=' ? (` ${result.replace(rwhitespace, ' ')} `).indexOf(check) > -1\n                      : operator === '|=' ? result === check || result.slice(0, check.length + 1) === `${check}-`\n                        : false;\n        };\n      },\n\n      CHILD(type, what, argument, first, last) {\n        const simple = type.slice(0, 3) !== 'nth';\n        const forward = type.slice(-4) !== 'last';\n        const ofType = what === 'of-type';\n\n        return first === 1 && last === 0\n\n        // Shortcut for :nth-*(n)\n          ? function (elem) {\n            return !!elem.parentNode;\n          }\n\n          : function (elem, context, xml) {\n            let cache; let uniqueCache; let outerCache; let node; let nodeIndex; let start;\n            let dir = simple !== forward ? 'nextSibling' : 'previousSibling';\n            const parent = elem.parentNode;\n            const name = ofType && elem.nodeName.toLowerCase();\n            const useCache = !xml && !ofType;\n            let diff = false;\n\n            if (parent) {\n              // :(first|last|only)-(child|of-type)\n              if (simple) {\n                while (dir) {\n                  node = elem;\n                  while ((node = node[dir])) {\n                    if (ofType\n                      ? node.nodeName.toLowerCase() === name\n                      : node.nodeType === 1) {\n                      return false;\n                    }\n                  }\n                  // Reverse direction for :only-* (if we haven't yet done so)\n                  start = dir = type === 'only' && !start && 'nextSibling';\n                }\n                return true;\n              }\n\n              start = [forward ? parent.firstChild : parent.lastChild];\n\n              // non-xml :nth-child(...) stores cache data on `parent`\n              if (forward && useCache) {\n                // Seek `elem` from a previously-cached index\n\n                // ...in a gzip-friendly way\n                node = parent;\n                outerCache = node[expando] || (node[expando] = {});\n\n                // Support: IE <9 only\n                // Defend against cloned attroperties (jQuery gh-1709)\n                uniqueCache = outerCache[node.uniqueID]\n\t\t\t\t\t\t\t\t|| (outerCache[node.uniqueID] = {});\n\n                cache = uniqueCache[type] || [];\n                nodeIndex = cache[0] === dirruns && cache[1];\n                diff = nodeIndex && cache[2];\n                node = nodeIndex && parent.childNodes[nodeIndex];\n\n                while ((node = ++nodeIndex && node && node[dir]\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t|| (diff = nodeIndex = 0) || start.pop())) {\n                  // When found, cache indexes on `parent` and break\n                  if (node.nodeType === 1 && ++diff && node === elem) {\n                    uniqueCache[type] = [dirruns, nodeIndex, diff];\n                    break;\n                  }\n                }\n              } else {\n                // Use previously-cached element index if available\n                if (useCache) {\n                  // ...in a gzip-friendly way\n                  node = elem;\n                  outerCache = node[expando] || (node[expando] = {});\n\n                  // Support: IE <9 only\n                  // Defend against cloned attroperties (jQuery gh-1709)\n                  uniqueCache = outerCache[node.uniqueID]\n\t\t\t\t\t\t\t\t\t|| (outerCache[node.uniqueID] = {});\n\n                  cache = uniqueCache[type] || [];\n                  nodeIndex = cache[0] === dirruns && cache[1];\n                  diff = nodeIndex;\n                }\n\n                // xml :nth-child(...)\n                // or :nth-last-child(...) or :nth(-last)?-of-type(...)\n                if (diff === false) {\n                  // Use the same loop as above to seek `elem` from the start\n                  while ((node = ++nodeIndex && node && node[dir]\n\t\t\t\t\t\t\t\t\t|| (diff = nodeIndex = 0) || start.pop())) {\n                    if ((ofType\n                      ? node.nodeName.toLowerCase() === name\n                      : node.nodeType === 1)\n\t\t\t\t\t\t\t\t\t\t&& ++diff) {\n                      // Cache the index of each encountered element\n                      if (useCache) {\n                        outerCache = node[expando] || (node[expando] = {});\n\n                        // Support: IE <9 only\n                        // Defend against cloned attroperties (jQuery gh-1709)\n                        uniqueCache = outerCache[node.uniqueID]\n\t\t\t\t\t\t\t\t\t\t\t\t|| (outerCache[node.uniqueID] = {});\n\n                        uniqueCache[type] = [dirruns, diff];\n                      }\n\n                      if (node === elem) {\n                        break;\n                      }\n                    }\n                  }\n                }\n              }\n\n              // Incorporate the offset, then check against cycle size\n              diff -= last;\n              return diff === first || (diff % first === 0 && diff / first >= 0);\n            }\n          };\n      },\n\n      PSEUDO(pseudo, argument) {\n        // pseudo-class names are case-insensitive\n        // http://www.w3.org/TR/selectors/#pseudo-classes\n        // Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n        // Remember that setFilters inherits from pseudos\n        let args;\n        const fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()]\n\t\t\t\t\t|| Sizzle.error(`unsupported pseudo: ${pseudo}`);\n\n        // The user may use createPseudo to indicate that\n        // arguments are needed to create the filter function\n        // just as Sizzle does\n        if (fn[expando]) {\n          return fn(argument);\n        }\n\n        // But maintain support for old signatures\n        if (fn.length > 1) {\n          args = [pseudo, pseudo, '', argument];\n          return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())\n            ? markFunction((seed, matches) => {\n              let idx;\n              const matched = fn(seed, argument);\n              let i = matched.length;\n              while (i--) {\n                idx = indexOf(seed, matched[i]);\n                seed[idx] = !(matches[idx] = matched[i]);\n              }\n            })\n            : function (elem) {\n              return fn(elem, 0, args);\n            };\n        }\n\n        return fn;\n      },\n    },\n\n    pseudos: {\n      // Potentially complex pseudos\n      not: markFunction((selector) => {\n        // Trim the selector passed to compile\n        // to avoid treating leading and trailing\n        // spaces as combinators\n        const input = [];\n        const results = [];\n        const matcher = compile(selector.replace(rtrim, '$1'));\n\n        return matcher[expando]\n          ? markFunction((seed, matches, context, xml) => {\n            let elem;\n            const unmatched = matcher(seed, null, xml, []);\n            let i = seed.length;\n\n            // Match elements unmatched by `matcher`\n            while (i--) {\n              if ((elem = unmatched[i])) {\n                seed[i] = !(matches[i] = elem);\n              }\n            }\n          })\n          : function (elem, context, xml) {\n            input[0] = elem;\n            matcher(input, null, xml, results);\n            // Don't keep the element (issue #299)\n            input[0] = null;\n            return !results.pop();\n          };\n      }),\n\n      has: markFunction((selector) => function (elem) {\n        return Sizzle(selector, elem).length > 0;\n      }),\n\n      contains: markFunction((text) => {\n        text = text.replace(runescape, funescape);\n        return function (elem) {\n          return (elem.textContent || getText(elem)).indexOf(text) > -1;\n        };\n      }),\n\n      // \"Whether an element is represented by a :lang() selector\n      // is based solely on the element's language value\n      // being equal to the identifier C,\n      // or beginning with the identifier C immediately followed by \"-\".\n      // The matching of C against the element's language value is performed case-insensitively.\n      // The identifier C does not have to be a valid language name.\"\n      // http://www.w3.org/TR/selectors/#lang-pseudo\n      lang: markFunction((lang) => {\n        // lang value must be a valid identifier\n        if (!ridentifier.test(lang || '')) {\n          Sizzle.error(`unsupported lang: ${lang}`);\n        }\n        lang = lang.replace(runescape, funescape).toLowerCase();\n        return function (elem) {\n          let elemLang;\n          do {\n            if ((elemLang = documentIsHTML\n              ? elem.lang\n              : elem.getAttribute('xml:lang') || elem.getAttribute('lang'))) {\n              elemLang = elemLang.toLowerCase();\n              return elemLang === lang || elemLang.indexOf(`${lang}-`) === 0;\n            }\n          } while ((elem = elem.parentNode) && elem.nodeType === 1);\n          return false;\n        };\n      }),\n\n      // Miscellaneous\n      target(elem) {\n        const hash = window.location && window.location.hash;\n        return hash && hash.slice(1) === elem.id;\n      },\n\n      root(elem) {\n        return elem === docElem;\n      },\n\n      focus(elem) {\n        return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n      },\n\n      // Boolean properties\n      enabled: createDisabledPseudo(false),\n      disabled: createDisabledPseudo(true),\n\n      checked(elem) {\n        // In CSS3, :checked should return both checked and selected elements\n        // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n        const nodeName = elem.nodeName.toLowerCase();\n        return (nodeName === 'input' && !!elem.checked) || (nodeName === 'option' && !!elem.selected);\n      },\n\n      selected(elem) {\n        // Accessing this property makes selected-by-default\n        // options in Safari work properly\n        if (elem.parentNode) {\n          elem.parentNode.selectedIndex;\n        }\n\n        return elem.selected === true;\n      },\n\n      // Contents\n      empty(elem) {\n        // http://www.w3.org/TR/selectors/#empty-pseudo\n        // :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n        //   but not by others (comment: 8; processing instruction: 7; etc.)\n        // nodeType < 6 works because attributes (2) do not appear as children\n        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n          if (elem.nodeType < 6) {\n            return false;\n          }\n        }\n        return true;\n      },\n\n      parent(elem) {\n        return !Expr.pseudos.empty(elem);\n      },\n\n      // Element/input types\n      header(elem) {\n        return rheader.test(elem.nodeName);\n      },\n\n      input(elem) {\n        return rinputs.test(elem.nodeName);\n      },\n\n      button(elem) {\n        const name = elem.nodeName.toLowerCase();\n        return name === 'input' && elem.type === 'button' || name === 'button';\n      },\n\n      text(elem) {\n        let attr;\n        return elem.nodeName.toLowerCase() === 'input'\n\t\t\t\t&& elem.type === 'text'\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t&& ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n      },\n\n      // Position-in-collection\n      first: createPositionalPseudo(() => [0]),\n\n      last: createPositionalPseudo((matchIndexes, length) => [length - 1]),\n\n      eq: createPositionalPseudo((matchIndexes, length, argument) => [argument < 0 ? argument + length : argument]),\n\n      even: createPositionalPseudo((matchIndexes, length) => {\n        let i = 0;\n        for (; i < length; i += 2) {\n          matchIndexes.push(i);\n        }\n        return matchIndexes;\n      }),\n\n      odd: createPositionalPseudo((matchIndexes, length) => {\n        let i = 1;\n        for (; i < length; i += 2) {\n          matchIndexes.push(i);\n        }\n        return matchIndexes;\n      }),\n\n      lt: createPositionalPseudo((matchIndexes, length, argument) => {\n        let i = argument < 0\n          ? argument + length\n          : argument > length\n            ? length\n            : argument;\n        for (; --i >= 0;) {\n          matchIndexes.push(i);\n        }\n        return matchIndexes;\n      }),\n\n      gt: createPositionalPseudo((matchIndexes, length, argument) => {\n        let i = argument < 0 ? argument + length : argument;\n        for (; ++i < length;) {\n          matchIndexes.push(i);\n        }\n        return matchIndexes;\n      }),\n    },\n  };\n\n  Expr.pseudos.nth = Expr.pseudos.eq;\n\n  // Add button/input type pseudos\n  for (i in {\n    radio: true, checkbox: true, file: true, password: true, image: true,\n  }) {\n    Expr.pseudos[i] = createInputPseudo(i);\n  }\n  for (i in { submit: true, reset: true }) {\n    Expr.pseudos[i] = createButtonPseudo(i);\n  }\n\n  // Easy API for creating new setFilters\n  function setFilters() {}\n  setFilters.prototype = Expr.filters = Expr.pseudos;\n  Expr.setFilters = new setFilters();\n\n  tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n    let matched; let match; let tokens; let type;\n    let soFar; let groups; let preFilters;\n    const cached = tokenCache[`${selector} `];\n\n    if (cached) {\n      return parseOnly ? 0 : cached.slice(0);\n    }\n\n    soFar = selector;\n    groups = [];\n    preFilters = Expr.preFilter;\n\n    while (soFar) {\n      // Comma and first run\n      if (!matched || (match = rcomma.exec(soFar))) {\n        if (match) {\n          // Don't consume trailing commas as valid\n          soFar = soFar.slice(match[0].length) || soFar;\n        }\n        groups.push((tokens = []));\n      }\n\n      matched = false;\n\n      // Combinators\n      if ((match = rcombinators.exec(soFar))) {\n        matched = match.shift();\n        tokens.push({\n          value: matched,\n          // Cast descendant combinators to space\n          type: match[0].replace(rtrim, ' '),\n        });\n        soFar = soFar.slice(matched.length);\n      }\n\n      // Filters\n      for (type in Expr.filter) {\n        if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type]\n\t\t\t\t|| (match = preFilters[type](match)))) {\n          matched = match.shift();\n          tokens.push({\n            value: matched,\n            type,\n            matches: match,\n          });\n          soFar = soFar.slice(matched.length);\n        }\n      }\n\n      if (!matched) {\n        break;\n      }\n    }\n\n    // Return the length of the invalid excess\n    // if we're just parsing\n    // Otherwise, throw an error or return tokens\n    return parseOnly\n      ? soFar.length\n      : soFar\n        ? Sizzle.error(selector)\n      // Cache the tokens\n        : tokenCache(selector, groups).slice(0);\n  };\n\n  function toSelector(tokens) {\n    let i = 0;\n    const len = tokens.length;\n    let selector = '';\n    for (; i < len; i++) {\n      selector += tokens[i].value;\n    }\n    return selector;\n  }\n\n  function addCombinator(matcher, combinator, base) {\n    const { dir } = combinator;\n    const skip = combinator.next;\n    const key = skip || dir;\n    const checkNonElements = base && key === 'parentNode';\n    const doneName = done++;\n\n    return combinator.first\n    // Check against closest ancestor/preceding element\n      ? function (elem, context, xml) {\n        while ((elem = elem[dir])) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            return matcher(elem, context, xml);\n          }\n        }\n        return false;\n      }\n\n    // Check against all ancestor/preceding elements\n      : function (elem, context, xml) {\n        let oldCache; let uniqueCache; let outerCache;\n        const newCache = [dirruns, doneName];\n\n        // We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n        if (xml) {\n          while ((elem = elem[dir])) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              if (matcher(elem, context, xml)) {\n                return true;\n              }\n            }\n          }\n        } else {\n          while ((elem = elem[dir])) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              outerCache = elem[expando] || (elem[expando] = {});\n\n              // Support: IE <9 only\n              // Defend against cloned attroperties (jQuery gh-1709)\n              uniqueCache = outerCache[elem.uniqueID] || (outerCache[elem.uniqueID] = {});\n\n              if (skip && skip === elem.nodeName.toLowerCase()) {\n                elem = elem[dir] || elem;\n              } else if ((oldCache = uniqueCache[key])\n\t\t\t\t\t\t\t&& oldCache[0] === dirruns && oldCache[1] === doneName) {\n                // Assign to newCache so results back-propagate to previous elements\n                return (newCache[2] = oldCache[2]);\n              } else {\n                // Reuse newcache so results back-propagate to previous elements\n                uniqueCache[key] = newCache;\n\n                // A match means we're done; a fail means we have to keep checking\n                if ((newCache[2] = matcher(elem, context, xml))) {\n                  return true;\n                }\n              }\n            }\n          }\n        }\n        return false;\n      };\n  }\n\n  function elementMatcher(matchers) {\n    return matchers.length > 1\n      ? function (elem, context, xml) {\n        let i = matchers.length;\n        while (i--) {\n          if (!matchers[i](elem, context, xml)) {\n            return false;\n          }\n        }\n        return true;\n      }\n      : matchers[0];\n  }\n\n  function multipleContexts(selector, contexts, results) {\n    let i = 0;\n    const len = contexts.length;\n    for (; i < len; i++) {\n      Sizzle(selector, contexts[i], results);\n    }\n    return results;\n  }\n\n  function condense(unmatched, map, filter, context, xml) {\n    let elem;\n    const newUnmatched = [];\n    let i = 0;\n    const len = unmatched.length;\n    const mapped = map != null;\n\n    for (; i < len; i++) {\n      if ((elem = unmatched[i])) {\n        if (!filter || filter(elem, context, xml)) {\n          newUnmatched.push(elem);\n          if (mapped) {\n            map.push(i);\n          }\n        }\n      }\n    }\n\n    return newUnmatched;\n  }\n\n  function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n    if (postFilter && !postFilter[expando]) {\n      postFilter = setMatcher(postFilter);\n    }\n    if (postFinder && !postFinder[expando]) {\n      postFinder = setMatcher(postFinder, postSelector);\n    }\n    return markFunction((seed, results, context, xml) => {\n      let temp; let i; let elem;\n      const preMap = [];\n      const postMap = [];\n      const preexisting = results.length;\n\n      // Get initial elements from seed or context\n      const elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []);\n\n      // Prefilter to get matcher input, preserving a map for seed-results synchronization\n      const matcherIn = preFilter && (seed || !selector)\n        ? condense(elems, preMap, preFilter, context, xml)\n        : elems;\n\n      let matcherOut = matcher\n      // If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n        ? postFinder || (seed ? preFilter : preexisting || postFilter)\n\n        // ...intermediate processing is necessary\n          ? []\n\n        // ...otherwise use results directly\n          : results\n        : matcherIn;\n\n      // Find primary matches\n      if (matcher) {\n        matcher(matcherIn, matcherOut, context, xml);\n      }\n\n      // Apply postFilter\n      if (postFilter) {\n        temp = condense(matcherOut, postMap);\n        postFilter(temp, [], context, xml);\n\n        // Un-match failing elements by moving them back to matcherIn\n        i = temp.length;\n        while (i--) {\n          if ((elem = temp[i])) {\n            matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n          }\n        }\n      }\n\n      if (seed) {\n        if (postFinder || preFilter) {\n          if (postFinder) {\n            // Get the final matcherOut by condensing this intermediate into postFinder contexts\n            temp = [];\n            i = matcherOut.length;\n            while (i--) {\n              if ((elem = matcherOut[i])) {\n                // Restore matcherIn since elem is not yet a final match\n                temp.push((matcherIn[i] = elem));\n              }\n            }\n            postFinder(null, (matcherOut = []), temp, xml);\n          }\n\n          // Move matched elements from seed to results to keep them synchronized\n          i = matcherOut.length;\n          while (i--) {\n            if ((elem = matcherOut[i])\n\t\t\t\t\t\t&& (temp = postFinder ? indexOf(seed, elem) : preMap[i]) > -1) {\n              seed[temp] = !(results[temp] = elem);\n            }\n          }\n        }\n\n        // Add elements to results, through postFinder if defined\n      } else {\n        matcherOut = condense(\n          matcherOut === results\n            ? matcherOut.splice(preexisting, matcherOut.length)\n            : matcherOut,\n        );\n        if (postFinder) {\n          postFinder(null, results, matcherOut, xml);\n        } else {\n          push.apply(results, matcherOut);\n        }\n      }\n    });\n  }\n\n  function matcherFromTokens(tokens) {\n    let checkContext; let matcher; let j;\n    const len = tokens.length;\n    const leadingRelative = Expr.relative[tokens[0].type];\n    const implicitRelative = leadingRelative || Expr.relative[' '];\n    let i = leadingRelative ? 1 : 0;\n\n    // The foundational matcher ensures that elements are reachable from top-level context(s)\n    const matchContext = addCombinator((elem) => elem === checkContext, implicitRelative, true);\n    const matchAnyContext = addCombinator((elem) => indexOf(checkContext, elem) > -1, implicitRelative, true);\n    let matchers = [function (elem, context, xml) {\n      const ret = (!leadingRelative && (xml || context !== outermostContext)) || (\n        (checkContext = context).nodeType\n          ? matchContext(elem, context, xml)\n          : matchAnyContext(elem, context, xml));\n        // Avoid hanging onto element (issue #299)\n      checkContext = null;\n      return ret;\n    }];\n\n    for (; i < len; i++) {\n      if ((matcher = Expr.relative[tokens[i].type])) {\n        matchers = [addCombinator(elementMatcher(matchers), matcher)];\n      } else {\n        matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n\n        // Return special upon seeing a positional matcher\n        if (matcher[expando]) {\n          // Find the next relative operator (if any) for proper handling\n          j = ++i;\n          for (; j < len; j++) {\n            if (Expr.relative[tokens[j].type]) {\n              break;\n            }\n          }\n          return setMatcher(\n            i > 1 && elementMatcher(matchers),\n            i > 1 && toSelector(\n              // If the preceding token was a descendant combinator, insert an implicit any-element `*`\n              tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' }),\n            ).replace(rtrim, '$1'),\n            matcher,\n            i < j && matcherFromTokens(tokens.slice(i, j)),\n            j < len && matcherFromTokens((tokens = tokens.slice(j))),\n            j < len && toSelector(tokens),\n          );\n        }\n        matchers.push(matcher);\n      }\n    }\n\n    return elementMatcher(matchers);\n  }\n\n  function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n    const bySet = setMatchers.length > 0;\n    const byElement = elementMatchers.length > 0;\n    const superMatcher = function (seed, context, xml, results, outermost) {\n      let elem; let j; let matcher;\n      let matchedCount = 0;\n      let i = '0';\n      const unmatched = seed && [];\n      let setMatched = [];\n      const contextBackup = outermostContext;\n      // We must always have either seed elements or outermost context\n      const elems = seed || byElement && Expr.find.TAG('*', outermost);\n      // Use integer dirruns iff this is the outermost matcher\n      const dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1);\n      const len = elems.length;\n\n      if (outermost) {\n        outermostContext = context === document || context || outermost;\n      }\n\n      // Add elements passing elementMatchers directly to results\n      // Support: IE<9, Safari\n      // Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n      for (; i !== len && (elem = elems[i]) != null; i++) {\n        if (byElement && elem) {\n          j = 0;\n          if (!context && elem.ownerDocument !== document) {\n            setDocument(elem);\n            xml = !documentIsHTML;\n          }\n          while ((matcher = elementMatchers[j++])) {\n            if (matcher(elem, context || document, xml)) {\n              results.push(elem);\n              break;\n            }\n          }\n          if (outermost) {\n            dirruns = dirrunsUnique;\n          }\n        }\n\n        // Track unmatched elements for set filters\n        if (bySet) {\n          // They will have gone through all possible matchers\n          if ((elem = !matcher && elem)) {\n            matchedCount--;\n          }\n\n          // Lengthen the array for every element, matched or not\n          if (seed) {\n            unmatched.push(elem);\n          }\n        }\n      }\n\n      // `i` is now the count of elements visited above, and adding it to `matchedCount`\n      // makes the latter nonnegative.\n      matchedCount += i;\n\n      // Apply set filters to unmatched elements\n      // NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n      // equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n      // no element matchers and no seed.\n      // Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n      // case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n      // numerically zero.\n      if (bySet && i !== matchedCount) {\n        j = 0;\n        while ((matcher = setMatchers[j++])) {\n          matcher(unmatched, setMatched, context, xml);\n        }\n\n        if (seed) {\n          // Reintegrate element matches to eliminate the need for sorting\n          if (matchedCount > 0) {\n            while (i--) {\n              if (!(unmatched[i] || setMatched[i])) {\n                setMatched[i] = pop.call(results);\n              }\n            }\n          }\n\n          // Discard index placeholder values to get only actual matches\n          setMatched = condense(setMatched);\n        }\n\n        // Add matches to results\n        push.apply(results, setMatched);\n\n        // Seedless set matches succeeding multiple successful matchers stipulate sorting\n        if (outermost && !seed && setMatched.length > 0\n\t\t\t\t\t&& (matchedCount + setMatchers.length) > 1) {\n          Sizzle.uniqueSort(results);\n        }\n      }\n\n      // Override manipulation of globals by nested matchers\n      if (outermost) {\n        dirruns = dirrunsUnique;\n        outermostContext = contextBackup;\n      }\n\n      return unmatched;\n    };\n\n    return bySet\n      ? markFunction(superMatcher)\n      : superMatcher;\n  }\n\n  compile = Sizzle.compile = function (selector, match /* Internal Use Only */) {\n    let i;\n    const setMatchers = [];\n    const elementMatchers = [];\n    let cached = compilerCache[`${selector} `];\n\n    if (!cached) {\n      // Generate a function of recursive functions that can be used to check each element\n      if (!match) {\n        match = tokenize(selector);\n      }\n      i = match.length;\n      while (i--) {\n        cached = matcherFromTokens(match[i]);\n        if (cached[expando]) {\n          setMatchers.push(cached);\n        } else {\n          elementMatchers.push(cached);\n        }\n      }\n\n      // Cache the compiled function\n      cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n\n      // Save selector and tokenization\n      cached.selector = selector;\n    }\n    return cached;\n  };\n\n  /**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\n  select = Sizzle.select = function (selector, context, results, seed) {\n    let i; let tokens; let token; let type; let find;\n    const compiled = typeof selector === 'function' && selector;\n    const match = !seed && tokenize((selector = compiled.selector || selector));\n\n    results = results || [];\n\n    // Try to minimize operations if there is only one selector in the list and no seed\n    // (the latter of which guarantees us context)\n    if (match.length === 1) {\n      // Reduce context if the leading compound selector is an ID\n      tokens = match[0] = match[0].slice(0);\n      if (tokens.length > 2 && (token = tokens[0]).type === 'ID'\n\t\t\t\t&& context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n        context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\n        if (!context) {\n          return results;\n\n          // Precompiled matchers will still verify ancestry, so step up a level\n        } if (compiled) {\n          context = context.parentNode;\n        }\n\n        selector = selector.slice(tokens.shift().value.length);\n      }\n\n      // Fetch a seed set for right-to-left matching\n      i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\n      while (i--) {\n        token = tokens[i];\n\n        // Abort if we hit a combinator\n        if (Expr.relative[(type = token.type)]) {\n          break;\n        }\n        if ((find = Expr.find[type])) {\n          // Search, expanding context for leading sibling combinators\n          if ((seed = find(\n            token.matches[0].replace(runescape, funescape),\n            rsibling.test(tokens[0].type) && testContext(context.parentNode) || context,\n          ))) {\n            // If seed is empty or no tokens remain, we can return early\n            tokens.splice(i, 1);\n            selector = seed.length && toSelector(tokens);\n            if (!selector) {\n              push.apply(results, seed);\n              return results;\n            }\n\n            break;\n          }\n        }\n      }\n    }\n\n    // Compile and execute a filtering function if one is not provided\n    // Provide `match` to avoid retokenization if we modified the selector above\n    (compiled || compile(selector, match))(\n      seed,\n      context,\n      !documentIsHTML,\n      results,\n      !context || rsibling.test(selector) && testContext(context.parentNode) || context,\n    );\n    return results;\n  };\n\n  // One-time assignments\n\n  // Sort stability\n  support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n\n  // Support: Chrome 14-35+\n  // Always assume duplicates if they aren't passed to the comparison function\n  support.detectDuplicates = !!hasDuplicate;\n\n  // Initialize against the default document\n  setDocument();\n\n  // Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n  // Detached nodes confoundingly follow *each other*\n  support.sortDetached = assert((el) =>\n  // Should return 1, but returns 4 (following)\n\t el.compareDocumentPosition(document.createElement('fieldset')) & 1);\n\n  // Support: IE<8\n  // Prevent attribute/property \"interpolation\"\n  // https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\n  if (!assert((el) => {\n    el.innerHTML = \"<a href='#'></a>\";\n    return el.firstChild.getAttribute('href') === '#';\n  })) {\n    addHandle('type|href|height|width', (elem, name, isXML) => {\n      if (!isXML) {\n        return elem.getAttribute(name, name.toLowerCase() === 'type' ? 1 : 2);\n      }\n    });\n  }\n\n  // Support: IE<9\n  // Use defaultValue in place of getAttribute(\"value\")\n  if (!support.attributes || !assert((el) => {\n    el.innerHTML = '<input/>';\n    el.firstChild.setAttribute('value', '');\n    return el.firstChild.getAttribute('value') === '';\n  })) {\n    addHandle('value', (elem, name, isXML) => {\n      if (!isXML && elem.nodeName.toLowerCase() === 'input') {\n        return elem.defaultValue;\n      }\n    });\n  }\n\n  // Support: IE<9\n  // Use getAttributeNode to fetch booleans when getAttribute lies\n  if (!assert((el) => el.getAttribute('disabled') == null)) {\n    addHandle(booleans, (elem, name, isXML) => {\n      let val;\n      if (!isXML) {\n        return elem[name] === true ? name.toLowerCase()\n          : (val = elem.getAttributeNode(name)) && val.specified\n            ? val.value\n            : null;\n      }\n    });\n  }\n\n  return Sizzle;\n}(window));\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[':'] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\nconst dir = function (elem, dir, until) {\n  const matched = [];\n  const truncate = until !== undefined;\n\n  while ((elem = elem[dir]) && elem.nodeType !== 9) {\n    if (elem.nodeType === 1) {\n      if (truncate && jQuery(elem).is(until)) {\n        break;\n      }\n      matched.push(elem);\n    }\n  }\n  return matched;\n};\n\n\nconst siblings = function (n, elem) {\n  const matched = [];\n\n  for (; n; n = n.nextSibling) {\n    if (n.nodeType === 1 && n !== elem) {\n      matched.push(n);\n    }\n  }\n\n  return matched;\n};\n\n\nconst rneedsContext = jQuery.expr.match.needsContext;\n\n\nfunction nodeName(elem, name) {\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n}\nconst rsingleTag = (/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i);\n\n\n// Implement the identical functionality for filter and not\nfunction winnow(elements, qualifier, not) {\n  if (isFunction(qualifier)) {\n    return jQuery.grep(elements, (elem, i) => !!qualifier.call(elem, i, elem) !== not);\n  }\n\n  // Single element\n  if (qualifier.nodeType) {\n    return jQuery.grep(elements, (elem) => (elem === qualifier) !== not);\n  }\n\n  // Arraylike of elements (jQuery, arguments, Array)\n  if (typeof qualifier !== 'string') {\n    return jQuery.grep(elements, (elem) => (indexOf.call(qualifier, elem) > -1) !== not);\n  }\n\n  // Filtered directly for both simple and complex selectors\n  return jQuery.filter(qualifier, elements, not);\n}\n\njQuery.filter = function (expr, elems, not) {\n  const elem = elems[0];\n\n  if (not) {\n    expr = `:not(${expr})`;\n  }\n\n  if (elems.length === 1 && elem.nodeType === 1) {\n    return jQuery.find.matchesSelector(elem, expr) ? [elem] : [];\n  }\n\n  return jQuery.find.matches(expr, jQuery.grep(elems, (elem) => elem.nodeType === 1));\n};\n\njQuery.fn.extend({\n  find(selector) {\n    let i; let ret;\n    const len = this.length;\n    const self = this;\n\n    if (typeof selector !== 'string') {\n      return this.pushStack(jQuery(selector).filter(function () {\n        for (i = 0; i < len; i++) {\n          if (jQuery.contains(self[i], this)) {\n            return true;\n          }\n        }\n      }));\n    }\n\n    ret = this.pushStack([]);\n\n    for (i = 0; i < len; i++) {\n      jQuery.find(selector, self[i], ret);\n    }\n\n    return len > 1 ? jQuery.uniqueSort(ret) : ret;\n  },\n  filter(selector) {\n    return this.pushStack(winnow(this, selector || [], false));\n  },\n  not(selector) {\n    return this.pushStack(winnow(this, selector || [], true));\n  },\n  is(selector) {\n    return !!winnow(\n      this,\n\n      // If this is a positional/relative selector, check membership in the returned set\n      // so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n      typeof selector === 'string' && rneedsContext.test(selector)\n        ? jQuery(selector)\n        : selector || [],\n      false,\n    ).length;\n  },\n});\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nlet rootjQuery;\n\n// A simple way to check for HTML strings\n// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n// Strict HTML recognition (#11290: must start with <)\n// Shortcut simple #id case for speed\nconst rquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;\n\nconst init = jQuery.fn.init = function (selector, context, root) {\n  let match; let\n    elem;\n\n  // HANDLE: $(\"\"), $(null), $(undefined), $(false)\n  if (!selector) {\n    return this;\n  }\n\n  // Method init() accepts an alternate rootjQuery\n  // so migrate can support jQuery.sub (gh-2101)\n  root = root || rootjQuery;\n\n  // Handle HTML strings\n  if (typeof selector === 'string') {\n    if (selector[0] === '<'\n\t\t\t\t&& selector[selector.length - 1] === '>'\n\t\t\t\t&& selector.length >= 3) {\n      // Assume that strings that start and end with <> are HTML and skip the regex check\n      match = [null, selector, null];\n    } else {\n      match = rquickExpr.exec(selector);\n    }\n\n    // Match html or make sure no context is specified for #id\n    if (match && (match[1] || !context)) {\n      // HANDLE: $(html) -> $(array)\n      if (match[1]) {\n        context = context instanceof jQuery ? context[0] : context;\n\n        // Option to run scripts is true for back-compat\n        // Intentionally let the error be thrown if parseHTML is not present\n        jQuery.merge(this, jQuery.parseHTML(\n          match[1],\n          context && context.nodeType ? context.ownerDocument || context : document,\n          true,\n        ));\n\n        // HANDLE: $(html, props)\n        if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {\n          for (match in context) {\n            // Properties of context are called as methods if possible\n            if (isFunction(this[match])) {\n              this[match](context[match]);\n\n              // ...and otherwise set as attributes\n            } else {\n              this.attr(match, context[match]);\n            }\n          }\n        }\n\n        return this;\n\n        // HANDLE: $(#id)\n      }\n      elem = document.getElementById(match[2]);\n\n      if (elem) {\n        // Inject the element directly into the jQuery object\n        this[0] = elem;\n        this.length = 1;\n      }\n      return this;\n\n\n      // HANDLE: $(expr, $(...))\n    } if (!context || context.jquery) {\n      return (context || root).find(selector);\n\n      // HANDLE: $(expr, context)\n      // (which is just equivalent to: $(context).find(expr)\n    }\n    return this.constructor(context).find(selector);\n\n\n    // HANDLE: $(DOMElement)\n  } if (selector.nodeType) {\n    this[0] = selector;\n    this.length = 1;\n    return this;\n\n    // HANDLE: $(function)\n    // Shortcut for document ready\n  } if (isFunction(selector)) {\n    return root.ready !== undefined\n      ? root.ready(selector)\n\n    // Execute immediately if ready is not present\n      : selector(jQuery);\n  }\n\n  return jQuery.makeArray(selector, this);\n};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery(document);\n\n\nconst rparentsprev = /^(?:parents|prev(?:Until|All))/;\n\n// Methods guaranteed to produce a unique set when starting from a unique set\nconst guaranteedUnique = {\n  children: true,\n  contents: true,\n  next: true,\n  prev: true,\n};\n\njQuery.fn.extend({\n  has(target) {\n    const targets = jQuery(target, this);\n    const l = targets.length;\n\n    return this.filter(function () {\n      let i = 0;\n      for (; i < l; i++) {\n        if (jQuery.contains(this, targets[i])) {\n          return true;\n        }\n      }\n    });\n  },\n\n  closest(selectors, context) {\n    let cur;\n    let i = 0;\n    const l = this.length;\n    const matched = [];\n    const targets = typeof selectors !== 'string' && jQuery(selectors);\n\n    // Positional selectors never match, since there's no _selection_ context\n    if (!rneedsContext.test(selectors)) {\n      for (; i < l; i++) {\n        for (cur = this[i]; cur && cur !== context; cur = cur.parentNode) {\n          // Always skip document fragments\n          if (cur.nodeType < 11 && (targets\n            ? targets.index(cur) > -1\n\n          // Don't pass non-elements to Sizzle\n            : cur.nodeType === 1\n\t\t\t\t\t\t\t&& jQuery.find.matchesSelector(cur, selectors))) {\n            matched.push(cur);\n            break;\n          }\n        }\n      }\n    }\n\n    return this.pushStack(matched.length > 1 ? jQuery.uniqueSort(matched) : matched);\n  },\n\n  // Determine the position of an element within the set\n  index(elem) {\n    // No argument, return index in parent\n    if (!elem) {\n      return (this[0] && this[0].parentNode) ? this.first().prevAll().length : -1;\n    }\n\n    // Index in selector\n    if (typeof elem === 'string') {\n      return indexOf.call(jQuery(elem), this[0]);\n    }\n\n    // Locate the position of the desired element\n    return indexOf.call(this,\n\n      // If it receives a jQuery object, the first element is used\n      elem.jquery ? elem[0] : elem);\n  },\n\n  add(selector, context) {\n    return this.pushStack(\n      jQuery.uniqueSort(\n        jQuery.merge(this.get(), jQuery(selector, context)),\n      ),\n    );\n  },\n\n  addBack(selector) {\n    return this.add(selector == null\n      ? this.prevObject : this.prevObject.filter(selector));\n  },\n});\n\nfunction sibling(cur, dir) {\n  while ((cur = cur[dir]) && cur.nodeType !== 1) {}\n  return cur;\n}\n\njQuery.each({\n  parent(elem) {\n    const parent = elem.parentNode;\n    return parent && parent.nodeType !== 11 ? parent : null;\n  },\n  parents(elem) {\n    return dir(elem, 'parentNode');\n  },\n  parentsUntil(elem, i, until) {\n    return dir(elem, 'parentNode', until);\n  },\n  next(elem) {\n    return sibling(elem, 'nextSibling');\n  },\n  prev(elem) {\n    return sibling(elem, 'previousSibling');\n  },\n  nextAll(elem) {\n    return dir(elem, 'nextSibling');\n  },\n  prevAll(elem) {\n    return dir(elem, 'previousSibling');\n  },\n  nextUntil(elem, i, until) {\n    return dir(elem, 'nextSibling', until);\n  },\n  prevUntil(elem, i, until) {\n    return dir(elem, 'previousSibling', until);\n  },\n  siblings(elem) {\n    return siblings((elem.parentNode || {}).firstChild, elem);\n  },\n  children(elem) {\n    return siblings(elem.firstChild);\n  },\n  contents(elem) {\n    if (typeof elem.contentDocument !== 'undefined') {\n      return elem.contentDocument;\n    }\n\n    // Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n    // Treat the template element as a regular one in browsers that\n    // don't support it.\n    if (nodeName(elem, 'template')) {\n      elem = elem.content || elem;\n    }\n\n    return jQuery.merge([], elem.childNodes);\n  },\n}, (name, fn) => {\n  jQuery.fn[name] = function (until, selector) {\n    let matched = jQuery.map(this, fn, until);\n\n    if (name.slice(-5) !== 'Until') {\n      selector = until;\n    }\n\n    if (selector && typeof selector === 'string') {\n      matched = jQuery.filter(selector, matched);\n    }\n\n    if (this.length > 1) {\n      // Remove duplicates\n      if (!guaranteedUnique[name]) {\n        jQuery.uniqueSort(matched);\n      }\n\n      // Reverse order for parents* and prev-derivatives\n      if (rparentsprev.test(name)) {\n        matched.reverse();\n      }\n    }\n\n    return this.pushStack(matched);\n  };\n});\nconst rnothtmlwhite = (/[^\\x20\\t\\r\\n\\f]+/g);\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions(options) {\n  const object = {};\n  jQuery.each(options.match(rnothtmlwhite) || [], (_, flag) => {\n    object[flag] = true;\n  });\n  return object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function (options) {\n  // Convert options from String-formatted to Object-formatted if needed\n  // (we check in cache first)\n  options = typeof options === 'string'\n    ? createOptions(options)\n    : jQuery.extend({}, options);\n\n  let // Flag to know if list is currently firing\n    firing;\n\n  // Last fire value for non-forgettable lists\n  let memory;\n\n  // Flag to know if list was already fired\n  let fired;\n\n  // Flag to prevent firing\n  let locked;\n\n  // Actual callback list\n  let list = [];\n\n  // Queue of execution data for repeatable lists\n  let queue = [];\n\n  // Index of currently firing callback (modified by add/remove as needed)\n  let firingIndex = -1;\n\n  // Fire callbacks\n  const fire = function () {\n    // Enforce single-firing\n    locked = locked || options.once;\n\n    // Execute callbacks for all pending executions,\n    // respecting firingIndex overrides and runtime changes\n    fired = firing = true;\n    for (; queue.length; firingIndex = -1) {\n      memory = queue.shift();\n      while (++firingIndex < list.length) {\n        // Run callback and check for early termination\n        if (list[firingIndex].apply(memory[0], memory[1]) === false\n\t\t\t\t\t\t&& options.stopOnFalse) {\n          // Jump to end and forget the data so .add doesn't re-fire\n          firingIndex = list.length;\n          memory = false;\n        }\n      }\n    }\n\n    // Forget the data if we're done with it\n    if (!options.memory) {\n      memory = false;\n    }\n\n    firing = false;\n\n    // Clean up if we're done firing for good\n    if (locked) {\n      // Keep an empty list if we have data for future add calls\n      if (memory) {\n        list = [];\n\n        // Otherwise, this object is spent\n      } else {\n        list = '';\n      }\n    }\n  };\n\n  // Actual Callbacks object\n  var self = {\n\n    // Add a callback or a collection of callbacks to the list\n    add() {\n      if (list) {\n        // If we have memory from a past run, we should fire after adding\n        if (memory && !firing) {\n          firingIndex = list.length - 1;\n          queue.push(memory);\n        }\n\n        (function add(args) {\n          jQuery.each(args, (_, arg) => {\n            if (isFunction(arg)) {\n              if (!options.unique || !self.has(arg)) {\n                list.push(arg);\n              }\n            } else if (arg && arg.length && toType(arg) !== 'string') {\n              // Inspect recursively\n              add(arg);\n            }\n          });\n        }(arguments));\n\n        if (memory && !firing) {\n          fire();\n        }\n      }\n      return this;\n    },\n\n    // Remove a callback from the list\n    remove() {\n      jQuery.each(arguments, (_, arg) => {\n        let index;\n        while ((index = jQuery.inArray(arg, list, index)) > -1) {\n          list.splice(index, 1);\n\n          // Handle firing indexes\n          if (index <= firingIndex) {\n            firingIndex--;\n          }\n        }\n      });\n      return this;\n    },\n\n    // Check if a given callback is in the list.\n    // If no argument is given, return whether or not list has callbacks attached.\n    has(fn) {\n      return fn\n        ? jQuery.inArray(fn, list) > -1\n        : list.length > 0;\n    },\n\n    // Remove all callbacks from the list\n    empty() {\n      if (list) {\n        list = [];\n      }\n      return this;\n    },\n\n    // Disable .fire and .add\n    // Abort any current/pending executions\n    // Clear all callbacks and values\n    disable() {\n      locked = queue = [];\n      list = memory = '';\n      return this;\n    },\n    disabled() {\n      return !list;\n    },\n\n    // Disable .fire\n    // Also disable .add unless we have memory (since it would have no effect)\n    // Abort any pending executions\n    lock() {\n      locked = queue = [];\n      if (!memory && !firing) {\n        list = memory = '';\n      }\n      return this;\n    },\n    locked() {\n      return !!locked;\n    },\n\n    // Call all callbacks with the given context and arguments\n    fireWith(context, args) {\n      if (!locked) {\n        args = args || [];\n        args = [context, args.slice ? args.slice() : args];\n        queue.push(args);\n        if (!firing) {\n          fire();\n        }\n      }\n      return this;\n    },\n\n    // Call all the callbacks with the given arguments\n    fire() {\n      self.fireWith(this, arguments);\n      return this;\n    },\n\n    // To know if the callbacks have already been called at least once\n    fired() {\n      return !!fired;\n    },\n  };\n\n  return self;\n};\n\n\nfunction Identity(v) {\n  return v;\n}\nfunction Thrower(ex) {\n  throw ex;\n}\n\nfunction adoptValue(value, resolve, reject, noValue) {\n  let method;\n\n  try {\n    // Check for promise aspect first to privilege synchronous behavior\n    if (value && isFunction((method = value.promise))) {\n      method.call(value).done(resolve).fail(reject);\n\n      // Other thenables\n    } else if (value && isFunction((method = value.then))) {\n      method.call(value, resolve, reject);\n\n      // Other non-thenables\n    } else {\n      // Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n      // * false: [ value ].slice( 0 ) => resolve( value )\n      // * true: [ value ].slice( 1 ) => resolve()\n      resolve.apply(undefined, [value].slice(noValue));\n    }\n\n    // For Promises/A+, convert exceptions into rejections\n    // Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n    // Deferred#then to conditionally suppress rejection.\n  } catch (value) {\n    // Support: Android 4.0 only\n    // Strict mode functions invoked without .call/.apply get global-object context\n    reject.apply(undefined, [value]);\n  }\n}\n\njQuery.extend({\n\n  Deferred(func) {\n    const tuples = [\n\n      // action, add listener, callbacks,\n      // ... .then handlers, argument index, [final state]\n      ['notify', 'progress', jQuery.Callbacks('memory'),\n        jQuery.Callbacks('memory'), 2],\n      ['resolve', 'done', jQuery.Callbacks('once memory'),\n        jQuery.Callbacks('once memory'), 0, 'resolved'],\n      ['reject', 'fail', jQuery.Callbacks('once memory'),\n        jQuery.Callbacks('once memory'), 1, 'rejected'],\n    ];\n    let state = 'pending';\n    var promise = {\n      state() {\n        return state;\n      },\n      always() {\n        deferred.done(arguments).fail(arguments);\n        return this;\n      },\n      catch(fn) {\n        return promise.then(null, fn);\n      },\n\n      // Keep pipe for back-compat\n      pipe(/* fnDone, fnFail, fnProgress */) {\n        let fns = arguments;\n\n        return jQuery.Deferred((newDefer) => {\n          jQuery.each(tuples, (i, tuple) => {\n            // Map tuples (progress, done, fail) to arguments (done, fail, progress)\n            const fn = isFunction(fns[tuple[4]]) && fns[tuple[4]];\n\n            // deferred.progress(function() { bind to newDefer or newDefer.notify })\n            // deferred.done(function() { bind to newDefer or newDefer.resolve })\n            // deferred.fail(function() { bind to newDefer or newDefer.reject })\n            deferred[tuple[1]](function () {\n              const returned = fn && fn.apply(this, arguments);\n              if (returned && isFunction(returned.promise)) {\n                returned.promise()\n                  .progress(newDefer.notify)\n                  .done(newDefer.resolve)\n                  .fail(newDefer.reject);\n              } else {\n                newDefer[`${tuple[0]}With`](\n                  this,\n                  fn ? [returned] : arguments,\n                );\n              }\n            });\n          });\n          fns = null;\n        }).promise();\n      },\n      then(onFulfilled, onRejected, onProgress) {\n        let maxDepth = 0;\n        function resolve(depth, deferred, handler, special) {\n          return function () {\n            let that = this;\n            let args = arguments;\n            const mightThrow = function () {\n              let returned; let\n                then;\n\n              // Support: Promises/A+ section 2.3.3.3.3\n              // https://promisesaplus.com/#point-59\n              // Ignore double-resolution attempts\n              if (depth < maxDepth) {\n                return;\n              }\n\n              returned = handler.apply(that, args);\n\n              // Support: Promises/A+ section 2.3.1\n              // https://promisesaplus.com/#point-48\n              if (returned === deferred.promise()) {\n                throw new TypeError('Thenable self-resolution');\n              }\n\n              // Support: Promises/A+ sections 2.3.3.1, 3.5\n              // https://promisesaplus.com/#point-54\n              // https://promisesaplus.com/#point-75\n              // Retrieve `then` only once\n              then = returned\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t&& (typeof returned === 'object'\n\t\t\t\t\t\t\t\t\t\t\t|| typeof returned === 'function')\n\t\t\t\t\t\t\t\t\t\t&& returned.then;\n\n              // Handle a returned thenable\n              if (isFunction(then)) {\n                // Special processors (notify) just wait for resolution\n                if (special) {\n                  then.call(\n                    returned,\n                    resolve(maxDepth, deferred, Identity, special),\n                    resolve(maxDepth, deferred, Thrower, special),\n                  );\n\n                  // Normal processors (resolve) also hook into progress\n                } else {\n                  // ...and disregard older resolution values\n                  maxDepth++;\n\n                  then.call(\n                    returned,\n                    resolve(maxDepth, deferred, Identity, special),\n                    resolve(maxDepth, deferred, Thrower, special),\n                    resolve(maxDepth, deferred, Identity,\n                      deferred.notifyWith),\n                  );\n                }\n\n                // Handle all other returned values\n              } else {\n                // Only substitute handlers pass on context\n                // and multiple values (non-spec behavior)\n                if (handler !== Identity) {\n                  that = undefined;\n                  args = [returned];\n                }\n\n                // Process the value(s)\n                // Default process is resolve\n                (special || deferred.resolveWith)(that, args);\n              }\n            };\n\n            // Only normal processors (resolve) catch and reject exceptions\n            var process = special\n              ? mightThrow\n              : function () {\n                try {\n                  mightThrow();\n                } catch (e) {\n                  if (jQuery.Deferred.exceptionHook) {\n                    jQuery.Deferred.exceptionHook(e,\n                      process.stackTrace);\n                  }\n\n                  // Support: Promises/A+ section 2.3.3.3.4.1\n                  // https://promisesaplus.com/#point-61\n                  // Ignore post-resolution exceptions\n                  if (depth + 1 >= maxDepth) {\n                    // Only substitute handlers pass on context\n                    // and multiple values (non-spec behavior)\n                    if (handler !== Thrower) {\n                      that = undefined;\n                      args = [e];\n                    }\n\n                    deferred.rejectWith(that, args);\n                  }\n                }\n              };\n\n            // Support: Promises/A+ section 2.3.3.3.1\n            // https://promisesaplus.com/#point-57\n            // Re-resolve promises immediately to dodge false rejection from\n            // subsequent errors\n            if (depth) {\n              process();\n            } else {\n              // Call an optional hook to record the stack, in case of exception\n              // since it's otherwise lost when execution goes async\n              if (jQuery.Deferred.getStackHook) {\n                process.stackTrace = jQuery.Deferred.getStackHook();\n              }\n              window.setTimeout(process);\n            }\n          };\n        }\n\n        return jQuery.Deferred((newDefer) => {\n          // progress_handlers.add( ... )\n          tuples[0][3].add(\n            resolve(\n              0,\n              newDefer,\n              isFunction(onProgress)\n                ? onProgress\n                : Identity,\n              newDefer.notifyWith,\n            ),\n          );\n\n          // fulfilled_handlers.add( ... )\n          tuples[1][3].add(\n            resolve(\n              0,\n              newDefer,\n              isFunction(onFulfilled)\n                ? onFulfilled\n                : Identity,\n            ),\n          );\n\n          // rejected_handlers.add( ... )\n          tuples[2][3].add(\n            resolve(\n              0,\n              newDefer,\n              isFunction(onRejected)\n                ? onRejected\n                : Thrower,\n            ),\n          );\n        }).promise();\n      },\n\n      // Get a promise for this deferred\n      // If obj is provided, the promise aspect is added to the object\n      promise(obj) {\n        return obj != null ? jQuery.extend(obj, promise) : promise;\n      },\n    };\n    var deferred = {};\n\n    // Add list-specific methods\n    jQuery.each(tuples, (i, tuple) => {\n      const list = tuple[2];\n      const stateString = tuple[5];\n\n      // promise.progress = list.add\n      // promise.done = list.add\n      // promise.fail = list.add\n      promise[tuple[1]] = list.add;\n\n      // Handle state\n      if (stateString) {\n        list.add(\n          () => {\n            // state = \"resolved\" (i.e., fulfilled)\n            // state = \"rejected\"\n            state = stateString;\n          },\n\n          // rejected_callbacks.disable\n          // fulfilled_callbacks.disable\n          tuples[3 - i][2].disable,\n\n          // rejected_handlers.disable\n          // fulfilled_handlers.disable\n          tuples[3 - i][3].disable,\n\n          // progress_callbacks.lock\n          tuples[0][2].lock,\n\n          // progress_handlers.lock\n          tuples[0][3].lock,\n        );\n      }\n\n      // progress_handlers.fire\n      // fulfilled_handlers.fire\n      // rejected_handlers.fire\n      list.add(tuple[3].fire);\n\n      // deferred.notify = function() { deferred.notifyWith(...) }\n      // deferred.resolve = function() { deferred.resolveWith(...) }\n      // deferred.reject = function() { deferred.rejectWith(...) }\n      deferred[tuple[0]] = function () {\n        deferred[`${tuple[0]}With`](this === deferred ? undefined : this, arguments);\n        return this;\n      };\n\n      // deferred.notifyWith = list.fireWith\n      // deferred.resolveWith = list.fireWith\n      // deferred.rejectWith = list.fireWith\n      deferred[`${tuple[0]}With`] = list.fireWith;\n    });\n\n    // Make the deferred a promise\n    promise.promise(deferred);\n\n    // Call given func if any\n    if (func) {\n      func.call(deferred, deferred);\n    }\n\n    // All done!\n    return deferred;\n  },\n\n  // Deferred helper\n  when(singleValue) {\n    let\n\n      // count of uncompleted subordinates\n      remaining = arguments.length;\n\n    // count of unprocessed arguments\n    let i = remaining;\n\n    // subordinate fulfillment data\n    const resolveContexts = Array(i);\n    const resolveValues = slice.call(arguments);\n\n    // the master Deferred\n    const master = jQuery.Deferred();\n\n    // subordinate callback factory\n    const updateFunc = function (i) {\n      return function (value) {\n        resolveContexts[i] = this;\n        resolveValues[i] = arguments.length > 1 ? slice.call(arguments) : value;\n        if (!(--remaining)) {\n          master.resolveWith(resolveContexts, resolveValues);\n        }\n      };\n    };\n\n    // Single- and empty arguments are adopted like Promise.resolve\n    if (remaining <= 1) {\n      adoptValue(singleValue, master.done(updateFunc(i)).resolve, master.reject,\n        !remaining);\n\n      // Use .then() to unwrap secondary thenables (cf. gh-3000)\n      if (master.state() === 'pending'\n\t\t\t\t|| isFunction(resolveValues[i] && resolveValues[i].then)) {\n        return master.then();\n      }\n    }\n\n    // Multiple arguments are aggregated like Promise.all array elements\n    while (i--) {\n      adoptValue(resolveValues[i], updateFunc(i), master.reject);\n    }\n\n    return master.promise();\n  },\n});\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nconst rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function (error, stack) {\n  // Support: IE 8 - 9 only\n  // Console exists when dev tools are open, which can happen at any time\n  if (window.console && window.console.warn && error && rerrorNames.test(error.name)) {\n    window.console.warn(`jQuery.Deferred exception: ${error.message}`, error.stack, stack);\n  }\n};\n\n\njQuery.readyException = function (error) {\n  window.setTimeout(() => {\n    throw error;\n  });\n};\n\n\n// The deferred used on DOM ready\nconst readyList = jQuery.Deferred();\n\njQuery.fn.ready = function (fn) {\n  readyList\n    .then(fn)\n\n  // Wrap jQuery.readyException in a function so that the lookup\n  // happens at the time of error handling instead of callback\n  // registration.\n    .catch((error) => {\n      jQuery.readyException(error);\n    });\n\n  return this;\n};\n\njQuery.extend({\n\n  // Is the DOM ready to be used? Set to true once it occurs.\n  isReady: false,\n\n  // A counter to track how many items to wait for before\n  // the ready event fires. See #6781\n  readyWait: 1,\n\n  // Handle when the DOM is ready\n  ready(wait) {\n    // Abort if there are pending holds or we're already ready\n    if (wait === true ? --jQuery.readyWait : jQuery.isReady) {\n      return;\n    }\n\n    // Remember that the DOM is ready\n    jQuery.isReady = true;\n\n    // If a normal DOM Ready event fired, decrement, and wait if need be\n    if (wait !== true && --jQuery.readyWait > 0) {\n      return;\n    }\n\n    // If there are functions bound, to execute\n    readyList.resolveWith(document, [jQuery]);\n  },\n});\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n  document.removeEventListener('DOMContentLoaded', completed);\n  window.removeEventListener('load', completed);\n  jQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif (document.readyState === 'complete'\n\t|| (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n  // Handle it asynchronously to allow scripts the opportunity to delay ready\n  window.setTimeout(jQuery.ready);\n} else {\n  // Use the handy event callback\n  document.addEventListener('DOMContentLoaded', completed);\n\n  // A fallback to window.onload, that will always work\n  window.addEventListener('load', completed);\n}\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function (elems, fn, key, value, chainable, emptyGet, raw) {\n  let i = 0;\n  const len = elems.length;\n  let bulk = key == null;\n\n  // Sets many values\n  if (toType(key) === 'object') {\n    chainable = true;\n    for (i in key) {\n      access(elems, fn, i, key[i], true, emptyGet, raw);\n    }\n\n    // Sets one value\n  } else if (value !== undefined) {\n    chainable = true;\n\n    if (!isFunction(value)) {\n      raw = true;\n    }\n\n    if (bulk) {\n      // Bulk operations run against the entire set\n      if (raw) {\n        fn.call(elems, value);\n        fn = null;\n\n        // ...except when executing function values\n      } else {\n        bulk = fn;\n        fn = function (elem, key, value) {\n          return bulk.call(jQuery(elem), value);\n        };\n      }\n    }\n\n    if (fn) {\n      for (; i < len; i++) {\n        fn(\n          elems[i], key, raw\n            ? value\n            : value.call(elems[i], i, fn(elems[i], key)),\n        );\n      }\n    }\n  }\n\n  if (chainable) {\n    return elems;\n  }\n\n  // Gets\n  if (bulk) {\n    return fn.call(elems);\n  }\n\n  return len ? fn(elems[0], key) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nconst rmsPrefix = /^-ms-/;\nconst rdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase(all, letter) {\n  return letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase(string) {\n  return string.replace(rmsPrefix, 'ms-').replace(rdashAlpha, fcamelCase);\n}\nconst acceptData = function (owner) {\n  // Accepts only:\n  //  - Node\n  //    - Node.ELEMENT_NODE\n  //    - Node.DOCUMENT_NODE\n  //  - Object\n  //    - Any\n  return owner.nodeType === 1 || owner.nodeType === 9 || !(+owner.nodeType);\n};\n\n\nfunction Data() {\n  this.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n  cache(owner) {\n    // Check if the owner object already has a cache\n    let value = owner[this.expando];\n\n    // If not, create one\n    if (!value) {\n      value = {};\n\n      // We can accept data for non-element nodes in modern browsers,\n      // but we should not, see #8335.\n      // Always return an empty object.\n      if (acceptData(owner)) {\n        // If it is a node unlikely to be stringify-ed or looped over\n        // use plain assignment\n        if (owner.nodeType) {\n          owner[this.expando] = value;\n\n          // Otherwise secure it in a non-enumerable property\n          // configurable must be true to allow the property to be\n          // deleted when data is removed\n        } else {\n          Object.defineProperty(owner, this.expando, {\n            value,\n            configurable: true,\n          });\n        }\n      }\n    }\n\n    return value;\n  },\n  set(owner, data, value) {\n    let prop;\n    const cache = this.cache(owner);\n\n    // Handle: [ owner, key, value ] args\n    // Always use camelCase key (gh-2257)\n    if (typeof data === 'string') {\n      cache[camelCase(data)] = value;\n\n      // Handle: [ owner, { properties } ] args\n    } else {\n      // Copy the properties one-by-one to the cache object\n      for (prop in data) {\n        cache[camelCase(prop)] = data[prop];\n      }\n    }\n    return cache;\n  },\n  get(owner, key) {\n    return key === undefined\n      ? this.cache(owner)\n\n    // Always use camelCase key (gh-2257)\n      : owner[this.expando] && owner[this.expando][camelCase(key)];\n  },\n  access(owner, key, value) {\n    // In cases where either:\n    //\n    //   1. No key was specified\n    //   2. A string key was specified, but no value provided\n    //\n    // Take the \"read\" path and allow the get method to determine\n    // which value to return, respectively either:\n    //\n    //   1. The entire cache object\n    //   2. The data stored at the key\n    //\n    if (key === undefined\n\t\t\t\t|| ((key && typeof key === 'string') && value === undefined)) {\n      return this.get(owner, key);\n    }\n\n    // When the key is not a string, or both a key and value\n    // are specified, set or extend (existing objects) with either:\n    //\n    //   1. An object of properties\n    //   2. A key and value\n    //\n    this.set(owner, key, value);\n\n    // Since the \"set\" path can have two possible entry points\n    // return the expected data based on which path was taken[*]\n    return value !== undefined ? value : key;\n  },\n  remove(owner, key) {\n    let i;\n    const cache = owner[this.expando];\n\n    if (cache === undefined) {\n      return;\n    }\n\n    if (key !== undefined) {\n      // Support array or space separated string of keys\n      if (Array.isArray(key)) {\n        // If key is an array of keys...\n        // We always set camelCase keys, so remove that.\n        key = key.map(camelCase);\n      } else {\n        key = camelCase(key);\n\n        // If a key with the spaces exists, use it.\n        // Otherwise, create an array by matching non-whitespace\n        key = key in cache\n          ? [key]\n          : (key.match(rnothtmlwhite) || []);\n      }\n\n      i = key.length;\n\n      while (i--) {\n        delete cache[key[i]];\n      }\n    }\n\n    // Remove the expando if there's no more data\n    if (key === undefined || jQuery.isEmptyObject(cache)) {\n      // Support: Chrome <=35 - 45\n      // Webkit & Blink performance suffers when deleting properties\n      // from DOM nodes, so set to undefined instead\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n      if (owner.nodeType) {\n        owner[this.expando] = undefined;\n      } else {\n        delete owner[this.expando];\n      }\n    }\n  },\n  hasData(owner) {\n    const cache = owner[this.expando];\n    return cache !== undefined && !jQuery.isEmptyObject(cache);\n  },\n};\nconst dataPriv = new Data();\n\nconst dataUser = new Data();\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nconst rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/;\nconst rmultiDash = /[A-Z]/g;\n\nfunction getData(data) {\n  if (data === 'true') {\n    return true;\n  }\n\n  if (data === 'false') {\n    return false;\n  }\n\n  if (data === 'null') {\n    return null;\n  }\n\n  // Only convert to a number if it doesn't change the string\n  if (data === `${+data}`) {\n    return +data;\n  }\n\n  if (rbrace.test(data)) {\n    return JSON.parse(data);\n  }\n\n  return data;\n}\n\nfunction dataAttr(elem, key, data) {\n  let name;\n\n  // If nothing was found internally, try to fetch any\n  // data from the HTML5 data-* attribute\n  if (data === undefined && elem.nodeType === 1) {\n    name = `data-${key.replace(rmultiDash, '-$&').toLowerCase()}`;\n    data = elem.getAttribute(name);\n\n    if (typeof data === 'string') {\n      try {\n        data = getData(data);\n      } catch (e) {}\n\n      // Make sure we set the data so it isn't changed later\n      dataUser.set(elem, key, data);\n    } else {\n      data = undefined;\n    }\n  }\n  return data;\n}\n\njQuery.extend({\n  hasData(elem) {\n    return dataUser.hasData(elem) || dataPriv.hasData(elem);\n  },\n\n  data(elem, name, data) {\n    return dataUser.access(elem, name, data);\n  },\n\n  removeData(elem, name) {\n    dataUser.remove(elem, name);\n  },\n\n  // TODO: Now that all calls to _data and _removeData have been replaced\n  // with direct calls to dataPriv methods, these can be deprecated.\n  _data(elem, name, data) {\n    return dataPriv.access(elem, name, data);\n  },\n\n  _removeData(elem, name) {\n    dataPriv.remove(elem, name);\n  },\n});\n\njQuery.fn.extend({\n  data(key, value) {\n    let i; let name; let data;\n    const elem = this[0];\n    const attrs = elem && elem.attributes;\n\n    // Gets all values\n    if (key === undefined) {\n      if (this.length) {\n        data = dataUser.get(elem);\n\n        if (elem.nodeType === 1 && !dataPriv.get(elem, 'hasDataAttrs')) {\n          i = attrs.length;\n          while (i--) {\n            // Support: IE 11 only\n            // The attrs elements can be null (#14894)\n            if (attrs[i]) {\n              name = attrs[i].name;\n              if (name.indexOf('data-') === 0) {\n                name = camelCase(name.slice(5));\n                dataAttr(elem, name, data[name]);\n              }\n            }\n          }\n          dataPriv.set(elem, 'hasDataAttrs', true);\n        }\n      }\n\n      return data;\n    }\n\n    // Sets multiple values\n    if (typeof key === 'object') {\n      return this.each(function () {\n        dataUser.set(this, key);\n      });\n    }\n\n    return access(this, function (value) {\n      let data;\n\n      // The calling jQuery object (element matches) is not empty\n      // (and therefore has an element appears at this[ 0 ]) and the\n      // `value` parameter was not undefined. An empty jQuery object\n      // will result in `undefined` for elem = this[ 0 ] which will\n      // throw an exception if an attempt to read a data cache is made.\n      if (elem && value === undefined) {\n        // Attempt to get data from the cache\n        // The key will always be camelCased in Data\n        data = dataUser.get(elem, key);\n        if (data !== undefined) {\n          return data;\n        }\n\n        // Attempt to \"discover\" the data in\n        // HTML5 custom data-* attrs\n        data = dataAttr(elem, key);\n        if (data !== undefined) {\n          return data;\n        }\n\n        // We tried really hard, but the data doesn't exist.\n        return;\n      }\n\n      // Set the data...\n      this.each(function () {\n        // We always store the camelCased key\n        dataUser.set(this, key, value);\n      });\n    }, null, value, arguments.length > 1, null, true);\n  },\n\n  removeData(key) {\n    return this.each(function () {\n      dataUser.remove(this, key);\n    });\n  },\n});\n\n\njQuery.extend({\n  queue(elem, type, data) {\n    let queue;\n\n    if (elem) {\n      type = `${type || 'fx'}queue`;\n      queue = dataPriv.get(elem, type);\n\n      // Speed up dequeue by getting out quickly if this is just a lookup\n      if (data) {\n        if (!queue || Array.isArray(data)) {\n          queue = dataPriv.access(elem, type, jQuery.makeArray(data));\n        } else {\n          queue.push(data);\n        }\n      }\n      return queue || [];\n    }\n  },\n\n  dequeue(elem, type) {\n    type = type || 'fx';\n\n    const queue = jQuery.queue(elem, type);\n    let startLength = queue.length;\n    let fn = queue.shift();\n    const hooks = jQuery._queueHooks(elem, type);\n    const next = function () {\n      jQuery.dequeue(elem, type);\n    };\n\n    // If the fx queue is dequeued, always remove the progress sentinel\n    if (fn === 'inprogress') {\n      fn = queue.shift();\n      startLength--;\n    }\n\n    if (fn) {\n      // Add a progress sentinel to prevent the fx queue from being\n      // automatically dequeued\n      if (type === 'fx') {\n        queue.unshift('inprogress');\n      }\n\n      // Clear up the last queue stop function\n      delete hooks.stop;\n      fn.call(elem, next, hooks);\n    }\n\n    if (!startLength && hooks) {\n      hooks.empty.fire();\n    }\n  },\n\n  // Not public - generate a queueHooks object, or return the current one\n  _queueHooks(elem, type) {\n    const key = `${type}queueHooks`;\n    return dataPriv.get(elem, key) || dataPriv.access(elem, key, {\n      empty: jQuery.Callbacks('once memory').add(() => {\n        dataPriv.remove(elem, [`${type}queue`, key]);\n      }),\n    });\n  },\n});\n\njQuery.fn.extend({\n  queue(type, data) {\n    let setter = 2;\n\n    if (typeof type !== 'string') {\n      data = type;\n      type = 'fx';\n      setter--;\n    }\n\n    if (arguments.length < setter) {\n      return jQuery.queue(this[0], type);\n    }\n\n    return data === undefined\n      ? this\n      : this.each(function () {\n        const queue = jQuery.queue(this, type, data);\n\n        // Ensure a hooks for this queue\n        jQuery._queueHooks(this, type);\n\n        if (type === 'fx' && queue[0] !== 'inprogress') {\n          jQuery.dequeue(this, type);\n        }\n      });\n  },\n  dequeue(type) {\n    return this.each(function () {\n      jQuery.dequeue(this, type);\n    });\n  },\n  clearQueue(type) {\n    return this.queue(type || 'fx', []);\n  },\n\n  // Get a promise resolved when queues of a certain type\n  // are emptied (fx is the type by default)\n  promise(type, obj) {\n    let tmp;\n    let count = 1;\n    const defer = jQuery.Deferred();\n    const elements = this;\n    let i = this.length;\n    const resolve = function () {\n      if (!(--count)) {\n        defer.resolveWith(elements, [elements]);\n      }\n    };\n\n    if (typeof type !== 'string') {\n      obj = type;\n      type = undefined;\n    }\n    type = type || 'fx';\n\n    while (i--) {\n      tmp = dataPriv.get(elements[i], `${type}queueHooks`);\n      if (tmp && tmp.empty) {\n        count++;\n        tmp.empty.add(resolve);\n      }\n    }\n    resolve();\n    return defer.promise(obj);\n  },\n});\nconst pnum = (/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/).source;\n\nconst rcssNum = new RegExp(`^(?:([+-])=|)(${pnum})([a-z%]*)$`, 'i');\n\n\nconst cssExpand = ['Top', 'Right', 'Bottom', 'Left'];\n\nconst { documentElement } = document;\n\n\nlet isAttached = function (elem) {\n  return jQuery.contains(elem.ownerDocument, elem);\n};\nconst composed = { composed: true };\n\n// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n// Check attachment across shadow DOM boundaries when possible (gh-3504)\n// Support: iOS 10.0-10.2 only\n// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n// leading to errors. We need to check for `getRootNode`.\nif (documentElement.getRootNode) {\n  isAttached = function (elem) {\n    return jQuery.contains(elem.ownerDocument, elem)\n\t\t\t\t|| elem.getRootNode(composed) === elem.ownerDocument;\n  };\n}\nconst isHiddenWithinTree = function (elem, el) {\n  // isHiddenWithinTree might be called from jQuery#filter function;\n  // in that case, element will be second argument\n  elem = el || elem;\n\n  // Inline style trumps all\n  return elem.style.display === 'none'\n\t\t\t|| elem.style.display === ''\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\t&& isAttached(elem)\n\n\t\t\t&& jQuery.css(elem, 'display') === 'none';\n};\n\nconst swap = function (elem, options, callback, args) {\n  let ret; let name;\n  const old = {};\n\n  // Remember the old values, and insert the new ones\n  for (name in options) {\n    old[name] = elem.style[name];\n    elem.style[name] = options[name];\n  }\n\n  ret = callback.apply(elem, args || []);\n\n  // Revert the old values\n  for (name in options) {\n    elem.style[name] = old[name];\n  }\n\n  return ret;\n};\n\n\nfunction adjustCSS(elem, prop, valueParts, tween) {\n  let adjusted; let scale;\n  let maxIterations = 20;\n  const currentValue = tween\n    ? function () {\n      return tween.cur();\n    }\n    : function () {\n      return jQuery.css(elem, prop, '');\n    };\n  let initial = currentValue();\n  let unit = valueParts && valueParts[3] || (jQuery.cssNumber[prop] ? '' : 'px');\n\n  // Starting value computation is required for potential unit mismatches\n  let initialInUnit = elem.nodeType\n\t\t\t&& (jQuery.cssNumber[prop] || unit !== 'px' && +initial)\n\t\t\t&& rcssNum.exec(jQuery.css(elem, prop));\n\n  if (initialInUnit && initialInUnit[3] !== unit) {\n    // Support: Firefox <=54\n    // Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n    initial /= 2;\n\n    // Trust units reported by jQuery.css\n    unit = unit || initialInUnit[3];\n\n    // Iteratively approximate from a nonzero starting point\n    initialInUnit = +initial || 1;\n\n    while (maxIterations--) {\n      // Evaluate and update our best guess (doubling guesses that zero out).\n      // Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n      jQuery.style(elem, prop, initialInUnit + unit);\n      if ((1 - scale) * (1 - (scale = currentValue() / initial || 0.5)) <= 0) {\n        maxIterations = 0;\n      }\n      initialInUnit /= scale;\n    }\n\n    initialInUnit *= 2;\n    jQuery.style(elem, prop, initialInUnit + unit);\n\n    // Make sure we update the tween properties later on\n    valueParts = valueParts || [];\n  }\n\n  if (valueParts) {\n    initialInUnit = +initialInUnit || +initial || 0;\n\n    // Apply relative offset (+=/-=) if specified\n    adjusted = valueParts[1]\n      ? initialInUnit + (valueParts[1] + 1) * valueParts[2]\n      : +valueParts[2];\n    if (tween) {\n      tween.unit = unit;\n      tween.start = initialInUnit;\n      tween.end = adjusted;\n    }\n  }\n  return adjusted;\n}\n\n\nconst defaultDisplayMap = {};\n\nfunction getDefaultDisplay(elem) {\n  let temp;\n  const doc = elem.ownerDocument;\n  const { nodeName } = elem;\n  let display = defaultDisplayMap[nodeName];\n\n  if (display) {\n    return display;\n  }\n\n  temp = doc.body.appendChild(doc.createElement(nodeName));\n  display = jQuery.css(temp, 'display');\n\n  temp.parentNode.removeChild(temp);\n\n  if (display === 'none') {\n    display = 'block';\n  }\n  defaultDisplayMap[nodeName] = display;\n\n  return display;\n}\n\nfunction showHide(elements, show) {\n  let display; let elem;\n  const values = [];\n  let index = 0;\n  const { length } = elements;\n\n  // Determine new display value for elements that need to change\n  for (; index < length; index++) {\n    elem = elements[index];\n    if (!elem.style) {\n      continue;\n    }\n\n    display = elem.style.display;\n    if (show) {\n      // Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n      // check is required in this first loop unless we have a nonempty display value (either\n      // inline or about-to-be-restored)\n      if (display === 'none') {\n        values[index] = dataPriv.get(elem, 'display') || null;\n        if (!values[index]) {\n          elem.style.display = '';\n        }\n      }\n      if (elem.style.display === '' && isHiddenWithinTree(elem)) {\n        values[index] = getDefaultDisplay(elem);\n      }\n    } else if (display !== 'none') {\n      values[index] = 'none';\n\n      // Remember what we're overwriting\n      dataPriv.set(elem, 'display', display);\n    }\n  }\n\n  // Set the display of the elements in a second loop to avoid constant reflow\n  for (index = 0; index < length; index++) {\n    if (values[index] != null) {\n      elements[index].style.display = values[index];\n    }\n  }\n\n  return elements;\n}\n\njQuery.fn.extend({\n  show() {\n    return showHide(this, true);\n  },\n  hide() {\n    return showHide(this);\n  },\n  toggle(state) {\n    if (typeof state === 'boolean') {\n      return state ? this.show() : this.hide();\n    }\n\n    return this.each(function () {\n      if (isHiddenWithinTree(this)) {\n        jQuery(this).show();\n      } else {\n        jQuery(this).hide();\n      }\n    });\n  },\n});\nconst rcheckableType = (/^(?:checkbox|radio)$/i);\n\nconst rtagName = (/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i);\n\nconst rscriptType = (/^$|^module$|\\/(?:java|ecma)script/i);\n\n\n// We have to close these tags to support XHTML (#13200)\nconst wrapMap = {\n\n  // Support: IE <=9 only\n  option: [1, \"<select multiple='multiple'>\", '</select>'],\n\n  // XHTML parsers do not magically insert elements in the\n  // same way that tag soup parsers do. So we cannot shorten\n  // this by omitting <tbody> or other required elements.\n  thead: [1, '<table>', '</table>'],\n  col: [2, '<table><colgroup>', '</colgroup></table>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  td: [3, '<table><tbody><tr>', '</tr></tbody></table>'],\n\n  _default: [0, '', ''],\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll(context, tag) {\n  // Support: IE <=9 - 11 only\n  // Use typeof to avoid zero-argument method invocation on host objects (#15151)\n  let ret;\n\n  if (typeof context.getElementsByTagName !== 'undefined') {\n    ret = context.getElementsByTagName(tag || '*');\n  } else if (typeof context.querySelectorAll !== 'undefined') {\n    ret = context.querySelectorAll(tag || '*');\n  } else {\n    ret = [];\n  }\n\n  if (tag === undefined || tag && nodeName(context, tag)) {\n    return jQuery.merge([context], ret);\n  }\n\n  return ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval(elems, refElements) {\n  let i = 0;\n  const l = elems.length;\n\n  for (; i < l; i++) {\n    dataPriv.set(\n      elems[i],\n      'globalEval',\n      !refElements || dataPriv.get(refElements[i], 'globalEval'),\n    );\n  }\n}\n\n\nconst rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment(elems, context, scripts, selection, ignored) {\n  let elem; let tmp; let tag; let wrap; let attached; let j;\n  const fragment = context.createDocumentFragment();\n  const nodes = [];\n  let i = 0;\n  const l = elems.length;\n\n  for (; i < l; i++) {\n    elem = elems[i];\n\n    if (elem || elem === 0) {\n      // Add nodes directly\n      if (toType(elem) === 'object') {\n        // Support: Android <=4.0 only, PhantomJS 1 only\n        // push.apply(_, arraylike) throws on ancient WebKit\n        jQuery.merge(nodes, elem.nodeType ? [elem] : elem);\n\n        // Convert non-html into a text node\n      } else if (!rhtml.test(elem)) {\n        nodes.push(context.createTextNode(elem));\n\n        // Convert html into DOM nodes\n      } else {\n        tmp = tmp || fragment.appendChild(context.createElement('div'));\n\n        // Deserialize a standard representation\n        tag = (rtagName.exec(elem) || ['', ''])[1].toLowerCase();\n        wrap = wrapMap[tag] || wrapMap._default;\n        tmp.innerHTML = wrap[1] + jQuery.htmlPrefilter(elem) + wrap[2];\n\n        // Descend through wrappers to the right content\n        j = wrap[0];\n        while (j--) {\n          tmp = tmp.lastChild;\n        }\n\n        // Support: Android <=4.0 only, PhantomJS 1 only\n        // push.apply(_, arraylike) throws on ancient WebKit\n        jQuery.merge(nodes, tmp.childNodes);\n\n        // Remember the top-level container\n        tmp = fragment.firstChild;\n\n        // Ensure the created nodes are orphaned (#12392)\n        tmp.textContent = '';\n      }\n    }\n  }\n\n  // Remove wrapper from fragment\n  fragment.textContent = '';\n\n  i = 0;\n  while ((elem = nodes[i++])) {\n    // Skip elements already in the context collection (trac-4087)\n    if (selection && jQuery.inArray(elem, selection) > -1) {\n      if (ignored) {\n        ignored.push(elem);\n      }\n      continue;\n    }\n\n    attached = isAttached(elem);\n\n    // Append to fragment\n    tmp = getAll(fragment.appendChild(elem), 'script');\n\n    // Preserve script evaluation history\n    if (attached) {\n      setGlobalEval(tmp);\n    }\n\n    // Capture executables\n    if (scripts) {\n      j = 0;\n      while ((elem = tmp[j++])) {\n        if (rscriptType.test(elem.type || '')) {\n          scripts.push(elem);\n        }\n      }\n    }\n  }\n\n  return fragment;\n}\n\n\n(function () {\n  const fragment = document.createDocumentFragment();\n  const div = fragment.appendChild(document.createElement('div'));\n  const input = document.createElement('input');\n\n  // Support: Android 4.0 - 4.3 only\n  // Check state lost if the name is set (#11217)\n  // Support: Windows Web Apps (WWA)\n  // `name` and `type` must use .setAttribute for WWA (#14901)\n  input.setAttribute('type', 'radio');\n  input.setAttribute('checked', 'checked');\n  input.setAttribute('name', 't');\n\n  div.appendChild(input);\n\n  // Support: Android <=4.1 only\n  // Older WebKit doesn't clone checked state correctly in fragments\n  support.checkClone = div.cloneNode(true).cloneNode(true).lastChild.checked;\n\n  // Support: IE <=11 only\n  // Make sure textarea (and checkbox) defaultValue is properly cloned\n  div.innerHTML = '<textarea>x</textarea>';\n  support.noCloneChecked = !!div.cloneNode(true).lastChild.defaultValue;\n}());\n\n\nconst\n  rkeyEvent = /^key/;\nconst rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nconst rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction returnFalse() {\n  return false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync(elem, type) {\n  return (elem === safeActiveElement()) === (type === 'focus');\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n  try {\n    return document.activeElement;\n  } catch (err) { }\n}\n\nfunction on(elem, types, selector, data, fn, one) {\n  let origFn; let\n    type;\n\n  // Types can be a map of types/handlers\n  if (typeof types === 'object') {\n    // ( types-Object, selector, data )\n    if (typeof selector !== 'string') {\n      // ( types-Object, data )\n      data = data || selector;\n      selector = undefined;\n    }\n    for (type in types) {\n      on(elem, type, selector, data, types[type], one);\n    }\n    return elem;\n  }\n\n  if (data == null && fn == null) {\n    // ( types, fn )\n    fn = selector;\n    data = selector = undefined;\n  } else if (fn == null) {\n    if (typeof selector === 'string') {\n      // ( types, selector, fn )\n      fn = data;\n      data = undefined;\n    } else {\n      // ( types, data, fn )\n      fn = data;\n      data = selector;\n      selector = undefined;\n    }\n  }\n  if (fn === false) {\n    fn = returnFalse;\n  } else if (!fn) {\n    return elem;\n  }\n\n  if (one === 1) {\n    origFn = fn;\n    fn = function (event) {\n      // Can use an empty set, since event contains the info\n      jQuery().off(event);\n      return origFn.apply(this, arguments);\n    };\n\n    // Use same guid so caller can remove using origFn\n    fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);\n  }\n  return elem.each(function () {\n    jQuery.event.add(this, types, fn, data, selector);\n  });\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n  global: {},\n\n  add(elem, types, handler, data, selector) {\n    let handleObjIn; let eventHandle; let tmp;\n    let events; let t; let handleObj;\n    let special; let handlers; let type; let namespaces; let origType;\n    const elemData = dataPriv.get(elem);\n\n    // Don't attach events to noData or text/comment nodes (but allow plain objects)\n    if (!elemData) {\n      return;\n    }\n\n    // Caller can pass in an object of custom data in lieu of the handler\n    if (handler.handler) {\n      handleObjIn = handler;\n      handler = handleObjIn.handler;\n      selector = handleObjIn.selector;\n    }\n\n    // Ensure that invalid selectors throw exceptions at attach time\n    // Evaluate against documentElement in case elem is a non-element node (e.g., document)\n    if (selector) {\n      jQuery.find.matchesSelector(documentElement, selector);\n    }\n\n    // Make sure that the handler has a unique ID, used to find/remove it later\n    if (!handler.guid) {\n      handler.guid = jQuery.guid++;\n    }\n\n    // Init the element's event structure and main handler, if this is the first\n    if (!(events = elemData.events)) {\n      events = elemData.events = {};\n    }\n    if (!(eventHandle = elemData.handle)) {\n      eventHandle = elemData.handle = function (e) {\n        // Discard the second event of a jQuery.event.trigger() and\n        // when an event is called after a page has unloaded\n        return typeof jQuery !== 'undefined' && jQuery.event.triggered !== e.type\n          ? jQuery.event.dispatch.apply(elem, arguments) : undefined;\n      };\n    }\n\n    // Handle multiple events separated by a space\n    types = (types || '').match(rnothtmlwhite) || [''];\n    t = types.length;\n    while (t--) {\n      tmp = rtypenamespace.exec(types[t]) || [];\n      type = origType = tmp[1];\n      namespaces = (tmp[2] || '').split('.').sort();\n\n      // There *must* be a type, no attaching namespace-only handlers\n      if (!type) {\n        continue;\n      }\n\n      // If event changes its type, use the special event handlers for the changed type\n      special = jQuery.event.special[type] || {};\n\n      // If selector defined, determine special event api type, otherwise given type\n      type = (selector ? special.delegateType : special.bindType) || type;\n\n      // Update special based on newly reset type\n      special = jQuery.event.special[type] || {};\n\n      // handleObj is passed to all event handlers\n      handleObj = jQuery.extend({\n        type,\n        origType,\n        data,\n        handler,\n        guid: handler.guid,\n        selector,\n        needsContext: selector && jQuery.expr.match.needsContext.test(selector),\n        namespace: namespaces.join('.'),\n      }, handleObjIn);\n\n      // Init the event handler queue if we're the first\n      if (!(handlers = events[type])) {\n        handlers = events[type] = [];\n        handlers.delegateCount = 0;\n\n        // Only use addEventListener if the special events handler returns false\n        if (!special.setup\n\t\t\t\t\t|| special.setup.call(elem, data, namespaces, eventHandle) === false) {\n          if (elem.addEventListener) {\n            elem.addEventListener(type, eventHandle);\n          }\n        }\n      }\n\n      if (special.add) {\n        special.add.call(elem, handleObj);\n\n        if (!handleObj.handler.guid) {\n          handleObj.handler.guid = handler.guid;\n        }\n      }\n\n      // Add to the element's handler list, delegates in front\n      if (selector) {\n        handlers.splice(handlers.delegateCount++, 0, handleObj);\n      } else {\n        handlers.push(handleObj);\n      }\n\n      // Keep track of which events have ever been used, for event optimization\n      jQuery.event.global[type] = true;\n    }\n  },\n\n  // Detach an event or set of events from an element\n  remove(elem, types, handler, selector, mappedTypes) {\n    let j; let origCount; let tmp;\n    let events; let t; let handleObj;\n    let special; let handlers; let type; let namespaces; let origType;\n    const elemData = dataPriv.hasData(elem) && dataPriv.get(elem);\n\n    if (!elemData || !(events = elemData.events)) {\n      return;\n    }\n\n    // Once for each type.namespace in types; type may be omitted\n    types = (types || '').match(rnothtmlwhite) || [''];\n    t = types.length;\n    while (t--) {\n      tmp = rtypenamespace.exec(types[t]) || [];\n      type = origType = tmp[1];\n      namespaces = (tmp[2] || '').split('.').sort();\n\n      // Unbind all events (on this namespace, if provided) for the element\n      if (!type) {\n        for (type in events) {\n          jQuery.event.remove(elem, type + types[t], handler, selector, true);\n        }\n        continue;\n      }\n\n      special = jQuery.event.special[type] || {};\n      type = (selector ? special.delegateType : special.bindType) || type;\n      handlers = events[type] || [];\n      tmp = tmp[2]\n\t\t\t\t&& new RegExp(`(^|\\\\.)${namespaces.join('\\\\.(?:.*\\\\.|)')}(\\\\.|$)`);\n\n      // Remove matching events\n      origCount = j = handlers.length;\n      while (j--) {\n        handleObj = handlers[j];\n\n        if ((mappedTypes || origType === handleObj.origType)\n\t\t\t\t\t&& (!handler || handler.guid === handleObj.guid)\n\t\t\t\t\t&& (!tmp || tmp.test(handleObj.namespace))\n\t\t\t\t\t&& (!selector || selector === handleObj.selector\n\t\t\t\t\t\t|| selector === '**' && handleObj.selector)) {\n          handlers.splice(j, 1);\n\n          if (handleObj.selector) {\n            handlers.delegateCount--;\n          }\n          if (special.remove) {\n            special.remove.call(elem, handleObj);\n          }\n        }\n      }\n\n      // Remove generic event handler if we removed something and no more handlers exist\n      // (avoids potential for endless recursion during removal of special event handlers)\n      if (origCount && !handlers.length) {\n        if (!special.teardown\n\t\t\t\t\t|| special.teardown.call(elem, namespaces, elemData.handle) === false) {\n          jQuery.removeEvent(elem, type, elemData.handle);\n        }\n\n        delete events[type];\n      }\n    }\n\n    // Remove data and the expando if it's no longer used\n    if (jQuery.isEmptyObject(events)) {\n      dataPriv.remove(elem, 'handle events');\n    }\n  },\n\n  dispatch(nativeEvent) {\n    // Make a writable jQuery.Event from the native event object\n    const event = jQuery.event.fix(nativeEvent);\n\n    let i; let j; let ret; let matched; let handleObj; let handlerQueue;\n    const args = new Array(arguments.length);\n    const handlers = (dataPriv.get(this, 'events') || {})[event.type] || [];\n    const special = jQuery.event.special[event.type] || {};\n\n    // Use the fix-ed jQuery.Event rather than the (read-only) native event\n    args[0] = event;\n\n    for (i = 1; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    event.delegateTarget = this;\n\n    // Call the preDispatch hook for the mapped type, and let it bail if desired\n    if (special.preDispatch && special.preDispatch.call(this, event) === false) {\n      return;\n    }\n\n    // Determine handlers\n    handlerQueue = jQuery.event.handlers.call(this, event, handlers);\n\n    // Run delegates first; they may want to stop propagation beneath us\n    i = 0;\n    while ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {\n      event.currentTarget = matched.elem;\n\n      j = 0;\n      while ((handleObj = matched.handlers[j++])\n\t\t\t\t&& !event.isImmediatePropagationStopped()) {\n        // If the event is namespaced, then each handler is only invoked if it is\n        // specially universal or its namespaces are a superset of the event's.\n        if (!event.rnamespace || handleObj.namespace === false\n\t\t\t\t\t|| event.rnamespace.test(handleObj.namespace)) {\n          event.handleObj = handleObj;\n          event.data = handleObj.data;\n\n          ret = ((jQuery.event.special[handleObj.origType] || {}).handle\n\t\t\t\t\t\t|| handleObj.handler).apply(matched.elem, args);\n\n          if (ret !== undefined) {\n            if ((event.result = ret) === false) {\n              event.preventDefault();\n              event.stopPropagation();\n            }\n          }\n        }\n      }\n    }\n\n    // Call the postDispatch hook for the mapped type\n    if (special.postDispatch) {\n      special.postDispatch.call(this, event);\n    }\n\n    return event.result;\n  },\n\n  handlers(event, handlers) {\n    let i; let handleObj; let sel; let matchedHandlers; let matchedSelectors;\n    const handlerQueue = [];\n    const { delegateCount } = handlers;\n    let cur = event.target;\n\n    // Find delegate handlers\n    if (delegateCount\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\t&& cur.nodeType\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t&& !(event.type === 'click' && event.button >= 1)) {\n      for (; cur !== this; cur = cur.parentNode || this) {\n        // Don't check non-elements (#13208)\n        // Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n        if (cur.nodeType === 1 && !(event.type === 'click' && cur.disabled === true)) {\n          matchedHandlers = [];\n          matchedSelectors = {};\n          for (i = 0; i < delegateCount; i++) {\n            handleObj = handlers[i];\n\n            // Don't conflict with Object.prototype properties (#13203)\n            sel = `${handleObj.selector} `;\n\n            if (matchedSelectors[sel] === undefined) {\n              matchedSelectors[sel] = handleObj.needsContext\n                ? jQuery(sel, this).index(cur) > -1\n                : jQuery.find(sel, this, null, [cur]).length;\n            }\n            if (matchedSelectors[sel]) {\n              matchedHandlers.push(handleObj);\n            }\n          }\n          if (matchedHandlers.length) {\n            handlerQueue.push({ elem: cur, handlers: matchedHandlers });\n          }\n        }\n      }\n    }\n\n    // Add the remaining (directly-bound) handlers\n    cur = this;\n    if (delegateCount < handlers.length) {\n      handlerQueue.push({ elem: cur, handlers: handlers.slice(delegateCount) });\n    }\n\n    return handlerQueue;\n  },\n\n  addProp(name, hook) {\n    Object.defineProperty(jQuery.Event.prototype, name, {\n      enumerable: true,\n      configurable: true,\n\n      get: isFunction(hook)\n        ? function () {\n          if (this.originalEvent) {\n            return hook(this.originalEvent);\n          }\n        }\n        : function () {\n          if (this.originalEvent) {\n            return this.originalEvent[name];\n          }\n        },\n\n      set(value) {\n        Object.defineProperty(this, name, {\n          enumerable: true,\n          configurable: true,\n          writable: true,\n          value,\n        });\n      },\n    });\n  },\n\n  fix(originalEvent) {\n    return originalEvent[jQuery.expando]\n      ? originalEvent\n      : new jQuery.Event(originalEvent);\n  },\n\n  special: {\n    load: {\n\n      // Prevent triggered image.load events from bubbling to window.load\n      noBubble: true,\n    },\n    click: {\n\n      // Utilize native event to ensure correct state for checkable inputs\n      setup(data) {\n        // For mutual compressibility with _default, replace `this` access with a local var.\n        // `|| data` is dead code meant only to preserve the variable through minification.\n        const el = this || data;\n\n        // Claim the first handler\n        if (rcheckableType.test(el.type)\n\t\t\t\t\t&& el.click && nodeName(el, 'input')) {\n          // dataPriv.set( el, \"click\", ... )\n          leverageNative(el, 'click', returnTrue);\n        }\n\n        // Return false to allow normal processing in the caller\n        return false;\n      },\n      trigger(data) {\n        // For mutual compressibility with _default, replace `this` access with a local var.\n        // `|| data` is dead code meant only to preserve the variable through minification.\n        const el = this || data;\n\n        // Force setup before triggering a click\n        if (rcheckableType.test(el.type)\n\t\t\t\t\t&& el.click && nodeName(el, 'input')) {\n          leverageNative(el, 'click');\n        }\n\n        // Return non-false to allow normal event-path propagation\n        return true;\n      },\n\n      // For cross-browser consistency, suppress native .click() on links\n      // Also prevent it if we're currently inside a leveraged native-event stack\n      _default(event) {\n        const { target } = event;\n        return rcheckableType.test(target.type)\n\t\t\t\t\t&& target.click && nodeName(target, 'input')\n\t\t\t\t\t&& dataPriv.get(target, 'click')\n\t\t\t\t\t|| nodeName(target, 'a');\n      },\n    },\n\n    beforeunload: {\n      postDispatch(event) {\n        // Support: Firefox 20+\n        // Firefox doesn't alert if the returnValue field is not set.\n        if (event.result !== undefined && event.originalEvent) {\n          event.originalEvent.returnValue = event.result;\n        }\n      },\n    },\n  },\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative(el, type, expectSync) {\n  // Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n  if (!expectSync) {\n    if (dataPriv.get(el, type) === undefined) {\n      jQuery.event.add(el, type, returnTrue);\n    }\n    return;\n  }\n\n  // Register the controller as a special universal handler for all event namespaces\n  dataPriv.set(el, type, false);\n  jQuery.event.add(el, type, {\n    namespace: false,\n    handler(event) {\n      let notAsync; let result;\n      let saved = dataPriv.get(this, type);\n\n      if ((event.isTrigger & 1) && this[type]) {\n        // Interrupt processing of the outer synthetic .trigger()ed event\n        // Saved data should be false in such cases, but might be a leftover capture object\n        // from an async native handler (gh-4350)\n        if (!saved.length) {\n          // Store arguments for use when handling the inner native event\n          // There will always be at least one argument (an event object), so this array\n          // will not be confused with a leftover capture object.\n          saved = slice.call(arguments);\n          dataPriv.set(this, type, saved);\n\n          // Trigger the native event and capture its result\n          // Support: IE <=9 - 11+\n          // focus() and blur() are asynchronous\n          notAsync = expectSync(this, type);\n          this[type]();\n          result = dataPriv.get(this, type);\n          if (saved !== result || notAsync) {\n            dataPriv.set(this, type, false);\n          } else {\n            result = {};\n          }\n          if (saved !== result) {\n            // Cancel the outer synthetic event\n            event.stopImmediatePropagation();\n            event.preventDefault();\n            return result.value;\n          }\n\n          // If this is an inner synthetic event for an event with a bubbling surrogate\n          // (focus or blur), assume that the surrogate already propagated from triggering the\n          // native event and prevent that from happening again here.\n          // This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n          // bubbling surrogate propagates *after* the non-bubbling base), but that seems\n          // less bad than duplication.\n        } else if ((jQuery.event.special[type] || {}).delegateType) {\n          event.stopPropagation();\n        }\n\n        // If this is a native event triggered above, everything is now in order\n        // Fire an inner synthetic event with the original arguments\n      } else if (saved.length) {\n        // ...and capture the result\n        dataPriv.set(this, type, {\n          value: jQuery.event.trigger(\n\n            // Support: IE <=9 - 11+\n            // Extend with the prototype to reset the above stopImmediatePropagation()\n            jQuery.extend(saved[0], jQuery.Event.prototype),\n            saved.slice(1),\n            this,\n          ),\n        });\n\n        // Abort handling of the native event\n        event.stopImmediatePropagation();\n      }\n    },\n  });\n}\n\njQuery.removeEvent = function (elem, type, handle) {\n  // This \"if\" is needed for plain objects\n  if (elem.removeEventListener) {\n    elem.removeEventListener(type, handle);\n  }\n};\n\njQuery.Event = function (src, props) {\n  // Allow instantiation without the 'new' keyword\n  if (!(this instanceof jQuery.Event)) {\n    return new jQuery.Event(src, props);\n  }\n\n  // Event object\n  if (src && src.type) {\n    this.originalEvent = src;\n    this.type = src.type;\n\n    // Events bubbling up the document may have been marked as prevented\n    // by a handler lower down the tree; reflect the correct value.\n    this.isDefaultPrevented = src.defaultPrevented\n\t\t\t\t|| src.defaultPrevented === undefined\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\t&& src.returnValue === false\n      ? returnTrue\n      : returnFalse;\n\n    // Create target properties\n    // Support: Safari <=6 - 7 only\n    // Target should not be a text node (#504, #13143)\n    this.target = (src.target && src.target.nodeType === 3)\n      ? src.target.parentNode\n      : src.target;\n\n    this.currentTarget = src.currentTarget;\n    this.relatedTarget = src.relatedTarget;\n\n    // Event type\n  } else {\n    this.type = src;\n  }\n\n  // Put explicitly provided properties onto the event object\n  if (props) {\n    jQuery.extend(this, props);\n  }\n\n  // Create a timestamp if incoming event doesn't have one\n  this.timeStamp = src && src.timeStamp || Date.now();\n\n  // Mark it as fixed\n  this[jQuery.expando] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n  constructor: jQuery.Event,\n  isDefaultPrevented: returnFalse,\n  isPropagationStopped: returnFalse,\n  isImmediatePropagationStopped: returnFalse,\n  isSimulated: false,\n\n  preventDefault() {\n    const e = this.originalEvent;\n\n    this.isDefaultPrevented = returnTrue;\n\n    if (e && !this.isSimulated) {\n      e.preventDefault();\n    }\n  },\n  stopPropagation() {\n    const e = this.originalEvent;\n\n    this.isPropagationStopped = returnTrue;\n\n    if (e && !this.isSimulated) {\n      e.stopPropagation();\n    }\n  },\n  stopImmediatePropagation() {\n    const e = this.originalEvent;\n\n    this.isImmediatePropagationStopped = returnTrue;\n\n    if (e && !this.isSimulated) {\n      e.stopImmediatePropagation();\n    }\n\n    this.stopPropagation();\n  },\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each({\n  altKey: true,\n  bubbles: true,\n  cancelable: true,\n  changedTouches: true,\n  ctrlKey: true,\n  detail: true,\n  eventPhase: true,\n  metaKey: true,\n  pageX: true,\n  pageY: true,\n  shiftKey: true,\n  view: true,\n  char: true,\n  code: true,\n  charCode: true,\n  key: true,\n  keyCode: true,\n  button: true,\n  buttons: true,\n  clientX: true,\n  clientY: true,\n  offsetX: true,\n  offsetY: true,\n  pointerId: true,\n  pointerType: true,\n  screenX: true,\n  screenY: true,\n  targetTouches: true,\n  toElement: true,\n  touches: true,\n\n  which(event) {\n    const { button } = event;\n\n    // Add which for key events\n    if (event.which == null && rkeyEvent.test(event.type)) {\n      return event.charCode != null ? event.charCode : event.keyCode;\n    }\n\n    // Add which for click: 1 === left; 2 === middle; 3 === right\n    if (!event.which && button !== undefined && rmouseEvent.test(event.type)) {\n      if (button & 1) {\n        return 1;\n      }\n\n      if (button & 2) {\n        return 3;\n      }\n\n      if (button & 4) {\n        return 2;\n      }\n\n      return 0;\n    }\n\n    return event.which;\n  },\n}, jQuery.event.addProp);\n\njQuery.each({ focus: 'focusin', blur: 'focusout' }, (type, delegateType) => {\n  jQuery.event.special[type] = {\n\n    // Utilize native event if possible so blur/focus sequence is correct\n    setup() {\n      // Claim the first handler\n      // dataPriv.set( this, \"focus\", ... )\n      // dataPriv.set( this, \"blur\", ... )\n      leverageNative(this, type, expectSync);\n\n      // Return false to allow normal processing in the caller\n      return false;\n    },\n    trigger() {\n      // Force setup before trigger\n      leverageNative(this, type);\n\n      // Return non-false to allow normal event-path propagation\n      return true;\n    },\n\n    delegateType,\n  };\n});\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each({\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout',\n  pointerenter: 'pointerover',\n  pointerleave: 'pointerout',\n}, (orig, fix) => {\n  jQuery.event.special[orig] = {\n    delegateType: fix,\n    bindType: fix,\n\n    handle(event) {\n      let ret;\n      const target = this;\n      const related = event.relatedTarget;\n      const { handleObj } = event;\n\n      // For mouseenter/leave call the handler if related is outside the target.\n      // NB: No relatedTarget if the mouse left/entered the browser window\n      if (!related || (related !== target && !jQuery.contains(target, related))) {\n        event.type = handleObj.origType;\n        ret = handleObj.handler.apply(this, arguments);\n        event.type = fix;\n      }\n      return ret;\n    },\n  };\n});\n\njQuery.fn.extend({\n\n  on(types, selector, data, fn) {\n    return on(this, types, selector, data, fn);\n  },\n  one(types, selector, data, fn) {\n    return on(this, types, selector, data, fn, 1);\n  },\n  off(types, selector, fn) {\n    let handleObj; let\n      type;\n    if (types && types.preventDefault && types.handleObj) {\n      // ( event )  dispatched jQuery.Event\n      handleObj = types.handleObj;\n      jQuery(types.delegateTarget).off(\n        handleObj.namespace\n          ? `${handleObj.origType}.${handleObj.namespace}`\n          : handleObj.origType,\n        handleObj.selector,\n        handleObj.handler,\n      );\n      return this;\n    }\n    if (typeof types === 'object') {\n      // ( types-object [, selector] )\n      for (type in types) {\n        this.off(type, selector, types[type]);\n      }\n      return this;\n    }\n    if (selector === false || typeof selector === 'function') {\n      // ( types [, fn] )\n      fn = selector;\n      selector = undefined;\n    }\n    if (fn === false) {\n      fn = returnFalse;\n    }\n    return this.each(function () {\n      jQuery.event.remove(this, types, fn, selector);\n    });\n  },\n});\n\n\nconst\n\n  /* eslint-disable max-len */\n\n  // See https://github.com/eslint/eslint/issues/3229\n  rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi;\n\n/* eslint-enable */\n\n// Support: IE <=10 - 11, Edge 12 - 13 only\n// In IE/Edge using regex groups here causes severe slowdowns.\n// See https://connect.microsoft.com/IE/feedback/details/1736512/\nconst rnoInnerhtml = /<script|<style|<link/i;\n\n// checked=\"checked\" or checked\nconst rchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i;\nconst rcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget(elem, content) {\n  if (nodeName(elem, 'table')\n\t\t&& nodeName(content.nodeType !== 11 ? content : content.firstChild, 'tr')) {\n    return jQuery(elem).children('tbody')[0] || elem;\n  }\n\n  return elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript(elem) {\n  elem.type = `${elem.getAttribute('type') !== null}/${elem.type}`;\n  return elem;\n}\nfunction restoreScript(elem) {\n  if ((elem.type || '').slice(0, 5) === 'true/') {\n    elem.type = elem.type.slice(5);\n  } else {\n    elem.removeAttribute('type');\n  }\n\n  return elem;\n}\n\nfunction cloneCopyEvent(src, dest) {\n  let i; let l; let type; let pdataOld; let pdataCur; let udataOld; let udataCur; let\n    events;\n\n  if (dest.nodeType !== 1) {\n    return;\n  }\n\n  // 1. Copy private data: events, handlers, etc.\n  if (dataPriv.hasData(src)) {\n    pdataOld = dataPriv.access(src);\n    pdataCur = dataPriv.set(dest, pdataOld);\n    events = pdataOld.events;\n\n    if (events) {\n      delete pdataCur.handle;\n      pdataCur.events = {};\n\n      for (type in events) {\n        for (i = 0, l = events[type].length; i < l; i++) {\n          jQuery.event.add(dest, type, events[type][i]);\n        }\n      }\n    }\n  }\n\n  // 2. Copy user data\n  if (dataUser.hasData(src)) {\n    udataOld = dataUser.access(src);\n    udataCur = jQuery.extend({}, udataOld);\n\n    dataUser.set(dest, udataCur);\n  }\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput(src, dest) {\n  const nodeName = dest.nodeName.toLowerCase();\n\n  // Fails to persist the checked state of a cloned checkbox or radio button.\n  if (nodeName === 'input' && rcheckableType.test(src.type)) {\n    dest.checked = src.checked;\n\n    // Fails to return the selected option to the default selected state when cloning options\n  } else if (nodeName === 'input' || nodeName === 'textarea') {\n    dest.defaultValue = src.defaultValue;\n  }\n}\n\nfunction domManip(collection, args, callback, ignored) {\n  // Flatten any nested arrays\n  args = concat.apply([], args);\n\n  let fragment; let first; let scripts; let hasScripts; let node; let doc;\n  let i = 0;\n  const l = collection.length;\n  const iNoClone = l - 1;\n  const value = args[0];\n  const valueIsFunction = isFunction(value);\n\n  // We can't cloneNode fragments that contain checked, in WebKit\n  if (valueIsFunction\n\t\t\t|| (l > 1 && typeof value === 'string'\n\t\t\t\t&& !support.checkClone && rchecked.test(value))) {\n    return collection.each(function (index) {\n      const self = collection.eq(index);\n      if (valueIsFunction) {\n        args[0] = value.call(this, index, self.html());\n      }\n      domManip(self, args, callback, ignored);\n    });\n  }\n\n  if (l) {\n    fragment = buildFragment(args, collection[0].ownerDocument, false, collection, ignored);\n    first = fragment.firstChild;\n\n    if (fragment.childNodes.length === 1) {\n      fragment = first;\n    }\n\n    // Require either new content or an interest in ignored elements to invoke the callback\n    if (first || ignored) {\n      scripts = jQuery.map(getAll(fragment, 'script'), disableScript);\n      hasScripts = scripts.length;\n\n      // Use the original fragment for the last item\n      // instead of the first because it can end up\n      // being emptied incorrectly in certain situations (#8070).\n      for (; i < l; i++) {\n        node = fragment;\n\n        if (i !== iNoClone) {\n          node = jQuery.clone(node, true, true);\n\n          // Keep references to cloned scripts for later restoration\n          if (hasScripts) {\n            // Support: Android <=4.0 only, PhantomJS 1 only\n            // push.apply(_, arraylike) throws on ancient WebKit\n            jQuery.merge(scripts, getAll(node, 'script'));\n          }\n        }\n\n        callback.call(collection[i], node, i);\n      }\n\n      if (hasScripts) {\n        doc = scripts[scripts.length - 1].ownerDocument;\n\n        // Reenable scripts\n        jQuery.map(scripts, restoreScript);\n\n        // Evaluate executable scripts on first document insertion\n        for (i = 0; i < hasScripts; i++) {\n          node = scripts[i];\n          if (rscriptType.test(node.type || '')\n\t\t\t\t\t\t&& !dataPriv.access(node, 'globalEval')\n\t\t\t\t\t\t&& jQuery.contains(doc, node)) {\n            if (node.src && (node.type || '').toLowerCase() !== 'module') {\n              // Optional AJAX dependency, but won't run scripts if not present\n              if (jQuery._evalUrl && !node.noModule) {\n                jQuery._evalUrl(node.src, {\n                  nonce: node.nonce || node.getAttribute('nonce'),\n                });\n              }\n            } else {\n              DOMEval(node.textContent.replace(rcleanScript, ''), node, doc);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return collection;\n}\n\nfunction remove(elem, selector, keepData) {\n  let node;\n  const nodes = selector ? jQuery.filter(selector, elem) : elem;\n  let i = 0;\n\n  for (; (node = nodes[i]) != null; i++) {\n    if (!keepData && node.nodeType === 1) {\n      jQuery.cleanData(getAll(node));\n    }\n\n    if (node.parentNode) {\n      if (keepData && isAttached(node)) {\n        setGlobalEval(getAll(node, 'script'));\n      }\n      node.parentNode.removeChild(node);\n    }\n  }\n\n  return elem;\n}\n\njQuery.extend({\n  htmlPrefilter(html) {\n    return html.replace(rxhtmlTag, '<$1></$2>');\n  },\n\n  clone(elem, dataAndEvents, deepDataAndEvents) {\n    let i; let l; let srcElements; let destElements;\n    const clone = elem.cloneNode(true);\n    const inPage = isAttached(elem);\n\n    // Fix IE cloning issues\n    if (!support.noCloneChecked && (elem.nodeType === 1 || elem.nodeType === 11)\n\t\t\t\t&& !jQuery.isXMLDoc(elem)) {\n      // We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n      destElements = getAll(clone);\n      srcElements = getAll(elem);\n\n      for (i = 0, l = srcElements.length; i < l; i++) {\n        fixInput(srcElements[i], destElements[i]);\n      }\n    }\n\n    // Copy the events from the original to the clone\n    if (dataAndEvents) {\n      if (deepDataAndEvents) {\n        srcElements = srcElements || getAll(elem);\n        destElements = destElements || getAll(clone);\n\n        for (i = 0, l = srcElements.length; i < l; i++) {\n          cloneCopyEvent(srcElements[i], destElements[i]);\n        }\n      } else {\n        cloneCopyEvent(elem, clone);\n      }\n    }\n\n    // Preserve script evaluation history\n    destElements = getAll(clone, 'script');\n    if (destElements.length > 0) {\n      setGlobalEval(destElements, !inPage && getAll(elem, 'script'));\n    }\n\n    // Return the cloned set\n    return clone;\n  },\n\n  cleanData(elems) {\n    let data; let elem; let type;\n    const { special } = jQuery.event;\n    let i = 0;\n\n    for (; (elem = elems[i]) !== undefined; i++) {\n      if (acceptData(elem)) {\n        if ((data = elem[dataPriv.expando])) {\n          if (data.events) {\n            for (type in data.events) {\n              if (special[type]) {\n                jQuery.event.remove(elem, type);\n\n                // This is a shortcut to avoid jQuery.event.remove's overhead\n              } else {\n                jQuery.removeEvent(elem, type, data.handle);\n              }\n            }\n          }\n\n          // Support: Chrome <=35 - 45+\n          // Assign undefined instead of using delete, see Data#remove\n          elem[dataPriv.expando] = undefined;\n        }\n        if (elem[dataUser.expando]) {\n          // Support: Chrome <=35 - 45+\n          // Assign undefined instead of using delete, see Data#remove\n          elem[dataUser.expando] = undefined;\n        }\n      }\n    }\n  },\n});\n\njQuery.fn.extend({\n  detach(selector) {\n    return remove(this, selector, true);\n  },\n\n  remove(selector) {\n    return remove(this, selector);\n  },\n\n  text(value) {\n    return access(this, function (value) {\n      return value === undefined\n        ? jQuery.text(this)\n        : this.empty().each(function () {\n          if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n            this.textContent = value;\n          }\n        });\n    }, null, value, arguments.length);\n  },\n\n  append() {\n    return domManip(this, arguments, function (elem) {\n      if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n        const target = manipulationTarget(this, elem);\n        target.appendChild(elem);\n      }\n    });\n  },\n\n  prepend() {\n    return domManip(this, arguments, function (elem) {\n      if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n        const target = manipulationTarget(this, elem);\n        target.insertBefore(elem, target.firstChild);\n      }\n    });\n  },\n\n  before() {\n    return domManip(this, arguments, function (elem) {\n      if (this.parentNode) {\n        this.parentNode.insertBefore(elem, this);\n      }\n    });\n  },\n\n  after() {\n    return domManip(this, arguments, function (elem) {\n      if (this.parentNode) {\n        this.parentNode.insertBefore(elem, this.nextSibling);\n      }\n    });\n  },\n\n  empty() {\n    let elem;\n    let i = 0;\n\n    for (; (elem = this[i]) != null; i++) {\n      if (elem.nodeType === 1) {\n        // Prevent memory leaks\n        jQuery.cleanData(getAll(elem, false));\n\n        // Remove any remaining nodes\n        elem.textContent = '';\n      }\n    }\n\n    return this;\n  },\n\n  clone(dataAndEvents, deepDataAndEvents) {\n    dataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n    deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n    return this.map(function () {\n      return jQuery.clone(this, dataAndEvents, deepDataAndEvents);\n    });\n  },\n\n  html(value) {\n    return access(this, function (value) {\n      let elem = this[0] || {};\n      let i = 0;\n      const l = this.length;\n\n      if (value === undefined && elem.nodeType === 1) {\n        return elem.innerHTML;\n      }\n\n      // See if we can take a shortcut and just use innerHTML\n      if (typeof value === 'string' && !rnoInnerhtml.test(value)\n\t\t\t\t&& !wrapMap[(rtagName.exec(value) || ['', ''])[1].toLowerCase()]) {\n        value = jQuery.htmlPrefilter(value);\n\n        try {\n          for (; i < l; i++) {\n            elem = this[i] || {};\n\n            // Remove element nodes and prevent memory leaks\n            if (elem.nodeType === 1) {\n              jQuery.cleanData(getAll(elem, false));\n              elem.innerHTML = value;\n            }\n          }\n\n          elem = 0;\n\n          // If using innerHTML throws an exception, use the fallback method\n        } catch (e) {}\n      }\n\n      if (elem) {\n        this.empty().append(value);\n      }\n    }, null, value, arguments.length);\n  },\n\n  replaceWith() {\n    const ignored = [];\n\n    // Make the changes, replacing each non-ignored context element with the new content\n    return domManip(this, arguments, function (elem) {\n      const parent = this.parentNode;\n\n      if (jQuery.inArray(this, ignored) < 0) {\n        jQuery.cleanData(getAll(this));\n        if (parent) {\n          parent.replaceChild(elem, this);\n        }\n      }\n\n      // Force callback invocation\n    }, ignored);\n  },\n});\n\njQuery.each({\n  appendTo: 'append',\n  prependTo: 'prepend',\n  insertBefore: 'before',\n  insertAfter: 'after',\n  replaceAll: 'replaceWith',\n}, (name, original) => {\n  jQuery.fn[name] = function (selector) {\n    let elems;\n    const ret = [];\n    const insert = jQuery(selector);\n    const last = insert.length - 1;\n    let i = 0;\n\n    for (; i <= last; i++) {\n      elems = i === last ? this : this.clone(true);\n      jQuery(insert[i])[original](elems);\n\n      // Support: Android <=4.0 only, PhantomJS 1 only\n      // .get() because push.apply(_, arraylike) throws on ancient WebKit\n      push.apply(ret, elems.get());\n    }\n\n    return this.pushStack(ret);\n  };\n});\nconst rnumnonpx = new RegExp(`^(${pnum})(?!px)[a-z%]+$`, 'i');\n\nconst getStyles = function (elem) {\n  // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n  // IE throws on elements created in popups\n  // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n  let view = elem.ownerDocument.defaultView;\n\n  if (!view || !view.opener) {\n    view = window;\n  }\n\n  return view.getComputedStyle(elem);\n};\n\nconst rboxStyle = new RegExp(cssExpand.join('|'), 'i');\n\n\n(function () {\n  // Executing both pixelPosition & boxSizingReliable tests require only one layout\n  // so they're executed at the same time to save the second computation.\n  function computeStyleTests() {\n    // This is a singleton, we need to execute it only once\n    if (!div) {\n      return;\n    }\n\n    container.style.cssText = 'position:absolute;left:-11111px;width:60px;'\n\t\t\t+ 'margin-top:1px;padding:0;border:0';\n    div.style.cssText =\t\t\t'position:relative;display:block;box-sizing:border-box;overflow:scroll;'\n\t\t\t+ 'margin:auto;border:1px;padding:1px;'\n\t\t\t+ 'width:60%;top:1%';\n    documentElement.appendChild(container).appendChild(div);\n\n    const divStyle = window.getComputedStyle(div);\n    pixelPositionVal = divStyle.top !== '1%';\n\n    // Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n    reliableMarginLeftVal = roundPixelMeasures(divStyle.marginLeft) === 12;\n\n    // Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n    // Some styles come back with percentage values, even though they shouldn't\n    div.style.right = '60%';\n    pixelBoxStylesVal = roundPixelMeasures(divStyle.right) === 36;\n\n    // Support: IE 9 - 11 only\n    // Detect misreporting of content dimensions for box-sizing:border-box elements\n    boxSizingReliableVal = roundPixelMeasures(divStyle.width) === 36;\n\n    // Support: IE 9 only\n    // Detect overflow:scroll screwiness (gh-3699)\n    // Support: Chrome <=64\n    // Don't get tricked when zoom affects offsetWidth (gh-4029)\n    div.style.position = 'absolute';\n    scrollboxSizeVal = roundPixelMeasures(div.offsetWidth / 3) === 12;\n\n    documentElement.removeChild(container);\n\n    // Nullify the div so it wouldn't be stored in the memory and\n    // it will also be a sign that checks already performed\n    div = null;\n  }\n\n  function roundPixelMeasures(measure) {\n    return Math.round(parseFloat(measure));\n  }\n\n  let pixelPositionVal; let boxSizingReliableVal; let scrollboxSizeVal; let pixelBoxStylesVal;\n  let reliableMarginLeftVal;\n  var container = document.createElement('div');\n  var div = document.createElement('div');\n\n  // Finish early in limited (non-browser) environments\n  if (!div.style) {\n    return;\n  }\n\n  // Support: IE <=9 - 11 only\n  // Style of cloned element affects source element cloned (#8908)\n  div.style.backgroundClip = 'content-box';\n  div.cloneNode(true).style.backgroundClip = '';\n  support.clearCloneStyle = div.style.backgroundClip === 'content-box';\n\n  jQuery.extend(support, {\n    boxSizingReliable() {\n      computeStyleTests();\n      return boxSizingReliableVal;\n    },\n    pixelBoxStyles() {\n      computeStyleTests();\n      return pixelBoxStylesVal;\n    },\n    pixelPosition() {\n      computeStyleTests();\n      return pixelPositionVal;\n    },\n    reliableMarginLeft() {\n      computeStyleTests();\n      return reliableMarginLeftVal;\n    },\n    scrollboxSize() {\n      computeStyleTests();\n      return scrollboxSizeVal;\n    },\n  });\n}());\n\n\nfunction curCSS(elem, name, computed) {\n  let width; let minWidth; let maxWidth; let ret;\n\n  // Support: Firefox 51+\n  // Retrieving style before computed somehow\n  // fixes an issue with getting wrong values\n  // on detached elements\n  const { style } = elem;\n\n  computed = computed || getStyles(elem);\n\n  // getPropertyValue is needed for:\n  //   .css('filter') (IE 9 only, #12537)\n  //   .css('--customProperty) (#3144)\n  if (computed) {\n    ret = computed.getPropertyValue(name) || computed[name];\n\n    if (ret === '' && !isAttached(elem)) {\n      ret = jQuery.style(elem, name);\n    }\n\n    // A tribute to the \"awesome hack by Dean Edwards\"\n    // Android Browser returns percentage for some values,\n    // but width seems to be reliably pixels.\n    // This is against the CSSOM draft spec:\n    // https://drafts.csswg.org/cssom/#resolved-values\n    if (!support.pixelBoxStyles() && rnumnonpx.test(ret) && rboxStyle.test(name)) {\n      // Remember the original values\n      width = style.width;\n      minWidth = style.minWidth;\n      maxWidth = style.maxWidth;\n\n      // Put in the new values to get a computed value out\n      style.minWidth = style.maxWidth = style.width = ret;\n      ret = computed.width;\n\n      // Revert the changed values\n      style.width = width;\n      style.minWidth = minWidth;\n      style.maxWidth = maxWidth;\n    }\n  }\n\n  return ret !== undefined\n\n  // Support: IE <=9 - 11 only\n  // IE returns zIndex value as an integer.\n    ? `${ret}`\n    : ret;\n}\n\n\nfunction addGetHookIf(conditionFn, hookFn) {\n  // Define the hook, we'll check on the first run if it's really needed.\n  return {\n    get() {\n      if (conditionFn()) {\n        // Hook not needed (or it's not possible to use it due\n        // to missing dependency), remove it.\n        delete this.get;\n        return;\n      }\n\n      // Hook needed; redefine it so that the support test is not executed again.\n      return (this.get = hookFn).apply(this, arguments);\n    },\n  };\n}\n\n\nconst cssPrefixes = ['Webkit', 'Moz', 'ms'];\nconst emptyStyle = document.createElement('div').style;\nconst vendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName(name) {\n  // Check for vendor prefixed names\n  const capName = name[0].toUpperCase() + name.slice(1);\n  let i = cssPrefixes.length;\n\n  while (i--) {\n    name = cssPrefixes[i] + capName;\n    if (name in emptyStyle) {\n      return name;\n    }\n  }\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName(name) {\n  const final = jQuery.cssProps[name] || vendorProps[name];\n\n  if (final) {\n    return final;\n  }\n  if (name in emptyStyle) {\n    return name;\n  }\n  return vendorProps[name] = vendorPropName(name) || name;\n}\n\n\nconst\n\n  // Swappable if display is none or starts with table\n  // except \"table\", \"table-cell\", or \"table-caption\"\n  // See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n  rdisplayswap = /^(none|table(?!-c[ea]).+)/;\nconst rcustomProp = /^--/;\nconst cssShow = { position: 'absolute', visibility: 'hidden', display: 'block' };\nconst cssNormalTransform = {\n  letterSpacing: '0',\n  fontWeight: '400',\n};\n\nfunction setPositiveNumber(elem, value, subtract) {\n  // Any relative (+/-) values have already been\n  // normalized at this point\n  const matches = rcssNum.exec(value);\n  return matches\n\n  // Guard against undefined \"subtract\", e.g., when used as in cssHooks\n    ? Math.max(0, matches[2] - (subtract || 0)) + (matches[3] || 'px')\n    : value;\n}\n\nfunction boxModelAdjustment(elem, dimension, box, isBorderBox, styles, computedVal) {\n  let i = dimension === 'width' ? 1 : 0;\n  let extra = 0;\n  let delta = 0;\n\n  // Adjustment may not be necessary\n  if (box === (isBorderBox ? 'border' : 'content')) {\n    return 0;\n  }\n\n  for (; i < 4; i += 2) {\n    // Both box models exclude margin\n    if (box === 'margin') {\n      delta += jQuery.css(elem, box + cssExpand[i], true, styles);\n    }\n\n    // If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n    if (!isBorderBox) {\n      // Add padding\n      delta += jQuery.css(elem, `padding${cssExpand[i]}`, true, styles);\n\n      // For \"border\" or \"margin\", add border\n      if (box !== 'padding') {\n        delta += jQuery.css(elem, `border${cssExpand[i]}Width`, true, styles);\n\n        // But still keep track of it otherwise\n      } else {\n        extra += jQuery.css(elem, `border${cssExpand[i]}Width`, true, styles);\n      }\n\n      // If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n      // \"padding\" or \"margin\"\n    } else {\n      // For \"content\", subtract padding\n      if (box === 'content') {\n        delta -= jQuery.css(elem, `padding${cssExpand[i]}`, true, styles);\n      }\n\n      // For \"content\" or \"padding\", subtract border\n      if (box !== 'margin') {\n        delta -= jQuery.css(elem, `border${cssExpand[i]}Width`, true, styles);\n      }\n    }\n  }\n\n  // Account for positive content-box scroll gutter when requested by providing computedVal\n  if (!isBorderBox && computedVal >= 0) {\n    // offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n    // Assuming integer scroll gutter, subtract the rest and round down\n    delta += Math.max(0, Math.ceil(\n      elem[`offset${dimension[0].toUpperCase()}${dimension.slice(1)}`]\n\t\t\t- computedVal\n\t\t\t- delta\n\t\t\t- extra\n\t\t\t- 0.5,\n\n      // If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n      // Use an explicit zero to avoid NaN (gh-3964)\n    )) || 0;\n  }\n\n  return delta;\n}\n\nfunction getWidthOrHeight(elem, dimension, extra) {\n  // Start with computed style\n  const styles = getStyles(elem);\n\n  // To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n  // Fake content-box until we know it's needed to know the true value.\n  const boxSizingNeeded = !support.boxSizingReliable() || extra;\n  let isBorderBox = boxSizingNeeded\n\t\t\t&& jQuery.css(elem, 'boxSizing', false, styles) === 'border-box';\n  let valueIsBorderBox = isBorderBox;\n\n  let val = curCSS(elem, dimension, styles);\n  const offsetProp = `offset${dimension[0].toUpperCase()}${dimension.slice(1)}`;\n\n  // Support: Firefox <=54\n  // Return a confounding non-pixel value or feign ignorance, as appropriate.\n  if (rnumnonpx.test(val)) {\n    if (!extra) {\n      return val;\n    }\n    val = 'auto';\n  }\n\n\n  // Fall back to offsetWidth/offsetHeight when value is \"auto\"\n  // This happens for inline elements with no explicit setting (gh-3571)\n  // Support: Android <=4.1 - 4.3 only\n  // Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n  // Support: IE 9-11 only\n  // Also use offsetWidth/offsetHeight for when box sizing is unreliable\n  // We use getClientRects() to check for hidden/disconnected.\n  // In those cases, the computed value can be trusted to be border-box\n  if ((!support.boxSizingReliable() && isBorderBox\n\t\t|| val === 'auto'\n\t\t|| !parseFloat(val) && jQuery.css(elem, 'display', false, styles) === 'inline')\n\t\t&& elem.getClientRects().length) {\n    isBorderBox = jQuery.css(elem, 'boxSizing', false, styles) === 'border-box';\n\n    // Where available, offsetWidth/offsetHeight approximate border box dimensions.\n    // Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n    // retrieved value as a content box dimension.\n    valueIsBorderBox = offsetProp in elem;\n    if (valueIsBorderBox) {\n      val = elem[offsetProp];\n    }\n  }\n\n  // Normalize \"\" and auto\n  val = parseFloat(val) || 0;\n\n  // Adjust for the element's box model\n  return `${val\n\t\t+ boxModelAdjustment(\n\t\t  elem,\n\t\t  dimension,\n\t\t  extra || (isBorderBox ? 'border' : 'content'),\n\t\t  valueIsBorderBox,\n\t\t  styles,\n\n\t\t  // Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t  val,\n\t\t)\n\t  }px`;\n}\n\njQuery.extend({\n\n  // Add in style property hooks for overriding the default\n  // behavior of getting and setting a style property\n  cssHooks: {\n    opacity: {\n      get(elem, computed) {\n        if (computed) {\n          // We should always get a number back from opacity\n          const ret = curCSS(elem, 'opacity');\n          return ret === '' ? '1' : ret;\n        }\n      },\n    },\n  },\n\n  // Don't automatically add \"px\" to these possibly-unitless properties\n  cssNumber: {\n    animationIterationCount: true,\n    columnCount: true,\n    fillOpacity: true,\n    flexGrow: true,\n    flexShrink: true,\n    fontWeight: true,\n    gridArea: true,\n    gridColumn: true,\n    gridColumnEnd: true,\n    gridColumnStart: true,\n    gridRow: true,\n    gridRowEnd: true,\n    gridRowStart: true,\n    lineHeight: true,\n    opacity: true,\n    order: true,\n    orphans: true,\n    widows: true,\n    zIndex: true,\n    zoom: true,\n  },\n\n  // Add in properties whose names you wish to fix before\n  // setting or getting the value\n  cssProps: {},\n\n  // Get and set the style property on a DOM Node\n  style(elem, name, value, extra) {\n    // Don't set styles on text and comment nodes\n    if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {\n      return;\n    }\n\n    // Make sure that we're working with the right name\n    let ret; let type; let hooks;\n    const origName = camelCase(name);\n    const isCustomProp = rcustomProp.test(name);\n    const { style } = elem;\n\n    // Make sure that we're working with the right name. We don't\n    // want to query the value if it is a CSS custom property\n    // since they are user-defined.\n    if (!isCustomProp) {\n      name = finalPropName(origName);\n    }\n\n    // Gets hook for the prefixed version, then unprefixed version\n    hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];\n\n    // Check if we're setting a value\n    if (value !== undefined) {\n      type = typeof value;\n\n      // Convert \"+=\" or \"-=\" to relative numbers (#7345)\n      if (type === 'string' && (ret = rcssNum.exec(value)) && ret[1]) {\n        value = adjustCSS(elem, name, ret);\n\n        // Fixes bug #9237\n        type = 'number';\n      }\n\n      // Make sure that null and NaN values aren't set (#7116)\n      if (value == null || value !== value) {\n        return;\n      }\n\n      // If a number was passed in, add the unit (except for certain CSS properties)\n      // The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n      // \"px\" to a few hardcoded values.\n      if (type === 'number' && !isCustomProp) {\n        value += ret && ret[3] || (jQuery.cssNumber[origName] ? '' : 'px');\n      }\n\n      // background-* props affect original clone's values\n      if (!support.clearCloneStyle && value === '' && name.indexOf('background') === 0) {\n        style[name] = 'inherit';\n      }\n\n      // If a hook was provided, use that value, otherwise just set the specified value\n      if (!hooks || !('set' in hooks)\n\t\t\t\t|| (value = hooks.set(elem, value, extra)) !== undefined) {\n        if (isCustomProp) {\n          style.setProperty(name, value);\n        } else {\n          style[name] = value;\n        }\n      }\n    } else {\n      // If a hook was provided get the non-computed value from there\n      if (hooks && 'get' in hooks\n\t\t\t\t&& (ret = hooks.get(elem, false, extra)) !== undefined) {\n        return ret;\n      }\n\n      // Otherwise just get the value from the style object\n      return style[name];\n    }\n  },\n\n  css(elem, name, extra, styles) {\n    let val; let num; let hooks;\n    const origName = camelCase(name);\n    const isCustomProp = rcustomProp.test(name);\n\n    // Make sure that we're working with the right name. We don't\n    // want to modify the value if it is a CSS custom property\n    // since they are user-defined.\n    if (!isCustomProp) {\n      name = finalPropName(origName);\n    }\n\n    // Try prefixed name followed by the unprefixed name\n    hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];\n\n    // If a hook was provided get the computed value from there\n    if (hooks && 'get' in hooks) {\n      val = hooks.get(elem, true, extra);\n    }\n\n    // Otherwise, if a way to get the computed value exists, use that\n    if (val === undefined) {\n      val = curCSS(elem, name, styles);\n    }\n\n    // Convert \"normal\" to computed value\n    if (val === 'normal' && name in cssNormalTransform) {\n      val = cssNormalTransform[name];\n    }\n\n    // Make numeric if forced or a qualifier was provided and val looks numeric\n    if (extra === '' || extra) {\n      num = parseFloat(val);\n      return extra === true || isFinite(num) ? num || 0 : val;\n    }\n\n    return val;\n  },\n});\n\njQuery.each(['height', 'width'], (i, dimension) => {\n  jQuery.cssHooks[dimension] = {\n    get(elem, computed, extra) {\n      if (computed) {\n        // Certain elements can have dimension info if we invisibly show them\n        // but it must have a current display style that would benefit\n        return rdisplayswap.test(jQuery.css(elem, 'display'))\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t&& (!elem.getClientRects().length || !elem.getBoundingClientRect().width)\n          ? swap(elem, cssShow, () => getWidthOrHeight(elem, dimension, extra))\n          : getWidthOrHeight(elem, dimension, extra);\n      }\n    },\n\n    set(elem, value, extra) {\n      let matches;\n      const styles = getStyles(elem);\n\n      // Only read styles.position if the test has a chance to fail\n      // to avoid forcing a reflow.\n      const scrollboxSizeBuggy = !support.scrollboxSize()\n\t\t\t\t\t&& styles.position === 'absolute';\n\n      // To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n      const boxSizingNeeded = scrollboxSizeBuggy || extra;\n      const isBorderBox = boxSizingNeeded\n\t\t\t\t\t&& jQuery.css(elem, 'boxSizing', false, styles) === 'border-box';\n      let subtract = extra\n        ? boxModelAdjustment(\n          elem,\n          dimension,\n          extra,\n          isBorderBox,\n          styles,\n        )\n        : 0;\n\n      // Account for unreliable border-box dimensions by comparing offset* to computed and\n      // faking a content-box to get border and padding (gh-3699)\n      if (isBorderBox && scrollboxSizeBuggy) {\n        subtract -= Math.ceil(\n          elem[`offset${dimension[0].toUpperCase()}${dimension.slice(1)}`]\n\t\t\t\t\t- parseFloat(styles[dimension])\n\t\t\t\t\t- boxModelAdjustment(elem, dimension, 'border', false, styles)\n\t\t\t\t\t- 0.5,\n        );\n      }\n\n      // Convert to pixels if value adjustment is needed\n      if (subtract && (matches = rcssNum.exec(value))\n\t\t\t\t&& (matches[3] || 'px') !== 'px') {\n        elem.style[dimension] = value;\n        value = jQuery.css(elem, dimension);\n      }\n\n      return setPositiveNumber(elem, value, subtract);\n    },\n  };\n});\n\njQuery.cssHooks.marginLeft = addGetHookIf(support.reliableMarginLeft,\n  (elem, computed) => {\n    if (computed) {\n      return `${parseFloat(curCSS(elem, 'marginLeft'))\n\t\t\t\t|| elem.getBoundingClientRect().left\n\t\t\t\t\t- swap(elem, { marginLeft: 0 }, () => elem.getBoundingClientRect().left)\n\t\t\t\t  }px`;\n    }\n  });\n\n// These hooks are used by animate to expand properties\njQuery.each({\n  margin: '',\n  padding: '',\n  border: 'Width',\n}, (prefix, suffix) => {\n  jQuery.cssHooks[prefix + suffix] = {\n    expand(value) {\n      let i = 0;\n      const expanded = {};\n\n      // Assumes a single number if not a string\n      const parts = typeof value === 'string' ? value.split(' ') : [value];\n\n      for (; i < 4; i++) {\n        expanded[prefix + cssExpand[i] + suffix] =\t\t\t\t\tparts[i] || parts[i - 2] || parts[0];\n      }\n\n      return expanded;\n    },\n  };\n\n  if (prefix !== 'margin') {\n    jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;\n  }\n});\n\njQuery.fn.extend({\n  css(name, value) {\n    return access(this, (elem, name, value) => {\n      let styles; let len;\n      const map = {};\n      let i = 0;\n\n      if (Array.isArray(name)) {\n        styles = getStyles(elem);\n        len = name.length;\n\n        for (; i < len; i++) {\n          map[name[i]] = jQuery.css(elem, name[i], false, styles);\n        }\n\n        return map;\n      }\n\n      return value !== undefined\n        ? jQuery.style(elem, name, value)\n        : jQuery.css(elem, name);\n    }, name, value, arguments.length > 1);\n  },\n});\n\n\nfunction Tween(elem, options, prop, end, easing) {\n  return new Tween.prototype.init(elem, options, prop, end, easing);\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n  constructor: Tween,\n  init(elem, options, prop, end, easing, unit) {\n    this.elem = elem;\n    this.prop = prop;\n    this.easing = easing || jQuery.easing._default;\n    this.options = options;\n    this.start = this.now = this.cur();\n    this.end = end;\n    this.unit = unit || (jQuery.cssNumber[prop] ? '' : 'px');\n  },\n  cur() {\n    const hooks = Tween.propHooks[this.prop];\n\n    return hooks && hooks.get\n      ? hooks.get(this)\n      : Tween.propHooks._default.get(this);\n  },\n  run(percent) {\n    let eased;\n    const hooks = Tween.propHooks[this.prop];\n\n    if (this.options.duration) {\n      this.pos = eased = jQuery.easing[this.easing](\n        percent, this.options.duration * percent, 0, 1, this.options.duration,\n      );\n    } else {\n      this.pos = eased = percent;\n    }\n    this.now = (this.end - this.start) * eased + this.start;\n\n    if (this.options.step) {\n      this.options.step.call(this.elem, this.now, this);\n    }\n\n    if (hooks && hooks.set) {\n      hooks.set(this);\n    } else {\n      Tween.propHooks._default.set(this);\n    }\n    return this;\n  },\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n  _default: {\n    get(tween) {\n      let result;\n\n      // Use a property on the element directly when it is not a DOM element,\n      // or when there is no matching style property that exists.\n      if (tween.elem.nodeType !== 1\n\t\t\t\t|| tween.elem[tween.prop] != null && tween.elem.style[tween.prop] == null) {\n        return tween.elem[tween.prop];\n      }\n\n      // Passing an empty string as a 3rd parameter to .css will automatically\n      // attempt a parseFloat and fallback to a string if the parse fails.\n      // Simple values such as \"10px\" are parsed to Float;\n      // complex values such as \"rotate(1rad)\" are returned as-is.\n      result = jQuery.css(tween.elem, tween.prop, '');\n\n      // Empty strings, null, undefined and \"auto\" are converted to 0.\n      return !result || result === 'auto' ? 0 : result;\n    },\n    set(tween) {\n      // Use step hook for back compat.\n      // Use cssHook if its there.\n      // Use .style if available and use plain properties where available.\n      if (jQuery.fx.step[tween.prop]) {\n        jQuery.fx.step[tween.prop](tween);\n      } else if (tween.elem.nodeType === 1 && (\n        jQuery.cssHooks[tween.prop]\n\t\t\t\t\t|| tween.elem.style[finalPropName(tween.prop)] != null)) {\n        jQuery.style(tween.elem, tween.prop, tween.now + tween.unit);\n      } else {\n        tween.elem[tween.prop] = tween.now;\n      }\n    },\n  },\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n  set(tween) {\n    if (tween.elem.nodeType && tween.elem.parentNode) {\n      tween.elem[tween.prop] = tween.now;\n    }\n  },\n};\n\njQuery.easing = {\n  linear(p) {\n    return p;\n  },\n  swing(p) {\n    return 0.5 - Math.cos(p * Math.PI) / 2;\n  },\n  _default: 'swing',\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\nlet\n  fxNow; let inProgress;\nconst rfxtypes = /^(?:toggle|show|hide)$/;\nconst rrun = /queueHooks$/;\n\nfunction schedule() {\n  if (inProgress) {\n    if (document.hidden === false && window.requestAnimationFrame) {\n      window.requestAnimationFrame(schedule);\n    } else {\n      window.setTimeout(schedule, jQuery.fx.interval);\n    }\n\n    jQuery.fx.tick();\n  }\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n  window.setTimeout(() => {\n    fxNow = undefined;\n  });\n  return (fxNow = Date.now());\n}\n\n// Generate parameters to create a standard animation\nfunction genFx(type, includeWidth) {\n  let which;\n  let i = 0;\n  const attrs = { height: type };\n\n  // If we include width, step value is 1 to do all cssExpand values,\n  // otherwise step value is 2 to skip over Left and Right\n  includeWidth = includeWidth ? 1 : 0;\n  for (; i < 4; i += 2 - includeWidth) {\n    which = cssExpand[i];\n    attrs[`margin${which}`] = attrs[`padding${which}`] = type;\n  }\n\n  if (includeWidth) {\n    attrs.opacity = attrs.width = type;\n  }\n\n  return attrs;\n}\n\nfunction createTween(value, prop, animation) {\n  let tween;\n  const collection = (Animation.tweeners[prop] || []).concat(Animation.tweeners['*']);\n  let index = 0;\n  const { length } = collection;\n  for (; index < length; index++) {\n    if ((tween = collection[index].call(animation, prop, value))) {\n      // We're done with this property\n      return tween;\n    }\n  }\n}\n\nfunction defaultPrefilter(elem, props, opts) {\n  let prop; let value; let toggle; let hooks; let oldfire; let propTween; let restoreDisplay; let display;\n  const isBox = 'width' in props || 'height' in props;\n  const anim = this;\n  const orig = {};\n  const { style } = elem;\n  let hidden = elem.nodeType && isHiddenWithinTree(elem);\n  let dataShow = dataPriv.get(elem, 'fxshow');\n\n  // Queue-skipping animations hijack the fx hooks\n  if (!opts.queue) {\n    hooks = jQuery._queueHooks(elem, 'fx');\n    if (hooks.unqueued == null) {\n      hooks.unqueued = 0;\n      oldfire = hooks.empty.fire;\n      hooks.empty.fire = function () {\n        if (!hooks.unqueued) {\n          oldfire();\n        }\n      };\n    }\n    hooks.unqueued++;\n\n    anim.always(() => {\n      // Ensure the complete handler is called before this completes\n      anim.always(() => {\n        hooks.unqueued--;\n        if (!jQuery.queue(elem, 'fx').length) {\n          hooks.empty.fire();\n        }\n      });\n    });\n  }\n\n  // Detect show/hide animations\n  for (prop in props) {\n    value = props[prop];\n    if (rfxtypes.test(value)) {\n      delete props[prop];\n      toggle = toggle || value === 'toggle';\n      if (value === (hidden ? 'hide' : 'show')) {\n        // Pretend to be hidden if this is a \"show\" and\n        // there is still data from a stopped show/hide\n        if (value === 'show' && dataShow && dataShow[prop] !== undefined) {\n          hidden = true;\n\n          // Ignore all other no-op show/hide data\n        } else {\n          continue;\n        }\n      }\n      orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop);\n    }\n  }\n\n  // Bail out if this is a no-op like .hide().hide()\n  propTween = !jQuery.isEmptyObject(props);\n  if (!propTween && jQuery.isEmptyObject(orig)) {\n    return;\n  }\n\n  // Restrict \"overflow\" and \"display\" styles during box animations\n  if (isBox && elem.nodeType === 1) {\n    // Support: IE <=9 - 11, Edge 12 - 15\n    // Record all 3 overflow attributes because IE does not infer the shorthand\n    // from identically-valued overflowX and overflowY and Edge just mirrors\n    // the overflowX value there.\n    opts.overflow = [style.overflow, style.overflowX, style.overflowY];\n\n    // Identify a display type, preferring old show/hide data over the CSS cascade\n    restoreDisplay = dataShow && dataShow.display;\n    if (restoreDisplay == null) {\n      restoreDisplay = dataPriv.get(elem, 'display');\n    }\n    display = jQuery.css(elem, 'display');\n    if (display === 'none') {\n      if (restoreDisplay) {\n        display = restoreDisplay;\n      } else {\n        // Get nonempty value(s) by temporarily forcing visibility\n        showHide([elem], true);\n        restoreDisplay = elem.style.display || restoreDisplay;\n        display = jQuery.css(elem, 'display');\n        showHide([elem]);\n      }\n    }\n\n    // Animate inline elements as inline-block\n    if (display === 'inline' || display === 'inline-block' && restoreDisplay != null) {\n      if (jQuery.css(elem, 'float') === 'none') {\n        // Restore the original display value at the end of pure show/hide animations\n        if (!propTween) {\n          anim.done(() => {\n            style.display = restoreDisplay;\n          });\n          if (restoreDisplay == null) {\n            display = style.display;\n            restoreDisplay = display === 'none' ? '' : display;\n          }\n        }\n        style.display = 'inline-block';\n      }\n    }\n  }\n\n  if (opts.overflow) {\n    style.overflow = 'hidden';\n    anim.always(() => {\n      style.overflow = opts.overflow[0];\n      style.overflowX = opts.overflow[1];\n      style.overflowY = opts.overflow[2];\n    });\n  }\n\n  // Implement show/hide animations\n  propTween = false;\n  for (prop in orig) {\n    // General show/hide setup for this element animation\n    if (!propTween) {\n      if (dataShow) {\n        if ('hidden' in dataShow) {\n          hidden = dataShow.hidden;\n        }\n      } else {\n        dataShow = dataPriv.access(elem, 'fxshow', { display: restoreDisplay });\n      }\n\n      // Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n      if (toggle) {\n        dataShow.hidden = !hidden;\n      }\n\n      // Show elements before animating them\n      if (hidden) {\n        showHide([elem], true);\n      }\n\n      /* eslint-disable no-loop-func */\n\n      anim.done(() => {\n        /* eslint-enable no-loop-func */\n\n        // The final step of a \"hide\" animation is actually hiding the element\n        if (!hidden) {\n          showHide([elem]);\n        }\n        dataPriv.remove(elem, 'fxshow');\n        for (prop in orig) {\n          jQuery.style(elem, prop, orig[prop]);\n        }\n      });\n    }\n\n    // Per-property setup\n    propTween = createTween(hidden ? dataShow[prop] : 0, prop, anim);\n    if (!(prop in dataShow)) {\n      dataShow[prop] = propTween.start;\n      if (hidden) {\n        propTween.end = propTween.start;\n        propTween.start = 0;\n      }\n    }\n  }\n}\n\nfunction propFilter(props, specialEasing) {\n  let index; let name; let easing; let value; let\n    hooks;\n\n  // camelCase, specialEasing and expand cssHook pass\n  for (index in props) {\n    name = camelCase(index);\n    easing = specialEasing[name];\n    value = props[index];\n    if (Array.isArray(value)) {\n      easing = value[1];\n      value = props[index] = value[0];\n    }\n\n    if (index !== name) {\n      props[name] = value;\n      delete props[index];\n    }\n\n    hooks = jQuery.cssHooks[name];\n    if (hooks && 'expand' in hooks) {\n      value = hooks.expand(value);\n      delete props[name];\n\n      // Not quite $.extend, this won't overwrite existing keys.\n      // Reusing 'index' because we have the correct \"name\"\n      for (index in value) {\n        if (!(index in props)) {\n          props[index] = value[index];\n          specialEasing[index] = easing;\n        }\n      }\n    } else {\n      specialEasing[name] = easing;\n    }\n  }\n}\n\nfunction Animation(elem, properties, options) {\n  let result;\n  let stopped;\n  let index = 0;\n  const { length } = Animation.prefilters;\n  const deferred = jQuery.Deferred().always(() => {\n    // Don't match elem in the :animated selector\n    delete tick.elem;\n  });\n  var tick = function () {\n    if (stopped) {\n      return false;\n    }\n    const currentTime = fxNow || createFxNow();\n    const remaining = Math.max(0, animation.startTime + animation.duration - currentTime);\n\n    // Support: Android 2.3 only\n    // Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n    const temp = remaining / animation.duration || 0;\n    const percent = 1 - temp;\n    let index = 0;\n    const { length } = animation.tweens;\n\n    for (; index < length; index++) {\n      animation.tweens[index].run(percent);\n    }\n\n    deferred.notifyWith(elem, [animation, percent, remaining]);\n\n    // If there's more to do, yield\n    if (percent < 1 && length) {\n      return remaining;\n    }\n\n    // If this was an empty animation, synthesize a final progress notification\n    if (!length) {\n      deferred.notifyWith(elem, [animation, 1, 0]);\n    }\n\n    // Resolve the animation and report its conclusion\n    deferred.resolveWith(elem, [animation]);\n    return false;\n  };\n  var animation = deferred.promise({\n    elem,\n    props: jQuery.extend({}, properties),\n    opts: jQuery.extend(true, {\n      specialEasing: {},\n      easing: jQuery.easing._default,\n    }, options),\n    originalProperties: properties,\n    originalOptions: options,\n    startTime: fxNow || createFxNow(),\n    duration: options.duration,\n    tweens: [],\n    createTween(prop, end) {\n      const tween = jQuery.Tween(elem, animation.opts, prop, end,\n        animation.opts.specialEasing[prop] || animation.opts.easing);\n      animation.tweens.push(tween);\n      return tween;\n    },\n    stop(gotoEnd) {\n      let index = 0;\n\n      // If we are going to the end, we want to run all the tweens\n      // otherwise we skip this part\n      const length = gotoEnd ? animation.tweens.length : 0;\n      if (stopped) {\n        return this;\n      }\n      stopped = true;\n      for (; index < length; index++) {\n        animation.tweens[index].run(1);\n      }\n\n      // Resolve when we played the last frame; otherwise, reject\n      if (gotoEnd) {\n        deferred.notifyWith(elem, [animation, 1, 0]);\n        deferred.resolveWith(elem, [animation, gotoEnd]);\n      } else {\n        deferred.rejectWith(elem, [animation, gotoEnd]);\n      }\n      return this;\n    },\n  });\n  const { props } = animation;\n\n  propFilter(props, animation.opts.specialEasing);\n\n  for (; index < length; index++) {\n    result = Animation.prefilters[index].call(animation, elem, props, animation.opts);\n    if (result) {\n      if (isFunction(result.stop)) {\n        jQuery._queueHooks(animation.elem, animation.opts.queue).stop =\t\t\t\t\tresult.stop.bind(result);\n      }\n      return result;\n    }\n  }\n\n  jQuery.map(props, createTween, animation);\n\n  if (isFunction(animation.opts.start)) {\n    animation.opts.start.call(elem, animation);\n  }\n\n  // Attach callbacks from options\n  animation\n    .progress(animation.opts.progress)\n    .done(animation.opts.done, animation.opts.complete)\n    .fail(animation.opts.fail)\n    .always(animation.opts.always);\n\n  jQuery.fx.timer(\n    jQuery.extend(tick, {\n      elem,\n      anim: animation,\n      queue: animation.opts.queue,\n    }),\n  );\n\n  return animation;\n}\n\njQuery.Animation = jQuery.extend(Animation, {\n\n  tweeners: {\n    '*': [function (prop, value) {\n      const tween = this.createTween(prop, value);\n      adjustCSS(tween.elem, prop, rcssNum.exec(value), tween);\n      return tween;\n    }],\n  },\n\n  tweener(props, callback) {\n    if (isFunction(props)) {\n      callback = props;\n      props = ['*'];\n    } else {\n      props = props.match(rnothtmlwhite);\n    }\n\n    let prop;\n    let index = 0;\n    const { length } = props;\n\n    for (; index < length; index++) {\n      prop = props[index];\n      Animation.tweeners[prop] = Animation.tweeners[prop] || [];\n      Animation.tweeners[prop].unshift(callback);\n    }\n  },\n\n  prefilters: [defaultPrefilter],\n\n  prefilter(callback, prepend) {\n    if (prepend) {\n      Animation.prefilters.unshift(callback);\n    } else {\n      Animation.prefilters.push(callback);\n    }\n  },\n});\n\njQuery.speed = function (speed, easing, fn) {\n  const opt = speed && typeof speed === 'object' ? jQuery.extend({}, speed) : {\n    complete: fn || !fn && easing\n\t\t\t|| isFunction(speed) && speed,\n    duration: speed,\n    easing: fn && easing || easing && !isFunction(easing) && easing,\n  };\n\n  // Go to the end state if fx are off\n  if (jQuery.fx.off) {\n    opt.duration = 0;\n  } else if (typeof opt.duration !== 'number') {\n    if (opt.duration in jQuery.fx.speeds) {\n      opt.duration = jQuery.fx.speeds[opt.duration];\n    } else {\n      opt.duration = jQuery.fx.speeds._default;\n    }\n  }\n\n  // Normalize opt.queue - true/undefined/null -> \"fx\"\n  if (opt.queue == null || opt.queue === true) {\n    opt.queue = 'fx';\n  }\n\n  // Queueing\n  opt.old = opt.complete;\n\n  opt.complete = function () {\n    if (isFunction(opt.old)) {\n      opt.old.call(this);\n    }\n\n    if (opt.queue) {\n      jQuery.dequeue(this, opt.queue);\n    }\n  };\n\n  return opt;\n};\n\njQuery.fn.extend({\n  fadeTo(speed, to, easing, callback) {\n    // Show any hidden elements after setting opacity to 0\n    return this.filter(isHiddenWithinTree).css('opacity', 0).show()\n\n    // Animate to the value specified\n      .end()\n      .animate({ opacity: to }, speed, easing, callback);\n  },\n  animate(prop, speed, easing, callback) {\n    const empty = jQuery.isEmptyObject(prop);\n    const optall = jQuery.speed(speed, easing, callback);\n    const doAnimation = function () {\n      // Operate on a copy of prop so per-property easing won't be lost\n      const anim = Animation(this, jQuery.extend({}, prop), optall);\n\n      // Empty animations, or finishing resolves immediately\n      if (empty || dataPriv.get(this, 'finish')) {\n        anim.stop(true);\n      }\n    };\n    doAnimation.finish = doAnimation;\n\n    return empty || optall.queue === false\n      ? this.each(doAnimation)\n      : this.queue(optall.queue, doAnimation);\n  },\n  stop(type, clearQueue, gotoEnd) {\n    const stopQueue = function (hooks) {\n      const { stop } = hooks;\n      delete hooks.stop;\n      stop(gotoEnd);\n    };\n\n    if (typeof type !== 'string') {\n      gotoEnd = clearQueue;\n      clearQueue = type;\n      type = undefined;\n    }\n    if (clearQueue && type !== false) {\n      this.queue(type || 'fx', []);\n    }\n\n    return this.each(function () {\n      let dequeue = true;\n      let index = type != null && `${type}queueHooks`;\n      const { timers } = jQuery;\n      const data = dataPriv.get(this);\n\n      if (index) {\n        if (data[index] && data[index].stop) {\n          stopQueue(data[index]);\n        }\n      } else {\n        for (index in data) {\n          if (data[index] && data[index].stop && rrun.test(index)) {\n            stopQueue(data[index]);\n          }\n        }\n      }\n\n      for (index = timers.length; index--;) {\n        if (timers[index].elem === this\n\t\t\t\t\t&& (type == null || timers[index].queue === type)) {\n          timers[index].anim.stop(gotoEnd);\n          dequeue = false;\n          timers.splice(index, 1);\n        }\n      }\n\n      // Start the next in the queue if the last step wasn't forced.\n      // Timers currently will call their complete callbacks, which\n      // will dequeue but only if they were gotoEnd.\n      if (dequeue || !gotoEnd) {\n        jQuery.dequeue(this, type);\n      }\n    });\n  },\n  finish(type) {\n    if (type !== false) {\n      type = type || 'fx';\n    }\n    return this.each(function () {\n      let index;\n      const data = dataPriv.get(this);\n      const queue = data[`${type}queue`];\n      const hooks = data[`${type}queueHooks`];\n      const { timers } = jQuery;\n      const length = queue ? queue.length : 0;\n\n      // Enable finishing flag on private data\n      data.finish = true;\n\n      // Empty the queue first\n      jQuery.queue(this, type, []);\n\n      if (hooks && hooks.stop) {\n        hooks.stop.call(this, true);\n      }\n\n      // Look for any active animations, and finish them\n      for (index = timers.length; index--;) {\n        if (timers[index].elem === this && timers[index].queue === type) {\n          timers[index].anim.stop(true);\n          timers.splice(index, 1);\n        }\n      }\n\n      // Look for any animations in the old queue and finish them\n      for (index = 0; index < length; index++) {\n        if (queue[index] && queue[index].finish) {\n          queue[index].finish.call(this);\n        }\n      }\n\n      // Turn off finishing flag\n      delete data.finish;\n    });\n  },\n});\n\njQuery.each(['toggle', 'show', 'hide'], (i, name) => {\n  const cssFn = jQuery.fn[name];\n  jQuery.fn[name] = function (speed, easing, callback) {\n    return speed == null || typeof speed === 'boolean'\n      ? cssFn.apply(this, arguments)\n      : this.animate(genFx(name, true), speed, easing, callback);\n  };\n});\n\n// Generate shortcuts for custom animations\njQuery.each({\n  slideDown: genFx('show'),\n  slideUp: genFx('hide'),\n  slideToggle: genFx('toggle'),\n  fadeIn: { opacity: 'show' },\n  fadeOut: { opacity: 'hide' },\n  fadeToggle: { opacity: 'toggle' },\n}, (name, props) => {\n  jQuery.fn[name] = function (speed, easing, callback) {\n    return this.animate(props, speed, easing, callback);\n  };\n});\n\njQuery.timers = [];\njQuery.fx.tick = function () {\n  let timer;\n  let i = 0;\n  const { timers } = jQuery;\n\n  fxNow = Date.now();\n\n  for (; i < timers.length; i++) {\n    timer = timers[i];\n\n    // Run the timer and safely remove it when done (allowing for external removal)\n    if (!timer() && timers[i] === timer) {\n      timers.splice(i--, 1);\n    }\n  }\n\n  if (!timers.length) {\n    jQuery.fx.stop();\n  }\n  fxNow = undefined;\n};\n\njQuery.fx.timer = function (timer) {\n  jQuery.timers.push(timer);\n  jQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function () {\n  if (inProgress) {\n    return;\n  }\n\n  inProgress = true;\n  schedule();\n};\n\njQuery.fx.stop = function () {\n  inProgress = null;\n};\n\njQuery.fx.speeds = {\n  slow: 600,\n  fast: 200,\n\n  // Default speed\n  _default: 400,\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function (time, type) {\n  time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;\n  type = type || 'fx';\n\n  return this.queue(type, (next, hooks) => {\n    const timeout = window.setTimeout(next, time);\n    hooks.stop = function () {\n      window.clearTimeout(timeout);\n    };\n  });\n};\n\n\n(function () {\n  let input = document.createElement('input');\n  const select = document.createElement('select');\n  const opt = select.appendChild(document.createElement('option'));\n\n  input.type = 'checkbox';\n\n  // Support: Android <=4.3 only\n  // Default value for a checkbox should be \"on\"\n  support.checkOn = input.value !== '';\n\n  // Support: IE <=11 only\n  // Must access selectedIndex to make default options select\n  support.optSelected = opt.selected;\n\n  // Support: IE <=11 only\n  // An input loses its value after becoming a radio\n  input = document.createElement('input');\n  input.value = 't';\n  input.type = 'radio';\n  support.radioValue = input.value === 't';\n}());\n\n\nlet boolHook;\nconst { attrHandle } = jQuery.expr;\n\njQuery.fn.extend({\n  attr(name, value) {\n    return access(this, jQuery.attr, name, value, arguments.length > 1);\n  },\n\n  removeAttr(name) {\n    return this.each(function () {\n      jQuery.removeAttr(this, name);\n    });\n  },\n});\n\njQuery.extend({\n  attr(elem, name, value) {\n    let ret; let hooks;\n    const nType = elem.nodeType;\n\n    // Don't get/set attributes on text, comment and attribute nodes\n    if (nType === 3 || nType === 8 || nType === 2) {\n      return;\n    }\n\n    // Fallback to prop when attributes are not supported\n    if (typeof elem.getAttribute === 'undefined') {\n      return jQuery.prop(elem, name, value);\n    }\n\n    // Attribute hooks are determined by the lowercase version\n    // Grab necessary hook if one is defined\n    if (nType !== 1 || !jQuery.isXMLDoc(elem)) {\n      hooks = jQuery.attrHooks[name.toLowerCase()]\n\t\t\t\t|| (jQuery.expr.match.bool.test(name) ? boolHook : undefined);\n    }\n\n    if (value !== undefined) {\n      if (value === null) {\n        jQuery.removeAttr(elem, name);\n        return;\n      }\n\n      if (hooks && 'set' in hooks\n\t\t\t\t&& (ret = hooks.set(elem, value, name)) !== undefined) {\n        return ret;\n      }\n\n      elem.setAttribute(name, `${value}`);\n      return value;\n    }\n\n    if (hooks && 'get' in hooks && (ret = hooks.get(elem, name)) !== null) {\n      return ret;\n    }\n\n    ret = jQuery.find.attr(elem, name);\n\n    // Non-existent attributes return null, we normalize to undefined\n    return ret == null ? undefined : ret;\n  },\n\n  attrHooks: {\n    type: {\n      set(elem, value) {\n        if (!support.radioValue && value === 'radio'\n\t\t\t\t\t&& nodeName(elem, 'input')) {\n          const val = elem.value;\n          elem.setAttribute('type', value);\n          if (val) {\n            elem.value = val;\n          }\n          return value;\n        }\n      },\n    },\n  },\n\n  removeAttr(elem, value) {\n    let name;\n    let i = 0;\n\n    // Attribute names can contain non-HTML whitespace characters\n    // https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n    const attrNames = value && value.match(rnothtmlwhite);\n\n    if (attrNames && elem.nodeType === 1) {\n      while ((name = attrNames[i++])) {\n        elem.removeAttribute(name);\n      }\n    }\n  },\n});\n\n// Hooks for boolean attributes\nboolHook = {\n  set(elem, value, name) {\n    if (value === false) {\n      // Remove boolean attributes when set to false\n      jQuery.removeAttr(elem, name);\n    } else {\n      elem.setAttribute(name, name);\n    }\n    return name;\n  },\n};\n\njQuery.each(jQuery.expr.match.bool.source.match(/\\w+/g), (i, name) => {\n  const getter = attrHandle[name] || jQuery.find.attr;\n\n  attrHandle[name] = function (elem, name, isXML) {\n    let ret; let handle;\n    const lowercaseName = name.toLowerCase();\n\n    if (!isXML) {\n      // Avoid an infinite loop by temporarily removing this function from the getter\n      handle = attrHandle[lowercaseName];\n      attrHandle[lowercaseName] = ret;\n      ret = getter(elem, name, isXML) != null\n        ? lowercaseName\n        : null;\n      attrHandle[lowercaseName] = handle;\n    }\n    return ret;\n  };\n});\n\n\nconst rfocusable = /^(?:input|select|textarea|button)$/i;\nconst rclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend({\n  prop(name, value) {\n    return access(this, jQuery.prop, name, value, arguments.length > 1);\n  },\n\n  removeProp(name) {\n    return this.each(function () {\n      delete this[jQuery.propFix[name] || name];\n    });\n  },\n});\n\njQuery.extend({\n  prop(elem, name, value) {\n    let ret; let hooks;\n    const nType = elem.nodeType;\n\n    // Don't get/set properties on text, comment and attribute nodes\n    if (nType === 3 || nType === 8 || nType === 2) {\n      return;\n    }\n\n    if (nType !== 1 || !jQuery.isXMLDoc(elem)) {\n      // Fix name and attach hooks\n      name = jQuery.propFix[name] || name;\n      hooks = jQuery.propHooks[name];\n    }\n\n    if (value !== undefined) {\n      if (hooks && 'set' in hooks\n\t\t\t\t&& (ret = hooks.set(elem, value, name)) !== undefined) {\n        return ret;\n      }\n\n      return (elem[name] = value);\n    }\n\n    if (hooks && 'get' in hooks && (ret = hooks.get(elem, name)) !== null) {\n      return ret;\n    }\n\n    return elem[name];\n  },\n\n  propHooks: {\n    tabIndex: {\n      get(elem) {\n        // Support: IE <=9 - 11 only\n        // elem.tabIndex doesn't always return the\n        // correct value when it hasn't been explicitly set\n        // https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n        // Use proper attribute retrieval(#12072)\n        const tabindex = jQuery.find.attr(elem, 'tabindex');\n\n        if (tabindex) {\n          return parseInt(tabindex, 10);\n        }\n\n        if (\n          rfocusable.test(elem.nodeName)\n\t\t\t\t\t|| rclickable.test(elem.nodeName)\n\t\t\t\t\t&& elem.href\n        ) {\n          return 0;\n        }\n\n        return -1;\n      },\n    },\n  },\n\n  propFix: {\n    for: 'htmlFor',\n    class: 'className',\n  },\n});\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif (!support.optSelected) {\n  jQuery.propHooks.selected = {\n    get(elem) {\n      /* eslint no-unused-expressions: \"off\" */\n\n      const parent = elem.parentNode;\n      if (parent && parent.parentNode) {\n        parent.parentNode.selectedIndex;\n      }\n      return null;\n    },\n    set(elem) {\n      /* eslint no-unused-expressions: \"off\" */\n\n      const parent = elem.parentNode;\n      if (parent) {\n        parent.selectedIndex;\n\n        if (parent.parentNode) {\n          parent.parentNode.selectedIndex;\n        }\n      }\n    },\n  };\n}\n\njQuery.each([\n  'tabIndex',\n  'readOnly',\n  'maxLength',\n  'cellSpacing',\n  'cellPadding',\n  'rowSpan',\n  'colSpan',\n  'useMap',\n  'frameBorder',\n  'contentEditable',\n], function () {\n  jQuery.propFix[this.toLowerCase()] = this;\n});\n\n\n// Strip and collapse whitespace according to HTML spec\n// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\nfunction stripAndCollapse(value) {\n  const tokens = value.match(rnothtmlwhite) || [];\n  return tokens.join(' ');\n}\n\n\nfunction getClass(elem) {\n  return elem.getAttribute && elem.getAttribute('class') || '';\n}\n\nfunction classesToArray(value) {\n  if (Array.isArray(value)) {\n    return value;\n  }\n  if (typeof value === 'string') {\n    return value.match(rnothtmlwhite) || [];\n  }\n  return [];\n}\n\njQuery.fn.extend({\n  addClass(value) {\n    let classes; let elem; let cur; let curValue; let clazz; let j; let finalValue;\n    let i = 0;\n\n    if (isFunction(value)) {\n      return this.each(function (j) {\n        jQuery(this).addClass(value.call(this, j, getClass(this)));\n      });\n    }\n\n    classes = classesToArray(value);\n\n    if (classes.length) {\n      while ((elem = this[i++])) {\n        curValue = getClass(elem);\n        cur = elem.nodeType === 1 && (` ${stripAndCollapse(curValue)} `);\n\n        if (cur) {\n          j = 0;\n          while ((clazz = classes[j++])) {\n            if (cur.indexOf(` ${clazz} `) < 0) {\n              cur += `${clazz} `;\n            }\n          }\n\n          // Only assign if different to avoid unneeded rendering.\n          finalValue = stripAndCollapse(cur);\n          if (curValue !== finalValue) {\n            elem.setAttribute('class', finalValue);\n          }\n        }\n      }\n    }\n\n    return this;\n  },\n\n  removeClass(value) {\n    let classes; let elem; let cur; let curValue; let clazz; let j; let finalValue;\n    let i = 0;\n\n    if (isFunction(value)) {\n      return this.each(function (j) {\n        jQuery(this).removeClass(value.call(this, j, getClass(this)));\n      });\n    }\n\n    if (!arguments.length) {\n      return this.attr('class', '');\n    }\n\n    classes = classesToArray(value);\n\n    if (classes.length) {\n      while ((elem = this[i++])) {\n        curValue = getClass(elem);\n\n        // This expression is here for better compressibility (see addClass)\n        cur = elem.nodeType === 1 && (` ${stripAndCollapse(curValue)} `);\n\n        if (cur) {\n          j = 0;\n          while ((clazz = classes[j++])) {\n            // Remove *all* instances\n            while (cur.indexOf(` ${clazz} `) > -1) {\n              cur = cur.replace(` ${clazz} `, ' ');\n            }\n          }\n\n          // Only assign if different to avoid unneeded rendering.\n          finalValue = stripAndCollapse(cur);\n          if (curValue !== finalValue) {\n            elem.setAttribute('class', finalValue);\n          }\n        }\n      }\n    }\n\n    return this;\n  },\n\n  toggleClass(value, stateVal) {\n    const type = typeof value;\n    const isValidValue = type === 'string' || Array.isArray(value);\n\n    if (typeof stateVal === 'boolean' && isValidValue) {\n      return stateVal ? this.addClass(value) : this.removeClass(value);\n    }\n\n    if (isFunction(value)) {\n      return this.each(function (i) {\n        jQuery(this).toggleClass(\n          value.call(this, i, getClass(this), stateVal),\n          stateVal,\n        );\n      });\n    }\n\n    return this.each(function () {\n      let className; let i; let self; let\n        classNames;\n\n      if (isValidValue) {\n        // Toggle individual class names\n        i = 0;\n        self = jQuery(this);\n        classNames = classesToArray(value);\n\n        while ((className = classNames[i++])) {\n          // Check each className given, space separated list\n          if (self.hasClass(className)) {\n            self.removeClass(className);\n          } else {\n            self.addClass(className);\n          }\n        }\n\n        // Toggle whole class name\n      } else if (value === undefined || type === 'boolean') {\n        className = getClass(this);\n        if (className) {\n          // Store className if set\n          dataPriv.set(this, '__className__', className);\n        }\n\n        // If the element has a class name or if we're passed `false`,\n        // then remove the whole classname (if there was one, the above saved it).\n        // Otherwise bring back whatever was previously saved (if anything),\n        // falling back to the empty string if nothing was stored.\n        if (this.setAttribute) {\n          this.setAttribute('class',\n            className || value === false\n              ? ''\n              : dataPriv.get(this, '__className__') || '');\n        }\n      }\n    });\n  },\n\n  hasClass(selector) {\n    let className; let elem;\n    let i = 0;\n\n    className = ` ${selector} `;\n    while ((elem = this[i++])) {\n      if (elem.nodeType === 1\n\t\t\t\t&& (` ${stripAndCollapse(getClass(elem))} `).indexOf(className) > -1) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n});\n\n\nconst rreturn = /\\r/g;\n\njQuery.fn.extend({\n  val(value) {\n    let hooks; let ret; let valueIsFunction;\n    const elem = this[0];\n\n    if (!arguments.length) {\n      if (elem) {\n        hooks = jQuery.valHooks[elem.type]\n\t\t\t\t\t|| jQuery.valHooks[elem.nodeName.toLowerCase()];\n\n        if (hooks\n\t\t\t\t\t&& 'get' in hooks\n\t\t\t\t\t&& (ret = hooks.get(elem, 'value')) !== undefined\n        ) {\n          return ret;\n        }\n\n        ret = elem.value;\n\n        // Handle most common string cases\n        if (typeof ret === 'string') {\n          return ret.replace(rreturn, '');\n        }\n\n        // Handle cases where value is null/undef or number\n        return ret == null ? '' : ret;\n      }\n\n      return;\n    }\n\n    valueIsFunction = isFunction(value);\n\n    return this.each(function (i) {\n      let val;\n\n      if (this.nodeType !== 1) {\n        return;\n      }\n\n      if (valueIsFunction) {\n        val = value.call(this, i, jQuery(this).val());\n      } else {\n        val = value;\n      }\n\n      // Treat null/undefined as \"\"; convert numbers to string\n      if (val == null) {\n        val = '';\n      } else if (typeof val === 'number') {\n        val += '';\n      } else if (Array.isArray(val)) {\n        val = jQuery.map(val, (value) => (value == null ? '' : `${value}`));\n      }\n\n      hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];\n\n      // If set returns undefined, fall back to normal setting\n      if (!hooks || !('set' in hooks) || hooks.set(this, val, 'value') === undefined) {\n        this.value = val;\n      }\n    });\n  },\n});\n\njQuery.extend({\n  valHooks: {\n    option: {\n      get(elem) {\n        const val = jQuery.find.attr(elem, 'value');\n        return val != null\n          ? val\n\n        // Support: IE <=10 - 11 only\n        // option.text throws exceptions (#14686, #14858)\n        // Strip and collapse whitespace\n        // https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n          : stripAndCollapse(jQuery.text(elem));\n      },\n    },\n    select: {\n      get(elem) {\n        let value; let option; let i;\n        const { options } = elem;\n        const index = elem.selectedIndex;\n        const one = elem.type === 'select-one';\n        const values = one ? null : [];\n        const max = one ? index + 1 : options.length;\n\n        if (index < 0) {\n          i = max;\n        } else {\n          i = one ? index : 0;\n        }\n\n        // Loop through all the selected options\n        for (; i < max; i++) {\n          option = options[i];\n\n          // Support: IE <=9 only\n          // IE8-9 doesn't update selected after form reset (#2551)\n          if ((option.selected || i === index)\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t&& !option.disabled\n\t\t\t\t\t\t\t&& (!option.parentNode.disabled\n\t\t\t\t\t\t\t\t|| !nodeName(option.parentNode, 'optgroup'))) {\n            // Get the specific value for the option\n            value = jQuery(option).val();\n\n            // We don't need an array for one selects\n            if (one) {\n              return value;\n            }\n\n            // Multi-Selects return an array\n            values.push(value);\n          }\n        }\n\n        return values;\n      },\n\n      set(elem, value) {\n        let optionSet; let option;\n        const { options } = elem;\n        const values = jQuery.makeArray(value);\n        let i = options.length;\n\n        while (i--) {\n          option = options[i];\n\n          /* eslint-disable no-cond-assign */\n\n          if (option.selected =\t\t\t\t\t\tjQuery.inArray(jQuery.valHooks.option.get(option), values) > -1\n          ) {\n            optionSet = true;\n          }\n\n          /* eslint-enable no-cond-assign */\n        }\n\n        // Force browsers to behave consistently when non-matching value is set\n        if (!optionSet) {\n          elem.selectedIndex = -1;\n        }\n        return values;\n      },\n    },\n  },\n});\n\n// Radios and checkboxes getter/setter\njQuery.each(['radio', 'checkbox'], function () {\n  jQuery.valHooks[this] = {\n    set(elem, value) {\n      if (Array.isArray(value)) {\n        return (elem.checked = jQuery.inArray(jQuery(elem).val(), value) > -1);\n      }\n    },\n  };\n  if (!support.checkOn) {\n    jQuery.valHooks[this].get = function (elem) {\n      return elem.getAttribute('value') === null ? 'on' : elem.value;\n    };\n  }\n});\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = 'onfocusin' in window;\n\n\nconst rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;\nconst stopPropagationCallback = function (e) {\n  e.stopPropagation();\n};\n\njQuery.extend(jQuery.event, {\n\n  trigger(event, data, elem, onlyHandlers) {\n    let i; let cur; let tmp; let bubbleType; let ontype; let handle; let special; let lastElement;\n    const eventPath = [elem || document];\n    let type = hasOwn.call(event, 'type') ? event.type : event;\n    let namespaces = hasOwn.call(event, 'namespace') ? event.namespace.split('.') : [];\n\n    cur = lastElement = tmp = elem = elem || document;\n\n    // Don't do events on text and comment nodes\n    if (elem.nodeType === 3 || elem.nodeType === 8) {\n      return;\n    }\n\n    // focus/blur morphs to focusin/out; ensure we're not firing them right now\n    if (rfocusMorph.test(type + jQuery.event.triggered)) {\n      return;\n    }\n\n    if (type.indexOf('.') > -1) {\n      // Namespaced trigger; create a regexp to match event type in handle()\n      namespaces = type.split('.');\n      type = namespaces.shift();\n      namespaces.sort();\n    }\n    ontype = type.indexOf(':') < 0 && `on${type}`;\n\n    // Caller can pass in a jQuery.Event object, Object, or just an event type string\n    event = event[jQuery.expando]\n      ? event\n      : new jQuery.Event(type, typeof event === 'object' && event);\n\n    // Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n    event.isTrigger = onlyHandlers ? 2 : 3;\n    event.namespace = namespaces.join('.');\n    event.rnamespace = event.namespace\n      ? new RegExp(`(^|\\\\.)${namespaces.join('\\\\.(?:.*\\\\.|)')}(\\\\.|$)`)\n      : null;\n\n    // Clean up the event in case it is being reused\n    event.result = undefined;\n    if (!event.target) {\n      event.target = elem;\n    }\n\n    // Clone any incoming data and prepend the event, creating the handler arg list\n    data = data == null\n      ? [event]\n      : jQuery.makeArray(data, [event]);\n\n    // Allow special events to draw outside the lines\n    special = jQuery.event.special[type] || {};\n    if (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {\n      return;\n    }\n\n    // Determine event propagation path in advance, per W3C events spec (#9951)\n    // Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n    if (!onlyHandlers && !special.noBubble && !isWindow(elem)) {\n      bubbleType = special.delegateType || type;\n      if (!rfocusMorph.test(bubbleType + type)) {\n        cur = cur.parentNode;\n      }\n      for (; cur; cur = cur.parentNode) {\n        eventPath.push(cur);\n        tmp = cur;\n      }\n\n      // Only add window if we got to document (e.g., not plain obj or detached DOM)\n      if (tmp === (elem.ownerDocument || document)) {\n        eventPath.push(tmp.defaultView || tmp.parentWindow || window);\n      }\n    }\n\n    // Fire handlers on the event path\n    i = 0;\n    while ((cur = eventPath[i++]) && !event.isPropagationStopped()) {\n      lastElement = cur;\n      event.type = i > 1\n        ? bubbleType\n        : special.bindType || type;\n\n      // jQuery handler\n      handle = (dataPriv.get(cur, 'events') || {})[event.type]\n\t\t\t\t&& dataPriv.get(cur, 'handle');\n      if (handle) {\n        handle.apply(cur, data);\n      }\n\n      // Native handler\n      handle = ontype && cur[ontype];\n      if (handle && handle.apply && acceptData(cur)) {\n        event.result = handle.apply(cur, data);\n        if (event.result === false) {\n          event.preventDefault();\n        }\n      }\n    }\n    event.type = type;\n\n    // If nobody prevented the default action, do it now\n    if (!onlyHandlers && !event.isDefaultPrevented()) {\n      if ((!special._default\n\t\t\t\t|| special._default.apply(eventPath.pop(), data) === false)\n\t\t\t\t&& acceptData(elem)) {\n        // Call a native DOM method on the target with the same name as the event.\n        // Don't do default actions on window, that's where global variables be (#6170)\n        if (ontype && isFunction(elem[type]) && !isWindow(elem)) {\n          // Don't re-trigger an onFOO event when we call its FOO() method\n          tmp = elem[ontype];\n\n          if (tmp) {\n            elem[ontype] = null;\n          }\n\n          // Prevent re-triggering of the same event, since we already bubbled it above\n          jQuery.event.triggered = type;\n\n          if (event.isPropagationStopped()) {\n            lastElement.addEventListener(type, stopPropagationCallback);\n          }\n\n          elem[type]();\n\n          if (event.isPropagationStopped()) {\n            lastElement.removeEventListener(type, stopPropagationCallback);\n          }\n\n          jQuery.event.triggered = undefined;\n\n          if (tmp) {\n            elem[ontype] = tmp;\n          }\n        }\n      }\n    }\n\n    return event.result;\n  },\n\n  // Piggyback on a donor event to simulate a different one\n  // Used only for `focus(in | out)` events\n  simulate(type, elem, event) {\n    const e = jQuery.extend(\n      new jQuery.Event(),\n      event,\n      {\n        type,\n        isSimulated: true,\n      },\n    );\n\n    jQuery.event.trigger(e, null, elem);\n  },\n\n});\n\njQuery.fn.extend({\n\n  trigger(type, data) {\n    return this.each(function () {\n      jQuery.event.trigger(type, data, this);\n    });\n  },\n  triggerHandler(type, data) {\n    const elem = this[0];\n    if (elem) {\n      return jQuery.event.trigger(type, data, elem, true);\n    }\n  },\n});\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif (!support.focusin) {\n  jQuery.each({ focus: 'focusin', blur: 'focusout' }, (orig, fix) => {\n    // Attach a single capturing handler on the document while someone wants focusin/focusout\n    const handler = function (event) {\n      jQuery.event.simulate(fix, event.target, jQuery.event.fix(event));\n    };\n\n    jQuery.event.special[fix] = {\n      setup() {\n        const doc = this.ownerDocument || this;\n        const attaches = dataPriv.access(doc, fix);\n\n        if (!attaches) {\n          doc.addEventListener(orig, handler, true);\n        }\n        dataPriv.access(doc, fix, (attaches || 0) + 1);\n      },\n      teardown() {\n        const doc = this.ownerDocument || this;\n        const attaches = dataPriv.access(doc, fix) - 1;\n\n        if (!attaches) {\n          doc.removeEventListener(orig, handler, true);\n          dataPriv.remove(doc, fix);\n        } else {\n          dataPriv.access(doc, fix, attaches);\n        }\n      },\n    };\n  });\n}\nconst { location } = window;\n\nlet nonce = Date.now();\n\nconst rquery = (/\\?/);\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function (data) {\n  let xml;\n  if (!data || typeof data !== 'string') {\n    return null;\n  }\n\n  // Support: IE 9 - 11 only\n  // IE throws on parseFromString with invalid input.\n  try {\n    xml = (new window.DOMParser()).parseFromString(data, 'text/xml');\n  } catch (e) {\n    xml = undefined;\n  }\n\n  if (!xml || xml.getElementsByTagName('parsererror').length) {\n    jQuery.error(`Invalid XML: ${data}`);\n  }\n  return xml;\n};\n\n\nconst\n  rbracket = /\\[\\]$/;\nconst rCRLF = /\\r?\\n/g;\nconst rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i;\nconst rsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams(prefix, obj, traditional, add) {\n  let name;\n\n  if (Array.isArray(obj)) {\n    // Serialize array item.\n    jQuery.each(obj, (i, v) => {\n      if (traditional || rbracket.test(prefix)) {\n        // Treat each array item as a scalar.\n        add(prefix, v);\n      } else {\n        // Item is non-scalar (array or object), encode its numeric index.\n        buildParams(\n          `${prefix}[${typeof v === 'object' && v != null ? i : ''}]`,\n          v,\n          traditional,\n          add,\n        );\n      }\n    });\n  } else if (!traditional && toType(obj) === 'object') {\n    // Serialize object item.\n    for (name in obj) {\n      buildParams(`${prefix}[${name}]`, obj[name], traditional, add);\n    }\n  } else {\n    // Serialize scalar item.\n    add(prefix, obj);\n  }\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function (a, traditional) {\n  let prefix;\n  const s = [];\n  const add = function (key, valueOrFunction) {\n    // If value is a function, invoke it and use its return value\n    const value = isFunction(valueOrFunction)\n      ? valueOrFunction()\n      : valueOrFunction;\n\n    s[s.length] = `${encodeURIComponent(key)}=${\n      encodeURIComponent(value == null ? '' : value)}`;\n  };\n\n  if (a == null) {\n    return '';\n  }\n\n  // If an array was passed in, assume that it is an array of form elements.\n  if (Array.isArray(a) || (a.jquery && !jQuery.isPlainObject(a))) {\n    // Serialize the form elements\n    jQuery.each(a, function () {\n      add(this.name, this.value);\n    });\n  } else {\n    // If traditional, encode the \"old\" way (the way 1.3.2 or older\n    // did it), otherwise encode params recursively.\n    for (prefix in a) {\n      buildParams(prefix, a[prefix], traditional, add);\n    }\n  }\n\n  // Return the resulting serialization\n  return s.join('&');\n};\n\njQuery.fn.extend({\n  serialize() {\n    return jQuery.param(this.serializeArray());\n  },\n  serializeArray() {\n    return this.map(function () {\n      // Can add propHook for \"elements\" to filter or add form elements\n      const elements = jQuery.prop(this, 'elements');\n      return elements ? jQuery.makeArray(elements) : this;\n    })\n      .filter(function () {\n        const { type } = this;\n\n        // Use .is( \":disabled\" ) so that fieldset[disabled] works\n        return this.name && !jQuery(this).is(':disabled')\n\t\t\t\t&& rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type)\n\t\t\t\t&& (this.checked || !rcheckableType.test(type));\n      })\n      .map(function (i, elem) {\n        const val = jQuery(this).val();\n\n        if (val == null) {\n          return null;\n        }\n\n        if (Array.isArray(val)) {\n          return jQuery.map(val, (val) => ({ name: elem.name, value: val.replace(rCRLF, '\\r\\n') }));\n        }\n\n        return { name: elem.name, value: val.replace(rCRLF, '\\r\\n') };\n      }).get();\n  },\n});\n\n\nconst\n  r20 = /%20/g;\nconst rhash = /#.*$/;\nconst rantiCache = /([?&])_=[^&]*/;\nconst rheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg;\n\n// #7653, #8125, #8152: local protocol detection\nconst rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/;\nconst rnoContent = /^(?:GET|HEAD)$/;\nconst rprotocol = /^\\/\\//;\n\n/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\nconst prefilters = {};\n\n/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\nconst transports = {};\n\n// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\nconst allTypes = '*/'.concat('*');\n\n// Anchor tag for parsing the document origin\nconst originAnchor = document.createElement('a');\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports(structure) {\n  // dataTypeExpression is optional and defaults to \"*\"\n  return function (dataTypeExpression, func) {\n    if (typeof dataTypeExpression !== 'string') {\n      func = dataTypeExpression;\n      dataTypeExpression = '*';\n    }\n\n    let dataType;\n    let i = 0;\n    const dataTypes = dataTypeExpression.toLowerCase().match(rnothtmlwhite) || [];\n\n    if (isFunction(func)) {\n      // For each dataType in the dataTypeExpression\n      while ((dataType = dataTypes[i++])) {\n        // Prepend if requested\n        if (dataType[0] === '+') {\n          dataType = dataType.slice(1) || '*';\n          (structure[dataType] = structure[dataType] || []).unshift(func);\n\n          // Otherwise append\n        } else {\n          (structure[dataType] = structure[dataType] || []).push(func);\n        }\n      }\n    }\n  };\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {\n  const inspected = {};\n  const seekingTransport = (structure === transports);\n\n  function inspect(dataType) {\n    let selected;\n    inspected[dataType] = true;\n    jQuery.each(structure[dataType] || [], (_, prefilterOrFactory) => {\n      const dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);\n      if (typeof dataTypeOrTransport === 'string'\n\t\t\t\t&& !seekingTransport && !inspected[dataTypeOrTransport]) {\n        options.dataTypes.unshift(dataTypeOrTransport);\n        inspect(dataTypeOrTransport);\n        return false;\n      } if (seekingTransport) {\n        return !(selected = dataTypeOrTransport);\n      }\n    });\n    return selected;\n  }\n\n  return inspect(options.dataTypes[0]) || !inspected['*'] && inspect('*');\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend(target, src) {\n  let key; let deep;\n  const flatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n  for (key in src) {\n    if (src[key] !== undefined) {\n      (flatOptions[key] ? target : (deep || (deep = {})))[key] = src[key];\n    }\n  }\n  if (deep) {\n    jQuery.extend(true, target, deep);\n  }\n\n  return target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses(s, jqXHR, responses) {\n  let ct; let type; let finalDataType; let firstDataType;\n  const { contents } = s;\n  const { dataTypes } = s;\n\n  // Remove auto dataType and get content-type in the process\n  while (dataTypes[0] === '*') {\n    dataTypes.shift();\n    if (ct === undefined) {\n      ct = s.mimeType || jqXHR.getResponseHeader('Content-Type');\n    }\n  }\n\n  // Check if we're dealing with a known content-type\n  if (ct) {\n    for (type in contents) {\n      if (contents[type] && contents[type].test(ct)) {\n        dataTypes.unshift(type);\n        break;\n      }\n    }\n  }\n\n  // Check to see if we have a response for the expected dataType\n  if (dataTypes[0] in responses) {\n    finalDataType = dataTypes[0];\n  } else {\n    // Try convertible dataTypes\n    for (type in responses) {\n      if (!dataTypes[0] || s.converters[`${type} ${dataTypes[0]}`]) {\n        finalDataType = type;\n        break;\n      }\n      if (!firstDataType) {\n        firstDataType = type;\n      }\n    }\n\n    // Or just use first one\n    finalDataType = finalDataType || firstDataType;\n  }\n\n  // If we found a dataType\n  // We add the dataType to the list if needed\n  // and return the corresponding response\n  if (finalDataType) {\n    if (finalDataType !== dataTypes[0]) {\n      dataTypes.unshift(finalDataType);\n    }\n    return responses[finalDataType];\n  }\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert(s, response, jqXHR, isSuccess) {\n  let conv2; let current; let conv; let tmp; let prev;\n  const converters = {};\n\n  // Work with a copy of dataTypes in case we need to modify it for conversion\n  const dataTypes = s.dataTypes.slice();\n\n  // Create converters map with lowercased keys\n  if (dataTypes[1]) {\n    for (conv in s.converters) {\n      converters[conv.toLowerCase()] = s.converters[conv];\n    }\n  }\n\n  current = dataTypes.shift();\n\n  // Convert to each sequential dataType\n  while (current) {\n    if (s.responseFields[current]) {\n      jqXHR[s.responseFields[current]] = response;\n    }\n\n    // Apply the dataFilter if provided\n    if (!prev && isSuccess && s.dataFilter) {\n      response = s.dataFilter(response, s.dataType);\n    }\n\n    prev = current;\n    current = dataTypes.shift();\n\n    if (current) {\n      // There's only work to do if current dataType is non-auto\n      if (current === '*') {\n        current = prev;\n\n        // Convert response if prev dataType is non-auto and differs from current\n      } else if (prev !== '*' && prev !== current) {\n        // Seek a direct converter\n        conv = converters[`${prev} ${current}`] || converters[`* ${current}`];\n\n        // If none found, seek a pair\n        if (!conv) {\n          for (conv2 in converters) {\n            // If conv2 outputs current\n            tmp = conv2.split(' ');\n            if (tmp[1] === current) {\n              // If prev can be converted to accepted input\n              conv = converters[`${prev} ${tmp[0]}`]\n\t\t\t\t\t\t\t\t|| converters[`* ${tmp[0]}`];\n              if (conv) {\n                // Condense equivalence converters\n                if (conv === true) {\n                  conv = converters[conv2];\n\n                  // Otherwise, insert the intermediate dataType\n                } else if (converters[conv2] !== true) {\n                  current = tmp[0];\n                  dataTypes.unshift(tmp[1]);\n                }\n                break;\n              }\n            }\n          }\n        }\n\n        // Apply converter (if not an equivalence)\n        if (conv !== true) {\n          // Unless errors are allowed to bubble, catch and return them\n          if (conv && s.throws) {\n            response = conv(response);\n          } else {\n            try {\n              response = conv(response);\n            } catch (e) {\n              return {\n                state: 'parsererror',\n                error: conv ? e : `No conversion from ${prev} to ${current}`,\n              };\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return { state: 'success', data: response };\n}\n\njQuery.extend({\n\n  // Counter for holding the number of active queries\n  active: 0,\n\n  // Last-Modified header cache for next request\n  lastModified: {},\n  etag: {},\n\n  ajaxSettings: {\n    url: location.href,\n    type: 'GET',\n    isLocal: rlocalProtocol.test(location.protocol),\n    global: true,\n    processData: true,\n    async: true,\n    contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n\n    /*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n    accepts: {\n      '*': allTypes,\n      text: 'text/plain',\n      html: 'text/html',\n      xml: 'application/xml, text/xml',\n      json: 'application/json, text/javascript',\n    },\n\n    contents: {\n      xml: /\\bxml\\b/,\n      html: /\\bhtml/,\n      json: /\\bjson\\b/,\n    },\n\n    responseFields: {\n      xml: 'responseXML',\n      text: 'responseText',\n      json: 'responseJSON',\n    },\n\n    // Data converters\n    // Keys separate source (or catchall \"*\") and destination types with a single space\n    converters: {\n\n      // Convert anything to text\n      '* text': String,\n\n      // Text to html (true = no transformation)\n      'text html': true,\n\n      // Evaluate text as a json expression\n      'text json': JSON.parse,\n\n      // Parse text as xml\n      'text xml': jQuery.parseXML,\n    },\n\n    // For options that shouldn't be deep extended:\n    // you can add your own custom options here if\n    // and when you create one that shouldn't be\n    // deep extended (see ajaxExtend)\n    flatOptions: {\n      url: true,\n      context: true,\n    },\n  },\n\n  // Creates a full fledged settings object into target\n  // with both ajaxSettings and settings fields.\n  // If target is omitted, writes into ajaxSettings.\n  ajaxSetup(target, settings) {\n    return settings\n\n    // Building a settings object\n      ? ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings)\n\n    // Extending ajaxSettings\n      : ajaxExtend(jQuery.ajaxSettings, target);\n  },\n\n  ajaxPrefilter: addToPrefiltersOrTransports(prefilters),\n  ajaxTransport: addToPrefiltersOrTransports(transports),\n\n  // Main method\n  ajax(url, options) {\n    // If url is an object, simulate pre-1.5 signature\n    if (typeof url === 'object') {\n      options = url;\n      url = undefined;\n    }\n\n    // Force options to be an object\n    options = options || {};\n\n    let transport;\n\n    // URL without anti-cache param\n    let cacheURL;\n\n    // Response headers\n    let responseHeadersString;\n    let responseHeaders;\n\n    // timeout handle\n    let timeoutTimer;\n\n    // Url cleanup var\n    let urlAnchor;\n\n    // Request state (becomes false upon send and true upon completion)\n    let completed;\n\n    // To know if global events are to be dispatched\n    let fireGlobals;\n\n    // Loop variable\n    let i;\n\n    // uncached part of the url\n    let uncached;\n\n    // Create the final options object\n    const s = jQuery.ajaxSetup({}, options);\n\n    // Callbacks context\n    const callbackContext = s.context || s;\n\n    // Context for global events is callbackContext if it is a DOM node or jQuery collection\n    const globalEventContext = s.context\n\t\t\t\t&& (callbackContext.nodeType || callbackContext.jquery)\n      ? jQuery(callbackContext)\n      : jQuery.event;\n\n    // Deferreds\n    const deferred = jQuery.Deferred();\n    const completeDeferred = jQuery.Callbacks('once memory');\n\n    // Status-dependent callbacks\n    let statusCode = s.statusCode || {};\n\n    // Headers (they are sent all at once)\n    const requestHeaders = {};\n    const requestHeadersNames = {};\n\n    // Default abort message\n    let strAbort = 'canceled';\n\n    // Fake xhr\n    var jqXHR = {\n      readyState: 0,\n\n      // Builds headers hashtable if needed\n      getResponseHeader(key) {\n        let match;\n        if (completed) {\n          if (!responseHeaders) {\n            responseHeaders = {};\n            while ((match = rheaders.exec(responseHeadersString))) {\n              responseHeaders[`${match[1].toLowerCase()} `] =\t\t\t\t\t\t\t\t\t(responseHeaders[`${match[1].toLowerCase()} `] || [])\n\t\t\t\t\t\t\t\t\t  .concat(match[2]);\n            }\n          }\n          match = responseHeaders[`${key.toLowerCase()} `];\n        }\n        return match == null ? null : match.join(', ');\n      },\n\n      // Raw string\n      getAllResponseHeaders() {\n        return completed ? responseHeadersString : null;\n      },\n\n      // Caches the header\n      setRequestHeader(name, value) {\n        if (completed == null) {\n          name = requestHeadersNames[name.toLowerCase()] =\t\t\t\t\t\t\trequestHeadersNames[name.toLowerCase()] || name;\n          requestHeaders[name] = value;\n        }\n        return this;\n      },\n\n      // Overrides response content-type header\n      overrideMimeType(type) {\n        if (completed == null) {\n          s.mimeType = type;\n        }\n        return this;\n      },\n\n      // Status-dependent callbacks\n      statusCode(map) {\n        let code;\n        if (map) {\n          if (completed) {\n            // Execute the appropriate callbacks\n            jqXHR.always(map[jqXHR.status]);\n          } else {\n            // Lazy-add the new callbacks in a way that preserves old ones\n            for (code in map) {\n              statusCode[code] = [statusCode[code], map[code]];\n            }\n          }\n        }\n        return this;\n      },\n\n      // Cancel the request\n      abort(statusText) {\n        const finalText = statusText || strAbort;\n        if (transport) {\n          transport.abort(finalText);\n        }\n        done(0, finalText);\n        return this;\n      },\n    };\n\n    // Attach deferreds\n    deferred.promise(jqXHR);\n\n    // Add protocol if not provided (prefilters might expect it)\n    // Handle falsy url in the settings object (#10093: consistency with old signature)\n    // We also use the url parameter if available\n    s.url = (`${url || s.url || location.href}`)\n      .replace(rprotocol, `${location.protocol}//`);\n\n    // Alias method option to type as per ticket #12004\n    s.type = options.method || options.type || s.method || s.type;\n\n    // Extract dataTypes list\n    s.dataTypes = (s.dataType || '*').toLowerCase().match(rnothtmlwhite) || [''];\n\n    // A cross-domain request is in order when the origin doesn't match the current origin.\n    if (s.crossDomain == null) {\n      urlAnchor = document.createElement('a');\n\n      // Support: IE <=8 - 11, Edge 12 - 15\n      // IE throws exception on accessing the href property if url is malformed,\n      // e.g. http://example.com:80x/\n      try {\n        urlAnchor.href = s.url;\n\n        // Support: IE <=8 - 11 only\n        // Anchor's host property isn't correctly set when s.url is relative\n        urlAnchor.href = urlAnchor.href;\n        s.crossDomain = `${originAnchor.protocol}//${originAnchor.host}`\n\t\t\t\t\t!== `${urlAnchor.protocol}//${urlAnchor.host}`;\n      } catch (e) {\n        // If there is an error parsing the URL, assume it is crossDomain,\n        // it can be rejected by the transport if it is invalid\n        s.crossDomain = true;\n      }\n    }\n\n    // Convert data if not already a string\n    if (s.data && s.processData && typeof s.data !== 'string') {\n      s.data = jQuery.param(s.data, s.traditional);\n    }\n\n    // Apply prefilters\n    inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);\n\n    // If request was aborted inside a prefilter, stop there\n    if (completed) {\n      return jqXHR;\n    }\n\n    // We can fire global events as of now if asked to\n    // Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n    fireGlobals = jQuery.event && s.global;\n\n    // Watch for a new set of requests\n    if (fireGlobals && jQuery.active++ === 0) {\n      jQuery.event.trigger('ajaxStart');\n    }\n\n    // Uppercase the type\n    s.type = s.type.toUpperCase();\n\n    // Determine if request has content\n    s.hasContent = !rnoContent.test(s.type);\n\n    // Save the URL in case we're toying with the If-Modified-Since\n    // and/or If-None-Match header later on\n    // Remove hash to simplify url manipulation\n    cacheURL = s.url.replace(rhash, '');\n\n    // More options handling for requests with no content\n    if (!s.hasContent) {\n      // Remember the hash so we can put it back\n      uncached = s.url.slice(cacheURL.length);\n\n      // If data is available and should be processed, append data to url\n      if (s.data && (s.processData || typeof s.data === 'string')) {\n        cacheURL += (rquery.test(cacheURL) ? '&' : '?') + s.data;\n\n        // #9682: remove data so that it's not used in an eventual retry\n        delete s.data;\n      }\n\n      // Add or update anti-cache param if needed\n      if (s.cache === false) {\n        cacheURL = cacheURL.replace(rantiCache, '$1');\n        uncached = `${rquery.test(cacheURL) ? '&' : '?'}_=${nonce++}${uncached}`;\n      }\n\n      // Put hash and anti-cache on the URL that will be requested (gh-1732)\n      s.url = cacheURL + uncached;\n\n      // Change '%20' to '+' if this is encoded form body content (gh-2658)\n    } else if (s.data && s.processData\n\t\t\t&& (s.contentType || '').indexOf('application/x-www-form-urlencoded') === 0) {\n      s.data = s.data.replace(r20, '+');\n    }\n\n    // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n    if (s.ifModified) {\n      if (jQuery.lastModified[cacheURL]) {\n        jqXHR.setRequestHeader('If-Modified-Since', jQuery.lastModified[cacheURL]);\n      }\n      if (jQuery.etag[cacheURL]) {\n        jqXHR.setRequestHeader('If-None-Match', jQuery.etag[cacheURL]);\n      }\n    }\n\n    // Set the correct header, if data is being sent\n    if (s.data && s.hasContent && s.contentType !== false || options.contentType) {\n      jqXHR.setRequestHeader('Content-Type', s.contentType);\n    }\n\n    // Set the Accepts header for the server, depending on the dataType\n    jqXHR.setRequestHeader(\n      'Accept',\n      s.dataTypes[0] && s.accepts[s.dataTypes[0]]\n        ? s.accepts[s.dataTypes[0]]\n\t\t\t\t\t+ (s.dataTypes[0] !== '*' ? `, ${allTypes}; q=0.01` : '')\n        : s.accepts['*'],\n    );\n\n    // Check for headers option\n    for (i in s.headers) {\n      jqXHR.setRequestHeader(i, s.headers[i]);\n    }\n\n    // Allow custom headers/mimetypes and early abort\n    if (s.beforeSend\n\t\t\t&& (s.beforeSend.call(callbackContext, jqXHR, s) === false || completed)) {\n      // Abort if not done already and return\n      return jqXHR.abort();\n    }\n\n    // Aborting is no longer a cancellation\n    strAbort = 'abort';\n\n    // Install callbacks on deferreds\n    completeDeferred.add(s.complete);\n    jqXHR.done(s.success);\n    jqXHR.fail(s.error);\n\n    // Get transport\n    transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);\n\n    // If no transport, we auto-abort\n    if (!transport) {\n      done(-1, 'No Transport');\n    } else {\n      jqXHR.readyState = 1;\n\n      // Send global event\n      if (fireGlobals) {\n        globalEventContext.trigger('ajaxSend', [jqXHR, s]);\n      }\n\n      // If request was aborted inside ajaxSend, stop there\n      if (completed) {\n        return jqXHR;\n      }\n\n      // Timeout\n      if (s.async && s.timeout > 0) {\n        timeoutTimer = window.setTimeout(() => {\n          jqXHR.abort('timeout');\n        }, s.timeout);\n      }\n\n      try {\n        completed = false;\n        transport.send(requestHeaders, done);\n      } catch (e) {\n        // Rethrow post-completion exceptions\n        if (completed) {\n          throw e;\n        }\n\n        // Propagate others as results\n        done(-1, e);\n      }\n    }\n\n    // Callback for when everything is done\n    function done(status, nativeStatusText, responses, headers) {\n      let isSuccess; let success; let error; let response; let modified;\n      let statusText = nativeStatusText;\n\n      // Ignore repeat invocations\n      if (completed) {\n        return;\n      }\n\n      completed = true;\n\n      // Clear timeout if it exists\n      if (timeoutTimer) {\n        window.clearTimeout(timeoutTimer);\n      }\n\n      // Dereference transport for early garbage collection\n      // (no matter how long the jqXHR object will be used)\n      transport = undefined;\n\n      // Cache response headers\n      responseHeadersString = headers || '';\n\n      // Set readyState\n      jqXHR.readyState = status > 0 ? 4 : 0;\n\n      // Determine if successful\n      isSuccess = status >= 200 && status < 300 || status === 304;\n\n      // Get response data\n      if (responses) {\n        response = ajaxHandleResponses(s, jqXHR, responses);\n      }\n\n      // Convert no matter what (that way responseXXX fields are always set)\n      response = ajaxConvert(s, response, jqXHR, isSuccess);\n\n      // If successful, handle type chaining\n      if (isSuccess) {\n        // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n        if (s.ifModified) {\n          modified = jqXHR.getResponseHeader('Last-Modified');\n          if (modified) {\n            jQuery.lastModified[cacheURL] = modified;\n          }\n          modified = jqXHR.getResponseHeader('etag');\n          if (modified) {\n            jQuery.etag[cacheURL] = modified;\n          }\n        }\n\n        // if no content\n        if (status === 204 || s.type === 'HEAD') {\n          statusText = 'nocontent';\n\n          // if not modified\n        } else if (status === 304) {\n          statusText = 'notmodified';\n\n          // If we have data, let's convert it\n        } else {\n          statusText = response.state;\n          success = response.data;\n          error = response.error;\n          isSuccess = !error;\n        }\n      } else {\n        // Extract error from statusText and normalize for non-aborts\n        error = statusText;\n        if (status || !statusText) {\n          statusText = 'error';\n          if (status < 0) {\n            status = 0;\n          }\n        }\n      }\n\n      // Set data for the fake xhr object\n      jqXHR.status = status;\n      jqXHR.statusText = `${nativeStatusText || statusText}`;\n\n      // Success/Error\n      if (isSuccess) {\n        deferred.resolveWith(callbackContext, [success, statusText, jqXHR]);\n      } else {\n        deferred.rejectWith(callbackContext, [jqXHR, statusText, error]);\n      }\n\n      // Status-dependent callbacks\n      jqXHR.statusCode(statusCode);\n      statusCode = undefined;\n\n      if (fireGlobals) {\n        globalEventContext.trigger(isSuccess ? 'ajaxSuccess' : 'ajaxError',\n          [jqXHR, s, isSuccess ? success : error]);\n      }\n\n      // Complete\n      completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);\n\n      if (fireGlobals) {\n        globalEventContext.trigger('ajaxComplete', [jqXHR, s]);\n\n        // Handle the global AJAX counter\n        if (!(--jQuery.active)) {\n          jQuery.event.trigger('ajaxStop');\n        }\n      }\n    }\n\n    return jqXHR;\n  },\n\n  getJSON(url, data, callback) {\n    return jQuery.get(url, data, callback, 'json');\n  },\n\n  getScript(url, callback) {\n    return jQuery.get(url, undefined, callback, 'script');\n  },\n});\n\njQuery.each(['get', 'post'], (i, method) => {\n  jQuery[method] = function (url, data, callback, type) {\n    // Shift arguments if data argument was omitted\n    if (isFunction(data)) {\n      type = type || callback;\n      callback = data;\n      data = undefined;\n    }\n\n    // The url can be an options object (which then must have .url)\n    return jQuery.ajax(jQuery.extend({\n      url,\n      type: method,\n      dataType: type,\n      data,\n      success: callback,\n    }, jQuery.isPlainObject(url) && url));\n  };\n});\n\n\njQuery._evalUrl = function (url, options) {\n  return jQuery.ajax({\n    url,\n\n    // Make this explicit, since user can override this through ajaxSetup (#11264)\n    type: 'GET',\n    dataType: 'script',\n    cache: true,\n    async: false,\n    global: false,\n\n    // Only evaluate the response if it is successful (gh-4126)\n    // dataFilter is not invoked for failure responses, so using it instead\n    // of the default converter is kludgy but it works.\n    converters: {\n      'text script': function () {},\n    },\n    dataFilter(response) {\n      jQuery.globalEval(response, options);\n    },\n  });\n};\n\n\njQuery.fn.extend({\n  wrapAll(html) {\n    let wrap;\n\n    if (this[0]) {\n      if (isFunction(html)) {\n        html = html.call(this[0]);\n      }\n\n      // The elements to wrap the target around\n      wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);\n\n      if (this[0].parentNode) {\n        wrap.insertBefore(this[0]);\n      }\n\n      wrap.map(function () {\n        let elem = this;\n\n        while (elem.firstElementChild) {\n          elem = elem.firstElementChild;\n        }\n\n        return elem;\n      }).append(this);\n    }\n\n    return this;\n  },\n\n  wrapInner(html) {\n    if (isFunction(html)) {\n      return this.each(function (i) {\n        jQuery(this).wrapInner(html.call(this, i));\n      });\n    }\n\n    return this.each(function () {\n      const self = jQuery(this);\n      const contents = self.contents();\n\n      if (contents.length) {\n        contents.wrapAll(html);\n      } else {\n        self.append(html);\n      }\n    });\n  },\n\n  wrap(html) {\n    const htmlIsFunction = isFunction(html);\n\n    return this.each(function (i) {\n      jQuery(this).wrapAll(htmlIsFunction ? html.call(this, i) : html);\n    });\n  },\n\n  unwrap(selector) {\n    this.parent(selector).not('body').each(function () {\n      jQuery(this).replaceWith(this.childNodes);\n    });\n    return this;\n  },\n});\n\n\njQuery.expr.pseudos.hidden = function (elem) {\n  return !jQuery.expr.pseudos.visible(elem);\n};\njQuery.expr.pseudos.visible = function (elem) {\n  return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n};\n\n\njQuery.ajaxSettings.xhr = function () {\n  try {\n    return new window.XMLHttpRequest();\n  } catch (e) {}\n};\n\nconst xhrSuccessStatus = {\n\n  // File protocol always yields status code 0, assume 200\n  0: 200,\n\n  // Support: IE <=9 only\n  // #1450: sometimes IE returns 1223 when it should be 204\n  1223: 204,\n};\nlet xhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ('withCredentials' in xhrSupported);\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport((options) => {\n  let callback; let\n    errorCallback;\n\n  // Cross domain only allowed if supported through XMLHttpRequest\n  if (support.cors || xhrSupported && !options.crossDomain) {\n    return {\n      send(headers, complete) {\n        let i;\n        const xhr = options.xhr();\n\n        xhr.open(\n          options.type,\n          options.url,\n          options.async,\n          options.username,\n          options.password,\n        );\n\n        // Apply custom fields if provided\n        if (options.xhrFields) {\n          for (i in options.xhrFields) {\n            xhr[i] = options.xhrFields[i];\n          }\n        }\n\n        // Override mime type if needed\n        if (options.mimeType && xhr.overrideMimeType) {\n          xhr.overrideMimeType(options.mimeType);\n        }\n\n        // X-Requested-With header\n        // For cross-domain requests, seeing as conditions for a preflight are\n        // akin to a jigsaw puzzle, we simply never set it to be sure.\n        // (it can always be set on a per-request basis or even using ajaxSetup)\n        // For same-domain requests, won't change header if already provided.\n        if (!options.crossDomain && !headers['X-Requested-With']) {\n          headers['X-Requested-With'] = 'XMLHttpRequest';\n        }\n\n        // Set headers\n        for (i in headers) {\n          xhr.setRequestHeader(i, headers[i]);\n        }\n\n        // Callback\n        callback = function (type) {\n          return function () {\n            if (callback) {\n              callback = errorCallback = xhr.onload =\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n              if (type === 'abort') {\n                xhr.abort();\n              } else if (type === 'error') {\n                // Support: IE <=9 only\n                // On a manual native abort, IE9 throws\n                // errors on any property access that is not readyState\n                if (typeof xhr.status !== 'number') {\n                  complete(0, 'error');\n                } else {\n                  complete(\n\n                    // File: protocol always yields status 0; see #8605, #14207\n                    xhr.status,\n                    xhr.statusText,\n                  );\n                }\n              } else {\n                complete(\n                  xhrSuccessStatus[xhr.status] || xhr.status,\n                  xhr.statusText,\n\n                  // Support: IE <=9 only\n                  // IE9 has no XHR2 but throws on binary (trac-11426)\n                  // For XHR2 non-text, let the caller handle it (gh-2498)\n                  (xhr.responseType || 'text') !== 'text'\n\t\t\t\t\t\t\t\t\t|| typeof xhr.responseText !== 'string'\n                    ? { binary: xhr.response }\n                    : { text: xhr.responseText },\n                  xhr.getAllResponseHeaders(),\n                );\n              }\n            }\n          };\n        };\n\n        // Listen to events\n        xhr.onload = callback();\n        errorCallback = xhr.onerror = xhr.ontimeout = callback('error');\n\n        // Support: IE 9 only\n        // Use onreadystatechange to replace onabort\n        // to handle uncaught aborts\n        if (xhr.onabort !== undefined) {\n          xhr.onabort = errorCallback;\n        } else {\n          xhr.onreadystatechange = function () {\n            // Check readyState before timeout as it changes\n            if (xhr.readyState === 4) {\n              // Allow onerror to be called first,\n              // but that will not handle a native abort\n              // Also, save errorCallback to a variable\n              // as xhr.onerror cannot be accessed\n              window.setTimeout(() => {\n                if (callback) {\n                  errorCallback();\n                }\n              });\n            }\n          };\n        }\n\n        // Create the abort callback\n        callback = callback('abort');\n\n        try {\n          // Do send the request (this may raise an exception)\n          xhr.send(options.hasContent && options.data || null);\n        } catch (e) {\n          // #14683: Only rethrow if this hasn't been notified as an error yet\n          if (callback) {\n            throw e;\n          }\n        }\n      },\n\n      abort() {\n        if (callback) {\n          callback();\n        }\n      },\n    };\n  }\n});\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter((s) => {\n  if (s.crossDomain) {\n    s.contents.script = false;\n  }\n});\n\n// Install script dataType\njQuery.ajaxSetup({\n  accepts: {\n    script: 'text/javascript, application/javascript, '\n\t\t\t+ 'application/ecmascript, application/x-ecmascript',\n  },\n  contents: {\n    script: /\\b(?:java|ecma)script\\b/,\n  },\n  converters: {\n    'text script': function (text) {\n      jQuery.globalEval(text);\n      return text;\n    },\n  },\n});\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter('script', (s) => {\n  if (s.cache === undefined) {\n    s.cache = false;\n  }\n  if (s.crossDomain) {\n    s.type = 'GET';\n  }\n});\n\n// Bind script tag hack transport\njQuery.ajaxTransport('script', (s) => {\n  // This transport only deals with cross domain or forced-by-attrs requests\n  if (s.crossDomain || s.scriptAttrs) {\n    let script; let\n      callback;\n    return {\n      send(_, complete) {\n        script = jQuery('<script>')\n          .attr(s.scriptAttrs || {})\n          .prop({ charset: s.scriptCharset, src: s.url })\n          .on('load error', callback = function (evt) {\n            script.remove();\n            callback = null;\n            if (evt) {\n              complete(evt.type === 'error' ? 404 : 200, evt.type);\n            }\n          });\n\n        // Use native DOM manipulation to avoid our domManip AJAX trickery\n        document.head.appendChild(script[0]);\n      },\n      abort() {\n        if (callback) {\n          callback();\n        }\n      },\n    };\n  }\n});\n\n\nconst oldCallbacks = [];\nconst rjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup({\n  jsonp: 'callback',\n  jsonpCallback() {\n    const callback = oldCallbacks.pop() || (`${jQuery.expando}_${nonce++}`);\n    this[callback] = true;\n    return callback;\n  },\n});\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter('json jsonp', (s, originalSettings, jqXHR) => {\n  let callbackName; let overwritten; let responseContainer;\n  const jsonProp = s.jsonp !== false && (rjsonp.test(s.url)\n    ? 'url'\n    : typeof s.data === 'string'\n\t\t\t\t&& (s.contentType || '')\n\t\t\t\t  .indexOf('application/x-www-form-urlencoded') === 0\n\t\t\t\t&& rjsonp.test(s.data) && 'data'\n  );\n\n  // Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n  if (jsonProp || s.dataTypes[0] === 'jsonp') {\n    // Get callback name, remembering preexisting value associated with it\n    callbackName = s.jsonpCallback = isFunction(s.jsonpCallback)\n      ? s.jsonpCallback()\n      : s.jsonpCallback;\n\n    // Insert callback into url or form data\n    if (jsonProp) {\n      s[jsonProp] = s[jsonProp].replace(rjsonp, `$1${callbackName}`);\n    } else if (s.jsonp !== false) {\n      s.url += `${(rquery.test(s.url) ? '&' : '?') + s.jsonp}=${callbackName}`;\n    }\n\n    // Use data converter to retrieve json after script execution\n    s.converters['script json'] = function () {\n      if (!responseContainer) {\n        jQuery.error(`${callbackName} was not called`);\n      }\n      return responseContainer[0];\n    };\n\n    // Force json dataType\n    s.dataTypes[0] = 'json';\n\n    // Install callback\n    overwritten = window[callbackName];\n    window[callbackName] = function () {\n      responseContainer = arguments;\n    };\n\n    // Clean-up function (fires after converters)\n    jqXHR.always(() => {\n      // If previous value didn't exist - remove it\n      if (overwritten === undefined) {\n        jQuery(window).removeProp(callbackName);\n\n        // Otherwise restore preexisting value\n      } else {\n        window[callbackName] = overwritten;\n      }\n\n      // Save back as free\n      if (s[callbackName]) {\n        // Make sure that re-using the options doesn't screw things around\n        s.jsonpCallback = originalSettings.jsonpCallback;\n\n        // Save the callback name for future use\n        oldCallbacks.push(callbackName);\n      }\n\n      // Call if it was a function and we have a response\n      if (responseContainer && isFunction(overwritten)) {\n        overwritten(responseContainer[0]);\n      }\n\n      responseContainer = overwritten = undefined;\n    });\n\n    // Delegate to script\n    return 'script';\n  }\n});\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = (function () {\n  const { body } = document.implementation.createHTMLDocument('');\n  body.innerHTML = '<form></form><form></form>';\n  return body.childNodes.length === 2;\n}());\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function (data, context, keepScripts) {\n  if (typeof data !== 'string') {\n    return [];\n  }\n  if (typeof context === 'boolean') {\n    keepScripts = context;\n    context = false;\n  }\n\n  let base; let parsed; let\n    scripts;\n\n  if (!context) {\n    // Stop scripts or inline event handlers from being executed immediately\n    // by using document.implementation\n    if (support.createHTMLDocument) {\n      context = document.implementation.createHTMLDocument('');\n\n      // Set the base href for the created document\n      // so any parsed elements with URLs\n      // are based on the document's URL (gh-2965)\n      base = context.createElement('base');\n      base.href = document.location.href;\n      context.head.appendChild(base);\n    } else {\n      context = document;\n    }\n  }\n\n  parsed = rsingleTag.exec(data);\n  scripts = !keepScripts && [];\n\n  // Single tag\n  if (parsed) {\n    return [context.createElement(parsed[1])];\n  }\n\n  parsed = buildFragment([data], context, scripts);\n\n  if (scripts && scripts.length) {\n    jQuery(scripts).remove();\n  }\n\n  return jQuery.merge([], parsed.childNodes);\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function (url, params, callback) {\n  let selector; let type; let response;\n  const self = this;\n  const off = url.indexOf(' ');\n\n  if (off > -1) {\n    selector = stripAndCollapse(url.slice(off));\n    url = url.slice(0, off);\n  }\n\n  // If it's a function\n  if (isFunction(params)) {\n    // We assume that it's the callback\n    callback = params;\n    params = undefined;\n\n    // Otherwise, build a param string\n  } else if (params && typeof params === 'object') {\n    type = 'POST';\n  }\n\n  // If we have elements to modify, make the request\n  if (self.length > 0) {\n    jQuery.ajax({\n      url,\n\n      // If \"type\" variable is undefined, then \"GET\" method will be used.\n      // Make value of this field explicit since\n      // user can override it through ajaxSetup method\n      type: type || 'GET',\n      dataType: 'html',\n      data: params,\n    }).done(function (responseText) {\n      // Save response for use in complete callback\n      response = arguments;\n\n      self.html(selector\n\n      // If a selector was specified, locate the right elements in a dummy div\n      // Exclude scripts to avoid IE 'Permission Denied' errors\n        ? jQuery('<div>').append(jQuery.parseHTML(responseText)).find(selector)\n\n      // Otherwise use the full result\n        : responseText);\n\n      // If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n      // but they are ignored because response was set above.\n      // If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n    }).always(callback && ((jqXHR, status) => {\n      self.each(function () {\n        callback.apply(this, response || [jqXHR.responseText, status, jqXHR]);\n      });\n    }));\n  }\n\n  return this;\n};\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each([\n  'ajaxStart',\n  'ajaxStop',\n  'ajaxComplete',\n  'ajaxError',\n  'ajaxSuccess',\n  'ajaxSend',\n], (i, type) => {\n  jQuery.fn[type] = function (fn) {\n    return this.on(type, fn);\n  };\n});\n\n\njQuery.expr.pseudos.animated = function (elem) {\n  return jQuery.grep(jQuery.timers, (fn) => elem === fn.elem).length;\n};\n\n\njQuery.offset = {\n  setOffset(elem, options, i) {\n    let curPosition; let curLeft; let curCSSTop; let curTop; let curOffset; let curCSSLeft; let calculatePosition;\n    const position = jQuery.css(elem, 'position');\n    const curElem = jQuery(elem);\n    const props = {};\n\n    // Set position first, in-case top/left are set even on static elem\n    if (position === 'static') {\n      elem.style.position = 'relative';\n    }\n\n    curOffset = curElem.offset();\n    curCSSTop = jQuery.css(elem, 'top');\n    curCSSLeft = jQuery.css(elem, 'left');\n    calculatePosition = (position === 'absolute' || position === 'fixed')\n\t\t\t&& (curCSSTop + curCSSLeft).indexOf('auto') > -1;\n\n    // Need to be able to calculate position if either\n    // top or left is auto and position is either absolute or fixed\n    if (calculatePosition) {\n      curPosition = curElem.position();\n      curTop = curPosition.top;\n      curLeft = curPosition.left;\n    } else {\n      curTop = parseFloat(curCSSTop) || 0;\n      curLeft = parseFloat(curCSSLeft) || 0;\n    }\n\n    if (isFunction(options)) {\n      // Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n      options = options.call(elem, i, jQuery.extend({}, curOffset));\n    }\n\n    if (options.top != null) {\n      props.top = (options.top - curOffset.top) + curTop;\n    }\n    if (options.left != null) {\n      props.left = (options.left - curOffset.left) + curLeft;\n    }\n\n    if ('using' in options) {\n      options.using.call(elem, props);\n    } else {\n      curElem.css(props);\n    }\n  },\n};\n\njQuery.fn.extend({\n\n  // offset() relates an element's border box to the document origin\n  offset(options) {\n    // Preserve chaining for setter\n    if (arguments.length) {\n      return options === undefined\n        ? this\n        : this.each(function (i) {\n          jQuery.offset.setOffset(this, options, i);\n        });\n    }\n\n    let rect; let win;\n    const elem = this[0];\n\n    if (!elem) {\n      return;\n    }\n\n    // Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n    // Support: IE <=11 only\n    // Running getBoundingClientRect on a\n    // disconnected node in IE throws an error\n    if (!elem.getClientRects().length) {\n      return { top: 0, left: 0 };\n    }\n\n    // Get document-relative position by adding viewport scroll to viewport-relative gBCR\n    rect = elem.getBoundingClientRect();\n    win = elem.ownerDocument.defaultView;\n    return {\n      top: rect.top + win.pageYOffset,\n      left: rect.left + win.pageXOffset,\n    };\n  },\n\n  // position() relates an element's margin box to its offset parent's padding box\n  // This corresponds to the behavior of CSS absolute positioning\n  position() {\n    if (!this[0]) {\n      return;\n    }\n\n    let offsetParent; let offset; let doc;\n    const elem = this[0];\n    let parentOffset = { top: 0, left: 0 };\n\n    // position:fixed elements are offset from the viewport, which itself always has zero offset\n    if (jQuery.css(elem, 'position') === 'fixed') {\n      // Assume position:fixed implies availability of getBoundingClientRect\n      offset = elem.getBoundingClientRect();\n    } else {\n      offset = this.offset();\n\n      // Account for the *real* offset parent, which can be the document or its root element\n      // when a statically positioned element is identified\n      doc = elem.ownerDocument;\n      offsetParent = elem.offsetParent || doc.documentElement;\n      while (offsetParent\n\t\t\t\t&& (offsetParent === doc.body || offsetParent === doc.documentElement)\n\t\t\t\t&& jQuery.css(offsetParent, 'position') === 'static') {\n        offsetParent = offsetParent.parentNode;\n      }\n      if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {\n        // Incorporate borders into its offset, since they are outside its content origin\n        parentOffset = jQuery(offsetParent).offset();\n        parentOffset.top += jQuery.css(offsetParent, 'borderTopWidth', true);\n        parentOffset.left += jQuery.css(offsetParent, 'borderLeftWidth', true);\n      }\n    }\n\n    // Subtract parent offsets and element margins\n    return {\n      top: offset.top - parentOffset.top - jQuery.css(elem, 'marginTop', true),\n      left: offset.left - parentOffset.left - jQuery.css(elem, 'marginLeft', true),\n    };\n  },\n\n  // This method will return documentElement in the following cases:\n  // 1) For the element inside the iframe without offsetParent, this method will return\n  //    documentElement of the parent window\n  // 2) For the hidden or detached element\n  // 3) For body or html element, i.e. in case of the html node - it will return itself\n  //\n  // but those exceptions were never presented as a real life use-cases\n  // and might be considered as more preferable results.\n  //\n  // This logic, however, is not guaranteed and can change at any point in the future\n  offsetParent() {\n    return this.map(function () {\n      let { offsetParent } = this;\n\n      while (offsetParent && jQuery.css(offsetParent, 'position') === 'static') {\n        offsetParent = offsetParent.offsetParent;\n      }\n\n      return offsetParent || documentElement;\n    });\n  },\n});\n\n// Create scrollLeft and scrollTop methods\njQuery.each({ scrollLeft: 'pageXOffset', scrollTop: 'pageYOffset' }, (method, prop) => {\n  const top = prop === 'pageYOffset';\n\n  jQuery.fn[method] = function (val) {\n    return access(this, (elem, method, val) => {\n      // Coalesce documents and windows\n      let win;\n      if (isWindow(elem)) {\n        win = elem;\n      } else if (elem.nodeType === 9) {\n        win = elem.defaultView;\n      }\n\n      if (val === undefined) {\n        return win ? win[prop] : elem[method];\n      }\n\n      if (win) {\n        win.scrollTo(\n          !top ? val : win.pageXOffset,\n          top ? val : win.pageYOffset,\n        );\n      } else {\n        elem[method] = val;\n      }\n    }, method, val, arguments.length);\n  };\n});\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each(['top', 'left'], (i, prop) => {\n  jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition,\n    (elem, computed) => {\n      if (computed) {\n        computed = curCSS(elem, prop);\n\n        // If curCSS returns percentage, fallback to offset\n        return rnumnonpx.test(computed)\n          ? `${jQuery(elem).position()[prop]}px`\n          : computed;\n      }\n    });\n});\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each({ Height: 'height', Width: 'width' }, (name, type) => {\n  jQuery.each({ padding: `inner${name}`, content: type, '': `outer${name}` },\n    (defaultExtra, funcName) => {\n      // Margin is only for outerHeight, outerWidth\n      jQuery.fn[funcName] = function (margin, value) {\n        const chainable = arguments.length && (defaultExtra || typeof margin !== 'boolean');\n        const extra = defaultExtra || (margin === true || value === true ? 'margin' : 'border');\n\n        return access(this, (elem, type, value) => {\n          let doc;\n\n          if (isWindow(elem)) {\n            // $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n            return funcName.indexOf('outer') === 0\n              ? elem[`inner${name}`]\n              : elem.document.documentElement[`client${name}`];\n          }\n\n          // Get document width or height\n          if (elem.nodeType === 9) {\n            doc = elem.documentElement;\n\n            // Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n            // whichever is greatest\n            return Math.max(\n              elem.body[`scroll${name}`], doc[`scroll${name}`],\n              elem.body[`offset${name}`], doc[`offset${name}`],\n              doc[`client${name}`],\n            );\n          }\n\n          return value === undefined\n\n          // Get width or height on the element, requesting but not forcing parseFloat\n            ? jQuery.css(elem, type, extra)\n\n          // Set width or height on the element\n            : jQuery.style(elem, type, value, extra);\n        }, type, chainable ? margin : undefined, chainable);\n      };\n    });\n});\n\n\njQuery.each(('blur focus focusin focusout resize scroll click dblclick '\n\t+ 'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '\n\t+ 'change select submit keydown keypress keyup contextmenu').split(' '),\n(i, name) => {\n  // Handle event binding\n  jQuery.fn[name] = function (data, fn) {\n    return arguments.length > 0\n      ? this.on(name, null, data, fn)\n      : this.trigger(name);\n  };\n});\n\njQuery.fn.extend({\n  hover(fnOver, fnOut) {\n    return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);\n  },\n});\n\n\njQuery.fn.extend({\n\n  bind(types, data, fn) {\n    return this.on(types, null, data, fn);\n  },\n  unbind(types, fn) {\n    return this.off(types, null, fn);\n  },\n\n  delegate(selector, types, data, fn) {\n    return this.on(types, selector, data, fn);\n  },\n  undelegate(selector, types, fn) {\n    // ( namespace ) or ( selector, types [, fn] )\n    return arguments.length === 1\n      ? this.off(selector, '**')\n      : this.off(types, selector || '**', fn);\n  },\n});\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function (fn, context) {\n  let tmp; let args; let\n    proxy;\n\n  if (typeof context === 'string') {\n    tmp = fn[context];\n    context = fn;\n    fn = tmp;\n  }\n\n  // Quick check to determine if target is callable, in the spec\n  // this throws a TypeError, but we will just return undefined.\n  if (!isFunction(fn)) {\n    return undefined;\n  }\n\n  // Simulated bind\n  args = slice.call(arguments, 2);\n  proxy = function () {\n    return fn.apply(context || this, args.concat(slice.call(arguments)));\n  };\n\n  // Set the guid of unique handler to the same of original handler, so it can be removed\n  proxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n  return proxy;\n};\n\njQuery.holdReady = function (hold) {\n  if (hold) {\n    jQuery.readyWait++;\n  } else {\n    jQuery.ready(true);\n  }\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function (obj) {\n  // As of jQuery 3.0, isNumeric is limited to\n  // strings and numbers (primitives or objects)\n  // that can be coerced to finite numbers (gh-2662)\n  const type = jQuery.type(obj);\n  return (type === 'number' || type === 'string')\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t&& !isNaN(obj - parseFloat(obj));\n};\n\nexport default jQuery;\n","import uuid from './guid';\r\nimport defaultValue from './defaultValue';\r\nimport $ from '../thirdParty/jquery';\r\n\r\nclass CursorTip {\r\n  /**\r\n   * 创建跟随鼠标的div元素\r\n   * @param {Object} options 具有以下属性\r\n   * @param {String} [options.text] div内容，支持HTML\r\n   * @param {String} [options.id] 元素id,如果未定义将随机分配\r\n   * @param {Viewer} [options.viewer] Viewer对象,如果未定义，div将不能自动跟随鼠标\r\n   * @param {Boolean} [options.show=true] 是否可见\r\n   * @param {Boolean} [options.reduplicate=false] 如果指定元素的id已存在，则移除原来的要素\r\n   */\r\n  constructor(options = {}) {\r\n    const {\r\n      text,\r\n      id,\r\n      viewer,\r\n    } = options;\r\n    if (id && document.getElementById(id) && !options.reduplicate) {\r\n      $(`#${id}`).remove();\r\n    }\r\n    const tooltip = document.createElement('div');\r\n    tooltip.id = defaultValue(id, uuid());\r\n    tooltip.className = 'cursor-tip-class';\r\n    tooltip.innerHTML = text;\r\n    const target = viewer ? viewer.container : document.body;\r\n    target.appendChild(tooltip);\r\n    this.ele = tooltip;\r\n    this._show = defaultValue(options.show, true);\r\n    this._isDestryoed = false;\r\n    this._target = target;\r\n    this._id = tooltip.id;\r\n    this._text = text;\r\n    this._position = undefined;\r\n    const self = this;\r\n\r\n    if (viewer instanceof Cesium.Viewer) {\r\n      this._handler = new Cesium.ScreenSpaceEventHandler(viewer.canvas);\r\n      this._handler.setInputAction((e) => {\r\n        self.updatePosition(e.endPosition);\r\n      }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新元素位置\r\n   * @param {Cartesian2} pixel 元素位置\r\n   */\r\n  updatePosition(pixel) {\r\n    this.ele.style.left = `${pixel.x + 10}px`;\r\n    this.ele.style.top = `${pixel.y + 10}px`;\r\n  }\r\n\r\n  /**\r\n   * 更新元素内容\r\n   * @param {String|HTML} text 元素内容\r\n   */\r\n  updateText(text) {\r\n    this.ele.innerHTML = text;\r\n  }\r\n\r\n  /**\r\n   * 销毁组件\r\n   */\r\n  destory() {\r\n    if (this._isDestryoed) {\r\n      return;\r\n    }\r\n    this._target.removeChild(this.ele);\r\n    if (this._handler.isDestroyed()) {\r\n      this._handler.destroy();\r\n    }\r\n    this._isDestryoed = true;\r\n  }\r\n\r\n  /*\r\n   * 元素可见性\r\n   *\r\n   * @type {Boolean}\r\n   */\r\n\r\n  get show() {\r\n    return this._show;\r\n  }\r\n\r\n  /**\r\n   * 元素可见性\r\n   *\r\n   * @type {Boolean}\r\n   */\r\n  set show(v) {\r\n    this._show = v;\r\n    if (v) {\r\n      this.ele.style.display = 'block';\r\n    } else {\r\n      this.ele.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 可以通过document.getElementById(id)获得它的DOM\r\n   *\r\n   * @readonly\r\n   * @type {String}\r\n   */\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * 获得或设置显示的文字\r\n   * @type {String}\r\n   */\r\n  get text() {\r\n    return this._text;\r\n  }\r\n\r\n  set text(text) {\r\n    this._text = text;\r\n    this.updateText(text);\r\n  }\r\n\r\n  /**\r\n   * 获得或设置元素位置，设置元素的位置和updatePosition具有同样的效果\r\n   * @type {Cesium.Cartesian2}\r\n   */\r\n  get position() {\r\n    return this._position;\r\n  }\r\n\r\n  set position(pixel) {\r\n    if (pixel.x && pixel.y) {\r\n      this._position = pixel;\r\n      this.updatePosition(pixel);\r\n    } else {\r\n      console.warn('CursorTip:设置了一个无效的位置，将被忽略.');\r\n    }\r\n  }\r\n}\r\n\r\nexport default CursorTip;\r\n","import defaultValue from \"./defaultValue.js\";\r\nimport CesiumProError from \"./CesiumProError.js\";\r\n\r\nfunction returnTrue() {\r\n  return true;\r\n}\r\n\r\n/**\r\n * 销毁一个对象，对象的所有属性和方法都被替换为一个会抛出{@link CesiumProError}异常的函数\r\n *\r\n * @exports destroyObject\r\n *\r\n * @param {Object} object The object to destroy.\r\n * @param {String} [message] The message to include in the exception that is thrown if\r\n *                           a destroyed object's function is called.\r\n *\r\n *\r\n * @example\r\n * // How a texture would destroy itself.\r\n * this.destroy = function () {\r\n *     _gl.deleteTexture(_texture);\r\n *     return Cesium.destroyObject(this);\r\n * };\r\n *\r\n * @see CesiumProError\r\n */\r\nfunction destroyObject(object, message) {\r\n  message = defaultValue(\r\n    message,\r\n    \"This object was destroyed, i.e., destroy() was called.\"\r\n  );\r\n\r\n  function throwOnDestroyed() {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    throw new DeveloperError(message);\r\n    //>>includeEnd('debug');\r\n  }\r\n\r\n  for (var key in object) {\r\n    if (typeof object[key] === \"function\") {\r\n      object[key] = throwOnDestroyed;\r\n    }\r\n  }\r\n\r\n  object.isDestroyed = returnTrue;\r\n\r\n  return undefined;\r\n}\r\nexport default destroyObject;\r\n","import abstract from './abstract';\r\nimport destroyObject from './destroyObject'\r\nclass CustomPrimitive {\r\n  /**\r\n   * 自定义图元基类\r\n   */\r\n  constructor(options) {\r\n    options = defaultValue(options, {})\r\n  }\r\n  /**\r\n   * @abstract\r\n   * 每一帧在渲染时Cesium会自动调用该方法。派生类必须实现该方法\r\n   * @param  {Cesium.FrameState} frameState\r\n   */\r\n  update(frameState) {\r\n    abstract();\r\n  }\r\n  /**\r\n   * 对象是否被销毁\r\n   * @return {Boolean} true表示对象已经被销毁，此时使用该对象所有方法和属性都会抛出异常{@link CesiumProError}\r\n   */\r\n  isDestroyed() {\r\n    return false;\r\n  }\r\n  /**\r\n   * 销毁图元，释放所占用的webgl资源，派生类必须实现它。对象销毁后调用它的所有方法和属性都会抛出异常{@link CesiumProError}\r\n   * @abstract\r\n   */\r\n  destroy() {\r\n    abstract();\r\n  }\r\n}\r\nexport default CustomPrimitive;\r\n","import CVT from './CVT'\r\n/**\r\n * 各类数据加载\r\n * @exports DataLoader\r\n */\r\nconst DataLoader = {};\r\n\r\n/**\r\n * 加载gltf/glb模型。\r\n * @param  {Cesium.Viewer} viewer  Cesium Viewer对象\r\n * @param  {Cesium.Cartesian3} [position=new Cesium.Cartesian3] 模型的位置,如果options中定义了modelMatrix，将覆盖该参数\r\n * @param  {Object} [options={}] 描述model的参数,同Cesium.Model.fromGltf\r\n * @return {Cesium.Cesium3DTileset}\r\n */\r\nDataLoader.loadModel = function(viewer, position = new Cesium.Cartesian3(), options = {}) {\r\n  if (!options.modelMatrix && position) {\r\n    const matrix = Cesium.Transforms.eastNorthUpToFixedFrame(position);\r\n    options.modelMatrix = matrix;\r\n  }\r\n  const model = Cesium.Model.fromGltf(options)\r\n  model.readyPromise.then(function(m) {\r\n    // Play all animations when the model is ready to render\r\n    m.activeAnimations.addAll({\r\n      loop: Cesium.ModelAnimationLoop.REPEAT,\r\n    });\r\n  });\r\n  return viewer.scene.primitives.add(model);\r\n};\r\n\r\nfunction rotate(tileset, rotation) {\r\n  const transform = Cesium.Matrix3.fromRotationZ(Cesium.Math.toRadians(rotation));\r\n  Cesium.Matrix4.multiplyByMatrix3(tileset.root.transform, transform, tileset.root.transform);\r\n}\r\n\r\nfunction transform(tileset, translation) {\r\n  Cesium.Matrix4.multiplyByTranslation(tileset.modelMatrix, translation, tileset.modelMatrix);\r\n}\r\n\r\nfunction adjustHeight(tileset, height) {\r\n  const {\r\n    center\r\n  } = tileset.boundingSphere;\r\n  const coord = CVT.toDegrees(center, viewer);\r\n  const surface = Cesium.Cartesian3.fromDegrees(coord.lon, coord.lat, 0);\r\n  const offset = Cesium.Cartesian3.fromDegrees(coord.lon, coord.lat, height);\r\n  const translation = Cesium.Cartesian3.subtract(\r\n    offset,\r\n    surface,\r\n    new Cesium.Cartesian3(),\r\n  );\r\n\r\n  tileset.modelMatrix = Cesium.Matrix4.multiply(tileset.modelMatrix,\r\n    Cesium.Matrix4.fromTranslation(translation), tileset.modelMatrix);\r\n}\r\n\r\nfunction adjustLocation(tileset, position, rtcCenterTransform) {\r\n  const matrix = Cesium.Transforms.eastNorthUpToFixedFrame(position);\r\n  if (rtcCenterTransform) {\r\n    const rtcCenter = Cesium.Matrix4.getTranslation(rtcCenterTransform, new Cesium.Cartesian3);\r\n    const rtcMatrix = Cesium.Transforms.eastNorthUpToFixedFrame(rtcCenter)\r\n    const inverse = Cesium.Matrix4.inverseTransformation(rtcMatrix, new Cesium.Matrix4)\r\n    Cesium.Matrix4.multiply(tileset.modelMatrix, inverse, tileset.modelMatrix);\r\n    // const modelMatrix = Cesium.Matrix4.multiply(inverse, inverse, matrix);\r\n    Cesium.Matrix4.multiply(matrix, tileset.modelMatrix, tileset.modelMatrix);\r\n  } else {\r\n    tileset.root.transform = matrix;\r\n  }\r\n}\r\nconst params = {\r\n  height: 0,\r\n  position: new Cesium.Cartesian3(0, 0, 0),\r\n  rotation: 0\r\n}\r\n/**\r\n * 加载Cesium3dTileset\r\n * @param  {Cesium.Viewer} viewer\r\n * @param  {Object} [options={}] 描述一个Cesium3DTileset,和Cesium.Cesium3DTileset参数相同\r\n * @param  {Object} [kwargs={}]  具有以下属性\r\n * @param {Cesium.Cartesian3} [kwargs.position] 模型在场景中的位置\r\n * @param {Number} [kwargs.height] 模型高度\r\n * @param {Number} [kwargs.rotation] 模型绕Z轴旋转的角度,单位弧度\r\n * @param {Bool} [kwargs.debug] 是否开启调试模式,打开调试模式可能通过按键Q、E调整模型高度, A、D调整模型的经度，W、S调整模型纬度，Z、X调整模型角度\r\n * @param {Cesium.Matrix4} [options.rtcCenterTransform] 如果模型的中心位置不在玩心，则必须提供rtcCenterTransform，rtcCenterTransform可以通过tile.root.content._rtcCenterTransform获得\r\n * @return 返回一个Obejct，包含模型对象(tileset)和调整模型位置所需要的参数(parameters)\r\n * @example\r\n * const loader=CesiumPro.DataLoader.loadTileset(viewer,\r\n * {url:'http://...'},{height:10,debug:true});\r\n * //使用QWEASDZX按键调整模型位置后，调整模型位置所需的参数会保存在loader.parameters属性中\r\n * const params=loader.parameters;\r\n * const position=params.position;\r\n * const height=params.height;\r\n * const rotation=params.rotation;\r\n * //加载模型到正确的位置\r\n * CesiumPro.DataLoader.loadTileset(viewer,\r\n * {url:'http://...'},{height,position,rotation});\r\n *\r\n */\r\nDataLoader.loadTileset = function(viewer, options = {}, kwargs = {}) {\r\n  const {\r\n    height,\r\n    position,\r\n    rotation,\r\n    debug,\r\n    rtcCenterTransform\r\n  } = kwargs;\r\n  const cesium3dtileset = new Cesium.Cesium3DTileset(options);\r\n  cesium3dtileset.readyPromise.then((tileset) => {\r\n    viewer.scene.primitives.add(tileset);\r\n    if (Cesium.defined(position)) {\r\n      adjustLocation(tileset, position, rtcCenterTransform);\r\n    }\r\n    if (Cesium.defined(height)) {\r\n      adjustHeight(tileset, height);\r\n    }\r\n    if (debug) {\r\n      params.height = height || 0;\r\n      params.position = position || new Cesium.Cartesian3(0, 0, 0);\r\n      params.rotation = rotation || 0;\r\n      let height0, position0, rotation0;\r\n      document.onkeypress = function(e) {\r\n        // 升高\r\n        if (e.keyCode === 'Q'.charCodeAt() || e.keyCode === 'q'.charCodeAt()) {\r\n          height0 = 1;\r\n        }\r\n        // 降低\r\n        else if (e.keyCode === 'E'.charCodeAt() || e.keyCode === 'e'.charCodeAt()) {\r\n          height0 = -1;\r\n        }\r\n        // 平移\r\n        else if (e.keyCode === 'A'.charCodeAt() || e.keyCode === 'a'.charCodeAt()) {\r\n          position0 = new Cesium.Cartesian3(-2, 0, 0);\r\n        } else if (e.keyCode === 'D'.charCodeAt() || e.keyCode === 'd'.charCodeAt()) {\r\n          position0 = new Cesium.Cartesian3(2, 0, 0);\r\n        } else if (e.keyCode === 'W'.charCodeAt() || e.keyCode === 'w'.charCodeAt()) {\r\n          position0 = new Cesium.Cartesian3(0, -2, 0);\r\n        } else if (e.keyCode === 'S'.charCodeAt() || e.keyCode === 's'.charCodeAt()) {\r\n          position0 = new Cesium.Cartesian3(0, 2, 0);\r\n        }\r\n        // 旋转\r\n        else if (e.keyCode === 'Z'.charCodeAt() || e.keyCode === 'z'.charCodeAt()) {\r\n          rotation0 = -1;\r\n        } else if (e.keyCode === 'X'.charCodeAt() || e.keyCode === 'x'.charCodeAt()) {\r\n          rotation0 = 1;\r\n        }\r\n        if (Cesium.defined(height0)) {\r\n          adjustHeight(tileset, height0);\r\n          params.height += height0;\r\n        }\r\n        if (Cesium.defined(position0)) {\r\n          transform(tileset, position0);\r\n          params.position = Cesium.Cartesian3.add(params.position, position0, params.position);\r\n        }\r\n        if (Cesium.defined(rotation0)) {\r\n          rotate(tileset, rotation0);\r\n          params.rotation += rotation0;\r\n        }\r\n        rotation0 = undefined;\r\n        position0 = undefined;\r\n        height0 = undefined;\r\n      };\r\n    }\r\n  });\r\n  return {\r\n    tileset: cesium3dtileset,\r\n    parameters: params\r\n  };\r\n};\r\nexport default DataLoader;\r\n","/**\r\n * 时间数据格式的扩展方法\r\n *\r\n * @exports dateFormat\r\n * @param  {String} fmt  时间格式\r\n * @param  {Date} date 时间\r\n * @return {String}     格式化后的时间\r\n *\r\n * @example\r\n * const date=new Date();\r\n * dateFormat('yy-mm-dd HH:MM:SS',date)\r\n * dateFormat('HH:MM:SS',date)\r\n */\r\nfunction dateFormat(fmt, date) {\r\n  let ret;\r\n  const opt = {\r\n    'y+': date.getFullYear().toString(), // 年\r\n    'm+': (date.getMonth() + 1).toString(), // 月\r\n    'd+': date.getDate().toString(), // 日\r\n    'H+': date.getHours().toString(), // 时\r\n    'M+': date.getMinutes().toString(), // 分\r\n    'S+': date.getSeconds().toString(), // 秒\r\n    // 有其他格式化字符需求可以继续添加，必须转化成字符串\r\n  };\r\n  const keys = Object.keys(opt);\r\n  for (const k of keys) {\r\n    ret = new RegExp(`(${k})`).exec(fmt);\r\n    if (ret) {\r\n      fmt = fmt.replace(ret[1], (ret[1].length === 1)\r\n        ? (opt[k]) : (opt[k].padStart(ret[1].length, '0')));\r\n    }\r\n  }\r\n  return fmt;\r\n}\r\n\r\n/**\r\n * 将时间格式化方法注册到原生的Date对象，注册名为format\r\n *\r\n * @type function\r\n * @memberof dateFormat\r\n *\r\n * @example\r\n *\r\n * const date=new Date();\r\n * date.format('yy-mm-dd')\r\n */\r\ndateFormat.register = function () {\r\n  window.Date.prototype.format = function (format) {\r\n    dateFormat(format, this);\r\n  };\r\n};\r\nexport default dateFormat;\r\n","/**\r\n * 开启/关闭基于地形的深度检测\r\n *\r\n * @exports depthTest\r\n *\r\n * @param {Cesium.Globe|Cesium.Viewer|Cesium.Scene} target 测试检测对象\r\n * @param {Boolean} depth 深度检测状态\r\n *\r\n * @example\r\n *\r\n * const viewer=CesiumPro.createViewer('map');\r\n * CesiumPro.depthTest(viewer);\r\n * CesiumPro.depthTest(viewer.scene);\r\n * CesiumPro.depthTest(viewer.scene.globe);\r\n */\r\nfunction depthTest(target, depth = true) {\r\n  if (target instanceof Cesium.Viewer) {\r\n    target.scene.globe.depthTestAgainstTerrain = depth;\r\n  } else if (target instanceof Cesium.Scene) {\r\n    target.globe.depthTestAgainstTerrain = depth;\r\n  } else if (target instanceof Cesium.Globe) {\r\n    target.depthTestAgainstTerrain = depth;\r\n  } else {\r\n    throw new CesiumProError('无效的对象');\r\n  }\n}\r\n\r\nexport default depthTest;\r\n","import $ from '../thirdParty/jquery';\n\r\nclass DraggableElement {\r\n  /**\r\n   * 创建一个可拖拽的DOM元素,该元素的position必须为absolute或fixed;\r\n   * @param {String} container 要移到的元素的选择器\r\n   * @param {String} [target=container] 监听鼠标事件的元素，一般是标题栏\r\n   * @example\r\n   * new DraggableElement('#tool-panel')\r\n   * new DraggableElement('#tool-panel','.tool-header-class')\r\n   */\r\n  constructor(container, target = container) {\r\n    if (!$(container)) {\r\n      throw new Error('请指定要操作的元素');\r\n    }\r\n    if (!target) {\r\n      target = container;\r\n    }\r\n    this._target = target;\r\n    this._container = container;\r\n    const self = this;\r\n    $(self.target).mousedown((\r\n      e, // e鼠标事件\r\n    ) => {\r\n      $(self.target).css('cursor', 'move'); // 改变鼠标指针的形状\r\n      // let offset = $(\"#\" + container).offset(); //DIV在页面的位置\r\n      const offset = $(self.container).position(); // DIV在页面的位置\r\n      const x = e.pageX - offset.left; // 获得鼠标指针离DIV元素左边界的距离\r\n      const y = e.pageY - offset.top; // 获得鼠标指针离DIV元素上边界的距离\r\n\r\n      $(document).bind('mousemove', (\r\n        ev, // 绑定鼠标的移动事件，因为光标在DIV元素外面也要有效果，所以要用doucment的事件，而不用DIV元素的事件\r\n      ) => {\r\n        $(self.target).css('cursor', 'move');\r\n        $(self.container).stop(); // 加上这个之后\r\n        const _x = ev.pageX - x; // 获得X轴方向移动的值\r\n        const _y = ev.pageY - y; // 获得Y轴方向移动的值\r\n        $(self.container).animate({\r\n          left: `${_x}px`,\r\n          top: `${_y}px`,\r\n        }, 10);\r\n      });\r\n    });\r\n    $(document).mouseup(function () {\r\n      $(self.target).css('cursor', 'default');\r\n      $(this).unbind('mousemove');\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 触发事件的对象，返回的是对象的选择器\r\n   * @readonly\r\n   * @type String\r\n   */\r\n  get target() {\r\n    return this._target;\r\n  }\r\n\r\n  /**\r\n   * 拖拽的对象，返回的是对象的选择器\r\n   * @readonly\r\n   * @type String\r\n   */\r\n  get container() {\r\n    return this._container;\r\n  }\r\n\r\n  /**\r\n   * 销毁可拖拽对象，仅仅是移除拖拽事件，不会销毁DOM对象\r\n   */\r\n  destroy() {\r\n    $(this.target).unbind('mousedown');\r\n    this._container = undefined;\r\n    this._target = undefined;\r\n  }\r\n}\r\nexport default DraggableElement;\r\n","const {\r\n  SceneMode,\r\n  Rectangle,\r\n  Cartesian3,\r\n  Matrix4,\r\n  Camera\r\n} = Cesium;\r\n\r\nwindow.DEFAULT_VIEW_RECTANGLE = Rectangle.fromDegrees(70, 5, 130, 60);\r\n/**\r\n * 定位到中国\r\n * @param  {Cesium.Camera} camera  场景相机\r\n * @param  {Number} [duration=3.0] 飞行持续时间\r\n *\r\n * @example\r\n * 1. <code>CesiumPro.flyChinaHome(viewer.camera);</code>\r\n * 2. 此外，CesiumPro将该方法注册到Cesium.Camera的原型链，因此，你也可以像下面这样使用它\r\n *    <code>viewer.camera.flyChinaHome()</code>\r\n */\r\nfunction flyChinaHome(camera, duration) {\r\n  const mode = camera._mode;\r\n\r\n  if (mode === SceneMode.MORPHING) {\r\n    camera._scene.completeMorph();\r\n  }\r\n\r\n  if (mode === SceneMode.SCENE2D) {\r\n    camera.flyTo({\r\n      destination: DEFAULT_VIEW_RECTANGLE,\r\n      duration: duration,\r\n      endTransform: Matrix4.IDENTITY\r\n    });\r\n  } else if (mode === SceneMode.SCENE3D) {\r\n    const destination = camera.getRectangleCameraCoordinates(DEFAULT_VIEW_RECTANGLE);\r\n\r\n    let mag = Cartesian3.magnitude(destination);\r\n    mag += mag * Camera.DEFAULT_VIEW_FACTOR;\r\n    Cartesian3.normalize(destination, destination);\r\n    Cartesian3.multiplyByScalar(destination, mag, destination);\r\n\r\n    camera.flyTo({\r\n      destination: destination,\r\n      duration: duration,\r\n      endTransform: Matrix4.IDENTITY\r\n    });\r\n  } else if (mode === SceneMode.COLUMBUS_VIEW) {\r\n    const maxRadii = camera._projection.ellipsoid.maximumRadius;\r\n    let position = new Cartesian3(0.0, -1.0, 1.0);\r\n    position = Cartesian3.multiplyByScalar(Cartesian3.normalize(position, position), 5.0 * maxRadii, position);\r\n    camera.flyTo({\r\n      destination: position,\r\n      duration: duration,\r\n      orientation: {\r\n        heading: 0.0,\r\n        pitch: -Math.acos(Cartesian3.normalize(position, pitchScratch).z),\r\n        roll: 0.0\r\n      },\r\n      endTransform: Matrix4.IDENTITY,\r\n      convert: false\r\n    });\r\n  }\r\n}\r\n(function() {\r\n  Cesium.Camera.prototype.flyChinaHome = function() {\r\n    flyChinaHome(this);\r\n  };\r\n})();\r\nexport default flyChinaHome;\r\n","import defined from './defined';\r\nimport CesiumProError from './CesiumProError'\r\n/**\r\n * 场景定位，Cesium 有viewer.flyTo和camera.flyTo两个定位函数，但是前者只能定位到几何体，后者是相机定位，\r\n * 和场景位置差异较大，和我们的预期差异较大，该方法是通过Cartesian3定位到场景位置。\r\n * @exports flyTo\r\n * @param  {Object} [options={}] 具有以下参数\r\n * @param {Cesium.Cartesian3} options.destination 飞行位置\r\n * @param {Number} [options.duration=3.0] 飞行持续时间\r\n * @param {Number} [options.maximumHeight] 飞行最大高度\r\n * @param {Cesium.HeadingPitchRange} [options.offset] 偏移\r\n * @example\r\n * CesiumPro.flyTo(viewer,{\r\n *    destination:Cesium.Cartesian3.fromDegrees(110,40),\r\n *    offset:new Cesium.HeadingPitchRange(heading, pitch, range)\r\n * })\r\n */\r\nfunction flyTo(viewer, options = {}) {\r\n  if (!defined(options.destination)) {\r\n    throw new CesiumProError('parameter destination is required.');\r\n  }\r\n  const boundingSphere = new Cesium.BoundingSphere(options.destination, 1000);\r\n  delete options.destination\r\n  viewer.camera.flyToBoundingSphere(boundingSphere, options);\r\n}\r\nexport default flyTo;\r\n","import checkViewer from './checkViewer'\r\n/**\r\n * 设置场景的抗锯齿效果。\r\n * @exports fxaa\r\n * @param  {Cesium.Viewer} viewer\r\n * @param  {Bool} value 是否开启抗锯齿效果\r\n */\r\nfunction fxaa(viewer, value) {\r\n  checkViewer(viewer);\r\n  viewer.scene.postProcessStages.fxaa.enabled = value;\r\n}\r\n\r\nexport default fxaa;\r\n","/**\r\n * 为了方便管理几何要素自定义的几何类型，它不符合OGC标准。\r\n * @exports GraphicType\r\n * @enum {Number}\r\n */\r\nconst GraphicType = {\r\n  /**\r\n   * 点\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  POINT: 1,\r\n  /**\r\n   * 线\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  POLYLINE: 2,\r\n  /**\r\n   * 面\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  POLYGON: 3,\r\n  /**\r\n   * 模型\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  MODEL: 4,\r\n  /**\r\n   * label\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  LABEL: 5,\r\n  /**\r\n   * 箭头（特殊标绘）\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  ARROW: 6,\r\n  /**\r\n   * 广告牌(Mark)\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  BILLBOARD: 7,\r\n  /**\r\n   * 多点\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  MUTIPOINT: 8,\r\n};\r\n/**\r\n * 从枚举值获得枚举标签\r\n * @type {GraphicType}\r\n *\r\n * @example\r\n * const type=GraphicType.MODEL;\r\n * GraphicType.getKey(type);\r\n * //return 'Model'\r\n */\r\nGraphicType.getKey = function(type) {\r\n  let name = '';\r\n  switch (type) {\r\n    case GraphicType.POINT:\r\n      name = 'Point';\r\n      break;\r\n    case GraphicType.POLYLINE:\r\n      name = 'Polyline';\r\n      break;\r\n    case GraphicType.POLYGON:\r\n      name = 'POLYGON';\r\n      break;\r\n    case GraphicType.LABEL:\r\n      name = 'Label';\r\n      break;\r\n    case GraphicType.MODEL:\r\n      name = 'Model';\r\n      break;\r\n    case GraphicType.ARROW:\r\n      name = 'ARROW';\r\n      break;\r\n    case GraphicType.BILLBOARD:\r\n      name = 'Billboard';\r\n      break;\r\n    case GraphicType.MUTIPOINT:\r\n      name = 'MutlPoint';\r\n      break;\r\n    default:\r\n      name = 'unknown';\r\n  }\r\n  return name;\r\n};\r\n/**\r\n * 将类型转换为OGC标准类型\r\n * @param  {GraphicType} type 要素类型\r\n * @return {String}     OGC要素类型\r\n */\r\nGraphicType.getOGCType = function(type) {\r\n  const validate = GraphicType.validate(type);\r\n  if (!validate) {\r\n    return 'unknown';\r\n  }\r\n  let ogcName = '';\r\n  switch (type) {\r\n    case GraphicType.POINT:\r\n    case GraphicType.LABEL:\r\n    case GraphicType.MODEL:\r\n    case GraphicType.BILLBOARD:\r\n      ogcName = 'Point';\r\n      break;\r\n    case GraphicType.POLYLINE:\r\n      ogcName = 'LineString';\r\n      break;\r\n    case GraphicType.ARROW:\r\n    case GraphicType.POLYGON:\r\n      ogcName = 'Polygon';\r\n      break;\r\n    case GraphicType.MUTIPOINT:\r\n      ogcName = 'MutlPoint';\r\n  }\r\n  return ogcName;\r\n};\r\n/**\r\n * 验证是否是合法类型\r\n * @param {CartometryType}\r\n * @returns {Number}\r\n */\r\nGraphicType.validate = function(type) {\r\n  return type === GraphicType.POINT || type === GraphicType.POLYLINE ||\r\n    type === GraphicType.POLYGON || type === GraphicType.ARROW ||\r\n    type === GraphicType.MODEL || type === GraphicType.LABEL ||\r\n    type === GraphicType.MUTIPOINT || type === GraphicType.BILLBOARD;\r\n};\r\nexport default Object.freeze(GraphicType);\r\n","const shader = 'uniform samplerCube u_cubeMap;\\n\\\r\n  varying vec3 v_texCoord;\\n\\\r\n  void main()\\n\\\r\n  {\\n\\\r\n  vec4 color = textureCube(u_cubeMap, normalize(v_texCoord));\\n\\\r\n  gl_FragColor = vec4(czm_gammaCorrect(color).rgb, czm_morphTime);\\n\\\r\n  }\\n\\\r\n  ';\r\n\r\nexport default shader;\r\n","const shader = 'attribute vec3 position;\\n\\\r\n  varying vec3 v_texCoord;\\n\\\r\n  uniform mat3 u_rotateMatrix;\\n\\\r\n  void main()\\n\\\r\n  {\\n\\\r\n  vec3 p = czm_viewRotation * u_rotateMatrix * (czm_temeToPseudoFixed * (czm_entireFrustum.y * position));\\n\\\r\n  gl_Position = czm_projection * vec4(p, 1.0);\\n\\\r\n  v_texCoord = position.xyz;\\n\\\r\n  }\\n\\\r\n  ';\r\nexport default shader;\r\n","/* eslint-disable no-multi-assign */\r\n/* eslint-disable no-multi-str */\r\nimport skyBoxFS from '../shader/GroundSkyBoxFS';\r\nimport skyBoxVS from '../shader/GroundSkyBoxVS';\r\n/*\r\n * Cesium近地天空盒\r\n */\r\n\r\nconst SkyBoxFS = skyBoxFS;\r\n\r\nconst SkyBoxVS = skyBoxVS;\r\n\r\nclass GroundSkyBox {\r\n  /**\r\n   * 近景天空盒\r\n   * @param {Object} options 同Cesium Skybox\r\n   */\r\n  constructor(options) {\r\n    const {\r\n      defaultValue,\r\n      Matrix4,\r\n      DrawCommand,\r\n    } = Cesium;\r\n    this.sources = options.sources;\r\n    this._sources = undefined;\r\n\r\n    /**\r\n     * 决定天空盒是否被显示.\r\n     *\r\n     * @type {Boolean}\r\n     * @default true\r\n     */\r\n    this.show = defaultValue(options.show, true);\r\n\r\n    this._command = new DrawCommand({\r\n      modelMatrix: Matrix4.clone(Matrix4.IDENTITY),\r\n      owner: this,\r\n    });\r\n    this._cubeMap = undefined;\r\n\r\n    this._attributeLocations = undefined;\r\n    this._useHdr = undefined;\r\n    this._isDestroyed = false;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * 当场景渲染的时候会自动调用该函数更新天空盒。\r\n   * <p>切勿主动调用该函数。</p>\r\n   */\r\n  update(frameState, useHdr) {\r\n    const {\r\n      BoxGeometry,\r\n      Cartesian3,\r\n      defined,\r\n      DeveloperError,\r\n      GeometryPipeline,\r\n      Matrix4,\r\n      Transforms,\r\n      VertexFormat,\r\n      BufferUsage,\r\n      CubeMap,\r\n      loadCubeMap,\r\n      RenderState,\r\n      VertexArray,\r\n      BlendingState,\r\n      SceneMode,\r\n      ShaderProgram,\r\n      ShaderSource,\r\n      Matrix3,\r\n    } = Cesium;\r\n    const skyboxMatrix3 = new Matrix3();\r\n    const that = this;\r\n\r\n    if (!this.show) {\r\n      return undefined;\r\n    }\r\n\r\n    if ((frameState.mode !== SceneMode.SCENE3D)\r\n      && (frameState.mode !== SceneMode.MORPHING)) {\r\n      return undefined;\r\n    }\r\n\r\n    // The sky box is only rendered during the render pass; it is not pickable,\r\n    // it doesn't cast shadows, etc.\r\n    if (!frameState.passes.render) {\r\n      return undefined;\r\n    }\r\n\r\n    const {\r\n      context,\r\n    } = frameState;\r\n\r\n    if (this._sources !== this.sources) {\r\n      this._sources = this.sources;\r\n      const {\r\n        sources,\r\n      } = this;\r\n\r\n      if ((!defined(sources.positiveX))\r\n        || (!defined(sources.negativeX))\r\n        || (!defined(sources.positiveY))\r\n        || (!defined(sources.negativeY))\r\n        || (!defined(sources.positiveZ))\r\n        || (!defined(sources.negativeZ))) {\r\n        throw new DeveloperError('this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.');\r\n      }\r\n\r\n      if ((typeof sources.positiveX !== typeof sources.negativeX)\r\n        || (typeof sources.positiveX !== typeof sources.positiveY)\r\n        || (typeof sources.positiveX !== typeof sources.negativeY)\r\n        || (typeof sources.positiveX !== typeof sources.positiveZ)\r\n        || (typeof sources.positiveX !== typeof sources.negativeZ)) {\r\n        throw new DeveloperError('this.sources properties must all be the same type.');\r\n      }\r\n\r\n      if (typeof sources.positiveX === 'string') {\r\n        // Given urls for cube-map images.  Load them.\r\n        loadCubeMap(context, this._sources).then((cubeMap) => {\r\n          that._cubeMap = that._cubeMap && that._cubeMap.destroy();\r\n          that._cubeMap = cubeMap;\r\n        });\r\n      } else {\r\n        this._cubeMap = this._cubeMap && this._cubeMap.destroy();\r\n        this._cubeMap = new CubeMap({\r\n          context,\r\n          source: sources,\r\n        });\r\n      }\r\n    }\r\n\r\n    const command = this._command;\r\n\r\n    command.modelMatrix = Transforms.eastNorthUpToFixedFrame(frameState.camera._positionWC);\r\n    if (!defined(command.vertexArray)) {\r\n      command.uniformMap = {\r\n        u_cubeMap() {\r\n          return that._cubeMap;\r\n        },\r\n        u_rotateMatrix() {\r\n          if (typeof Matrix4.getRotation === 'function') {\r\n            return Matrix4.getRotation(command.modelMatrix, skyboxMatrix3);\r\n          }\r\n          return Matrix4.getMatrix3(command.modelMatrix, skyboxMatrix3);\r\n        },\r\n      };\r\n\r\n      const geometry = BoxGeometry.createGeometry(BoxGeometry.fromDimensions({\r\n        dimensions: new Cartesian3(2.0, 2.0, 2.0),\r\n        vertexFormat: VertexFormat.POSITION_ONLY,\r\n      }));\r\n      const attributeLocations = this._attributeLocations = GeometryPipeline\r\n        .createAttributeLocations(geometry);\r\n\r\n      command.vertexArray = VertexArray.fromGeometry({\r\n        context,\r\n        geometry,\r\n        attributeLocations,\r\n        bufferUsage: BufferUsage._DRAW,\r\n      });\r\n\r\n      command.renderState = RenderState.fromCache({\r\n        blending: BlendingState.ALPHA_BLEND,\r\n      });\r\n    }\r\n\r\n    if (!defined(command.shaderProgram) || this._useHdr !== useHdr) {\r\n      const fs = new ShaderSource({\r\n        defines: [useHdr ? 'HDR' : ''],\r\n        sources: [SkyBoxFS],\r\n      });\r\n      command.shaderProgram = ShaderProgram.fromCache({\r\n        context,\r\n        vertexShaderSource: SkyBoxVS,\r\n        fragmentShaderSource: fs,\r\n        attributeLocations: this._attributeLocations,\r\n      });\r\n      this._useHdr = useHdr;\r\n    }\r\n\r\n    if (!defined(this._cubeMap)) {\r\n      return undefined;\r\n    }\r\n\r\n    return command;\r\n  }\r\n\r\n  /**\r\n   * 对象是否被销毁\r\n   */\r\n  isDestroyed() {\r\n    return this._isDestroyed;\r\n  }\r\n\r\n  /**\r\n   * 销毁对象\r\n   */\r\n  destroy() {\r\n    const command = this._command;\r\n    command.vertexArray = command.vertexArray && command.vertexArray.destroy();\r\n    command.shaderProgram = command.shaderProgram && command.shaderProgram.destroy();\r\n    this._cubeMap = this._cubeMap && this._cubeMap.destroy();\r\n    return Cesium.destroyObject(this);\r\n  }\r\n}\r\n\r\nexport default GroundSkyBox;\r\n","/*\r\n * 移除Cesium 默认logo，并添加新logo\r\n */\r\nimport $ from '../thirdParty/jquery.js';\r\n\r\n/**\r\n * 移除Cesium 默认logo，并添加新logo\r\n * @exports logo\r\n * @param {Object} [options] 具有以下参数\r\n * @param  {String} [options.url] 新logo的url，如果为空将仅移除默认logo，不添加新logo\r\n * @param {Number} [options.width] logo图片的宽度\r\n * @param {Number} [options.height] logo图片高度\r\n */\r\nfunction logo(options = {}) {\r\n  $('.cesium-widget-credits').empty();\r\n  if (options.url) {\r\n    let style = '';\r\n    if (options.width) {\r\n      style += `width=${options.width}`;\r\n    }\r\n    if (options.height) {\r\n      style += ` height=${options.height}`;\r\n    }\r\n    $('.cesium-widget-credits').append(`<img src='${options.url}' ${style}/>`);\r\n  }\r\n}\r\n\r\nexport default logo;\r\n","import {\r\n  cachedShader\r\n} from './createTilesetShader';\r\nconst {\r\n  Model,\r\n  numberOfComponentsForType,\r\n  getAccessorByteStride,\r\n  IndexDatatype,\r\n  FeatureDetection,\r\n  SceneMode,\r\n  defined,\r\n  defaultValue,\r\n  Cartesian3,\r\n  addPipelineExtras,\r\n  ModelLoadResources,\r\n  ModelUtility,\r\n  updateVersion,\r\n  addDefaults,\r\n  processPbrMaterials,\r\n  processModelMaterialsCommon,\r\n  DracoLoader,\r\n  Matrix4,\r\n  ForEach,\r\n  hasExtension,\r\n  clone,\r\n  WebGLConstants,\r\n  ModelMaterial,\r\n  ModelMesh,\r\n  ModelNode,\r\n  OctahedralProjectedCubeMap,\r\n  ModelOutlineLoader,\r\n  JobType,\r\n  BufferUsage,\r\n  PrimitiveType,\r\n  ShaderSource,\r\n  Buffer,\r\n  ShaderProgram,\r\n  VertexArray,\r\n  RenderState,\r\n  DepthFunction,\r\n  BoundingSphere,\r\n  combine,\r\n  ShadowMode,\r\n  DrawCommand,\r\n  HeightReference,\r\n  Cartographic,\r\n  Axis,\r\n  Cartesian4,\r\n  Color,\r\n  ColorBlendMode\r\n} = Cesium;\r\nconst ModelState = ModelUtility.ModelState\r\nconst CesiumMath = Cesium.Math;\r\n//********************\r\nfunction destroy(property) {\r\n  for (var name in property) {\r\n    if (property.hasOwnProperty(name)) {\r\n      property[name].destroy();\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateColor(model, frameState, forceDerive) {\r\n  // Generate translucent commands when the blend color has an alpha in the range (0.0, 1.0) exclusive\r\n  var scene3DOnly = frameState.scene3DOnly;\r\n  var alpha = model.color.alpha;\r\n  if (alpha > 0.0 && alpha < 1.0) {\r\n    var nodeCommands = model._nodeCommands;\r\n    var length = nodeCommands.length;\r\n    if (!defined(nodeCommands[0].translucentCommand) || forceDerive) {\r\n      for (var i = 0; i < length; ++i) {\r\n        var nodeCommand = nodeCommands[i];\r\n        var command = nodeCommand.command;\r\n        nodeCommand.translucentCommand = deriveTranslucentCommand(command);\r\n        if (!scene3DOnly) {\r\n          var command2D = nodeCommand.command2D;\r\n          nodeCommand.translucentCommand2D = deriveTranslucentCommand(\r\n            command2D\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateBackFaceCulling(model, frameState, forceDerive) {\r\n  var scene3DOnly = frameState.scene3DOnly;\r\n  var backFaceCulling = model.backFaceCulling;\r\n  if (!backFaceCulling) {\r\n    var nodeCommands = model._nodeCommands;\r\n    var length = nodeCommands.length;\r\n    if (!defined(nodeCommands[0].disableCullingCommand) || forceDerive) {\r\n      for (var i = 0; i < length; ++i) {\r\n        var nodeCommand = nodeCommands[i];\r\n        var command = nodeCommand.command;\r\n        nodeCommand.disableCullingCommand = deriveDisableCullingCommand(\r\n          command\r\n        );\r\n        if (!scene3DOnly) {\r\n          var command2D = nodeCommand.command2D;\r\n          nodeCommand.disableCullingCommand2D = deriveDisableCullingCommand(\r\n            command2D\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateSilhouette(model, frameState, force) {\r\n  // Generate silhouette commands when the silhouette size is greater than 0.0 and the alpha is greater than 0.0\r\n  // There are two silhouette commands:\r\n  //     1. silhouetteModelCommand : render model normally while enabling stencil mask\r\n  //     2. silhouetteColorCommand : render enlarged model with a solid color while enabling stencil tests\r\n  if (!hasSilhouette(model, frameState)) {\r\n    return;\r\n  }\r\n\r\n  var nodeCommands = model._nodeCommands;\r\n  var dirty =\r\n    alphaDirty(model.color.alpha, model._colorPreviousAlpha) ||\r\n    alphaDirty(\r\n      model.silhouetteColor.alpha,\r\n      model._silhouetteColorPreviousAlpha\r\n    ) ||\r\n    !defined(nodeCommands[0].silhouetteModelCommand);\r\n\r\n  model._colorPreviousAlpha = model.color.alpha;\r\n  model._silhouetteColorPreviousAlpha = model.silhouetteColor.alpha;\r\n\r\n  if (dirty || force) {\r\n    createSilhouetteCommands(model, frameState);\r\n  }\r\n}\r\n\r\nfunction recreateProgram(programToCreate, model, context) {\r\n  var programId = programToCreate.programId;\r\n  var techniqueId = programToCreate.techniqueId;\r\n  var program = model._sourcePrograms[programId];\r\n  var shaders = model._rendererResources.sourceShaders;\r\n\r\n  var quantizedVertexShaders = model._quantizedVertexShaders;\r\n\r\n  var clippingPlaneCollection = model.clippingPlanes;\r\n  var addClippingPlaneCode = isClippingEnabled(model);\r\n\r\n  var vs = shaders[program.vertexShader];\r\n  var fs = shaders[program.fragmentShader];\r\n\r\n  if (\r\n    model.extensionsUsed.WEB3D_quantized_attributes ||\r\n    model._dequantizeInShader\r\n  ) {\r\n    vs = quantizedVertexShaders[programId];\r\n  }\r\n\r\n  var finalFS = fs;\r\n  if (isColorShadingEnabled(model)) {\r\n    finalFS = Model._modifyShaderForColor(finalFS);\r\n  }\r\n  if (addClippingPlaneCode) {\r\n    finalFS = modifyShaderForClippingPlanes(\r\n      finalFS,\r\n      clippingPlaneCollection,\r\n      context\r\n    );\r\n  }\r\n\r\n  var drawVS = modifyShader(vs, programId, model._vertexShaderLoaded);\r\n  var drawFS = modifyShader(finalFS, programId, model._fragmentShaderLoaded);\r\n  const key = model._resource.request.url;\r\n  if (cachedShader.has(key)) {\r\n    const cshader = cachedShader.get(key);\r\n    if (defined(cshader.fragmentShader)) {\r\n      drawFS = ShaderSource.replaceMain(drawFS, 'czm_cesiumpro_main');\r\n      drawFS += cshader.fragmentShader;\r\n    }\r\n    if (defined(cshader.vertexShader)) {\r\n      drawVS = ShaderSource.replaceMain(drawVS, 'czm_cesiumpro_main');\r\n      drawVS += cshader.vertexShader;\r\n    }\r\n  }\r\n\r\n  if (!defined(model._uniformMapLoaded)) {\r\n    drawFS = \"uniform vec4 czm_pickColor;\\n\" + drawFS;\r\n  }\r\n\r\n  var useIBL =\r\n    model._imageBasedLightingFactor.x > 0.0 ||\r\n    model._imageBasedLightingFactor.y > 0.0;\r\n  if (useIBL) {\r\n    drawFS = \"#define USE_IBL_LIGHTING \\n\\n\" + drawFS;\r\n  }\r\n\r\n  if (defined(model._lightColor)) {\r\n    drawFS = \"#define USE_CUSTOM_LIGHT_COLOR \\n\\n\" + drawFS;\r\n  }\r\n\r\n  if (model._sourceVersion !== \"2.0\" || model._sourceKHRTechniquesWebGL) {\r\n    drawFS = ShaderSource.replaceMain(drawFS, \"non_gamma_corrected_main\");\r\n    drawFS =\r\n      drawFS +\r\n      \"\\n\" +\r\n      \"void main() { \\n\" +\r\n      \"    non_gamma_corrected_main(); \\n\" +\r\n      \"    gl_FragColor = czm_gammaCorrect(gl_FragColor); \\n\" +\r\n      \"} \\n\";\r\n  }\r\n\r\n  if (OctahedralProjectedCubeMap.isSupported(context)) {\r\n    var usesSH =\r\n      defined(model._sphericalHarmonicCoefficients) ||\r\n      model._useDefaultSphericalHarmonics;\r\n    var usesSM =\r\n      (defined(model._specularEnvironmentMapAtlas) &&\r\n        model._specularEnvironmentMapAtlas.ready) ||\r\n      model._useDefaultSpecularMaps;\r\n    var addMatrix = !addClippingPlaneCode && (usesSH || usesSM || useIBL);\r\n    if (addMatrix) {\r\n      drawFS = \"uniform mat4 gltf_clippingPlanesMatrix; \\n\" + drawFS;\r\n    }\r\n\r\n    if (defined(model._sphericalHarmonicCoefficients)) {\r\n      drawFS =\r\n        \"#define DIFFUSE_IBL \\n\" +\r\n        \"#define CUSTOM_SPHERICAL_HARMONICS \\n\" +\r\n        \"uniform vec3 gltf_sphericalHarmonicCoefficients[9]; \\n\" +\r\n        drawFS;\r\n    } else if (model._useDefaultSphericalHarmonics) {\r\n      drawFS = \"#define DIFFUSE_IBL \\n\" + drawFS;\r\n    }\r\n\r\n    if (\r\n      defined(model._specularEnvironmentMapAtlas) &&\r\n      model._specularEnvironmentMapAtlas.ready\r\n    ) {\r\n      drawFS =\r\n        \"#define SPECULAR_IBL \\n\" +\r\n        \"#define CUSTOM_SPECULAR_IBL \\n\" +\r\n        \"uniform sampler2D gltf_specularMap; \\n\" +\r\n        \"uniform vec2 gltf_specularMapSize; \\n\" +\r\n        \"uniform float gltf_maxSpecularLOD; \\n\" +\r\n        drawFS;\r\n    } else if (model._useDefaultSpecularMaps) {\r\n      drawFS = \"#define SPECULAR_IBL \\n\" + drawFS;\r\n    }\r\n  }\r\n\r\n  if (defined(model._luminanceAtZenith)) {\r\n    drawFS =\r\n      \"#define USE_SUN_LUMINANCE \\n\" +\r\n      \"uniform float gltf_luminanceAtZenith;\\n\" +\r\n      drawFS;\r\n  }\r\n\r\n  createAttributesAndProgram(\r\n    programId,\r\n    techniqueId,\r\n    drawFS,\r\n    drawVS,\r\n    model,\r\n    context\r\n  );\r\n}\r\n\r\nfunction isClippingEnabled(model) {\r\n  var clippingPlanes = model._clippingPlanes;\r\n  return (\r\n    defined(clippingPlanes) &&\r\n    clippingPlanes.enabled &&\r\n    clippingPlanes.length !== 0\r\n  );\r\n}\r\n\r\nfunction isColorShadingEnabled(model) {\r\n  return (\r\n    !Color.equals(model.color, Color.WHITE) ||\r\n    model.colorBlendMode !== ColorBlendMode.HIGHLIGHT\r\n  );\r\n}\r\n\r\nfunction updateClippingPlanes(model, frameState) {\r\n  var clippingPlanes = model._clippingPlanes;\r\n  if (defined(clippingPlanes) && clippingPlanes.owner === model) {\r\n    if (clippingPlanes.enabled) {\r\n      clippingPlanes.update(frameState);\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateWireframe(model) {\r\n  if (model._debugWireframe !== model.debugWireframe) {\r\n    model._debugWireframe = model.debugWireframe;\r\n\r\n    // This assumes the original primitive was TRIANGLES and that the triangles\r\n    // are connected for the wireframe to look perfect.\r\n    var primitiveType = model.debugWireframe ?\r\n      PrimitiveType.LINES :\r\n      PrimitiveType.TRIANGLES;\r\n    var nodeCommands = model._nodeCommands;\r\n    var length = nodeCommands.length;\r\n\r\n    for (var i = 0; i < length; ++i) {\r\n      nodeCommands[i].command.primitiveType = primitiveType;\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateShowBoundingVolume(model) {\r\n  if (model.debugShowBoundingVolume !== model._debugShowBoundingVolume) {\r\n    model._debugShowBoundingVolume = model.debugShowBoundingVolume;\r\n\r\n    var debugShowBoundingVolume = model.debugShowBoundingVolume;\r\n    var nodeCommands = model._nodeCommands;\r\n    var length = nodeCommands.length;\r\n\r\n    for (var i = 0; i < length; ++i) {\r\n      nodeCommands[i].command.debugShowBoundingVolume = debugShowBoundingVolume;\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateShadows(model) {\r\n  if (model.shadows !== model._shadows) {\r\n    model._shadows = model.shadows;\r\n\r\n    var castShadows = ShadowMode.castShadows(model.shadows);\r\n    var receiveShadows = ShadowMode.receiveShadows(model.shadows);\r\n    var nodeCommands = model._nodeCommands;\r\n    var length = nodeCommands.length;\r\n\r\n    for (var i = 0; i < length; i++) {\r\n      var nodeCommand = nodeCommands[i];\r\n      nodeCommand.command.castShadows = castShadows;\r\n      nodeCommand.command.receiveShadows = receiveShadows;\r\n    }\r\n  }\r\n}\r\n\r\nfunction updatePickIds(model, context) {\r\n  var id = model.id;\r\n  if (model._id !== id) {\r\n    model._id = id;\r\n\r\n    var pickIds = model._pickIds;\r\n    var length = pickIds.length;\r\n    for (var i = 0; i < length; ++i) {\r\n      pickIds[i].object.id = id;\r\n    }\r\n  }\r\n}\r\nvar scratchObjectSpace = new Matrix4();\r\n\r\nfunction applySkins(model) {\r\n  var skinnedNodes = model._runtime.skinnedNodes;\r\n  var length = skinnedNodes.length;\r\n\r\n  for (var i = 0; i < length; ++i) {\r\n    var node = skinnedNodes[i];\r\n\r\n    scratchObjectSpace = Matrix4.inverseTransformation(\r\n      node.transformToRoot,\r\n      scratchObjectSpace\r\n    );\r\n\r\n    var computedJointMatrices = node.computedJointMatrices;\r\n    var joints = node.joints;\r\n    var bindShapeMatrix = node.bindShapeMatrix;\r\n    var inverseBindMatrices = node.inverseBindMatrices;\r\n    var inverseBindMatricesLength = inverseBindMatrices.length;\r\n\r\n    for (var m = 0; m < inverseBindMatricesLength; ++m) {\r\n      // [joint-matrix] = [node-to-root^-1][joint-to-root][inverse-bind][bind-shape]\r\n      if (!defined(computedJointMatrices[m])) {\r\n        computedJointMatrices[m] = new Matrix4();\r\n      }\r\n      computedJointMatrices[m] = Matrix4.multiplyTransformation(\r\n        scratchObjectSpace,\r\n        joints[m].transformToRoot,\r\n        computedJointMatrices[m]\r\n      );\r\n      computedJointMatrices[m] = Matrix4.multiplyTransformation(\r\n        computedJointMatrices[m],\r\n        inverseBindMatrices[m],\r\n        computedJointMatrices[m]\r\n      );\r\n      if (defined(bindShapeMatrix)) {\r\n        // NOTE: bindShapeMatrix is glTF 1.0 only, removed in glTF 2.0.\r\n        computedJointMatrices[m] = Matrix4.multiplyTransformation(\r\n          computedJointMatrices[m],\r\n          bindShapeMatrix,\r\n          computedJointMatrices[m]\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction getNodeMatrix(node, result) {\r\n  var publicNode = node.publicNode;\r\n  var publicMatrix = publicNode.matrix;\r\n\r\n  if (publicNode.useMatrix && defined(publicMatrix)) {\r\n    // Public matrix overrides original glTF matrix and glTF animations\r\n    Matrix4.clone(publicMatrix, result);\r\n  } else if (defined(node.matrix)) {\r\n    Matrix4.clone(node.matrix, result);\r\n  } else {\r\n    Matrix4.fromTranslationQuaternionRotationScale(\r\n      node.translation,\r\n      node.rotation,\r\n      node.scale,\r\n      result\r\n    );\r\n    // Keep matrix returned by the node in-sync if the node is targeted by an animation.  Only TRS nodes can be targeted.\r\n    publicNode.setMatrix(result);\r\n  }\r\n}\r\nvar scratchNodeStack = [];\r\nvar scratchComputedTranslation = new Cartesian4();\r\nvar scratchComputedMatrixIn2D = new Matrix4();\r\n\r\nfunction updateNodeHierarchyModelMatrix(\r\n  model,\r\n  modelTransformChanged,\r\n  justLoaded,\r\n  projection\r\n) {\r\n  var maxDirtyNumber = model._maxDirtyNumber;\r\n\r\n  var rootNodes = model._runtime.rootNodes;\r\n  var length = rootNodes.length;\r\n\r\n  var nodeStack = scratchNodeStack;\r\n  var computedModelMatrix = model._computedModelMatrix;\r\n\r\n  if (model._mode !== SceneMode.SCENE3D && !model._ignoreCommands) {\r\n    var translation = Matrix4.getColumn(\r\n      computedModelMatrix,\r\n      3,\r\n      scratchComputedTranslation\r\n    );\r\n    if (!Cartesian4.equals(translation, Cartesian4.UNIT_W)) {\r\n      computedModelMatrix = Transforms.basisTo2D(\r\n        projection,\r\n        computedModelMatrix,\r\n        scratchComputedMatrixIn2D\r\n      );\r\n      model._rtcCenter = model._rtcCenter3D;\r\n    } else {\r\n      var center = model.boundingSphere.center;\r\n      var to2D = Transforms.wgs84To2DModelMatrix(\r\n        projection,\r\n        center,\r\n        scratchComputedMatrixIn2D\r\n      );\r\n      computedModelMatrix = Matrix4.multiply(\r\n        to2D,\r\n        computedModelMatrix,\r\n        scratchComputedMatrixIn2D\r\n      );\r\n\r\n      if (defined(model._rtcCenter)) {\r\n        Matrix4.setTranslation(\r\n          computedModelMatrix,\r\n          Cartesian4.UNIT_W,\r\n          computedModelMatrix\r\n        );\r\n        model._rtcCenter = model._rtcCenter2D;\r\n      }\r\n    }\r\n  }\r\n\r\n  for (var i = 0; i < length; ++i) {\r\n    var n = rootNodes[i];\r\n\r\n    getNodeMatrix(n, n.transformToRoot);\r\n    nodeStack.push(n);\r\n\r\n    while (nodeStack.length > 0) {\r\n      n = nodeStack.pop();\r\n      var transformToRoot = n.transformToRoot;\r\n      var commands = n.commands;\r\n\r\n      if (\r\n        n.dirtyNumber === maxDirtyNumber ||\r\n        modelTransformChanged ||\r\n        justLoaded\r\n      ) {\r\n        var nodeMatrix = Matrix4.multiplyTransformation(\r\n          computedModelMatrix,\r\n          transformToRoot,\r\n          n.computedMatrix\r\n        );\r\n        var commandsLength = commands.length;\r\n        if (commandsLength > 0) {\r\n          // Node has meshes, which has primitives.  Update their commands.\r\n          for (var j = 0; j < commandsLength; ++j) {\r\n            var primitiveCommand = commands[j];\r\n            var command = primitiveCommand.command;\r\n            Matrix4.clone(nodeMatrix, command.modelMatrix);\r\n\r\n            // PERFORMANCE_IDEA: Can use transformWithoutScale if no node up to the root has scale (including animation)\r\n            BoundingSphere.transform(\r\n              primitiveCommand.boundingSphere,\r\n              command.modelMatrix,\r\n              command.boundingVolume\r\n            );\r\n\r\n            if (defined(model._rtcCenter)) {\r\n              Cartesian3.add(\r\n                model._rtcCenter,\r\n                command.boundingVolume.center,\r\n                command.boundingVolume.center\r\n              );\r\n            }\r\n\r\n            // If the model crosses the IDL in 2D, it will be drawn in one viewport, but part of it\r\n            // will be clipped by the viewport. We create a second command that translates the model\r\n            // model matrix to the opposite side of the map so the part that was clipped in one viewport\r\n            // is drawn in the other.\r\n            command = primitiveCommand.command2D;\r\n            if (defined(command) && model._mode === SceneMode.SCENE2D) {\r\n              Matrix4.clone(nodeMatrix, command.modelMatrix);\r\n              command.modelMatrix[13] -=\r\n                CesiumMath.sign(command.modelMatrix[13]) *\r\n                2.0 *\r\n                CesiumMath.PI *\r\n                projection.ellipsoid.maximumRadius;\r\n              BoundingSphere.transform(\r\n                primitiveCommand.boundingSphere,\r\n                command.modelMatrix,\r\n                command.boundingVolume\r\n              );\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      var children = n.children;\r\n      if (defined(children)) {\r\n        var childrenLength = children.length;\r\n        for (var k = 0; k < childrenLength; ++k) {\r\n          var child = children[k];\r\n\r\n          // A node's transform needs to be updated if\r\n          // - It was targeted for animation this frame, or\r\n          // - Any of its ancestors were targeted for animation this frame\r\n\r\n          // PERFORMANCE_IDEA: if a child has multiple parents and only one of the parents\r\n          // is dirty, all the subtrees for each child instance will be dirty; we probably\r\n          // won't see this in the wild often.\r\n          child.dirtyNumber = Math.max(child.dirtyNumber, n.dirtyNumber);\r\n\r\n          if (child.dirtyNumber === maxDirtyNumber || justLoaded) {\r\n            // Don't check for modelTransformChanged since if only the model's model matrix changed,\r\n            // we do not need to rebuild the local transform-to-root, only the final\r\n            // [model's-model-matrix][transform-to-root] above.\r\n            getNodeMatrix(child, child.transformToRoot);\r\n            Matrix4.multiplyTransformation(\r\n              transformToRoot,\r\n              child.transformToRoot,\r\n              child.transformToRoot\r\n            );\r\n          }\r\n\r\n          nodeStack.push(child);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ++model._maxDirtyNumber;\r\n}\r\n\r\nfunction createResources(model, frameState) {\r\n  var context = frameState.context;\r\n  var scene3DOnly = frameState.scene3DOnly;\r\n  var quantizedVertexShaders = model._quantizedVertexShaders;\r\n  var techniques = model._sourceTechniques;\r\n  var programs = model._sourcePrograms;\r\n\r\n  var resources = model._rendererResources;\r\n  var shaders = resources.sourceShaders;\r\n  if (model._loadRendererResourcesFromCache) {\r\n    shaders = resources.sourceShaders =\r\n      model._cachedRendererResources.sourceShaders;\r\n  }\r\n\r\n  for (var techniqueId in techniques) {\r\n    if (techniques.hasOwnProperty(techniqueId)) {\r\n      var programId = techniques[techniqueId].program;\r\n      var program = programs[programId];\r\n      var shader = shaders[program.vertexShader];\r\n\r\n      ModelUtility.checkSupportedGlExtensions(program.glExtensions, context);\r\n\r\n      if (\r\n        model.extensionsUsed.WEB3D_quantized_attributes ||\r\n        model._dequantizeInShader\r\n      ) {\r\n        var quantizedVS = quantizedVertexShaders[programId];\r\n        if (!defined(quantizedVS)) {\r\n          quantizedVS = modifyShaderForQuantizedAttributes(\r\n            shader,\r\n            programId,\r\n            model\r\n          );\r\n          quantizedVertexShaders[programId] = quantizedVS;\r\n        }\r\n        shader = quantizedVS;\r\n      }\r\n\r\n      shader = modifyShader(shader, programId, model._vertexShaderLoaded);\r\n    }\r\n  }\r\n\r\n  if (model._loadRendererResourcesFromCache) {\r\n    var cachedResources = model._cachedRendererResources;\r\n\r\n    resources.buffers = cachedResources.buffers;\r\n    resources.vertexArrays = cachedResources.vertexArrays;\r\n    resources.programs = cachedResources.programs;\r\n    resources.silhouettePrograms = cachedResources.silhouettePrograms;\r\n    resources.textures = cachedResources.textures;\r\n    resources.samplers = cachedResources.samplers;\r\n    resources.renderStates = cachedResources.renderStates;\r\n\r\n    // Vertex arrays are unique to this model, create instead of using the cache.\r\n    if (defined(model._precreatedAttributes)) {\r\n      createVertexArrays(model, context);\r\n    }\r\n\r\n    model._cachedGeometryByteLength += getGeometryByteLength(\r\n      cachedResources.buffers\r\n    );\r\n    model._cachedTexturesByteLength += getTexturesByteLength(\r\n      cachedResources.textures\r\n    );\r\n  } else {\r\n    createBuffers(model, frameState); // using glTF bufferViews\r\n    createPrograms(model, frameState);\r\n    createSamplers(model, context);\r\n    loadTexturesFromBufferViews(model);\r\n    createTextures(model, frameState);\r\n  }\r\n\r\n  createSkins(model);\r\n  createRuntimeAnimations(model);\r\n\r\n  if (!model._loadRendererResourcesFromCache) {\r\n    createVertexArrays(model, context); // using glTF meshes\r\n    createRenderStates(model); // using glTF materials/techniques/states\r\n    // Long-term, we might not cache render states if they could change\r\n    // due to an animation, e.g., a uniform going from opaque to transparent.\r\n    // Could use copy-on-write if it is worth it.  Probably overkill.\r\n  }\r\n\r\n  createUniformMaps(model, context); // using glTF materials/techniques\r\n  createRuntimeNodes(model, context, scene3DOnly); // using glTF scene\r\n}\r\n\r\nfunction releaseCachedGltf(model) {\r\n  if (\r\n    defined(model._cacheKey) &&\r\n    defined(model._cachedGltf) &&\r\n    --model._cachedGltf.count === 0\r\n  ) {\r\n    delete gltfCache[model._cacheKey];\r\n  }\r\n  model._cachedGltf = undefined;\r\n}\r\n\r\nfunction updateClamping(model) {\r\n  if (defined(model._removeUpdateHeightCallback)) {\r\n    model._removeUpdateHeightCallback();\r\n    model._removeUpdateHeightCallback = undefined;\r\n  }\r\n\r\n  var scene = model._scene;\r\n  if (\r\n    !defined(scene) ||\r\n    !defined(scene.globe) ||\r\n    model.heightReference === HeightReference.NONE\r\n  ) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    if (model.heightReference !== HeightReference.NONE) {\r\n      throw new DeveloperError(\r\n        \"Height reference is not supported without a scene and globe.\"\r\n      );\r\n    }\r\n    //>>includeEnd('debug');\r\n    model._clampedModelMatrix = undefined;\r\n    return;\r\n  }\r\n\r\n  var globe = scene.globe;\r\n  var ellipsoid = globe.ellipsoid;\r\n\r\n  // Compute cartographic position so we don't recompute every update\r\n  var modelMatrix = model.modelMatrix;\r\n  scratchPosition.x = modelMatrix[12];\r\n  scratchPosition.y = modelMatrix[13];\r\n  scratchPosition.z = modelMatrix[14];\r\n  var cartoPosition = ellipsoid.cartesianToCartographic(scratchPosition);\r\n\r\n  if (!defined(model._clampedModelMatrix)) {\r\n    model._clampedModelMatrix = Matrix4.clone(modelMatrix, new Matrix4());\r\n  }\r\n\r\n  // Install callback to handle updating of terrain tiles\r\n  var surface = globe._surface;\r\n  model._removeUpdateHeightCallback = surface.updateHeight(\r\n    cartoPosition,\r\n    getUpdateHeightCallback(model, ellipsoid, cartoPosition)\r\n  );\r\n\r\n  // Set the correct height now\r\n  var height = globe.getHeight(cartoPosition);\r\n  if (defined(height)) {\r\n    // Get callback with cartoPosition being the non-clamped position\r\n    var cb = getUpdateHeightCallback(model, ellipsoid, cartoPosition);\r\n\r\n    // Compute the clamped cartesian and call updateHeight callback\r\n    Cartographic.clone(cartoPosition, scratchCartographic);\r\n    scratchCartographic.height = height;\r\n    ellipsoid.cartographicToCartesian(scratchCartographic, scratchPosition);\r\n    cb(scratchPosition);\r\n  }\r\n}\r\nvar scratchPosition = new Cartesian3();\r\nvar scratchCartographic = new Cartographic();\r\n\r\nfunction getScale(model, frameState) {\r\n  var scale = model.scale;\r\n\r\n  if (model.minimumPixelSize !== 0.0) {\r\n    // Compute size of bounding sphere in pixels\r\n    var context = frameState.context;\r\n    var maxPixelSize = Math.max(\r\n      context.drawingBufferWidth,\r\n      context.drawingBufferHeight\r\n    );\r\n    var m = defined(model._clampedModelMatrix) ?\r\n      model._clampedModelMatrix :\r\n      model.modelMatrix;\r\n    scratchPosition.x = m[12];\r\n    scratchPosition.y = m[13];\r\n    scratchPosition.z = m[14];\r\n\r\n    if (defined(model._rtcCenter)) {\r\n      Cartesian3.add(model._rtcCenter, scratchPosition, scratchPosition);\r\n    }\r\n\r\n    if (model._mode !== SceneMode.SCENE3D) {\r\n      var projection = frameState.mapProjection;\r\n      var cartographic = projection.ellipsoid.cartesianToCartographic(\r\n        scratchPosition,\r\n        scratchCartographic\r\n      );\r\n      projection.project(cartographic, scratchPosition);\r\n      Cartesian3.fromElements(\r\n        scratchPosition.z,\r\n        scratchPosition.x,\r\n        scratchPosition.y,\r\n        scratchPosition\r\n      );\r\n    }\r\n\r\n    var radius = model.boundingSphere.radius;\r\n    var metersPerPixel = scaleInPixels(scratchPosition, radius, frameState);\r\n\r\n    // metersPerPixel is always > 0.0\r\n    var pixelsPerMeter = 1.0 / metersPerPixel;\r\n    var diameterInPixels = Math.min(\r\n      pixelsPerMeter * (2.0 * radius),\r\n      maxPixelSize\r\n    );\r\n\r\n    // Maintain model's minimum pixel size\r\n    if (diameterInPixels < model.minimumPixelSize) {\r\n      scale =\r\n        (model.minimumPixelSize * metersPerPixel) /\r\n        (2.0 * model._initialRadius);\r\n    }\r\n  }\r\n\r\n  return defined(model.maximumScale) ?\r\n    Math.min(model.maximumScale, scale) :\r\n    scale;\r\n}\r\nvar CreateVertexBufferJob = function() {\r\n  this.id = undefined;\r\n  this.model = undefined;\r\n  this.context = undefined;\r\n};\r\n\r\nCreateVertexBufferJob.prototype.set = function(id, model, context) {\r\n  this.id = id;\r\n  this.model = model;\r\n  this.context = context;\r\n};\r\n\r\nCreateVertexBufferJob.prototype.execute = function() {\r\n  createVertexBuffer(this.id, this.model, this.context);\r\n};\r\n\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\nfunction createVertexBuffer(bufferViewId, model, context) {\r\n  var loadResources = model._loadResources;\r\n  var bufferViews = model.gltf.bufferViews;\r\n  var bufferView = bufferViews[bufferViewId];\r\n\r\n  // Use bufferView created at runtime\r\n  if (!defined(bufferView)) {\r\n    bufferView = loadResources.createdBufferViews[bufferViewId];\r\n  }\r\n\r\n  var vertexBuffer = Buffer.createVertexBuffer({\r\n    context: context,\r\n    typedArray: loadResources.getBuffer(bufferView),\r\n    usage: BufferUsage.STATIC_DRAW,\r\n  });\r\n  vertexBuffer.vertexArrayDestroyable = false;\r\n  model._rendererResources.buffers[bufferViewId] = vertexBuffer;\r\n  model._geometryByteLength += vertexBuffer.sizeInBytes;\r\n}\r\n\r\n///////////////////////////////////////////////////////////////////////////\r\nfunction createSamplers(model) {\r\n  var loadResources = model._loadResources;\r\n  if (loadResources.createSamplers) {\r\n    loadResources.createSamplers = false;\r\n\r\n    var rendererSamplers = model._rendererResources.samplers;\r\n    ForEach.sampler(model.gltf, function(sampler, samplerId) {\r\n      rendererSamplers[samplerId] = new Sampler({\r\n        wrapS: sampler.wrapS,\r\n        wrapT: sampler.wrapT,\r\n        minificationFilter: sampler.minFilter,\r\n        magnificationFilter: sampler.magFilter,\r\n      });\r\n    });\r\n  }\r\n}\r\nvar CreateIndexBufferJob = function() {\r\n  this.id = undefined;\r\n  this.componentType = undefined;\r\n  this.model = undefined;\r\n  this.context = undefined;\r\n};\r\n\r\nCreateIndexBufferJob.prototype.set = function(\r\n  id,\r\n  componentType,\r\n  model,\r\n  context\r\n) {\r\n  this.id = id;\r\n  this.componentType = componentType;\r\n  this.model = model;\r\n  this.context = context;\r\n};\r\n\r\nCreateIndexBufferJob.prototype.execute = function() {\r\n  createIndexBuffer(this.id, this.componentType, this.model, this.context);\r\n};\r\n\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\nfunction createIndexBuffer(bufferViewId, componentType, model, context) {\r\n  var loadResources = model._loadResources;\r\n  var bufferViews = model.gltf.bufferViews;\r\n  var bufferView = bufferViews[bufferViewId];\r\n\r\n  // Use bufferView created at runtime\r\n  if (!defined(bufferView)) {\r\n    bufferView = loadResources.createdBufferViews[bufferViewId];\r\n  }\r\n\r\n  var indexBuffer = Buffer.createIndexBuffer({\r\n    context: context,\r\n    typedArray: loadResources.getBuffer(bufferView),\r\n    usage: BufferUsage.STATIC_DRAW,\r\n    indexDatatype: componentType,\r\n  });\r\n  indexBuffer.vertexArrayDestroyable = false;\r\n  model._rendererResources.buffers[bufferViewId] = indexBuffer;\r\n  model._geometryByteLength += indexBuffer.sizeInBytes;\r\n}\r\n\r\nvar scratchVertexBufferJob = new CreateVertexBufferJob();\r\nvar scratchIndexBufferJob = new CreateIndexBufferJob();\r\n\r\nfunction createBuffers(model, frameState) {\r\n  var loadResources = model._loadResources;\r\n\r\n  if (loadResources.pendingBufferLoads !== 0) {\r\n    return;\r\n  }\r\n\r\n  var context = frameState.context;\r\n  var vertexBuffersToCreate = loadResources.vertexBuffersToCreate;\r\n  var indexBuffersToCreate = loadResources.indexBuffersToCreate;\r\n  var i;\r\n\r\n  if (model.asynchronous) {\r\n    while (vertexBuffersToCreate.length > 0) {\r\n      scratchVertexBufferJob.set(vertexBuffersToCreate.peek(), model, context);\r\n      if (\r\n        !frameState.jobScheduler.execute(scratchVertexBufferJob, JobType.BUFFER)\r\n      ) {\r\n        break;\r\n      }\r\n      vertexBuffersToCreate.dequeue();\r\n    }\r\n\r\n    while (indexBuffersToCreate.length > 0) {\r\n      i = indexBuffersToCreate.peek();\r\n      scratchIndexBufferJob.set(i.id, i.componentType, model, context);\r\n      if (\r\n        !frameState.jobScheduler.execute(scratchIndexBufferJob, JobType.BUFFER)\r\n      ) {\r\n        break;\r\n      }\r\n      indexBuffersToCreate.dequeue();\r\n    }\r\n  } else {\r\n    while (vertexBuffersToCreate.length > 0) {\r\n      createVertexBuffer(vertexBuffersToCreate.dequeue(), model, context);\r\n    }\r\n\r\n    while (indexBuffersToCreate.length > 0) {\r\n      i = indexBuffersToCreate.dequeue();\r\n      createIndexBuffer(i.id, i.componentType, model, context);\r\n    }\r\n  }\r\n}\r\nvar CreateProgramJob = function() {\r\n  this.programToCreate = undefined;\r\n  this.model = undefined;\r\n  this.context = undefined;\r\n};\r\n\r\nCreateProgramJob.prototype.set = function(programToCreate, model, context) {\r\n  this.programToCreate = programToCreate;\r\n  this.model = model;\r\n  this.context = context;\r\n};\r\n\r\nCreateProgramJob.prototype.execute = function() {\r\n  createProgram(this.programToCreate, this.model, this.context);\r\n};\r\nvar scratchCreateProgramJob = new CreateProgramJob();\r\n\r\nfunction createPrograms(model, frameState) {\r\n  var loadResources = model._loadResources;\r\n  var programsToCreate = loadResources.programsToCreate;\r\n\r\n  if (loadResources.pendingShaderLoads !== 0) {\r\n    return;\r\n  }\r\n\r\n  // PERFORMANCE_IDEA: this could be more fine-grained by looking\r\n  // at the shader's bufferView's to determine the buffer dependencies.\r\n  if (loadResources.pendingBufferLoads !== 0) {\r\n    return;\r\n  }\r\n\r\n  var context = frameState.context;\r\n\r\n  if (model.asynchronous) {\r\n    while (programsToCreate.length > 0) {\r\n      scratchCreateProgramJob.set(programsToCreate.peek(), model, context);\r\n      if (\r\n        !frameState.jobScheduler.execute(\r\n          scratchCreateProgramJob,\r\n          JobType.PROGRAM\r\n        )\r\n      ) {\r\n        break;\r\n      }\r\n      programsToCreate.dequeue();\r\n    }\r\n  } else {\r\n    // Create all loaded programs this frame\r\n    while (programsToCreate.length > 0) {\r\n      createProgram(programsToCreate.dequeue(), model, context);\r\n    }\r\n  }\r\n}\r\n\r\nfunction createProgram(programToCreate, model, context) {\r\n  var programId = programToCreate.programId;\r\n  var techniqueId = programToCreate.techniqueId;\r\n  var program = model._sourcePrograms[programId];\r\n  var shaders = model._rendererResources.sourceShaders;\r\n\r\n  var vs = shaders[program.vertexShader];\r\n  var fs = shaders[program.fragmentShader];\r\n\r\n  var quantizedVertexShaders = model._quantizedVertexShaders;\r\n\r\n  if (\r\n    model.extensionsUsed.WEB3D_quantized_attributes ||\r\n    model._dequantizeInShader\r\n  ) {\r\n    var quantizedVS = quantizedVertexShaders[programId];\r\n    if (!defined(quantizedVS)) {\r\n      quantizedVS = modifyShaderForQuantizedAttributes(vs, programId, model);\r\n      quantizedVertexShaders[programId] = quantizedVS;\r\n    }\r\n    vs = quantizedVS;\r\n  }\r\n\r\n  var drawVS = modifyShader(vs, programId, model._vertexShaderLoaded);\r\n  var drawFS = modifyShader(fs, programId, model._fragmentShaderLoaded);\r\n\r\n  if (!defined(model._uniformMapLoaded)) {\r\n    drawFS = \"uniform vec4 czm_pickColor;\\n\" + drawFS;\r\n  }\r\n\r\n  var useIBL =\r\n    model._imageBasedLightingFactor.x > 0.0 ||\r\n    model._imageBasedLightingFactor.y > 0.0;\r\n  if (useIBL) {\r\n    drawFS = \"#define USE_IBL_LIGHTING \\n\\n\" + drawFS;\r\n  }\r\n\r\n  if (defined(model._lightColor)) {\r\n    drawFS = \"#define USE_CUSTOM_LIGHT_COLOR \\n\\n\" + drawFS;\r\n  }\r\n\r\n  if (model._sourceVersion !== \"2.0\" || model._sourceKHRTechniquesWebGL) {\r\n    drawFS = ShaderSource.replaceMain(drawFS, \"non_gamma_corrected_main\");\r\n    drawFS =\r\n      drawFS +\r\n      \"\\n\" +\r\n      \"void main() { \\n\" +\r\n      \"    non_gamma_corrected_main(); \\n\" +\r\n      \"    gl_FragColor = czm_gammaCorrect(gl_FragColor); \\n\" +\r\n      \"} \\n\";\r\n  }\r\n\r\n  if (OctahedralProjectedCubeMap.isSupported(context)) {\r\n    var usesSH =\r\n      defined(model._sphericalHarmonicCoefficients) ||\r\n      model._useDefaultSphericalHarmonics;\r\n    var usesSM =\r\n      (defined(model._specularEnvironmentMapAtlas) &&\r\n        model._specularEnvironmentMapAtlas.ready) ||\r\n      model._useDefaultSpecularMaps;\r\n    var addMatrix = usesSH || usesSM || useIBL;\r\n    if (addMatrix) {\r\n      drawFS = \"uniform mat4 gltf_clippingPlanesMatrix; \\n\" + drawFS;\r\n    }\r\n\r\n    if (defined(model._sphericalHarmonicCoefficients)) {\r\n      drawFS =\r\n        \"#define DIFFUSE_IBL \\n\" +\r\n        \"#define CUSTOM_SPHERICAL_HARMONICS \\n\" +\r\n        \"uniform vec3 gltf_sphericalHarmonicCoefficients[9]; \\n\" +\r\n        drawFS;\r\n    } else if (model._useDefaultSphericalHarmonics) {\r\n      drawFS = \"#define DIFFUSE_IBL \\n\" + drawFS;\r\n    }\r\n\r\n    if (\r\n      defined(model._specularEnvironmentMapAtlas) &&\r\n      model._specularEnvironmentMapAtlas.ready\r\n    ) {\r\n      drawFS =\r\n        \"#define SPECULAR_IBL \\n\" +\r\n        \"#define CUSTOM_SPECULAR_IBL \\n\" +\r\n        \"uniform sampler2D gltf_specularMap; \\n\" +\r\n        \"uniform vec2 gltf_specularMapSize; \\n\" +\r\n        \"uniform float gltf_maxSpecularLOD; \\n\" +\r\n        drawFS;\r\n    } else if (model._useDefaultSpecularMaps) {\r\n      drawFS = \"#define SPECULAR_IBL \\n\" + drawFS;\r\n    }\r\n  }\r\n\r\n  if (defined(model._luminanceAtZenith)) {\r\n    drawFS =\r\n      \"#define USE_SUN_LUMINANCE \\n\" +\r\n      \"uniform float gltf_luminanceAtZenith;\\n\" +\r\n      drawFS;\r\n  }\r\n\r\n  createAttributesAndProgram(\r\n    programId,\r\n    techniqueId,\r\n    drawFS,\r\n    drawVS,\r\n    model,\r\n    context\r\n  );\r\n}\r\n\r\nfunction createAttributesAndProgram(\r\n  programId,\r\n  techniqueId,\r\n  drawFS,\r\n  drawVS,\r\n  model,\r\n  context\r\n) {\r\n  var technique = model._sourceTechniques[techniqueId];\r\n  var attributeLocations = ModelUtility.createAttributeLocations(\r\n    technique,\r\n    model._precreatedAttributes\r\n  );\r\n\r\n  model._rendererResources.programs[programId] = ShaderProgram.fromCache({\r\n    context: context,\r\n    vertexShaderSource: drawVS,\r\n    fragmentShaderSource: drawFS,\r\n    attributeLocations: attributeLocations,\r\n  });\r\n}\r\n\r\nfunction loadTexturesFromBufferViews(model) {\r\n  var loadResources = model._loadResources;\r\n\r\n  if (loadResources.pendingBufferLoads !== 0) {\r\n    return;\r\n  }\r\n\r\n  while (loadResources.texturesToCreateFromBufferView.length > 0) {\r\n    var gltfTexture = loadResources.texturesToCreateFromBufferView.dequeue();\r\n\r\n    var gltf = model.gltf;\r\n    var bufferView = gltf.bufferViews[gltfTexture.bufferView];\r\n    var imageId = gltf.textures[gltfTexture.id].source;\r\n\r\n    var onerror = ModelUtility.getFailedLoadFunction(\r\n      model,\r\n      \"image\",\r\n      \"id: \" + gltfTexture.id + \", bufferView: \" + gltfTexture.bufferView\r\n    );\r\n\r\n    if (gltfTexture.mimeType === \"image/ktx\") {\r\n      loadKTX(loadResources.getBuffer(bufferView))\r\n        .then(imageLoad(model, gltfTexture.id, imageId))\r\n        .otherwise(onerror);\r\n      ++model._loadResources.pendingTextureLoads;\r\n    } else if (gltfTexture.mimeType === \"image/crn\") {\r\n      loadCRN(loadResources.getBuffer(bufferView))\r\n        .then(imageLoad(model, gltfTexture.id, imageId))\r\n        .otherwise(onerror);\r\n      ++model._loadResources.pendingTextureLoads;\r\n    } else {\r\n      var onload = getOnImageCreatedFromTypedArray(loadResources, gltfTexture);\r\n      loadImageFromTypedArray({\r\n          uint8Array: loadResources.getBuffer(bufferView),\r\n          format: gltfTexture.mimeType,\r\n          flipY: false,\r\n        })\r\n        .then(onload)\r\n        .otherwise(onerror);\r\n      ++loadResources.pendingBufferViewToImage;\r\n    }\r\n  }\r\n}\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\nvar CreateTextureJob = function() {\r\n  this.gltfTexture = undefined;\r\n  this.model = undefined;\r\n  this.context = undefined;\r\n};\r\n\r\nCreateTextureJob.prototype.set = function(gltfTexture, model, context) {\r\n  this.gltfTexture = gltfTexture;\r\n  this.model = model;\r\n  this.context = context;\r\n};\r\n\r\nCreateTextureJob.prototype.execute = function() {\r\n  createTexture(this.gltfTexture, this.model, this.context);\r\n};\r\n\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\nfunction createTexture(gltfTexture, model, context) {\r\n  var textures = model.gltf.textures;\r\n  var texture = textures[gltfTexture.id];\r\n\r\n  var rendererSamplers = model._rendererResources.samplers;\r\n  var sampler = rendererSamplers[texture.sampler];\r\n  if (!defined(sampler)) {\r\n    sampler = new Sampler({\r\n      wrapS: TextureWrap.REPEAT,\r\n      wrapT: TextureWrap.REPEAT,\r\n    });\r\n  }\r\n\r\n  var usesTextureTransform = false;\r\n  var materials = model.gltf.materials;\r\n  var materialsLength = materials.length;\r\n  for (var i = 0; i < materialsLength; ++i) {\r\n    var material = materials[i];\r\n    if (\r\n      defined(material.extensions) &&\r\n      defined(material.extensions.KHR_techniques_webgl)\r\n    ) {\r\n      var values = material.extensions.KHR_techniques_webgl.values;\r\n      for (var valueName in values) {\r\n        if (\r\n          values.hasOwnProperty(valueName) &&\r\n          valueName.indexOf(\"Texture\") !== -1\r\n        ) {\r\n          var value = values[valueName];\r\n          if (\r\n            value.index === gltfTexture.id &&\r\n            defined(value.extensions) &&\r\n            defined(value.extensions.KHR_texture_transform)\r\n          ) {\r\n            usesTextureTransform = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (usesTextureTransform) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  var wrapS = sampler.wrapS;\r\n  var wrapT = sampler.wrapT;\r\n  var minFilter = sampler.minificationFilter;\r\n\r\n  if (\r\n    usesTextureTransform &&\r\n    minFilter !== TextureMinificationFilter.LINEAR &&\r\n    minFilter !== TextureMinificationFilter.NEAREST\r\n  ) {\r\n    if (\r\n      minFilter === TextureMinificationFilter.NEAREST_MIPMAP_NEAREST ||\r\n      minFilter === TextureMinificationFilter.NEAREST_MIPMAP_LINEAR\r\n    ) {\r\n      minFilter = TextureMinificationFilter.NEAREST;\r\n    } else {\r\n      minFilter = TextureMinificationFilter.LINEAR;\r\n    }\r\n\r\n    sampler = new Sampler({\r\n      wrapS: sampler.wrapS,\r\n      wrapT: sampler.wrapT,\r\n      textureMinificationFilter: minFilter,\r\n      textureMagnificationFilter: sampler.magnificationFilter,\r\n    });\r\n  }\r\n\r\n  var internalFormat = gltfTexture.internalFormat;\r\n\r\n  var mipmap = !(\r\n      defined(internalFormat) && PixelFormat.isCompressedFormat(internalFormat)\r\n    ) &&\r\n    (minFilter === TextureMinificationFilter.NEAREST_MIPMAP_NEAREST ||\r\n      minFilter === TextureMinificationFilter.NEAREST_MIPMAP_LINEAR ||\r\n      minFilter === TextureMinificationFilter.LINEAR_MIPMAP_NEAREST ||\r\n      minFilter === TextureMinificationFilter.LINEAR_MIPMAP_LINEAR);\r\n  var requiresNpot =\r\n    mipmap ||\r\n    wrapS === TextureWrap.REPEAT ||\r\n    wrapS === TextureWrap.MIRRORED_REPEAT ||\r\n    wrapT === TextureWrap.REPEAT ||\r\n    wrapT === TextureWrap.MIRRORED_REPEAT;\r\n\r\n  var tx;\r\n  var source = gltfTexture.image;\r\n\r\n  if (defined(internalFormat)) {\r\n    tx = new Texture({\r\n      context: context,\r\n      source: {\r\n        arrayBufferView: gltfTexture.bufferView,\r\n      },\r\n      width: gltfTexture.width,\r\n      height: gltfTexture.height,\r\n      pixelFormat: internalFormat,\r\n      sampler: sampler,\r\n    });\r\n  } else if (defined(source)) {\r\n    var npot = !CesiumMath.isPowerOfTwo(source.width) ||\r\n      !CesiumMath.isPowerOfTwo(source.height);\r\n\r\n    if (requiresNpot && npot) {\r\n      // WebGL requires power-of-two texture dimensions for mipmapping and REPEAT/MIRRORED_REPEAT wrap modes.\r\n      var canvas = document.createElement(\"canvas\");\r\n      canvas.width = CesiumMath.nextPowerOfTwo(source.width);\r\n      canvas.height = CesiumMath.nextPowerOfTwo(source.height);\r\n      var canvasContext = canvas.getContext(\"2d\");\r\n      canvasContext.drawImage(\r\n        source,\r\n        0,\r\n        0,\r\n        source.width,\r\n        source.height,\r\n        0,\r\n        0,\r\n        canvas.width,\r\n        canvas.height\r\n      );\r\n      source = canvas;\r\n    }\r\n\r\n    tx = new Texture({\r\n      context: context,\r\n      source: source,\r\n      pixelFormat: texture.internalFormat,\r\n      pixelDatatype: texture.type,\r\n      sampler: sampler,\r\n      flipY: false,\r\n    });\r\n    // GLTF_SPEC: Support TEXTURE_CUBE_MAP.  https://github.com/KhronosGroup/glTF/issues/40\r\n    if (mipmap) {\r\n      tx.generateMipmap();\r\n    }\r\n  }\r\n  if (defined(tx)) {\r\n    model._rendererResources.textures[gltfTexture.id] = tx;\r\n    model._texturesByteLength += tx.sizeInBytes;\r\n  }\r\n}\r\n\r\nvar scratchCreateTextureJob = new CreateTextureJob();\r\n\r\nfunction createTextures(model, frameState) {\r\n  var context = frameState.context;\r\n  var texturesToCreate = model._loadResources.texturesToCreate;\r\n\r\n  if (model.asynchronous) {\r\n    while (texturesToCreate.length > 0) {\r\n      scratchCreateTextureJob.set(texturesToCreate.peek(), model, context);\r\n      if (\r\n        !frameState.jobScheduler.execute(\r\n          scratchCreateTextureJob,\r\n          JobType.TEXTURE\r\n        )\r\n      ) {\r\n        break;\r\n      }\r\n      texturesToCreate.dequeue();\r\n    }\r\n  } else {\r\n    // Create all loaded textures this frame\r\n    while (texturesToCreate.length > 0) {\r\n      createTexture(texturesToCreate.dequeue(), model, context);\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSkins(model) {\r\n  var loadResources = model._loadResources;\r\n\r\n  if (loadResources.pendingBufferLoads !== 0) {\r\n    return;\r\n  }\r\n\r\n  if (!loadResources.createSkins) {\r\n    return;\r\n  }\r\n  loadResources.createSkins = false;\r\n\r\n  var gltf = model.gltf;\r\n  var accessors = gltf.accessors;\r\n  var runtimeSkins = {};\r\n\r\n  ForEach.skin(gltf, function(skin, id) {\r\n    var accessor = accessors[skin.inverseBindMatrices];\r\n\r\n    var bindShapeMatrix;\r\n    if (!Matrix4.equals(skin.bindShapeMatrix, Matrix4.IDENTITY)) {\r\n      bindShapeMatrix = Matrix4.clone(skin.bindShapeMatrix);\r\n    }\r\n\r\n    runtimeSkins[id] = {\r\n      inverseBindMatrices: ModelAnimationCache.getSkinInverseBindMatrices(\r\n        model,\r\n        accessor\r\n      ),\r\n      bindShapeMatrix: bindShapeMatrix, // not used when undefined\r\n    };\r\n  });\r\n\r\n  createJoints(model, runtimeSkins);\r\n}\r\n\r\nfunction createJoints(model, runtimeSkins) {\r\n  var gltf = model.gltf;\r\n  var skins = gltf.skins;\r\n  var nodes = gltf.nodes;\r\n  var runtimeNodes = model._runtime.nodes;\r\n\r\n  var skinnedNodesIds = model._loadResources.skinnedNodesIds;\r\n  var length = skinnedNodesIds.length;\r\n  for (var j = 0; j < length; ++j) {\r\n    var id = skinnedNodesIds[j];\r\n    var skinnedNode = runtimeNodes[id];\r\n    var node = nodes[id];\r\n\r\n    var runtimeSkin = runtimeSkins[node.skin];\r\n    skinnedNode.inverseBindMatrices = runtimeSkin.inverseBindMatrices;\r\n    skinnedNode.bindShapeMatrix = runtimeSkin.bindShapeMatrix;\r\n\r\n    var gltfJoints = skins[node.skin].joints;\r\n    var jointsLength = gltfJoints.length;\r\n    for (var i = 0; i < jointsLength; ++i) {\r\n      var nodeId = gltfJoints[i];\r\n      var jointNode = runtimeNodes[nodeId];\r\n      skinnedNode.joints.push(jointNode);\r\n    }\r\n  }\r\n}\r\n\r\nfunction createRuntimeAnimations(model) {\r\n  var loadResources = model._loadResources;\r\n\r\n  if (!loadResources.finishedPendingBufferLoads()) {\r\n    return;\r\n  }\r\n\r\n  if (!loadResources.createRuntimeAnimations) {\r\n    return;\r\n  }\r\n  loadResources.createRuntimeAnimations = false;\r\n\r\n  model._runtime.animations = [];\r\n\r\n  var runtimeNodes = model._runtime.nodes;\r\n  var accessors = model.gltf.accessors;\r\n\r\n  ForEach.animation(model.gltf, function(animation, i) {\r\n    var channels = animation.channels;\r\n    var samplers = animation.samplers;\r\n\r\n    // Find start and stop time for the entire animation\r\n    var startTime = Number.MAX_VALUE;\r\n    var stopTime = -Number.MAX_VALUE;\r\n\r\n    var channelsLength = channels.length;\r\n    var channelEvaluators = new Array(channelsLength);\r\n\r\n    for (var j = 0; j < channelsLength; ++j) {\r\n      var channel = channels[j];\r\n      var target = channel.target;\r\n      var path = target.path;\r\n      var sampler = samplers[channel.sampler];\r\n      var input = ModelAnimationCache.getAnimationParameterValues(\r\n        model,\r\n        accessors[sampler.input]\r\n      );\r\n      var output = ModelAnimationCache.getAnimationParameterValues(\r\n        model,\r\n        accessors[sampler.output]\r\n      );\r\n\r\n      startTime = Math.min(startTime, input[0]);\r\n      stopTime = Math.max(stopTime, input[input.length - 1]);\r\n\r\n      var spline = ModelAnimationCache.getAnimationSpline(\r\n        model,\r\n        i,\r\n        animation,\r\n        channel.sampler,\r\n        sampler,\r\n        input,\r\n        path,\r\n        output\r\n      );\r\n\r\n      channelEvaluators[j] = getChannelEvaluator(\r\n        model,\r\n        runtimeNodes[target.node],\r\n        target.path,\r\n        spline\r\n      );\r\n    }\r\n\r\n    model._runtime.animations[i] = {\r\n      name: animation.name,\r\n      startTime: startTime,\r\n      stopTime: stopTime,\r\n      channelEvaluators: channelEvaluators,\r\n    };\r\n  });\r\n}\r\n\r\nfunction createVertexArrays(model, context) {\r\n  var loadResources = model._loadResources;\r\n  if (\r\n    !loadResources.finishedBuffersCreation() ||\r\n    !loadResources.finishedProgramCreation() ||\r\n    !loadResources.createVertexArrays\r\n  ) {\r\n    return;\r\n  }\r\n  loadResources.createVertexArrays = false;\r\n\r\n  var rendererBuffers = model._rendererResources.buffers;\r\n  var rendererVertexArrays = model._rendererResources.vertexArrays;\r\n  var gltf = model.gltf;\r\n  var accessors = gltf.accessors;\r\n  ForEach.mesh(gltf, function(mesh, meshId) {\r\n    ForEach.meshPrimitive(mesh, function(primitive, primitiveId) {\r\n      var attributes = [];\r\n      var attributeLocation;\r\n      var attributeLocations = getAttributeLocations(model, primitive);\r\n      var decodedData =\r\n        model._decodedData[meshId + \".primitive.\" + primitiveId];\r\n      ForEach.meshPrimitiveAttribute(primitive, function(\r\n        accessorId,\r\n        attributeName\r\n      ) {\r\n        // Skip if the attribute is not used by the material, e.g., because the asset\r\n        // was exported with an attribute that wasn't used and the asset wasn't optimized.\r\n        attributeLocation = attributeLocations[attributeName];\r\n        if (defined(attributeLocation)) {\r\n          // Use attributes of previously decoded draco geometry\r\n          if (defined(decodedData)) {\r\n            var decodedAttributes = decodedData.attributes;\r\n            if (decodedAttributes.hasOwnProperty(attributeName)) {\r\n              var decodedAttribute = decodedAttributes[attributeName];\r\n              attributes.push({\r\n                index: attributeLocation,\r\n                vertexBuffer: rendererBuffers[decodedAttribute.bufferView],\r\n                componentsPerAttribute: decodedAttribute.componentsPerAttribute,\r\n                componentDatatype: decodedAttribute.componentDatatype,\r\n                normalize: decodedAttribute.normalized,\r\n                offsetInBytes: decodedAttribute.byteOffset,\r\n                strideInBytes: decodedAttribute.byteStride,\r\n              });\r\n\r\n              return;\r\n            }\r\n          }\r\n\r\n          var a = accessors[accessorId];\r\n          var normalize = defined(a.normalized) && a.normalized;\r\n          attributes.push({\r\n            index: attributeLocation,\r\n            vertexBuffer: rendererBuffers[a.bufferView],\r\n            componentsPerAttribute: numberOfComponentsForType(a.type),\r\n            componentDatatype: a.componentType,\r\n            normalize: normalize,\r\n            offsetInBytes: a.byteOffset,\r\n            strideInBytes: getAccessorByteStride(gltf, a),\r\n          });\r\n        }\r\n      });\r\n\r\n      // Add pre-created attributes\r\n      var attribute;\r\n      var attributeName;\r\n      var precreatedAttributes = model._precreatedAttributes;\r\n      if (defined(precreatedAttributes)) {\r\n        for (attributeName in precreatedAttributes) {\r\n          if (precreatedAttributes.hasOwnProperty(attributeName)) {\r\n            attributeLocation = attributeLocations[attributeName];\r\n            if (defined(attributeLocation)) {\r\n              attribute = precreatedAttributes[attributeName];\r\n              attribute.index = attributeLocation;\r\n              attributes.push(attribute);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      var indexBuffer;\r\n      if (defined(primitive.indices)) {\r\n        var accessor = accessors[primitive.indices];\r\n        var bufferView = accessor.bufferView;\r\n\r\n        // Use buffer of previously decoded draco geometry\r\n        if (defined(decodedData)) {\r\n          bufferView = decodedData.bufferView;\r\n        }\r\n\r\n        indexBuffer = rendererBuffers[bufferView];\r\n      }\r\n      rendererVertexArrays[\r\n        meshId + \".primitive.\" + primitiveId\r\n      ] = new VertexArray({\r\n        context: context,\r\n        attributes: attributes,\r\n        indexBuffer: indexBuffer,\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\nfunction getAttributeLocations(model, primitive) {\r\n  var techniques = model._sourceTechniques;\r\n\r\n  // Retrieve the compiled shader program to assign index values to attributes\r\n  var attributeLocations = {};\r\n\r\n  var location;\r\n  var index;\r\n  var material = model._runtime.materialsById[primitive.material];\r\n  if (!defined(material)) {\r\n    return attributeLocations;\r\n  }\r\n\r\n  var technique = techniques[material._technique];\r\n  if (!defined(technique)) {\r\n    return attributeLocations;\r\n  }\r\n\r\n  var attributes = technique.attributes;\r\n  var program = model._rendererResources.programs[technique.program];\r\n  var programVertexAttributes = program.vertexAttributes;\r\n  var programAttributeLocations = program._attributeLocations;\r\n\r\n  // Note: WebGL shader compiler may have optimized and removed some attributes from programVertexAttributes\r\n  for (location in programVertexAttributes) {\r\n    if (programVertexAttributes.hasOwnProperty(location)) {\r\n      var attribute = attributes[location];\r\n      if (defined(attribute)) {\r\n        index = programAttributeLocations[location];\r\n        attributeLocations[attribute.semantic] = index;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Always add pre-created attributes.\r\n  // Some pre-created attributes, like per-instance pickIds, may be compiled out of the draw program\r\n  // but should be included in the list of attribute locations for the pick program.\r\n  // This is safe to do since programVertexAttributes and programAttributeLocations are equivalent except\r\n  // that programVertexAttributes optimizes out unused attributes.\r\n  var precreatedAttributes = model._precreatedAttributes;\r\n  if (defined(precreatedAttributes)) {\r\n    for (location in precreatedAttributes) {\r\n      if (precreatedAttributes.hasOwnProperty(location)) {\r\n        index = programAttributeLocations[location];\r\n        attributeLocations[location] = index;\r\n      }\r\n    }\r\n  }\r\n\r\n  return attributeLocations;\r\n}\r\n\r\nfunction createRenderStates(model) {\r\n  var loadResources = model._loadResources;\r\n  if (loadResources.createRenderStates) {\r\n    loadResources.createRenderStates = false;\r\n\r\n    ForEach.material(model.gltf, function(material, materialId) {\r\n      createRenderStateForMaterial(model, material, materialId);\r\n    });\r\n  }\r\n}\r\n\r\nfunction createRenderStateForMaterial(model, material, materialId) {\r\n  var rendererRenderStates = model._rendererResources.renderStates;\r\n\r\n  var blendEquationSeparate = [\r\n    WebGLConstants.FUNC_ADD,\r\n    WebGLConstants.FUNC_ADD,\r\n  ];\r\n  var blendFuncSeparate = [\r\n    WebGLConstants.ONE,\r\n    WebGLConstants.ONE_MINUS_SRC_ALPHA,\r\n    WebGLConstants.ONE,\r\n    WebGLConstants.ONE_MINUS_SRC_ALPHA,\r\n  ];\r\n\r\n  if (defined(material.extensions) && defined(material.extensions.KHR_blend)) {\r\n    blendEquationSeparate = material.extensions.KHR_blend.blendEquation;\r\n    blendFuncSeparate = material.extensions.KHR_blend.blendFactors;\r\n  }\r\n\r\n  var enableCulling = !material.doubleSided;\r\n  var blendingEnabled = material.alphaMode === \"BLEND\";\r\n  rendererRenderStates[materialId] = RenderState.fromCache({\r\n    cull: {\r\n      enabled: enableCulling,\r\n    },\r\n    depthTest: {\r\n      enabled: true,\r\n      func: DepthFunction.LESS_OR_EQUAL,\r\n    },\r\n    depthMask: !blendingEnabled,\r\n    blending: {\r\n      enabled: blendingEnabled,\r\n      equationRgb: blendEquationSeparate[0],\r\n      equationAlpha: blendEquationSeparate[1],\r\n      functionSourceRgb: blendFuncSeparate[0],\r\n      functionDestinationRgb: blendFuncSeparate[1],\r\n      functionSourceAlpha: blendFuncSeparate[2],\r\n      functionDestinationAlpha: blendFuncSeparate[3],\r\n    },\r\n  });\r\n}\r\n\r\nfunction createUniformMaps(model, context) {\r\n  var loadResources = model._loadResources;\r\n\r\n  if (!loadResources.finishedProgramCreation()) {\r\n    return;\r\n  }\r\n\r\n  if (!loadResources.createUniformMaps) {\r\n    return;\r\n  }\r\n  loadResources.createUniformMaps = false;\r\n\r\n  var gltf = model.gltf;\r\n  var techniques = model._sourceTechniques;\r\n  var uniformMaps = model._uniformMaps;\r\n\r\n  var textures = model._rendererResources.textures;\r\n  var defaultTexture = model._defaultTexture;\r\n\r\n  ForEach.material(gltf, function(material, materialId) {\r\n    var modelMaterial = model._runtime.materialsById[materialId];\r\n    var technique = techniques[modelMaterial._technique];\r\n    var instanceValues = modelMaterial._values;\r\n\r\n    var uniforms = createUniformsForMaterial(\r\n      model,\r\n      material,\r\n      technique,\r\n      instanceValues,\r\n      context,\r\n      textures,\r\n      defaultTexture\r\n    );\r\n\r\n    var u = uniformMaps[materialId];\r\n    u.uniformMap = uniforms.map; // uniform name -> function for the renderer\r\n    u.values = uniforms.values; // material parameter name -> ModelMaterial for modifying the parameter at runtime\r\n    u.jointMatrixUniformName = uniforms.jointMatrixUniformName;\r\n    u.morphWeightsUniformName = uniforms.morphWeightsUniformName;\r\n\r\n    if (defined(technique.attributes.a_outlineCoordinates)) {\r\n      var outlineTexture = ModelOutlineLoader.createTexture(model, context);\r\n      u.uniformMap.u_outlineTexture = function() {\r\n        return outlineTexture;\r\n      };\r\n    }\r\n  });\r\n}\r\n\r\nfunction createUniformsForMaterial(\r\n  model,\r\n  material,\r\n  technique,\r\n  instanceValues,\r\n  context,\r\n  textures,\r\n  defaultTexture\r\n) {\r\n  var uniformMap = {};\r\n  var uniformValues = {};\r\n  var jointMatrixUniformName;\r\n  var morphWeightsUniformName;\r\n\r\n  ForEach.techniqueUniform(technique, function(uniform, uniformName) {\r\n    // GLTF_SPEC: This does not take into account uniform arrays,\r\n    // indicated by uniforms with a count property.\r\n    //\r\n    // https://github.com/KhronosGroup/glTF/issues/258\r\n\r\n    // GLTF_SPEC: In this implementation, material parameters with a\r\n    // semantic or targeted via a source (for animation) are not\r\n    // targetable for material animations.  Is this too strict?\r\n    //\r\n    // https://github.com/KhronosGroup/glTF/issues/142\r\n\r\n    var uv;\r\n    if (defined(instanceValues) && defined(instanceValues[uniformName])) {\r\n      // Parameter overrides by the instance technique\r\n      uv = ModelUtility.createUniformFunction(\r\n        uniform.type,\r\n        instanceValues[uniformName],\r\n        textures,\r\n        defaultTexture\r\n      );\r\n      uniformMap[uniformName] = uv.func;\r\n      uniformValues[uniformName] = uv;\r\n    } else if (defined(uniform.node)) {\r\n      uniformMap[uniformName] = getUniformFunctionFromSource(\r\n        uniform.node,\r\n        model,\r\n        uniform.semantic,\r\n        context.uniformState\r\n      );\r\n    } else if (defined(uniform.semantic)) {\r\n      if (uniform.semantic === \"JOINTMATRIX\") {\r\n        jointMatrixUniformName = uniformName;\r\n      } else if (uniform.semantic === \"MORPHWEIGHTS\") {\r\n        morphWeightsUniformName = uniformName;\r\n      } else if (uniform.semantic === \"ALPHACUTOFF\") {\r\n        // The material's alphaCutoff value uses a uniform with semantic ALPHACUTOFF.\r\n        // A uniform with this semantic will ignore the instance or default values.\r\n        var alphaMode = material.alphaMode;\r\n        if (defined(alphaMode) && alphaMode === \"MASK\") {\r\n          var alphaCutoffValue = defaultValue(material.alphaCutoff, 0.5);\r\n          uv = ModelUtility.createUniformFunction(\r\n            uniform.type,\r\n            alphaCutoffValue,\r\n            textures,\r\n            defaultTexture\r\n          );\r\n          uniformMap[uniformName] = uv.func;\r\n          uniformValues[uniformName] = uv;\r\n        }\r\n      } else {\r\n        // Map glTF semantic to Cesium automatic uniform\r\n        uniformMap[uniformName] = ModelUtility.getGltfSemanticUniforms()[\r\n          uniform.semantic\r\n        ](context.uniformState, model);\r\n      }\r\n    } else if (defined(uniform.value)) {\r\n      // Technique value that isn't overridden by a material\r\n      var uv2 = ModelUtility.createUniformFunction(\r\n        uniform.type,\r\n        uniform.value,\r\n        textures,\r\n        defaultTexture\r\n      );\r\n      uniformMap[uniformName] = uv2.func;\r\n      uniformValues[uniformName] = uv2;\r\n    }\r\n  });\r\n\r\n  return {\r\n    map: uniformMap,\r\n    values: uniformValues,\r\n    jointMatrixUniformName: jointMatrixUniformName,\r\n    morphWeightsUniformName: morphWeightsUniformName,\r\n  };\r\n}\r\n\r\nfunction createRuntimeNodes(model, context, scene3DOnly) {\r\n  var loadResources = model._loadResources;\r\n\r\n  if (!loadResources.finishedEverythingButTextureCreation()) {\r\n    return;\r\n  }\r\n\r\n  if (!loadResources.createRuntimeNodes) {\r\n    return;\r\n  }\r\n  loadResources.createRuntimeNodes = false;\r\n\r\n  var rootNodes = [];\r\n  var runtimeNodes = model._runtime.nodes;\r\n\r\n  var gltf = model.gltf;\r\n  var nodes = gltf.nodes;\r\n\r\n  var scene = gltf.scenes[gltf.scene];\r\n  var sceneNodes = scene.nodes;\r\n  var length = sceneNodes.length;\r\n\r\n  var stack = [];\r\n  var seen = {};\r\n\r\n  for (var i = 0; i < length; ++i) {\r\n    stack.push({\r\n      parentRuntimeNode: undefined,\r\n      gltfNode: nodes[sceneNodes[i]],\r\n      id: sceneNodes[i],\r\n    });\r\n\r\n    while (stack.length > 0) {\r\n      var n = stack.pop();\r\n      seen[n.id] = true;\r\n      var parentRuntimeNode = n.parentRuntimeNode;\r\n      var gltfNode = n.gltfNode;\r\n\r\n      // Node hierarchy is a DAG so a node can have more than one parent so it may already exist\r\n      var runtimeNode = runtimeNodes[n.id];\r\n      if (runtimeNode.parents.length === 0) {\r\n        if (defined(gltfNode.matrix)) {\r\n          runtimeNode.matrix = Matrix4.fromColumnMajorArray(gltfNode.matrix);\r\n        } else {\r\n          // TRS converted to Cesium types\r\n          var rotation = gltfNode.rotation;\r\n          runtimeNode.translation = Cartesian3.fromArray(gltfNode.translation);\r\n          runtimeNode.rotation = Quaternion.unpack(rotation);\r\n          runtimeNode.scale = Cartesian3.fromArray(gltfNode.scale);\r\n        }\r\n      }\r\n\r\n      if (defined(parentRuntimeNode)) {\r\n        parentRuntimeNode.children.push(runtimeNode);\r\n        runtimeNode.parents.push(parentRuntimeNode);\r\n      } else {\r\n        rootNodes.push(runtimeNode);\r\n      }\r\n\r\n      if (defined(gltfNode.mesh)) {\r\n        createCommand(model, gltfNode, runtimeNode, context, scene3DOnly);\r\n      }\r\n\r\n      var children = gltfNode.children;\r\n      if (defined(children)) {\r\n        var childrenLength = children.length;\r\n        for (var j = 0; j < childrenLength; j++) {\r\n          var childId = children[j];\r\n          if (!seen[childId]) {\r\n            stack.push({\r\n              parentRuntimeNode: runtimeNode,\r\n              gltfNode: nodes[childId],\r\n              id: children[j],\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  model._runtime.rootNodes = rootNodes;\r\n  model._runtime.nodes = runtimeNodes;\r\n}\r\n\r\nfunction createCommand(model, gltfNode, runtimeNode, context, scene3DOnly) {\r\n  var nodeCommands = model._nodeCommands;\r\n  var pickIds = model._pickIds;\r\n  var allowPicking = model.allowPicking;\r\n  var runtimeMeshesByName = model._runtime.meshesByName;\r\n\r\n  var resources = model._rendererResources;\r\n  var rendererVertexArrays = resources.vertexArrays;\r\n  var rendererPrograms = resources.programs;\r\n  var rendererRenderStates = resources.renderStates;\r\n  var uniformMaps = model._uniformMaps;\r\n\r\n  var gltf = model.gltf;\r\n  var accessors = gltf.accessors;\r\n  var gltfMeshes = gltf.meshes;\r\n\r\n  var id = gltfNode.mesh;\r\n  var mesh = gltfMeshes[id];\r\n\r\n  var primitives = mesh.primitives;\r\n  var length = primitives.length;\r\n\r\n  // The glTF node hierarchy is a DAG so a node can have more than one\r\n  // parent, so a node may already have commands.  If so, append more\r\n  // since they will have a different model matrix.\r\n\r\n  for (var i = 0; i < length; ++i) {\r\n    var primitive = primitives[i];\r\n    var ix = accessors[primitive.indices];\r\n    var material = model._runtime.materialsById[primitive.material];\r\n    var programId = material._program;\r\n    var decodedData = model._decodedData[id + \".primitive.\" + i];\r\n\r\n    var boundingSphere;\r\n    var positionAccessor = primitive.attributes.POSITION;\r\n    if (defined(positionAccessor)) {\r\n      var minMax = ModelUtility.getAccessorMinMax(gltf, positionAccessor);\r\n      boundingSphere = BoundingSphere.fromCornerPoints(\r\n        Cartesian3.fromArray(minMax.min),\r\n        Cartesian3.fromArray(minMax.max)\r\n      );\r\n    }\r\n\r\n    var vertexArray = rendererVertexArrays[id + \".primitive.\" + i];\r\n    var offset;\r\n    var count;\r\n\r\n    // Use indices of the previously decoded Draco geometry.\r\n    if (defined(decodedData)) {\r\n      count = decodedData.numberOfIndices;\r\n      offset = 0;\r\n    } else if (defined(ix)) {\r\n      count = ix.count;\r\n      offset = ix.byteOffset / IndexDatatype.getSizeInBytes(ix.componentType); // glTF has offset in bytes.  Cesium has offsets in indices\r\n    } else {\r\n      var positions = accessors[primitive.attributes.POSITION];\r\n      count = positions.count;\r\n      offset = 0;\r\n    }\r\n\r\n    // Update model triangle count using number of indices\r\n    model._trianglesLength += triangleCountFromPrimitiveIndices(\r\n      primitive,\r\n      count\r\n    );\r\n\r\n    var um = uniformMaps[primitive.material];\r\n    var uniformMap = um.uniformMap;\r\n    if (defined(um.jointMatrixUniformName)) {\r\n      var jointUniformMap = {};\r\n      jointUniformMap[um.jointMatrixUniformName] = createJointMatricesFunction(\r\n        runtimeNode\r\n      );\r\n\r\n      uniformMap = combine(uniformMap, jointUniformMap);\r\n    }\r\n    if (defined(um.morphWeightsUniformName)) {\r\n      var morphWeightsUniformMap = {};\r\n      morphWeightsUniformMap[\r\n        um.morphWeightsUniformName\r\n      ] = createMorphWeightsFunction(runtimeNode);\r\n\r\n      uniformMap = combine(uniformMap, morphWeightsUniformMap);\r\n    }\r\n\r\n    uniformMap = combine(uniformMap, {\r\n      gltf_color: createColorFunction(model),\r\n      gltf_colorBlend: createColorBlendFunction(model),\r\n      gltf_clippingPlanes: createClippingPlanesFunction(model),\r\n      gltf_clippingPlanesEdgeStyle: createClippingPlanesEdgeStyleFunction(\r\n        model\r\n      ),\r\n      gltf_clippingPlanesMatrix: createClippingPlanesMatrixFunction(model),\r\n      gltf_iblFactor: createIBLFactorFunction(model),\r\n      gltf_lightColor: createLightColorFunction(model),\r\n      gltf_sphericalHarmonicCoefficients: createSphericalHarmonicCoefficientsFunction(\r\n        model\r\n      ),\r\n      gltf_specularMap: createSpecularEnvironmentMapFunction(model),\r\n      gltf_specularMapSize: createSpecularEnvironmentMapSizeFunction(model),\r\n      gltf_maxSpecularLOD: createSpecularEnvironmentMapLOD(model),\r\n      gltf_luminanceAtZenith: createLuminanceAtZenithFunction(model),\r\n    });\r\n\r\n    // Allow callback to modify the uniformMap\r\n    if (defined(model._uniformMapLoaded)) {\r\n      uniformMap = model._uniformMapLoaded(uniformMap, programId, runtimeNode);\r\n    }\r\n\r\n    // Add uniforms for decoding quantized attributes if used\r\n    var quantizedUniformMap = {};\r\n    if (model.extensionsUsed.WEB3D_quantized_attributes) {\r\n      quantizedUniformMap = createUniformsForQuantizedAttributes(\r\n        model,\r\n        primitive\r\n      );\r\n    } else if (model._dequantizeInShader && defined(decodedData)) {\r\n      quantizedUniformMap = createUniformsForDracoQuantizedAttributes(\r\n        decodedData\r\n      );\r\n    }\r\n    uniformMap = combine(uniformMap, quantizedUniformMap);\r\n\r\n    var rs = rendererRenderStates[primitive.material];\r\n    var isTranslucent = rs.blending.enabled;\r\n\r\n    var owner = model._pickObject;\r\n    if (!defined(owner)) {\r\n      owner = {\r\n        primitive: model,\r\n        id: model.id,\r\n        node: runtimeNode.publicNode,\r\n        mesh: runtimeMeshesByName[mesh.name],\r\n      };\r\n    }\r\n\r\n    var castShadows = ShadowMode.castShadows(model._shadows);\r\n    var receiveShadows = ShadowMode.receiveShadows(model._shadows);\r\n\r\n    var pickId;\r\n    if (allowPicking && !defined(model._uniformMapLoaded)) {\r\n      pickId = context.createPickId(owner);\r\n      pickIds.push(pickId);\r\n      var pickUniforms = {\r\n        czm_pickColor: createPickColorFunction(pickId.color),\r\n      };\r\n      uniformMap = combine(uniformMap, pickUniforms);\r\n    }\r\n\r\n    if (allowPicking) {\r\n      if (defined(model._pickIdLoaded) && defined(model._uniformMapLoaded)) {\r\n        pickId = model._pickIdLoaded();\r\n      } else {\r\n        pickId = \"czm_pickColor\";\r\n      }\r\n    }\r\n\r\n    var command = new DrawCommand({\r\n      boundingVolume: new BoundingSphere(), // updated in update()\r\n      cull: model.cull,\r\n      modelMatrix: new Matrix4(), // computed in update()\r\n      primitiveType: primitive.mode,\r\n      vertexArray: vertexArray,\r\n      count: count,\r\n      offset: offset,\r\n      shaderProgram: rendererPrograms[programId],\r\n      castShadows: castShadows,\r\n      receiveShadows: receiveShadows,\r\n      uniformMap: uniformMap,\r\n      renderState: rs,\r\n      owner: owner,\r\n      pass: isTranslucent ? Pass.TRANSLUCENT : model.opaquePass,\r\n      pickId: pickId,\r\n    });\r\n\r\n    var command2D;\r\n    if (!scene3DOnly) {\r\n      command2D = DrawCommand.shallowClone(command);\r\n      command2D.boundingVolume = new BoundingSphere(); // updated in update()\r\n      command2D.modelMatrix = new Matrix4(); // updated in update()\r\n    }\r\n\r\n    var nodeCommand = {\r\n      show: true,\r\n      boundingSphere: boundingSphere,\r\n      command: command,\r\n      command2D: command2D,\r\n      // Generated on demand when silhouette size is greater than 0.0 and silhouette alpha is greater than 0.0\r\n      silhouetteModelCommand: undefined,\r\n      silhouetteModelCommand2D: undefined,\r\n      silhouetteColorCommand: undefined,\r\n      silhouetteColorCommand2D: undefined,\r\n      // Generated on demand when color alpha is less than 1.0\r\n      translucentCommand: undefined,\r\n      translucentCommand2D: undefined,\r\n      // Generated on demand when back face culling is false\r\n      disableCullingCommand: undefined,\r\n      disableCullingCommand2D: undefined,\r\n      // For updating node commands on shader reconstruction\r\n      programId: programId,\r\n    };\r\n    runtimeNode.commands.push(nodeCommand);\r\n    nodeCommands.push(nodeCommand);\r\n  }\r\n}\r\n\r\nfunction triangleCountFromPrimitiveIndices(primitive, indicesCount) {\r\n  switch (primitive.mode) {\r\n    case PrimitiveType.TRIANGLES:\r\n      return indicesCount / 3;\r\n    case PrimitiveType.TRIANGLE_STRIP:\r\n    case PrimitiveType.TRIANGLE_FAN:\r\n      return Math.max(indicesCount - 2, 0);\r\n    default:\r\n      return 0;\r\n  }\r\n}\r\n\r\nfunction createColorFunction(model) {\r\n  return function() {\r\n    return model.color;\r\n  };\r\n}\r\n\r\nfunction createColorBlendFunction(model) {\r\n  return function() {\r\n    return ColorBlendMode.getColorBlend(\r\n      model.colorBlendMode,\r\n      model.colorBlendAmount\r\n    );\r\n  };\r\n}\r\n\r\nfunction createClippingPlanesFunction(model) {\r\n  return function() {\r\n    var clippingPlanes = model.clippingPlanes;\r\n    return !defined(clippingPlanes) || !clippingPlanes.enabled ?\r\n      model._defaultTexture :\r\n      clippingPlanes.texture;\r\n  };\r\n}\r\n\r\nfunction createClippingPlanesEdgeStyleFunction(model) {\r\n  return function() {\r\n    var clippingPlanes = model.clippingPlanes;\r\n    if (!defined(clippingPlanes)) {\r\n      return Color.WHITE.withAlpha(0.0);\r\n    }\r\n\r\n    var style = Color.clone(clippingPlanes.edgeColor);\r\n    style.alpha = clippingPlanes.edgeWidth;\r\n    return style;\r\n  };\r\n}\r\nvar scratchClippingPlaneMatrix = new Matrix4();\r\n\r\nfunction createClippingPlanesMatrixFunction(model) {\r\n  return function() {\r\n    var clippingPlanes = model.clippingPlanes;\r\n    if (\r\n      !defined(clippingPlanes) &&\r\n      !defined(model._sphericalHarmonicCoefficients) &&\r\n      !defined(model._specularEnvironmentMaps)\r\n    ) {\r\n      return Matrix4.IDENTITY;\r\n    }\r\n    var modelMatrix = defined(clippingPlanes) ?\r\n      clippingPlanes.modelMatrix :\r\n      Matrix4.IDENTITY;\r\n    return Matrix4.multiply(\r\n      model._clippingPlaneModelViewMatrix,\r\n      modelMatrix,\r\n      scratchClippingPlaneMatrix\r\n    );\r\n  };\r\n}\r\n\r\nfunction createSpecularEnvironmentMapLOD(model) {\r\n  return function() {\r\n    return model._specularEnvironmentMapAtlas.maximumMipmapLevel;\r\n  };\r\n}\r\n\r\nfunction createIBLFactorFunction(model) {\r\n  return function() {\r\n    return model._imageBasedLightingFactor;\r\n  };\r\n}\r\n\r\nfunction createLightColorFunction(model) {\r\n  return function() {\r\n    return model._lightColor;\r\n  };\r\n}\r\n\r\nfunction createUniformsForDracoQuantizedAttributes(decodedData) {\r\n  return ModelUtility.createUniformsForDracoQuantizedAttributes(\r\n    decodedData.attributes\r\n  );\r\n}\r\n\r\nfunction createLuminanceAtZenithFunction(model) {\r\n  return function() {\r\n    return model.luminanceAtZenith;\r\n  };\r\n}\r\n\r\nfunction createSphericalHarmonicCoefficientsFunction(model) {\r\n  return function() {\r\n    return model._sphericalHarmonicCoefficients;\r\n  };\r\n}\r\n\r\nfunction createSpecularEnvironmentMapFunction(model) {\r\n  return function() {\r\n    return model._specularEnvironmentMapAtlas.texture;\r\n  };\r\n}\r\n\r\nfunction createSpecularEnvironmentMapSizeFunction(model) {\r\n  return function() {\r\n    return model._specularEnvironmentMapAtlas.texture.dimensions;\r\n  };\r\n}\r\n\r\nfunction modifyShaderForQuantizedAttributes(shader, programName, model) {\r\n  var primitive;\r\n  var primitives = model._programPrimitives[programName];\r\n\r\n  // If no primitives were cached for this program, there's no need to modify the shader\r\n  if (!defined(primitives)) {\r\n    return shader;\r\n  }\r\n\r\n  var primitiveId;\r\n  for (primitiveId in primitives) {\r\n    if (primitives.hasOwnProperty(primitiveId)) {\r\n      primitive = primitives[primitiveId];\r\n      if (getProgramForPrimitive(model, primitive) === programName) {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // This is not needed after the program is processed, free the memory\r\n  model._programPrimitives[programName] = undefined;\r\n\r\n  var result;\r\n  if (model.extensionsUsed.WEB3D_quantized_attributes) {\r\n    result = ModelUtility.modifyShaderForQuantizedAttributes(\r\n      model.gltf,\r\n      primitive,\r\n      shader\r\n    );\r\n    model._quantizedUniforms[programName] = result.uniforms;\r\n  } else {\r\n    var decodedData = model._decodedData[primitiveId];\r\n    if (defined(decodedData)) {\r\n      result = ModelUtility.modifyShaderForDracoQuantizedAttributes(\r\n        model.gltf,\r\n        primitive,\r\n        shader,\r\n        decodedData.attributes\r\n      );\r\n    } else {\r\n      return shader;\r\n    }\r\n  }\r\n\r\n  return result.shader;\r\n}\r\n\r\nfunction modifyShader(shader, programName, callback) {\r\n  if (defined(callback)) {\r\n    shader = callback(shader, programName);\r\n  }\r\n  return shader;\r\n}\r\n\r\nfunction isTranslucent(model) {\r\n  return model.color.alpha > 0.0 && model.color.alpha < 1.0;\r\n}\r\n\r\nfunction isInvisible(model) {\r\n  return model.color.alpha === 0.0;\r\n}\r\n\r\nfunction silhouetteSupported(context) {\r\n  return context.stencilBuffer;\r\n}\r\n\r\nfunction hasSilhouette(model, frameState) {\r\n  return (\r\n    silhouetteSupported(frameState.context) &&\r\n    model.silhouetteSize > 0.0 &&\r\n    model.silhouetteColor.alpha > 0.0 &&\r\n    defined(model._normalAttributeName)\r\n  );\r\n}\r\n\r\nfunction getProgramForPrimitive(model, primitive) {\r\n  var material = model._runtime.materialsById[primitive.material];\r\n  if (!defined(material)) {\r\n    return;\r\n  }\r\n\r\n  return material._program;\r\n}\r\n\r\nfunction parseShaders(model) {\r\n  var gltf = model.gltf;\r\n  var buffers = gltf.buffers;\r\n  var bufferViews = gltf.bufferViews;\r\n  var sourceShaders = model._rendererResources.sourceShaders;\r\n  ForEach.shader(gltf, function(shader, id) {\r\n    // Shader references either uri (external or base64-encoded) or bufferView\r\n    if (defined(shader.bufferView)) {\r\n      var bufferViewId = shader.bufferView;\r\n      var bufferView = bufferViews[bufferViewId];\r\n      var bufferId = bufferView.buffer;\r\n      var buffer = buffers[bufferId];\r\n      var source = getStringFromTypedArray(\r\n        buffer.extras._pipeline.source,\r\n        bufferView.byteOffset,\r\n        bufferView.byteLength\r\n      );\r\n      sourceShaders[id] = source;\r\n    } else if (defined(shader.extras._pipeline.source)) {\r\n      sourceShaders[id] = shader.extras._pipeline.source;\r\n    } else {\r\n      ++model._loadResources.pendingShaderLoads;\r\n\r\n      var shaderResource = model._resource.getDerivedResource({\r\n        url: shader.uri,\r\n      });\r\n\r\n      shaderResource\r\n        .fetchText()\r\n        .then(shaderLoad(model, shader.type, id))\r\n        .otherwise(\r\n          ModelUtility.getFailedLoadFunction(\r\n            model,\r\n            \"shader\",\r\n            shaderResource.url\r\n          )\r\n        );\r\n    }\r\n  });\r\n}\r\n\r\nfunction parsePrograms(model) {\r\n  var sourceTechniques = model._sourceTechniques;\r\n  for (var techniqueId in sourceTechniques) {\r\n    if (sourceTechniques.hasOwnProperty(techniqueId)) {\r\n      var technique = sourceTechniques[techniqueId];\r\n      model._loadResources.programsToCreate.enqueue({\r\n        programId: technique.program,\r\n        techniqueId: techniqueId,\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction parseBufferViews(model) {\r\n  var bufferViews = model.gltf.bufferViews;\r\n  var vertexBuffersToCreate = model._loadResources.vertexBuffersToCreate;\r\n\r\n  // Only ARRAY_BUFFER here.  ELEMENT_ARRAY_BUFFER created below.\r\n  ForEach.bufferView(model.gltf, function(bufferView, id) {\r\n    if (bufferView.target === WebGLConstants.ARRAY_BUFFER) {\r\n      vertexBuffersToCreate.enqueue(id);\r\n    }\r\n  });\r\n\r\n  var indexBuffersToCreate = model._loadResources.indexBuffersToCreate;\r\n  var indexBufferIds = {};\r\n\r\n  // The Cesium Renderer requires knowing the datatype for an index buffer\r\n  // at creation type, which is not part of the glTF bufferview so loop\r\n  // through glTF accessors to create the bufferview's index buffer.\r\n  ForEach.accessor(model.gltf, function(accessor) {\r\n    var bufferViewId = accessor.bufferView;\r\n    if (!defined(bufferViewId)) {\r\n      return;\r\n    }\r\n\r\n    var bufferView = bufferViews[bufferViewId];\r\n    if (\r\n      bufferView.target === WebGLConstants.ELEMENT_ARRAY_BUFFER &&\r\n      !defined(indexBufferIds[bufferViewId])\r\n    ) {\r\n      indexBufferIds[bufferViewId] = true;\r\n      indexBuffersToCreate.enqueue({\r\n        id: bufferViewId,\r\n        componentType: accessor.componentType,\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction parseTechniques(model) {\r\n  // retain references to gltf techniques\r\n  var gltf = model.gltf;\r\n  if (!hasExtension(gltf, \"KHR_techniques_webgl\")) {\r\n    return;\r\n  }\r\n\r\n  var sourcePrograms = model._sourcePrograms;\r\n  var sourceTechniques = model._sourceTechniques;\r\n  var programs = gltf.extensions.KHR_techniques_webgl.programs;\r\n\r\n  ForEach.technique(gltf, function(technique, techniqueId) {\r\n    sourceTechniques[techniqueId] = clone(technique);\r\n\r\n    var programId = technique.program;\r\n    if (!defined(sourcePrograms[programId])) {\r\n      sourcePrograms[programId] = clone(programs[programId]);\r\n    }\r\n  });\r\n}\r\n\r\nfunction bufferLoad(model, id) {\r\n  return function(arrayBuffer) {\r\n    var loadResources = model._loadResources;\r\n    var buffer = new Uint8Array(arrayBuffer);\r\n    --loadResources.pendingBufferLoads;\r\n    model.gltf.buffers[id].extras._pipeline.source = buffer;\r\n  };\r\n}\r\n\r\nfunction CachedRendererResources(context, cacheKey) {\r\n  this.buffers = undefined;\r\n  this.vertexArrays = undefined;\r\n  this.programs = undefined;\r\n  this.sourceShaders = undefined;\r\n  this.silhouettePrograms = undefined;\r\n  this.textures = undefined;\r\n  this.samplers = undefined;\r\n  this.renderStates = undefined;\r\n  this.ready = false;\r\n\r\n  this.context = context;\r\n  this.cacheKey = cacheKey;\r\n  this.count = 0;\r\n}\r\n\r\nfunction addBuffersToLoadResources(model) {\r\n  var gltf = model.gltf;\r\n  var loadResources = model._loadResources;\r\n  ForEach.buffer(gltf, function(buffer, id) {\r\n    loadResources.buffers[id] = buffer.extras._pipeline.source;\r\n  });\r\n}\r\nvar ktxRegex = /(^data:image\\/ktx)|(\\.ktx$)/i;\r\nvar crnRegex = /(^data:image\\/crn)|(\\.crn$)/i;\r\n\r\nfunction parseArticulations(model) {\r\n  var articulationsByName = {};\r\n  var articulationsByStageKey = {};\r\n  var runtimeStagesByKey = {};\r\n\r\n  model._runtime.articulationsByName = articulationsByName;\r\n  model._runtime.articulationsByStageKey = articulationsByStageKey;\r\n  model._runtime.stagesByKey = runtimeStagesByKey;\r\n\r\n  var gltf = model.gltf;\r\n  if (\r\n    !hasExtension(gltf, \"AGI_articulations\") ||\r\n    !defined(gltf.extensions) ||\r\n    !defined(gltf.extensions.AGI_articulations)\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  var gltfArticulations = gltf.extensions.AGI_articulations.articulations;\r\n  if (!defined(gltfArticulations)) {\r\n    return;\r\n  }\r\n\r\n  var numArticulations = gltfArticulations.length;\r\n  for (var i = 0; i < numArticulations; ++i) {\r\n    var articulation = clone(gltfArticulations[i]);\r\n    articulation.nodes = [];\r\n    articulation.isDirty = true;\r\n    articulationsByName[articulation.name] = articulation;\r\n\r\n    var numStages = articulation.stages.length;\r\n    for (var s = 0; s < numStages; ++s) {\r\n      var stage = articulation.stages[s];\r\n      stage.currentValue = stage.initialValue;\r\n\r\n      var stageKey = articulation.name + \" \" + stage.name;\r\n      articulationsByStageKey[stageKey] = articulation;\r\n      runtimeStagesByKey[stageKey] = stage;\r\n    }\r\n  }\r\n}\r\n\r\nfunction parseTextures(model, context, supportsWebP) {\r\n  var gltf = model.gltf;\r\n  var images = gltf.images;\r\n  var uri;\r\n  ForEach.texture(gltf, function(texture, id) {\r\n    var imageId = texture.source;\r\n\r\n    if (\r\n      defined(texture.extensions) &&\r\n      defined(texture.extensions.EXT_texture_webp) &&\r\n      supportsWebP\r\n    ) {\r\n      imageId = texture.extensions.EXT_texture_webp.source;\r\n    }\r\n\r\n    var gltfImage = images[imageId];\r\n    var extras = gltfImage.extras;\r\n\r\n    var bufferViewId = gltfImage.bufferView;\r\n    var mimeType = gltfImage.mimeType;\r\n    uri = gltfImage.uri;\r\n\r\n    // First check for a compressed texture\r\n    if (defined(extras) && defined(extras.compressedImage3DTiles)) {\r\n      var crunch = extras.compressedImage3DTiles.crunch;\r\n      var s3tc = extras.compressedImage3DTiles.s3tc;\r\n      var pvrtc = extras.compressedImage3DTiles.pvrtc1;\r\n      var etc1 = extras.compressedImage3DTiles.etc1;\r\n\r\n      if (context.s3tc && defined(crunch)) {\r\n        mimeType = crunch.mimeType;\r\n        if (defined(crunch.bufferView)) {\r\n          bufferViewId = crunch.bufferView;\r\n        } else {\r\n          uri = crunch.uri;\r\n        }\r\n      } else if (context.s3tc && defined(s3tc)) {\r\n        mimeType = s3tc.mimeType;\r\n        if (defined(s3tc.bufferView)) {\r\n          bufferViewId = s3tc.bufferView;\r\n        } else {\r\n          uri = s3tc.uri;\r\n        }\r\n      } else if (context.pvrtc && defined(pvrtc)) {\r\n        mimeType = pvrtc.mimeType;\r\n        if (defined(pvrtc.bufferView)) {\r\n          bufferViewId = pvrtc.bufferView;\r\n        } else {\r\n          uri = pvrtc.uri;\r\n        }\r\n      } else if (context.etc1 && defined(etc1)) {\r\n        mimeType = etc1.mimeType;\r\n        if (defined(etc1.bufferView)) {\r\n          bufferViewId = etc1.bufferView;\r\n        } else {\r\n          uri = etc1.uri;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Image references either uri (external or base64-encoded) or bufferView\r\n    if (defined(bufferViewId)) {\r\n      model._loadResources.texturesToCreateFromBufferView.enqueue({\r\n        id: id,\r\n        image: undefined,\r\n        bufferView: bufferViewId,\r\n        mimeType: mimeType,\r\n      });\r\n    } else {\r\n      ++model._loadResources.pendingTextureLoads;\r\n\r\n      var imageResource = model._resource.getDerivedResource({\r\n        url: uri,\r\n      });\r\n\r\n      var promise;\r\n      if (ktxRegex.test(uri)) {\r\n        promise = loadKTX(imageResource);\r\n      } else if (crnRegex.test(uri)) {\r\n        promise = loadCRN(imageResource);\r\n      } else {\r\n        promise = imageResource.fetchImage();\r\n      }\r\n      promise\r\n        .then(imageLoad(model, id, imageId))\r\n        .otherwise(\r\n          ModelUtility.getFailedLoadFunction(model, \"image\", imageResource.url)\r\n        );\r\n    }\r\n  });\r\n}\r\n\r\nvar scratchArticulationStageInitialTransform = new Matrix4();\r\n\r\nfunction parseNodes(model) {\r\n  var runtimeNodes = {};\r\n  var runtimeNodesByName = {};\r\n  var skinnedNodes = [];\r\n\r\n  var skinnedNodesIds = model._loadResources.skinnedNodesIds;\r\n  var articulationsByName = model._runtime.articulationsByName;\r\n\r\n  ForEach.node(model.gltf, function(node, id) {\r\n    var runtimeNode = {\r\n      // Animation targets\r\n      matrix: undefined,\r\n      translation: undefined,\r\n      rotation: undefined,\r\n      scale: undefined,\r\n\r\n      // Per-node show inherited from parent\r\n      computedShow: true,\r\n\r\n      // Computed transforms\r\n      transformToRoot: new Matrix4(),\r\n      computedMatrix: new Matrix4(),\r\n      dirtyNumber: 0, // The frame this node was made dirty by an animation; for graph traversal\r\n\r\n      // Rendering\r\n      commands: [], // empty for transform, light, and camera nodes\r\n\r\n      // Skinned node\r\n      inverseBindMatrices: undefined, // undefined when node is not skinned\r\n      bindShapeMatrix: undefined, // undefined when node is not skinned or identity\r\n      joints: [], // empty when node is not skinned\r\n      computedJointMatrices: [], // empty when node is not skinned\r\n\r\n      // Joint node\r\n      jointName: node.jointName, // undefined when node is not a joint\r\n\r\n      weights: [],\r\n\r\n      // Graph pointers\r\n      children: [], // empty for leaf nodes\r\n      parents: [], // empty for root nodes\r\n\r\n      // Publicly-accessible ModelNode instance to modify animation targets\r\n      publicNode: undefined,\r\n    };\r\n    runtimeNode.publicNode = new ModelNode(\r\n      model,\r\n      node,\r\n      runtimeNode,\r\n      id,\r\n      ModelUtility.getTransform(node)\r\n    );\r\n\r\n    runtimeNodes[id] = runtimeNode;\r\n    runtimeNodesByName[node.name] = runtimeNode;\r\n\r\n    if (defined(node.skin)) {\r\n      skinnedNodesIds.push(id);\r\n      skinnedNodes.push(runtimeNode);\r\n    }\r\n\r\n    if (\r\n      defined(node.extensions) &&\r\n      defined(node.extensions.AGI_articulations)\r\n    ) {\r\n      var articulationName = node.extensions.AGI_articulations.articulationName;\r\n      if (defined(articulationName)) {\r\n        var transform = Matrix4.clone(\r\n          runtimeNode.publicNode.originalMatrix,\r\n          scratchArticulationStageInitialTransform\r\n        );\r\n        var articulation = articulationsByName[articulationName];\r\n        articulation.nodes.push(runtimeNode.publicNode);\r\n\r\n        var numStages = articulation.stages.length;\r\n        for (var s = 0; s < numStages; ++s) {\r\n          var stage = articulation.stages[s];\r\n          transform = applyArticulationStageMatrix(stage, transform);\r\n        }\r\n        runtimeNode.publicNode.matrix = transform;\r\n      }\r\n    }\r\n  });\r\n\r\n  model._runtime.nodes = runtimeNodes;\r\n  model._runtime.nodesByName = runtimeNodesByName;\r\n  model._runtime.skinnedNodes = skinnedNodes;\r\n}\r\n\r\nfunction parseMaterials(model) {\r\n  var gltf = model.gltf;\r\n  var techniques = model._sourceTechniques;\r\n\r\n  var runtimeMaterialsByName = {};\r\n  var runtimeMaterialsById = {};\r\n  var uniformMaps = model._uniformMaps;\r\n\r\n  ForEach.material(gltf, function(material, materialId) {\r\n    // Allocated now so ModelMaterial can keep a reference to it.\r\n    uniformMaps[materialId] = {\r\n      uniformMap: undefined,\r\n      values: undefined,\r\n      jointMatrixUniformName: undefined,\r\n      morphWeightsUniformName: undefined,\r\n    };\r\n\r\n    var modelMaterial = new ModelMaterial(model, material, materialId);\r\n\r\n    if (\r\n      defined(material.extensions) &&\r\n      defined(material.extensions.KHR_techniques_webgl)\r\n    ) {\r\n      var techniqueId = material.extensions.KHR_techniques_webgl.technique;\r\n      modelMaterial._technique = techniqueId;\r\n      modelMaterial._program = techniques[techniqueId].program;\r\n\r\n      ForEach.materialValue(material, function(value, uniformName) {\r\n        if (!defined(modelMaterial._values)) {\r\n          modelMaterial._values = {};\r\n        }\r\n\r\n        modelMaterial._values[uniformName] = clone(value);\r\n      });\r\n    }\r\n\r\n    runtimeMaterialsByName[material.name] = modelMaterial;\r\n    runtimeMaterialsById[materialId] = modelMaterial;\r\n  });\r\n\r\n  model._runtime.materialsByName = runtimeMaterialsByName;\r\n  model._runtime.materialsById = runtimeMaterialsById;\r\n}\r\n\r\nfunction parseMeshes(model) {\r\n  var runtimeMeshesByName = {};\r\n  var runtimeMaterialsById = model._runtime.materialsById;\r\n\r\n  ForEach.mesh(model.gltf, function(mesh, meshId) {\r\n    runtimeMeshesByName[mesh.name] = new ModelMesh(\r\n      mesh,\r\n      runtimeMaterialsById,\r\n      meshId\r\n    );\r\n    if (\r\n      defined(model.extensionsUsed.WEB3D_quantized_attributes) ||\r\n      model._dequantizeInShader\r\n    ) {\r\n      // Cache primitives according to their program\r\n      ForEach.meshPrimitive(mesh, function(primitive, primitiveId) {\r\n        var programId = getProgramForPrimitive(model, primitive);\r\n        var programPrimitives = model._programPrimitives[programId];\r\n        if (!defined(programPrimitives)) {\r\n          programPrimitives = {};\r\n          model._programPrimitives[programId] = programPrimitives;\r\n        }\r\n        programPrimitives[meshId + \".primitive.\" + primitiveId] = primitive;\r\n      });\r\n    }\r\n  });\r\n\r\n  model._runtime.meshesByName = runtimeMeshesByName;\r\n}\r\nModel.prototype.update = function(frameState) {\r\n  if (frameState.mode === SceneMode.MORPHING) {\r\n    return;\r\n  }\r\n\r\n  if (!FeatureDetection.supportsWebP.initialized) {\r\n    FeatureDetection.supportsWebP.initialize();\r\n    return;\r\n  }\r\n  var supportsWebP = FeatureDetection.supportsWebP();\r\n\r\n  var context = frameState.context;\r\n  this._defaultTexture = context.defaultTexture;\r\n\r\n  if (this._state === ModelState.NEEDS_LOAD && defined(this.gltf)) {\r\n    // Use renderer resources from cache instead of loading/creating them?\r\n    var cachedRendererResources;\r\n    var cacheKey = this.cacheKey;\r\n    if (defined(cacheKey)) {\r\n      // cache key given? this model will pull from or contribute to context level cache\r\n      context.cache.modelRendererResourceCache = defaultValue(\r\n        context.cache.modelRendererResourceCache, {}\r\n      );\r\n      var modelCaches = context.cache.modelRendererResourceCache;\r\n\r\n      cachedRendererResources = modelCaches[this.cacheKey];\r\n      if (defined(cachedRendererResources)) {\r\n        if (!cachedRendererResources.ready) {\r\n          // Cached resources for the model are not loaded yet.  We'll\r\n          // try again every frame until they are.\r\n          return;\r\n        }\r\n\r\n        ++cachedRendererResources.count;\r\n        this._loadRendererResourcesFromCache = true;\r\n      } else {\r\n        cachedRendererResources = new CachedRendererResources(\r\n          context,\r\n          cacheKey\r\n        );\r\n        cachedRendererResources.count = 1;\r\n        modelCaches[this.cacheKey] = cachedRendererResources;\r\n      }\r\n      this._cachedRendererResources = cachedRendererResources;\r\n    } else {\r\n      // cache key not given? this model doesn't care about context level cache at all. Cache is here to simplify freeing on destroy.\r\n      cachedRendererResources = new CachedRendererResources(context);\r\n      cachedRendererResources.count = 1;\r\n      this._cachedRendererResources = cachedRendererResources;\r\n    }\r\n\r\n    this._state = ModelState.LOADING;\r\n    if (this._state !== ModelState.FAILED) {\r\n      var extensions = this.gltf.extensions;\r\n      if (defined(extensions) && defined(extensions.CESIUM_RTC)) {\r\n        var center = Cartesian3.fromArray(extensions.CESIUM_RTC.center);\r\n        if (!Cartesian3.equals(center, Cartesian3.ZERO)) {\r\n          this._rtcCenter3D = center;\r\n\r\n          var projection = frameState.mapProjection;\r\n          var ellipsoid = projection.ellipsoid;\r\n          var cartographic = ellipsoid.cartesianToCartographic(\r\n            this._rtcCenter3D\r\n          );\r\n          var projectedCart = projection.project(cartographic);\r\n          Cartesian3.fromElements(\r\n            projectedCart.z,\r\n            projectedCart.x,\r\n            projectedCart.y,\r\n            projectedCart\r\n          );\r\n          this._rtcCenter2D = projectedCart;\r\n\r\n          this._rtcCenterEye = new Cartesian3();\r\n          this._rtcCenter = this._rtcCenter3D;\r\n        }\r\n      }\r\n\r\n      addPipelineExtras(this.gltf);\r\n\r\n      this._loadResources = new ModelLoadResources();\r\n      if (!this._loadRendererResourcesFromCache) {\r\n        // Buffers are required to updateVersion\r\n        ModelUtility.parseBuffers(this, bufferLoad);\r\n      }\r\n    }\r\n  }\r\n\r\n  var loadResources = this._loadResources;\r\n  var incrementallyLoadTextures = this._incrementallyLoadTextures;\r\n  var justLoaded = false;\r\n\r\n  if (this._state === ModelState.LOADING) {\r\n    // Transition from LOADING -> LOADED once resources are downloaded and created.\r\n    // Textures may continue to stream in while in the LOADED state.\r\n    if (loadResources.pendingBufferLoads === 0) {\r\n      if (!loadResources.initialized) {\r\n        frameState.brdfLutGenerator.update(frameState);\r\n\r\n        ModelUtility.checkSupportedExtensions(\r\n          this.extensionsRequired,\r\n          supportsWebP\r\n        );\r\n        ModelUtility.updateForwardAxis(this);\r\n\r\n        // glTF pipeline updates, not needed if loading from cache\r\n        if (!defined(this.gltf.extras.sourceVersion)) {\r\n          var gltf = this.gltf;\r\n          // Add the original version so it remains cached\r\n          gltf.extras.sourceVersion = ModelUtility.getAssetVersion(gltf);\r\n          gltf.extras.sourceKHRTechniquesWebGL = defined(\r\n            ModelUtility.getUsedExtensions(gltf).KHR_techniques_webgl\r\n          );\r\n\r\n          this._sourceVersion = gltf.extras.sourceVersion;\r\n          this._sourceKHRTechniquesWebGL = gltf.extras.sourceKHRTechniquesWebGL;\r\n\r\n          updateVersion(gltf);\r\n          addDefaults(gltf);\r\n\r\n          var options = {\r\n            addBatchIdToGeneratedShaders: this._addBatchIdToGeneratedShaders,\r\n          };\r\n\r\n          processModelMaterialsCommon(gltf, options);\r\n          processPbrMaterials(gltf, options);\r\n        }\r\n\r\n        this._sourceVersion = this.gltf.extras.sourceVersion;\r\n        this._sourceKHRTechniquesWebGL = this.gltf.extras.sourceKHRTechniquesWebGL;\r\n\r\n        // Skip dequantizing in the shader if not encoded\r\n        this._dequantizeInShader =\r\n          this._dequantizeInShader && DracoLoader.hasExtension(this);\r\n\r\n        // We do this after to make sure that the ids don't change\r\n        addBuffersToLoadResources(this);\r\n        parseArticulations(this);\r\n        parseTechniques(this);\r\n        if (!this._loadRendererResourcesFromCache) {\r\n          parseBufferViews(this);\r\n          parseShaders(this);\r\n          parsePrograms(this);\r\n          parseTextures(this, context, supportsWebP);\r\n        }\r\n        parseMaterials(this);\r\n        parseMeshes(this);\r\n        parseNodes(this);\r\n\r\n        // Start draco decoding\r\n        DracoLoader.parse(this, context);\r\n\r\n        loadResources.initialized = true;\r\n      }\r\n\r\n      if (!loadResources.finishedDecoding()) {\r\n        DracoLoader.decodeModel(this, context).otherwise(\r\n          ModelUtility.getFailedLoadFunction(this, \"model\", this.basePath)\r\n        );\r\n      }\r\n\r\n      if (loadResources.finishedDecoding() && !loadResources.resourcesParsed) {\r\n        this._boundingSphere = ModelUtility.computeBoundingSphere(this);\r\n        this._initialRadius = this._boundingSphere.radius;\r\n\r\n        DracoLoader.cacheDataForModel(this);\r\n\r\n        loadResources.resourcesParsed = true;\r\n      }\r\n\r\n      if (\r\n        loadResources.resourcesParsed &&\r\n        loadResources.pendingShaderLoads === 0\r\n      ) {\r\n        ModelOutlineLoader.outlinePrimitives(this);\r\n        createResources(this, frameState);\r\n      }\r\n    }\r\n\r\n    if (\r\n      loadResources.finished() ||\r\n      (incrementallyLoadTextures &&\r\n        loadResources.finishedEverythingButTextureCreation())\r\n    ) {\r\n      this._state = ModelState.LOADED;\r\n      justLoaded = true;\r\n    }\r\n  }\r\n\r\n  // Incrementally stream textures.\r\n  if (defined(loadResources) && this._state === ModelState.LOADED) {\r\n    if (incrementallyLoadTextures && !justLoaded) {\r\n      createResources(this, frameState);\r\n    }\r\n\r\n    if (loadResources.finished()) {\r\n      this._loadResources = undefined; // Clear CPU memory since WebGL resources were created.\r\n\r\n      var resources = this._rendererResources;\r\n      var cachedResources = this._cachedRendererResources;\r\n\r\n      cachedResources.buffers = resources.buffers;\r\n      cachedResources.vertexArrays = resources.vertexArrays;\r\n      cachedResources.programs = resources.programs;\r\n      cachedResources.sourceShaders = resources.sourceShaders;\r\n      cachedResources.silhouettePrograms = resources.silhouettePrograms;\r\n      cachedResources.textures = resources.textures;\r\n      cachedResources.samplers = resources.samplers;\r\n      cachedResources.renderStates = resources.renderStates;\r\n      cachedResources.ready = true;\r\n\r\n      // The normal attribute name is required for silhouettes, so get it before the gltf JSON is released\r\n      this._normalAttributeName = ModelUtility.getAttributeOrUniformBySemantic(\r\n        this.gltf,\r\n        \"NORMAL\"\r\n      );\r\n\r\n      // Vertex arrays are unique to this model, do not store in cache.\r\n      if (defined(this._precreatedAttributes)) {\r\n        cachedResources.vertexArrays = {};\r\n      }\r\n\r\n      if (this.releaseGltfJson) {\r\n        releaseCachedGltf(this);\r\n      }\r\n    }\r\n  }\r\n\r\n  var iblSupported = OctahedralProjectedCubeMap.isSupported(context);\r\n  if (this._shouldUpdateSpecularMapAtlas && iblSupported) {\r\n    this._shouldUpdateSpecularMapAtlas = false;\r\n    this._specularEnvironmentMapAtlas =\r\n      this._specularEnvironmentMapAtlas &&\r\n      this._specularEnvironmentMapAtlas.destroy();\r\n    this._specularEnvironmentMapAtlas = undefined;\r\n    if (defined(this._specularEnvironmentMaps)) {\r\n      this._specularEnvironmentMapAtlas = new OctahedralProjectedCubeMap(\r\n        this._specularEnvironmentMaps\r\n      );\r\n      var that = this;\r\n      this._specularEnvironmentMapAtlas.readyPromise\r\n        .then(function() {\r\n          that._shouldRegenerateShaders = true;\r\n        })\r\n        .otherwise(function(error) {\r\n          console.error(\"Error loading specularEnvironmentMaps: \" + error);\r\n        });\r\n    }\r\n\r\n    // Regenerate shaders to not use an environment map. Will be set to true again if there was a new environment map and it is ready.\r\n    this._shouldRegenerateShaders = true;\r\n  }\r\n\r\n  if (defined(this._specularEnvironmentMapAtlas)) {\r\n    this._specularEnvironmentMapAtlas.update(frameState);\r\n  }\r\n\r\n  var recompileWithDefaultAtlas = !defined(this._specularEnvironmentMapAtlas) &&\r\n    defined(frameState.specularEnvironmentMaps) &&\r\n    !this._useDefaultSpecularMaps;\r\n  var recompileWithoutDefaultAtlas = !defined(frameState.specularEnvironmentMaps) &&\r\n    this._useDefaultSpecularMaps;\r\n\r\n  var recompileWithDefaultSHCoeffs = !defined(this._sphericalHarmonicCoefficients) &&\r\n    defined(frameState.sphericalHarmonicCoefficients) &&\r\n    !this._useDefaultSphericalHarmonics;\r\n  var recompileWithoutDefaultSHCoeffs = !defined(frameState.sphericalHarmonicCoefficients) &&\r\n    this._useDefaultSphericalHarmonics;\r\n\r\n  this._shouldRegenerateShaders =\r\n    this._shouldRegenerateShaders ||\r\n    recompileWithDefaultAtlas ||\r\n    recompileWithoutDefaultAtlas ||\r\n    recompileWithDefaultSHCoeffs ||\r\n    recompileWithoutDefaultSHCoeffs;\r\n\r\n  this._useDefaultSpecularMaps = !defined(this._specularEnvironmentMapAtlas) &&\r\n    defined(frameState.specularEnvironmentMaps);\r\n  this._useDefaultSphericalHarmonics = !defined(this._sphericalHarmonicCoefficients) &&\r\n    defined(frameState.sphericalHarmonicCoefficients);\r\n\r\n  var silhouette = hasSilhouette(this, frameState);\r\n  var translucent = isTranslucent(this);\r\n  var invisible = isInvisible(this);\r\n  var backFaceCulling = this.backFaceCulling;\r\n  var displayConditionPassed = defined(this.distanceDisplayCondition) ?\r\n    distanceDisplayConditionVisible(this, frameState) :\r\n    true;\r\n  var show =\r\n    this.show &&\r\n    displayConditionPassed &&\r\n    this.scale !== 0.0 &&\r\n    (!invisible || silhouette);\r\n\r\n  if ((show && this._state === ModelState.LOADED) || justLoaded) {\r\n    var animated =\r\n      this.activeAnimations.update(frameState) || this._cesiumAnimationsDirty;\r\n    this._cesiumAnimationsDirty = false;\r\n    this._dirty = false;\r\n    var modelMatrix = this.modelMatrix;\r\n\r\n    var modeChanged = frameState.mode !== this._mode;\r\n    this._mode = frameState.mode;\r\n\r\n    // Model's model matrix needs to be updated\r\n    var modelTransformChanged = !Matrix4.equals(this._modelMatrix, modelMatrix) ||\r\n      this._scale !== this.scale ||\r\n      this._minimumPixelSize !== this.minimumPixelSize ||\r\n      this.minimumPixelSize !== 0.0 || // Minimum pixel size changed or is enabled\r\n      this._maximumScale !== this.maximumScale ||\r\n      this._heightReference !== this.heightReference ||\r\n      this._heightChanged ||\r\n      modeChanged;\r\n\r\n    if (modelTransformChanged || justLoaded) {\r\n      Matrix4.clone(modelMatrix, this._modelMatrix);\r\n\r\n      updateClamping(this);\r\n\r\n      if (defined(this._clampedModelMatrix)) {\r\n        modelMatrix = this._clampedModelMatrix;\r\n      }\r\n\r\n      this._scale = this.scale;\r\n      this._minimumPixelSize = this.minimumPixelSize;\r\n      this._maximumScale = this.maximumScale;\r\n      this._heightReference = this.heightReference;\r\n      this._heightChanged = false;\r\n\r\n      var scale = getScale(this, frameState);\r\n      var computedModelMatrix = this._computedModelMatrix;\r\n      Matrix4.multiplyByUniformScale(modelMatrix, scale, computedModelMatrix);\r\n      if (this._upAxis === Axis.Y) {\r\n        Matrix4.multiplyTransformation(\r\n          computedModelMatrix,\r\n          Axis.Y_UP_TO_Z_UP,\r\n          computedModelMatrix\r\n        );\r\n      } else if (this._upAxis === Axis.X) {\r\n        Matrix4.multiplyTransformation(\r\n          computedModelMatrix,\r\n          Axis.X_UP_TO_Z_UP,\r\n          computedModelMatrix\r\n        );\r\n      }\r\n      if (this.forwardAxis === Axis.Z) {\r\n        // glTF 2.0 has a Z-forward convention that must be adapted here to X-forward.\r\n        Matrix4.multiplyTransformation(\r\n          computedModelMatrix,\r\n          Axis.Z_UP_TO_X_UP,\r\n          computedModelMatrix\r\n        );\r\n      }\r\n    }\r\n\r\n    // Update modelMatrix throughout the graph as needed\r\n    if (animated || modelTransformChanged || justLoaded) {\r\n      updateNodeHierarchyModelMatrix(\r\n        this,\r\n        modelTransformChanged,\r\n        justLoaded,\r\n        frameState.mapProjection\r\n      );\r\n      this._dirty = true;\r\n\r\n      if (animated || justLoaded) {\r\n        // Apply skins if animation changed any node transforms\r\n        applySkins(this);\r\n      }\r\n    }\r\n\r\n    if (this._perNodeShowDirty) {\r\n      this._perNodeShowDirty = false;\r\n      updatePerNodeShow(this);\r\n    }\r\n    updatePickIds(this, context);\r\n    updateWireframe(this);\r\n    updateShowBoundingVolume(this);\r\n    updateShadows(this);\r\n    updateClippingPlanes(this, frameState);\r\n\r\n    // Regenerate shaders if ClippingPlaneCollection state changed or it was removed\r\n    var clippingPlanes = this._clippingPlanes;\r\n    var currentClippingPlanesState = 0;\r\n    var useClippingPlanes =\r\n      defined(clippingPlanes) &&\r\n      clippingPlanes.enabled &&\r\n      clippingPlanes.length > 0;\r\n    var usesSH =\r\n      defined(this._sphericalHarmonicCoefficients) ||\r\n      this._useDefaultSphericalHarmonics;\r\n    var usesSM =\r\n      (defined(this._specularEnvironmentMapAtlas) &&\r\n        this._specularEnvironmentMapAtlas.ready) ||\r\n      this._useDefaultSpecularMaps;\r\n    if (useClippingPlanes || usesSH || usesSM) {\r\n      var clippingPlanesOriginMatrix = defaultValue(\r\n        this.clippingPlanesOriginMatrix,\r\n        modelMatrix\r\n      );\r\n      Matrix4.multiply(\r\n        context.uniformState.view3D,\r\n        clippingPlanesOriginMatrix,\r\n        this._clippingPlaneModelViewMatrix\r\n      );\r\n    }\r\n\r\n    if (useClippingPlanes) {\r\n      currentClippingPlanesState = clippingPlanes.clippingPlanesState;\r\n    }\r\n\r\n    var shouldRegenerateShaders = this._shouldRegenerateShaders;\r\n    shouldRegenerateShaders =\r\n      shouldRegenerateShaders ||\r\n      this._clippingPlanesState !== currentClippingPlanesState;\r\n    this._clippingPlanesState = currentClippingPlanesState;\r\n\r\n    // Regenerate shaders if color shading changed from last update\r\n    var currentlyColorShadingEnabled = isColorShadingEnabled(this);\r\n    if (currentlyColorShadingEnabled !== this._colorShadingEnabled) {\r\n      this._colorShadingEnabled = currentlyColorShadingEnabled;\r\n      shouldRegenerateShaders = true;\r\n    }\r\n    const key = this._resource.request.url;\r\n    let changed = false;\r\n    if (cachedShader.has(key) && cachedShader.get(key).changed) {\r\n      changed = true;\r\n      this._shouldRegenerateShaders = true;\r\n    }\r\n    if (shouldRegenerateShaders || changed) {\r\n      regenerateShaders(this, frameState);\r\n      changed = false;\r\n    } else {\r\n      updateColor(this, frameState, false);\r\n      updateBackFaceCulling(this, frameState, false);\r\n      updateSilhouette(this, frameState, false);\r\n    }\r\n  }\r\n\r\n  if (justLoaded) {\r\n    // Called after modelMatrix update.\r\n    var model = this;\r\n    frameState.afterRender.push(function() {\r\n      model._ready = true;\r\n      model._readyPromise.resolve(model);\r\n    });\r\n    return;\r\n  }\r\n\r\n  // We don't check show at the top of the function since we\r\n  // want to be able to progressively load models when they are not shown,\r\n  // and then have them visible immediately when show is set to true.\r\n  if (show && !this._ignoreCommands) {\r\n    // PERFORMANCE_IDEA: This is terrible\r\n    var commandList = frameState.commandList;\r\n    var passes = frameState.passes;\r\n    var nodeCommands = this._nodeCommands;\r\n    var length = nodeCommands.length;\r\n    var i;\r\n    var nc;\r\n\r\n    var idl2D =\r\n      frameState.mapProjection.ellipsoid.maximumRadius * CesiumMath.PI;\r\n    var boundingVolume;\r\n\r\n    if (passes.render || (passes.pick && this.allowPicking)) {\r\n      for (i = 0; i < length; ++i) {\r\n        nc = nodeCommands[i];\r\n        if (nc.show) {\r\n          var command = nc.command;\r\n          if (silhouette) {\r\n            command = nc.silhouetteModelCommand;\r\n          } else if (translucent) {\r\n            command = nc.translucentCommand;\r\n          } else if (!backFaceCulling) {\r\n            command = nc.disableCullingCommand;\r\n          }\r\n          commandList.push(command);\r\n          boundingVolume = nc.command.boundingVolume;\r\n          if (\r\n            frameState.mode === SceneMode.SCENE2D &&\r\n            (boundingVolume.center.y + boundingVolume.radius > idl2D ||\r\n              boundingVolume.center.y - boundingVolume.radius < idl2D)\r\n          ) {\r\n            var command2D = nc.command2D;\r\n            if (silhouette) {\r\n              command2D = nc.silhouetteModelCommand2D;\r\n            } else if (translucent) {\r\n              command2D = nc.translucentCommand2D;\r\n            } else if (!backFaceCulling) {\r\n              command2D = nc.disableCullingCommand2D;\r\n            }\r\n            commandList.push(command2D);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (silhouette && !passes.pick) {\r\n        // Render second silhouette pass\r\n        for (i = 0; i < length; ++i) {\r\n          nc = nodeCommands[i];\r\n          if (nc.show) {\r\n            commandList.push(nc.silhouetteColorCommand);\r\n            boundingVolume = nc.command.boundingVolume;\r\n            if (\r\n              frameState.mode === SceneMode.SCENE2D &&\r\n              (boundingVolume.center.y + boundingVolume.radius > idl2D ||\r\n                boundingVolume.center.y - boundingVolume.radius < idl2D)\r\n            ) {\r\n              commandList.push(nc.silhouetteColorCommand2D);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  var credit = this._credit;\r\n  if (defined(credit)) {\r\n    frameState.creditDisplay.addCredit(credit);\r\n  }\r\n\r\n  var resourceCredits = this._resourceCredits;\r\n  var creditCount = resourceCredits.length;\r\n  for (var c = 0; c < creditCount; c++) {\r\n    frameState.creditDisplay.addCredit(resourceCredits[c]);\r\n  }\r\n};\r\n\r\nfunction destroyIfNotCached(rendererResources, cachedRendererResources) {\r\n  if (rendererResources.programs !== cachedRendererResources.programs) {\r\n    destroy(rendererResources.programs);\r\n  }\r\n  if (\r\n    rendererResources.silhouettePrograms !==\r\n    cachedRendererResources.silhouettePrograms\r\n  ) {\r\n    destroy(rendererResources.silhouettePrograms);\r\n  }\r\n}\r\n\r\n// Run from update iff:\r\n// - everything is loaded\r\n// - clipping planes state change OR color state set\r\n// Run this from destructor after removing color state and clipping plane state\r\nfunction regenerateShaders(model, frameState) {\r\n  // In regards to _cachedRendererResources:\r\n  // Fair to assume that this is data that should just never get modified due to clipping planes or model color.\r\n  // So if clipping planes or model color active:\r\n  // - delink _rendererResources.*programs and create new dictionaries.\r\n  // - do NOT destroy any programs - might be used by copies of the model or by might be needed in the future if clipping planes/model color is deactivated\r\n\r\n  // If clipping planes and model color inactive:\r\n  // - destroy _rendererResources.*programs\r\n  // - relink _rendererResources.*programs to _cachedRendererResources\r\n\r\n  // In both cases, need to mark commands as dirty, re-run derived commands (elsewhere)\r\n\r\n  var rendererResources = model._rendererResources;\r\n  var cachedRendererResources = model._cachedRendererResources;\r\n  destroyIfNotCached(rendererResources, cachedRendererResources);\r\n\r\n  var programId;\r\n  if (\r\n    isClippingEnabled(model) ||\r\n    isColorShadingEnabled(model) ||\r\n    model._shouldRegenerateShaders\r\n  ) {\r\n    model._shouldRegenerateShaders = false;\r\n\r\n    rendererResources.programs = {};\r\n    rendererResources.silhouettePrograms = {};\r\n\r\n    var visitedPrograms = {};\r\n    var techniques = model._sourceTechniques;\r\n    var technique;\r\n\r\n    for (var techniqueId in techniques) {\r\n      if (techniques.hasOwnProperty(techniqueId)) {\r\n        technique = techniques[techniqueId];\r\n        programId = technique.program;\r\n        if (!visitedPrograms[programId]) {\r\n          visitedPrograms[programId] = true;\r\n          recreateProgram({\r\n              programId: programId,\r\n              techniqueId: techniqueId,\r\n            },\r\n            model,\r\n            frameState.context\r\n          );\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    rendererResources.programs = cachedRendererResources.programs;\r\n    rendererResources.silhouettePrograms =\r\n      cachedRendererResources.silhouettePrograms;\r\n  }\r\n\r\n  // Fix all the commands, marking them as dirty so everything that derives will re-derive\r\n  var rendererPrograms = rendererResources.programs;\r\n\r\n  var nodeCommands = model._nodeCommands;\r\n  var commandCount = nodeCommands.length;\r\n  for (var i = 0; i < commandCount; ++i) {\r\n    var nodeCommand = nodeCommands[i];\r\n    programId = nodeCommand.programId;\r\n\r\n    var renderProgram = rendererPrograms[programId];\r\n    nodeCommand.command.shaderProgram = renderProgram;\r\n    if (defined(nodeCommand.command2D)) {\r\n      nodeCommand.command2D.shaderProgram = renderProgram;\r\n    }\r\n  }\r\n\r\n  // Force update silhouette commands/shaders\r\n  updateColor(model, frameState, true);\r\n  updateBackFaceCulling(model, frameState, true);\r\n  updateSilhouette(model, frameState, true);\r\n}\r\n\r\nexport default Model;\r\n","import CesiumProError from './CesiumProError';\r\nimport defined from './defined';\r\n\r\nconst cesiumScriptRegex = /((?:.*\\/)|^)CesiumPro\\.(esm|umd)\\.js(?:\\?|#|$)/;\r\n\r\nlet a;\r\nlet\r\n  CESIUMPRO_BASE_URL;\r\n\r\nfunction tryMakeAbsolute(url) {\r\n  if (typeof document === 'undefined') {\r\n    // Node.js and Web Workers. In both cases, the URL will already be absolute.\r\n    return url;\r\n  }\r\n\r\n  if (!defined(a)) {\r\n    a = document.createElement('a');\r\n  }\r\n  a.href = url;\r\n\r\n  // IE only absolutizes href on get, not set\r\n  // eslint-disable-next-line no-self-assign\r\n  a.href = a.href;\r\n  return a.href;\r\n}\r\nlet baseResource;\r\nlet implementation;\r\n\r\nfunction getBaseUrlFromCesiumScript() {\r\n  const scripts = document.getElementsByTagName('script');\r\n  for (let i = 0, len = scripts.length; i < len; ++i) {\r\n    const src = scripts[i].getAttribute('src');\r\n    const result = cesiumScriptRegex.exec(src);\r\n    if (result !== null) {\r\n      return result[1];\r\n    }\r\n  }\r\n  return undefined;\r\n}\r\n\r\nfunction buildModuleUrlFromRequireToUrl(moduleID) {\r\n  // moduleID will be non-relative, so require it relative to this module, in Core.\r\n  return tryMakeAbsolute(require.toUrl(`../${moduleID}`));\r\n}\r\n\r\nfunction getCesiumProBaseUrl() {\r\n  if (defined(baseResource)) {\r\n    return baseResource;\r\n  }\r\n\r\n  let baseUrlString;\r\n  if (window.CESIUMPRO_BASE_URL) {\r\n    baseUrlString = window.CESIUMPRO_BASE_URL;\r\n  } else if (\r\n    typeof window.define === 'object'\r\n    && defined(window.define.amd)\r\n    && !window.define.amd.toUrlUndefined\r\n    && defined(window.require.toUrl)\r\n  ) {\r\n    baseUrlString = Cesium.getAbsoluteUri(\r\n      '..',\r\n      'core/URL.js',\r\n    );\r\n  } else {\r\n    baseUrlString = getBaseUrlFromCesiumScript();\r\n  }\r\n  if (!defined(baseUrlString)) {\r\n    throw new CesiumProError(\r\n      'Unable to determine CesiumPro base URL automatically, try defining a global variable called CESIUMPRO_BASE_URL.',\r\n    );\r\n  }\r\n  // >>includeEnd('debug');\r\n\r\n  baseResource = new Cesium.Resource({\r\n    url: tryMakeAbsolute(baseUrlString),\r\n  });\r\n  baseResource.appendForwardSlash();\r\n\r\n  return baseResource;\r\n}\r\n\r\nfunction buildModuleUrlFromBaseUrl(moduleID) {\r\n  const resource = getCesiumProBaseUrl().getDerivedResource({\r\n    url: moduleID,\r\n  });\r\n  return resource.url;\r\n}\r\n\r\nfunction buildModuleUrl(relativeUrl) {\r\n  if (!defined(implementation)) {\r\n    // select implementation\r\n    if (\r\n      typeof window.define === 'object'\r\n      && defined(window.define.amd)\r\n      && !window.define.amd.toUrlUndefined\r\n      && defined(require.toUrl)\r\n    ) {\r\n      implementation = buildModuleUrlFromRequireToUrl;\r\n    } else {\r\n      implementation = buildModuleUrlFromBaseUrl;\r\n    }\r\n  }\r\n\r\n  const url = implementation(relativeUrl);\r\n  return url;\r\n}\r\n/**\r\n * URL相关工具\r\n * @namespace URL\r\n *\r\n */\r\nconst URL = {};\r\n/**\r\n * 从多个字符串拼接url,以/为分割符\r\n * @param  {...String} args\r\n * @return {String}      url\r\n *\r\n * @example\r\n *\r\n * URL.join(\"www.baidu.com/\",'/tieba/','cesium')\r\n * //www.baidu.com/tieba/cesium\r\n */\r\nURL.join = function (...args) {\r\n  const formatArgs = [];\r\n  for (let arg of args) {\r\n    if (arg.startsWith('/')) {\r\n      arg = arg.substring(1);\r\n    }\r\n    if (arg.endsWith('/')) {\r\n      arg = arg.substring(0, arg.length - 1);\r\n    }\r\n    formatArgs.push(arg);\r\n  }\r\n  const urlstr = formatArgs.join('/');\r\n  // if (!(urlstr.startsWith('http') || urlstr.startsWith('ftp'))) {\r\n  //   urlstr = `http://${urlstr}`;\r\n  // }\r\n  return urlstr;\r\n};\r\n\r\n/**\r\n * 获取CesiumPro静态资源的完整路径\r\n * @param {String} path 指定文件\r\n * @returns {String}\r\n */\r\nURL.buildModuleUrl = function (path) {\r\n  return buildModuleUrl(path);\r\n};\r\nexport default URL;\r\n","import Graphic from '../core/Graphic';\r\nimport GraphicType from '../core/GraphicType';\r\nimport defaultValue from '../core/defaultValue';\r\nimport defined from '../core/defined';\r\nimport CesiumProError from '../core/CesiumProError';\r\nimport CVT from '../core/CVT';\r\nimport clone from '../core/clone';\r\nimport URL from '../core/URL';\r\n\r\nclass PointGraphic extends Graphic {\r\n  /**\r\n   * 点图形，泛指图形位置由一个点确定的图形，包括普通点、文字、模型、广告牌等\r\n   * @extends Graphic\r\n   *\r\n   * @param {Cesium.Viewer} viewer        [description]\r\n   * @param {Object} entityOptions 除以下属性外，同Cesium.PointGraphics\r\n   * @param {Cartesian3} [entityOptions.position] 点的位置信息\r\n   * @param {Object} [options={}]  具有以下属性\r\n   * @param {GraphicType} [options.type=GraphicType.POINT] 标绘类型\r\n   */\r\n  constructor(viewer, entityOptions, options = {}) {\r\n    if (!defined(entityOptions.position)) {\r\n      throw new CesiumProError('parameter position is required.');\r\n    }\r\n    super(viewer, options);\r\n    this._entityOptions = entityOptions;\r\n    this._positions = entityOptions.position;\r\n    this._type = defaultValue(options.type, GraphicType.POINT);\r\n    this._entity = this.createEntity();\r\n    this.add();\r\n  }\r\n  /**\r\n   * 该图形的几何描述，包括类型，经纬度等\r\n   * @return {Object}\r\n   */\r\n  getGeometry() {\r\n    const cartographic = PointGraphic.toDegrees(this.positions);\r\n    const coordinates = [cartographic.lon, cartographic.lat];\r\n    const type = GraphicType.getOGCType(this.type);\r\n    return {\r\n      type,\r\n      coordinates,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  createEntity() {\r\n    super.createEntity();\r\n    delete this._entityOptions.position;\r\n    const options = {\r\n      id: this.id,\r\n      position: this.positions,\r\n    };\r\n    if (this.type === GraphicType.POINT) {\r\n      options.point = clone(this._entityOptions);\r\n    }\r\n    if (this.type === GraphicType.BILLBOARD) {\r\n      options.billboard = clone(this._entityOptions);\r\n      if (!defined(options.billboard.image)) {\r\n        options.billboard.image = URL.buildModuleUrl('./assets/images/marker.png');\r\n      }\r\n    }\r\n    if (this.type === GraphicType.LABEL) {\r\n      options.label = clone(this._entityOptions);\r\n    }\r\n    if (this.type === GraphicType.MODEL) {\r\n      options.orientation = this._entityOptions.orientation;\r\n      delete this._entityOptions.orientation;\r\n      options.model = clone(this._entityOptions);\r\n      if (!defined(options.model.uri)) {\r\n        options.model.uri = URL.buildModuleUrl('./assets/models/Wood_Tower.gltf');\r\n      }\r\n    }\r\n    this._entityOptions = options;\r\n    return new Cesium.Entity(this._entityOptions);\r\n  }\r\n\r\n  /**\r\n   * 比较两个点位置是否相同\r\n   * @param  {PointGraphic} point\r\n   * @return {Bool}\r\n   */\r\n  equal(point) {\r\n    return PointGraphic.equal(this.positions, point.positions);\r\n  }\r\n\r\n  /**\r\n   * 添加文字\r\n   * @param {Object} options 描述一个Cesium.LabelGraphics.\r\n   */\r\n  addLabel(options) {\r\n    this.entity.label = options;\r\n  }\r\n\r\n  /**\r\n   * 更新点样式\r\n   * @param  {Object} style 描述一个Cesium.PointGraphics\r\n   */\r\n  updatePointStyle(style) {\r\n    if (!style || !this.entity.point) {\r\n      return;\r\n    }\r\n    for (const s in style) {\r\n      if (style.hasOwnProperty(s)) {\r\n        this.entity.point[s] = style[s];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新文字样式\r\n   * @param  {Object} style 描述一个Cesium.LabelGraphics\r\n   */\r\n  updateLabelStyle(style) {\r\n    if (!style || !this.entity.label) {\r\n      return;\r\n    }\r\n    for (const s in style) {\r\n      if (style.hasOwnProperty(s)) {\r\n        this.entity.label[s] = style[s];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新模型样式\r\n   * @param  {Object} style 描述一个Cesium.ModelGraphics\r\n   */\r\n  updateModelStyle(style) {\r\n    if (!style || !this.entity.model) {\r\n      return;\r\n    }\r\n    for (const s in style) {\r\n      if (style.hasOwnProperty(s)) {\r\n        this.entity.model[s] = style[s];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新图标样式\r\n   * @param  {Object} style 描述一个Cesium.BillboardGraphics\r\n   */\r\n  updateBillboardStyle(style) {\r\n    if (!style || !this.entity.billboard) {\r\n      return;\r\n    }\r\n    for (const s in style) {\r\n      if (style.hasOwnProperty(s)) {\r\n        this.entity.billboard[s] = style[s];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新图形位置,如果在使用该函数前没有调用<code>startEdit()</code>，位置更新将不会立即生效,在下次调用<code>startEdit()</code>后，此操作将更新到图形。\r\n   * @param  {Cesium.Cartesian3} position\r\n   */\r\n  updatePosition(position) {\r\n    this.positions.x = position.x;\r\n    this.positions.y = position.y;\r\n    this.positions.z = position.z;\r\n  }\r\n\r\n  /**\r\n   * 比较两个点位置是否相同\r\n   * @param  {PointGraphic} left\r\n   * @param  {PointGraphic} right\r\n   * @return {Bool}\r\n   */\r\n  static equal(left, right) {\r\n    return Cesium.Cartesian3.equals(left.positions, point.positions);\r\n  }\r\n\r\n  /**\r\n   * 默认样式\r\n   * @type {Object}\r\n   */\r\n  static defaultStyle = {\r\n    color: Cesium.Color.RED,\r\n    pixelSize: 5,\r\n    outlineColor: Cesium.Color.WHITE,\r\n    outlineWidth: 3,\r\n    heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\r\n  }\r\n\r\n  /**\r\n   * 将Cartesian3坐标转换为经纬度\r\n   * @param  {Cartesian3|PointGraphic} point\r\n   * @return {Object}  经纬度\r\n   */\r\n  static toDegrees(point) {\r\n    if (point instanceof Cesium.Cartesian3) {\r\n      return CVT.cartesian2Degrees(point);\r\n    }\r\n    if (point instanceof PointGraphic) {\r\n      return CVT.cartesian2Degrees(point.positions);\r\n    }\r\n  }\r\n\r\n  toGeoJson() {\r\n    return PointGraphic.toGeoJson(this);\r\n  }\r\n\r\n  /**\r\n   * 将图形转为GeoJson\r\n   * @param  {PointGraphic} graphic\r\n   * @return {Object}  graphic的geojson格式\r\n   */\r\n  static toGeoJson(graphic) {\r\n    const type = GraphicType.getOGCType(graphic.type);\r\n    const properties = graphic.properties ? graphic.properties.toJson() : {};\r\n    properties.graphicType = graphic.type;\r\n    const features = {\r\n      type: 'Feature',\r\n      properties,\r\n      geometry: graphic.getGeometry(),\r\n    };\r\n    return features;\r\n  }\r\n\r\n  /**\r\n   * 利用GeoJson创建图形\r\n   * @param  {Cesium.Viewer} viewer\r\n   * @param  {String|Object} json   json对象或字符串\r\n   * @param  {Object} style  图形样式\r\n   * @return {PointGraphic}\r\n   */\r\n  static fromGeoJson(viewer, json, style) {\r\n    if (typeof json === 'string') {\r\n      json = JSON.parse(json);\r\n    }\r\n    if (!defined(json.geometry) || !(defined(json.properties))) {\r\n      return;\r\n    }\r\n    const type = json.properties.graphicType;\r\n    if (type !== GraphicType.POINT) {\r\n      throw new CesiumProError('json没有包含一个有效的PointGraphic.');\r\n    }\r\n    const coordinate = json.geometry && json.geometry.coordinates;\r\n    return PointGraphic.fromCoordinates(viewer, coordinate, json.properties, style);\r\n  }\r\n\r\n  /**\r\n   * 从坐标点生成点图形\r\n   * @param {Cesium.Viewer} viewer\r\n   * @param  {Number[]} coordinate  包含经纬和纬度的数组\r\n   * @param  {Style} [style=PointGraphic.defaultStyle] 点样式\r\n   * @return {PointGraphic}\r\n   */\r\n  static fromCoordinates(viewer, coordinate, properties, style = PointGraphic.defaultStyle) {\r\n    const position = Cesium.Cartesian3.fromDegrees(...coordinate);\r\n    const options = {\r\n      position,\r\n      properties,\r\n      ...style,\r\n    };\r\n    return new PointGraphic(viewer, options);\r\n  }\r\n\r\n  /**\r\n   * 默认点样式\r\n   * @type {Object}\r\n   */\r\n  static defaultPointStyle = PointGraphic.defaultStyle;\r\n\r\n  /**\r\n   * 默认文字样式\r\n   * @type {Object}\r\n   */\r\n  static defaultLabelStyle = {\r\n    font: '36px sans-serif',\r\n    fillColor: Cesium.Color.WHITE,\r\n    showBackground: true,\r\n    style: Cesium.LabelStyle.FILL_AND_OUTLINE,\r\n    scale: 0.5,\r\n    heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\r\n    verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\r\n    pixelOffset: new Cesium.Cartesian2(0, 0),\r\n    heightReference: Cesium.HeightReference.NONE,\r\n  }\r\n\r\n  /**\r\n   * 默认图标样式\r\n   * @type {Object}\r\n   */\r\n  static defaultBillboardStyle = {\r\n    verticalOrigin: Cesium.VerticalOrigin.BASELINE,\r\n    heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\r\n  }\r\n\r\n  static defaultModelStyle = {\r\n    colorBlendMode: Cesium.ColorBlendMode.HIGHLIGHT,\r\n    color: Cesium.Color.WHITE,\r\n    colorBlendAmount: 0.5,\r\n    minimumPixelSize: 64,\r\n  }\r\n}\r\n\r\nexport default PointGraphic;\r\n","import GraphicType from '../core/GraphicType';\r\nimport PointGraphic from './PointGraphic';\r\nimport defaultValue from '../core/defaultValue';\r\nimport uuid from '../core/guid';\n\r\nclass NodeGraphic {\r\n  /**\r\n   * 用于创建线面图形的顶点图形\r\n   * @param {Viewer} viewer\r\n   * @param {Object} entityOptions 描述一个点图形\r\n   * @param {Object} [options={}]  [description]\r\n   */\r\n  constructor(viewer, entityOptions) {\r\n    this._viewer = viewer;\r\n    this._type = GraphicType.MUTIPOINT;\r\n    this._positions = entityOptions.positions;\r\n    this._entityOptions = entityOptions;\r\n    this._values = [];\r\n    this.createEntity();\r\n  }\r\n\r\n  /**\r\n   * 顶点图形的几何信息\r\n   * @return {Object}\r\n   */\r\n  getGeometry() {\r\n    const coordinates = [];\r\n    const type = GraphicType.getOGCType(this.type);\r\n    for (const position of this.positions) {\r\n      const cartographic = PointGraphic.toDegrees(position);\r\n      coordinates.push([cartographic.lon, cartographic.lat]);\r\n    }\r\n    return {\r\n      type,\r\n      coordinates,\r\n    };\r\n  }\n\r\n  /**\r\n   * @private\r\n   */\r\n  createEntity() {\r\n    delete this._entityOptions.positions;\r\n    const options = this._entityOptions;\r\n    const count = this._positions.length;\r\n    for (let i = 0; i < count; i++) {\r\n      const entity = new Cesium.Entity({\r\n        position: new Cesium.CallbackProperty(() => this._positions[i], false),\r\n        point: options,\r\n      });\r\n      const value = this._viewer.entities.add(entity);\r\n      this._values.push(value);\r\n    }\r\n  }\n\r\n  /**\r\n   * 添加一个顶点\r\n   * @param {Cartesian3} node 顶点坐标\r\n   */\r\n  addNode(node) {\r\n    const options = this._entityOptions;\r\n    this._values.push(this._viewer.entities.add({\r\n      position: node,\r\n      point: options,\r\n    }));\r\n  }\n\r\n  /**\r\n   * 删除指定索引的顶点\r\n   * @param  {Number} index 顶点序号\r\n   * @return {Entity}    被删除的顶点\r\n   */\r\n  removeNode(index) {\r\n    const node = this._values[index];\r\n    this._viewer.entities.remove(node);\r\n    this._values.splice(index, 1);\r\n    return node;\r\n  }\n\r\n  /**\r\n   * 更新顶点位置\r\n   * @param  {Number} index 需要更新的顶点序号\r\n   * @param  {Cartesian3} node  新的顶点位置\r\n   */\r\n  updateNode(index, node) {\r\n    if (index >= this._positions.length) {\r\n      return;\r\n    }\r\n    this._positions[index] = node;\r\n  }\r\n\r\n  /**\r\n   * 销毁对象\r\n   */\r\n  destroy() {\r\n    for (const v of this._values) {\r\n      this._viewer.entities.remove(v);\r\n    }\r\n    this._values = undefined;\r\n    this._viewer = undefined;\r\n  }\n\r\n  /**\r\n   * 将当前图形转为GeoJson\r\n   * @return {Object} 该图形的GeoJson格式\r\n   */\r\n  toGeoJson() {\r\n    return NodeGraphic.toGeoJson(this);\r\n  }\r\n\r\n  /**\r\n   * 将图形对象转为GeoJson\r\n   * @param  {NodeGraphic} nodeGraphic [description]\r\n   * @return {Object}      nodeGraphic的GeoJson格式\r\n   */\r\n  static toGeoJson(nodeGraphic) {\r\n    const type = GraphicType.getOGCType(graphic.type);\r\n    const properties = graphic.properties ? graphic.properties.toJson() : {};\r\n    properties.graphicType = graphic.type;\r\n    const features = {\r\n      type: 'Feature',\r\n      properties,\r\n      geometry: graphic.getGeometry(),\r\n    };\r\n    return features;\r\n  }\r\n\r\n  /**\r\n   * 默认样式\r\n   * @type {Object}\r\n   */\r\n  static defaultStyle = PointGraphic.defaultStyle;\n}\r\n\r\nexport default NodeGraphic;\r\n","import Graphic from '../core/Graphic';\r\nimport PointGraphic from './PointGraphic';\r\nimport defaultValue from '../core/defaultValue';\r\nimport GraphicType from '../core/GraphicType';\r\nimport defined from '../core/defined';\r\nimport NodeGraphic from './NodeGraphic';\r\n\r\nclass PolygonGraphic extends Graphic {\r\n  /**\r\n   * 可编辑的多边形\r\n   * @extends Graphic\r\n   * @param {Cesium.Viewer} viewer\r\n   * @param {Object} entityOptions 和Cesium.PolygonGraphics具有相同的属性\r\n   * @param {Object} [options={}] 具有以下属性\r\n   */\r\n  constructor(viewer, entityOptions, options = {}) {\r\n    super(viewer, options);\r\n    this._entityOptions = entityOptions;\r\n    this._positions = defaultValue(entityOptions.positions, []);\r\n    this._nodePositions = [...this.positions, this.positions[0]];\r\n    this._type = GraphicType.POLYGON;\r\n    this._entity = this.createEntity();\r\n    this.add();\r\n  }\r\n\r\n  /**\r\n   * 该图形的几何描述，包括类型，经纬度等\r\n   * @return {Object}\r\n   */\r\n  getGeometry() {\r\n    return PolygonGrphic.getGeometry(this);\r\n  }\r\n  /**\r\n   * 获得图形的几何描述，包括类型，经纬度等\r\n   * @return {Object}\r\n   */\r\n  static getGeometry(graphic) {\r\n    const coordinates = [];\r\n    const type = GraphicType.getOGCType(graphic.type);\r\n\r\n    for (const position of graphic.positions) {\r\n      const lonlat = PointGraphic.toDegrees(position);\r\n      coordinates.push([lonlat.lon, lonlat.lat]);\r\n    }\r\n    return {\r\n      type,\r\n      coordinates: [coordinates],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  createEntity() {\r\n    super.createEntity();\r\n    delete this._entityOptions.positions;\r\n    const options = {\r\n      id: this.id,\r\n      polygon: {\r\n        hierarchy: this.positions,\r\n        ...this._entityOptions,\r\n      },\r\n    };\r\n    if (this._entityOptions.outline) {\r\n      options.polyline = {\r\n        positions: this._nodePositions,\r\n        material: this._entityOptions.outlineColor,\r\n        width: this._entityOptions.outlineWidth,\r\n      };\r\n      options.polygon.outline = false;\r\n    }\r\n    this._entityOptions = options;\r\n    return new Cesium.Entity(this._entityOptions);\r\n  }\r\n\r\n  toGeoJson() {\r\n    return PolygonGraphic.toGeoJson(this);\r\n  }\r\n\r\n  /**\r\n   * 开始编辑几何信息，此时图形的顶点可以被修改、删除、移动。\r\n   * 属性信息的编辑不需要调用该方法。\r\n   * @fires Graphic#preEdit\r\n   */\r\n  startEdit() {\r\n    super.startEdit();\r\n    const style = PointGraphic.defaultStyle;\r\n    this._node = new NodeGraphic(this._viewer, {\r\n      positions: this.positions,\r\n      ...style,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @fires Graphic#postEdit\r\n   * 几何要素编辑完成后调用该方法，以降低性能消耗。\r\n   * <p style='font-weight:bold'>建议在图形编辑完成后调用该方法，因为CallbackProperty\r\n   * 对资源消耗比较大，虽然对单个图形来说，不调用此方法可能并不会有任何影响。</p>\r\n   */\r\n  stopEdit() {\r\n    super.stopEdit();\r\n    this._node && this._node.destroy();\r\n    this._node = undefined;\r\n  }\r\n\r\n  /**\r\n   * 添加顶点,如果在使用该函数前没有调用<code>startEdit()</code>，位置更新将不会立即生效,在下次调用<code>startEdit()</code>后，此操作将更新到图形。\r\n   * @param {Cartesian} node 新顶点\r\n   */\r\n  addNode(node) {\r\n    this.positions.push(node);\r\n    this._nodePositions[this._nodePositions.length] = this._nodePositions[this._nodePositions.length - 1];\r\n    this._nodePositions[this._nodePositions.length - 1] = node;\r\n  }\r\n\r\n  /**\r\n   * 删除一个顶点,如果在使用该函数前没有调用<code>startEdit()</code>，位置更新将不会立即生效,在下次调用<code>startEdit()</code>后，此操作将更新到图形。\r\n   * @param  {Number} index 顶点编号\r\n   */\r\n  removeNode(index) {\r\n    if (index < 0 || index >= this.positions.length) {\r\n      return;\r\n    }\r\n    this.positions.splice(index, 1);\r\n    this._nodePositions.splice(index, 1);\r\n    const nodeCount = this.positions.length;\r\n    if (index === 0) {\r\n      this._nodePositions[nodeCount] = this._nodePositions[0];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 删除最后一个顶点\r\n   */\r\n  popNode() {\r\n    const index = this.positions.length - 1;\r\n    this.removeNode(index);\r\n  }\r\n\r\n  /**\r\n   * 更新一个顶点,如果在使用该函数前没有调用<code>startEdit()</code>，位置更新将不会立即生效,在下次调用<code>startEdit()</code>后，此操作将更新到图形。\r\n   * @param  {Number} index 顶点编号\r\n   * @param  {Cartesian} node  将要更新的位置\r\n   */\r\n  updateNode(index, node) {\r\n    if (index >= this.positions.length) {\r\n      return;\r\n    }\r\n    this.positions[index] = node;\r\n    const nodeCount = this.positions.length;\r\n    this._nodePositions[index] = node;\r\n    if (index === 0) {\r\n      this._nodePositions[nodeCount] = node;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新模型样式\r\n   * @param  {Object} style 描述一个Cesium.ModelGraphics\r\n   */\r\n  updateStyle(style) {\r\n    if (!style || !this.entity.model) {\r\n      return;\r\n    }\r\n    for (const s in style) {\r\n      if (style.hasOwnProperty(s)) {\r\n        if (s === 'outline' && !style.outline && this.entity.polyline) {\r\n          this.entity.polyline = undefined;\r\n        }\r\n        if (s === 'outlineColor' && this.entity.polyline) {\r\n          this.entity.polyline.material = style[s];\r\n        }\r\n        if (s === 'outlineWidth' && this.entity.polyline) {\r\n          this.entity.polyline.width = style[s];\r\n        }\r\n        this.entity.polygon[s] = style[s];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 将图形转为GeoJson\r\n   * @param  {PolygonGraphic} graphic\r\n   * @return {Object}  graphic的geojson格式\r\n   */\r\n  static toGeoJson(graphic) {\r\n    const type = GraphicType.getOGCType(graphic.type);\r\n    const properties = graphic.properties ? graphic.properties.toJson() : {};\r\n    properties.graphicType = graphic.type;\r\n    const features = {\r\n      type: 'Feature',\r\n      properties,\r\n      geometry: graphic.getGeometry(),\r\n    };\r\n    return features;\r\n  }\r\n\r\n  /**\r\n   * 利用GeoJson创建图形\r\n   * @param  {Cesium.Viewer} viewer\r\n   * @param  {String|Object} json   json对象或字符串\r\n   * @param  {Object} style  图形样式\r\n   * @return {PolygonGraphic}\r\n   */\r\n  static fromGeoJson(viewer, json, style) {\r\n    if (typeof json === 'string') {\r\n      json = JSON.parse(json);\r\n    }\r\n    if (!defined(json.geometry) || !(defined(json.properties))) {\r\n      return;\r\n    }\r\n    const type = json.properties.graphicType;\r\n    if (type !== GraphicType.POLYGON) {\r\n      throw new CesiumProError('json没有包含一个有效的PolygonGraphic.');\r\n    }\r\n    const coordinate = json.geometry && json.geometry.coordinates;\r\n    return PolygonGraphic.fromCoordinates(viewer, coordinate, json.properties, style);\r\n  }\r\n\r\n  /**\r\n   * 从坐标点生成点图形\r\n   * @param {Cesium.Viewer} viewer\r\n   * @param  {Number[]} coordinate  包含经纬和纬度的数组\r\n   * @param  {Style} [style=PointGraphic.defaultStyle] 点样式\r\n   * @return {PolygonGraphic}\r\n   */\r\n  static fromCoordinates(viewer, coordinates, properties, style = PolygonGraphic.defaultStyle) {\r\n    const positions = Cesium.Cartesian3.fromDegreesArray(coordinates[0].flat());\r\n\r\n    const options = {\r\n      positions,\r\n      properties,\r\n      ...style,\r\n    };\r\n    return new PolygonGraphic(viewer, options);\r\n  }\r\n\r\n  static defaultStyle = {\r\n    material: Cesium.Color.fromCssColorString('rgba(247,224,32,0.5)'),\r\n    outlineColor: Cesium.Color.RED,\r\n    outlineWidth: 2,\r\n    outline: true,\r\n    perPositionHeight: false,\r\n  }\r\n\r\n  static highlightStyle = {\r\n    material: new Cesium.ColorMaterialProperty(Cesium.Color.AQUA.withAlpha(0.4)),\r\n    outlineColor: Cesium.Color.AQUA.withAlpha(0.4),\r\n  }\r\n\r\n  /**\r\n   * 从一系列点中获取几何中心位置\r\n   * @param  {Cesium.Cartesian3[]} points 点集\r\n   * @return {Cesium.Cartesian3}    以points为顶点的多边形的几何中心\r\n   */\r\n  static centerFromPonits(points) {\r\n    const boundingSphere = Cesium.BoundingSphere.fromPoints(points);\r\n    if (boundingSphere) {\r\n      return boundingSphere.center;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  static center(polygon) {\r\n    let points = [];\r\n\r\n    function getHierarchy(hierarchy) {\r\n      if (hierarchy.getValue) {\r\n        const hierarchyValue = hierarchy.getValue();\r\n        if (hierarchyValue instanceof Cesium.PolygonHierarchy) {\r\n          points = hierarchyValue.positions;\r\n        } else {\r\n          points = hierarchyValue;\r\n        }\r\n      } else if (Array.isArray(hierarchy)) {\r\n        points = hierarchy;\r\n      }\r\n    }\r\n    if (polygon instanceof Cesium.Entity) {\r\n      const {\r\n        hierarchy\r\n      } = polygon.polygon;\r\n      getHierarchy(hierarchy);\r\n    } else if (polygon.polygonHierarchy) {\r\n      points = polygon.polygonHierarchy.positions;\r\n    } else if (polygon.hierarchy) {\r\n      getHierarchy(polygon.hierarchy);\r\n    }\r\n    return PolygonGraphic.centerFromPonits(points);\r\n  }\r\n}\r\n\r\nexport default PolygonGraphic;\r\n","import checkViewer from './checkViewer';\r\nimport CesiumProError from './CesiumProError';\r\nimport defaultValue from './defaultValue';\r\nimport $ from '../thirdParty/jquery';\r\nimport ajaxCatch from './ajaxCatch';\r\nimport PolygonGraphic from '../graphic/PolygonGraphic';\n\r\nclass ModelAttachVector {\r\n  /**\r\n   * 创建模型的关联矢量，主要用于为模型附加属性信息，可以达到模型单体化的视觉效果。\r\n   * @param {Object} [options={}]具有以下属性\r\n   * @param {Cesium.Viewer} options.viewer Cesium.Viewer对象\r\n   * @param {String} options.vectorResource 矢量文件路径，目前只支持geojson\r\n   * @param {String} [options.key='id'] 将要作为关键字的属性字段，该字段必须在矢量文件的属性表中，且不重复\r\n   * @param {Cesium.Material} [options.material=Cesium.Color.GOLD.withAlpha(0.5)] 编辑模式下要素的材质\r\n   * @param {Cesium.Material} [options.highlightMaterial=Cesium.Color.AQUA] 高亮材质\r\n   * @param {String} [options.mode='edit'] 默认模式\r\n   */\r\n  constructor(options = {}) {\r\n    const {\r\n      viewer,\r\n      vectorResource,\r\n      key,\r\n    } = options;\r\n    checkViewer(viewer);\r\n    this._materail = defaultValue(options.material, Cesium.Color.GOLD.withAlpha(0.5));\r\n    this._previewMaterial = Cesium.Color.RED.withAlpha(0.0);\r\n    this._highlightMaterial = defaultValue(options.highlightMaterial, Cesium.Color.AQUA);\r\n    this._viewer = viewer;\r\n    this._vectorResource = vectorResource;\r\n    this._key = defaultValue(key, 'id');\r\n    const feats = vectorResource.features;\r\n    // 以数组的形式保存了所有entity\r\n    this.entities = [];\r\n    // 以key-value的形式保存所有entity;\r\n    this.entityMap = new Map();\r\n    this._mode = defaultValue(options.mode, 'edit');\r\n\r\n    $.ajax({\r\n      url: this._vectorResource,\r\n      method: 'get',\r\n      dataType: 'json',\r\n      success: (res) => {\r\n        const feats = res.features;\r\n        for (const feat of feats) {\r\n          if (feat.geometry.coordinates) {\r\n            const hierarchy = ModelAttachVector.coordinates2Hierarchy(feat.geometry.coordinates);\r\n            const center = PolygonGraphic.centerFromPonits(hierarchy.positions);\r\n            if (center) {\r\n              feat.properties.center = JSON.stringify(center);\r\n            }\r\n            const entity = this._viewer.entities.add({\r\n              id: feat.properties[this._key],\r\n              properties: feat.properties,\r\n              polygon: {\r\n                hierarchy: hierarchy.positions,\r\n                material: this._mode === 'edit' ? this._materail : this._previewMaterial,\r\n                heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\r\n                outline: false,\r\n                perPositionHeight: false,\r\n              },\r\n            });\r\n            this.entities.push(entity);\r\n            this.entityMap.set(entity.id, entity);\r\n          }\n        }\r\n      },\r\n      error: (e) => {\r\n        ajaxCatch(e);\r\n      },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 要素的表现模式,edit-编辑模式,preview-预览模式\r\n   * @type {String}\r\n   */\r\n  get mode() {\r\n    return this._mode;\r\n  }\n\r\n  set mode(v) {\r\n    this._mode = v;\r\n    if (this._mode === 'edit') {\r\n      this.setMaterial(this._materail);\r\n    } else if (this._mode === 'preview') {\r\n      this.setMaterial(this._previewMaterial);\r\n    } else {\r\n      console.console.warn('无效的模式');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置要素材质\r\n   * @private\r\n   */\r\n  setMaterial(material) {\r\n    const values = this.entityMap.values();\r\n    for (const v of values) {\r\n      if (v.polygon) {\r\n        v.polygon.material = material;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 通过key设置高亮\r\n   * @param  {Cesium.Entity} key\r\n   */\r\n  highLightByKey(key) {\r\n    const entity = this.getByKey(key);\r\n    this.highLightByEntity(entity);\r\n  }\r\n\r\n  /**\r\n   * 通过Entity设置高亮\r\n   * @param  {Cesium.Entity} entity\r\n   */\r\n  highLightByEntity(entity) {\r\n    if (entity && entity.polygon) {\r\n      entity.polygon.material = this._highlightMaterial;\r\n    }\r\n  }\n\r\n  /**\r\n   * 将Geojson的coordinates转为Cesium.Cartesian3数组\r\n   * @param  {Array} coors coordinates\r\n   * @return {Cesium.Cartesian3[]} 可以直接用于多边形hierarchy的Cestesian3数组\r\n   */\r\n  static coordinates2Hierarchy(coors) {\r\n    const positions = [];\r\n    for (const cs of coors) {\r\n      for (const c of cs) {\r\n        positions.push(c[0], c[1]);\r\n      }\r\n    }\r\n    const cartesian = Cesium.Cartesian3.fromDegreesArray(positions);\r\n    return new Cesium.PolygonHierarchy(cartesian);\r\n  }\n\r\n  /**\r\n   * 定位到指定要素，如果未指定key将定位到所有要素\r\n   * @param  {String} [key=''] 要素的key值\r\n   */\r\n  zoomTo(id = '') {\r\n    const entity = this.getByKey(id);\r\n    if (entity) {\r\n      this._viewer.zoomTo(entity);\r\n    } else {\r\n      this._viewer.zoomTo(this.getAll());\r\n    }\r\n  }\n\r\n  /**\r\n   * 通过key获得指定要素\r\n   * @param  {String} key key值\r\n   * @return {Cesium.Entity}\r\n   */\r\n  getByKey(key) {\r\n    const entity = this._viewer.entities.getById(key);\r\n    return entity;\r\n  }\r\n\r\n  /**\r\n   * 返回所有要素\r\n   * @return {Cesium.Entity[]} 矢量数据中的所有要素\r\n   */\r\n  getAll() {\r\n    return Array.from(this.entityMap.values());\r\n  }\n\r\n  /**\r\n   * 删除所有要素\r\n   */\r\n  removeAll() {\r\n    const keys = this.entityMap.keys();\r\n    for (const k of keys) {\r\n      this.remove(k);\r\n    }\r\n    this.entityMap.clear();\r\n  }\r\n\r\n  /**\r\n   * 删除指定key的几何要素\r\n   * @param  {String} key key值\r\n   */\r\n  remove(key) {\r\n    const entity = this.getByKey(key);\r\n    if (entity) {\r\n      this._viewer.entities.remove(entity);\r\n      this.entityMap.delete(entity.id);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 销毁对象\r\n   */\r\n  destroy() {\r\n    this.removeAll();\r\n    this._viewer = undefined;\r\n    this.entities = undefined;\r\n  }\n}\r\n\r\nexport default ModelAttachVector;\r\n","import Graphic from './Graphic';\n\r\nclass ModelGraphic extends Graphic {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  static defaultStyle = {\r\n    colorBlendMode: Cesium.ColorBlendMode.HIGHLIGHT,\r\n    color: Cesium.Color.WHITE,\r\n    colorBlendAmount: 0.5,\r\n    minimumPixelSize: 64,\r\n  }\r\n}\r\nexport default ModelGraphic;\r\n","import defaultValue from './defaultValue';\r\n/**\r\n * 坐标拾取函数,如果pixel所在位置有Primitive或Entity，将获取Primitive或Entity上的位置，否则获取球面坐标。\r\n * 简言之,如果点击在模型上将获得模型上的坐标，否则获取球面坐标。\r\n * <p><span style=\"font-weight:bold\">Note:</span>获取模型上的坐标时需要打开地形深度调整，否则获取的点位不准。</p>\r\n *\r\n * @exports pickPosition\r\n * @see depthTest\r\n * @param  {Cesium.Cartesian3} pixel 屏幕坐标\r\n * @param {Cesium.Viewer} viewer Viewer对象\r\n * @return {Cesium.Cartesian3}       笛卡尔坐标\r\n */\r\nfunction pickPosition(pixel, viewer) {\r\n  let cartesian;\r\n  elliposid = defaultValue(elliposid, Cesium.Ellipsoid.WGS84);\r\n  // cartesian = viewer.camera.pickEllipsoid(pixel, elliposid);\r\n  const ray = viewer.camera.getPickRay(pixel);\r\n  cartesian = viewer.scene.globe.pick(ray);\r\n  const feat = viewer.scene.pick(pixel);\r\n  if (feat) {\r\n    if (viewer.scene.pickPositionSupported) {\r\n      cartesian = viewer.scene.pickPosition(pixel);\r\n    } else {\r\n      console.warn('This browser does not support pickPosition.');\r\n    }\r\n  }\r\n  return cartesian;\r\n}\r\nexport default pickPosition;\r\n","import defined from './defined';\r\nimport defaultValue from './defaultValue';\r\nimport Event from './Event';\r\nimport CesiumProError from './CesiumProError';\n\r\nclass Plotting {\r\n  /**\r\n   * 提供了交互绘图的通用方法和事件\r\n   * @param {Object} options 具有以下属性\r\n   */\r\n  constructor(options) {\r\n    options = defaultValue(options, options.EMPTY_OBJECT);\r\n    if (options.viewer instanceof Cesium.Viewer) {\r\n      throw new CesiumProError('param viewer must be a Cesium.Viewer Object.');\r\n    }\r\n    this._viewer = options.viewer;\r\n    this._handler = new Cesium.ScreenSpaceEventHandler(this._viewer.canvas);\r\n    this._graphics = new Map();\r\n  }\r\n\r\n  /**\r\n   * 图形集合，所有绘图结果都保存在该对象中\r\n   * @return {Map} 所有绘图结果的集合\r\n   */\r\n  get graphics() {\r\n    return this._graphics;\r\n  }\r\n\r\n  /**\r\n   * 销毁绘图对象，并销毁由该对象绘制的所有要素。\r\n   */\r\n  destroy() {\r\n    if (!this._handler.isDestroyed()) {\r\n      this._handler.destroy();\r\n    }\r\n    const values = this.graphics.values();\r\n    for (const v of values) {\r\n      v.destroy();\r\n    }\r\n    this.graphics.clear();\r\n    this.graphics = undefined;\r\n    this._viewer = undefined;\r\n  }\r\n}\r\n\r\nexport default Plotting;\r\n","class PlotUtil {\r\n  /**\r\n   * 几何图形学基础方法\r\n   */\r\n  constructor() {}\n\r\n  /**\r\n   * 平面点的欧氏距离，如果点的数据大于2，将计算相邻两个点的距离之和。\r\n   * @param  {Number[]} args 需要计算距离的平面点集合\r\n   * @return {Float}      欧氏距离\r\n   */\r\n  static distance(...args) {\r\n    const { length } = args;\r\n    if (length < 2) {\r\n      return 0;\r\n    }\r\n    let distance = 0;\r\n    for (let i = 0; i < length - 1; i++) {\r\n      const nextIndex = (i + 1) % length;\r\n      const start = args[i];\r\n      const end = args[nextIndex];\r\n      distance += Math.sqrt(Math.pow(start[0] - end[0], 2) + Math.pow(start[1] - end[1], 2));\r\n    }\r\n    return distance;\r\n  }\n\r\n  /**\r\n   * @param  {Number[]} points            [description]\r\n   * @param  {Number} [percentage=0.99] [description]\r\n   * @return {Number}                  长度\r\n   */\r\n  static baseLength(points, percentage = 0.99) {\r\n    return Math.pow(PlotUtil.distance(...points), percentage);\r\n  }\r\n\r\n  /**\r\n   * 平面两点的中点\r\n   * @param  {Number[]} start 起点\r\n   * @param  {Number[]} end   终点\r\n   * @return {Number[]}       中点坐标\r\n   */\r\n  static mid(start, end) {\r\n    return [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2];\r\n  }\r\n\r\n  /**\r\n   * 方位角\r\n   * @param  {Number[]} start 起点\r\n   * @param  {Number[]} end   终点\r\n   * @return {Number} 向量与Y轴的夹角\r\n   */\r\n  static azimuth(start, end) {\r\n    let result;\r\n    [start, end] = [end, start];\r\n    // 向量与Y轴的夹角;\r\n    const angle = Math.asin(Math.abs(start[1] - end[1]) / PlotUtil.distance(start, end));\r\n    result = start[1] >= end[1] && start[0] >= end[0] ? angle + Math.PI : (\r\n      start[1] >= end[1] && start[0] < end[0] ? Cesium.Math.TWO_PI - angle : (\r\n        start[1] < end[1] && start[0] >= end[0] ? Math.PI - angle : angle\r\n      )\r\n    );\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * 根据两个点计算第三个点,具体为：如果以end为圆心，以radius为半径创建一个圆,以向量<start,end>方位角为起始位置，\r\n   * 旋转angle度后得到的圆弧上的点,inverse为false，向正方向旋转,true,向负方向旋转\r\n   * @param  {Number[]} start   起点，即圆心\r\n   * @param  {Number[]} end     终点\r\n   * @param  {Number} angle   旋转角度，单位弧度\r\n   * @param  {Number} radius    半径\r\n   * @param  {bool} inverse  是否逆向旋转\r\n   * @return {Number[]}      新点位\r\n   */\r\n  static thirdPoint(start, end, angle, radius, inverse = false) {\r\n    const azimuth = PlotUtil.azimuth(start, end);\r\n    const adjustAngle = inverse ? azimuth - angle : azimuth + angle;\r\n    const x = radius * Math.cos(adjustAngle);\r\n    const y = radius * Math.sin(adjustAngle);\r\n    return [end[0] + x, end[1] + y];\r\n  }\r\n\r\n  /**\r\n   * 判断由t,o,e是否顺时针环绕\r\n   * @param  {Number[]}  t\r\n   * @param  {Number[]}  o\r\n   * @param  {Number[]}  e\r\n   * @return {Boolean}\r\n   */\r\n  static isClockWise(t, o, e) {\r\n    return (e[1] - t[1]) * (o[0] - t[0]) > (o[1] - t[1]) * (e[0] - t[0]);\r\n  }\r\n\r\n  /**\r\n   * 计算两条直线之间的夹角，两条直线必须有公共点\r\n   * @param  {Number[]} origin 两直接的公共点\r\n   * @param  {Number[]} point1 直线1的另一个顶点\r\n   * @param  {Number[]} point2 直线2的另一个顶点\r\n   * @return {number}  两直线之间的夹角，单位弧度\r\n   */\r\n  static angleOfThreePoints(origin, point1, point2) {\r\n    const angle = PlotUtil.azimuth(origin, point1) - PlotUtil.azimuth(origin, point2);\r\n    return angle > 0 ? angle : Math.PI * 2 + angle;\r\n  }\r\n\r\n  /**\r\n   * 四边形B样条曲面因子\r\n   * @param  {Number} t\r\n   * @param  {Number} o\r\n   * @return {Number}\r\n   */\r\n  static quadricBSplineFactor(t, o) {\r\n    if (t === 0) {\r\n      return Math.pow(o - 1, 2) / 2;\r\n    }\r\n    if (t === 1) {\r\n      return (-2.0 * Math.pow(o, 2) + 2 * o + 1) / 2;\r\n    }\r\n    if (t === 2) {\r\n      return Math.pow(o, 2) / 2;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * 四边形B样条曲线\r\n   *\r\n   * @param  {Number[]} points 计算四边形B样条曲线的输入点\r\n   * @return {Number[]}        构成四边形B样条曲线的点\r\n   */\r\n  static quadricBSpline(points) {\r\n    if (points <= 2) {\r\n      return points;\r\n    }\r\n    const result = [];\r\n    const fac = 2;\r\n    const length = points.length - fac - 1;\r\n    result.push(points[0]);\r\n    for (let n = 0; n <= length; n++) {\r\n      for (let g = 0; g <= 1; g += 0.05) {\r\n        let x = 0;\r\n        let y = 0;\r\n        for (let s = 0; s <= fac; s++) {\r\n          const factor = PlotUtil.quadricBSplineFactor(s, g);\r\n          x += factor * points[n + s][0];\r\n          y += factor * points[n + s][1];\r\n        }\r\n        result.push([x, y]);\r\n      }\r\n    }\r\n    result.push(points[points.length - 1]);\r\n    return result;\r\n  }\n\r\n  /**\r\n   * 组合C<sub>0</sub><sup style=\"margin-left:-5px\">t</sup>的值\r\n   * @param  {Number} t\r\n   * @param  {Number} o\r\n   * @return {Number}\r\n   */\r\n  static binomialFactor(t, o) {\r\n    return PlotUtil.factorial(t) / (PlotUtil.factorial(o) * PlotUtil.factorial(t - o));\r\n  }\n\r\n  /**\r\n   * 求阶乘\r\n   * @param  {Number} n n必须不小于0\r\n   * @return {Number}   n的阶乘(n!)\r\n   */\r\n  static factorial(n) {\r\n    if (n < 0) {\r\n      return NaN;\r\n    }\r\n    if (n === 0) {\r\n      return 1;\r\n    }\r\n    return n * (PlotUtil.factorial(n - 1));\r\n  }\n\r\n  /**\r\n   * 贝塞尔曲线\r\n   * @param {Number[]} points [description]\r\n   * @return {Number[]}   构成贝塞尔曲线的点集\r\n   */\r\n  static BezierCurve(points) {\r\n    const count = points.length;\r\n    if (count < 2) {\r\n      return points;\r\n    }\r\n    const curves = [];\r\n    for (let i = 0; i <= 1; i += 0.01) {\r\n      let x = 0;\r\n      let y = 0;\r\n      for (let j = 0; j < count; j++) {\r\n        const factor = PlotUtil.binomialFactor(count - 1, j);\r\n        const s = Math.pow(i, j);\r\n        const a = Math.pow(1 - i, count - j - 1);\r\n        x += factor * s * a * points[j][0];\r\n        y += factor * s * a * points[j][1];\r\n      }\r\n      curves.push([x, y]);\r\n    }\r\n    curves.push(points[count - 1]);\r\n    return curves;\r\n  }\r\n}\r\nexport default PlotUtil;\r\n","/*\r\n * 判断点是否在球的背面\r\n */\r\nimport checkViewer from './checkViewer';\r\nimport CVT from './CVT';\r\nimport defined from './defined';\r\nconst {\r\n  SCENE2D,\r\n  SCENE3D,\r\n} = Cesium.SceneMode;\r\nconst {\r\n  BoundingSphere\r\n} = Cesium;\r\n/**\r\n * 判断点位在场景中是否可见\r\n * @exports pointVisibility\r\n * @param {Cartesian3} position 点\r\n * @param {Viewer} viewer Viewer对象\r\n * @return {Bool} 如果可见返回true，否则返回false。\r\n */\r\n\r\nfunction pointVisibility(position, viewer) {\r\n  checkViewer(viewer);\r\n  if (viewer.scene.mode === SCENE3D) {\r\n    const visibility = new Cesium.EllipsoidalOccluder(Cesium.Ellipsoid.WGS84, viewer.camera.position)\r\n      .isPointVisible(position);\r\n    if (!visibility) {\r\n      return false;\r\n    }\r\n    const windowPosition = CVT.toPixel(point, viewer);\r\n    if (!defined(windowPosition)) {\r\n      return false;\r\n    }\r\n    const width = viewer.canvas.width || viewer.canvas.clientWidth;\r\n    const height = viewer.canvas.height || viewer.canvas.clientHeight;\r\n    return (windowPosition.x > 0 && windowPosition.x < width) && (windowPosition.y > 0 && windowPosition.y < height);\r\n  } else if (viewer.scene.mode === SCENE2D) {\r\n    const frustum = viewer.scene.camera.frustum;\r\n    const {\r\n      positionWC,\r\n      directionWC,\r\n      upWC\r\n    } = viewer.scene.camera;\r\n    const cullingVolume = frustum.computeCullingVolume(positionWC, directionWC, upWC);\r\n    const bounding = BoundingSphere.projectTo2D(new BoundingSphere(point, 1));\r\n    const visibility = cullingVolume.computeVisibility(bounding);\r\n    return visibility === Cesium.Intersect.INSIDE || visibility === Cesium.Intersect.INERSECTING\r\n  }\r\n}\r\n\r\nexport default pointVisibility;\r\n","import defaultValue from './defaultValue'\r\nimport CustomPrimitive from './CustomPrimitive'\r\nclass PolygonPrimitive {\r\n  constructor(options) {\r\n    const vertex = new Float64Array([\r\n      -0.2, 0.2, 0.0,\r\n      0.2, 0.2, 0.0,\r\n      0.2, -0.2, 0.0,\r\n      // -0.2, -0.2, 0.0\r\n    ])\r\n    const index = new Uint16Array([\r\n      1, 3, 2,\r\n      // 1, 4, 3\r\n    ])\r\n    const attributeLocations = {\r\n      position: 0,\r\n      color: 2\r\n      // normal: 1,\r\n      // textureCoordinates: 2,\r\n    };\r\n    const vs = `\r\n    attribute vec3 position;\r\n    void main(){\r\n      gl_Position= czm_modelViewProjection * vec4(position, 1.0);\r\n    }\r\n    `\r\n    const fs = `\r\n    void main(){\r\n      gl_FragColor=vec4(1.0,0.0,0.0,1.0);\r\n    }\r\n    `\r\n    this.vs = vs;\r\n    this.fs = fs;\r\n    this.attributeLocations = attributeLocations;\r\n    this.vertex = vertex;\r\n    this.index = index;\r\n    const scaleMatrix = Cesium.Matrix4.fromScale(new Cesium.Cartesian3(10000000, 1000000, 1000000));\r\n    this.modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame(options.center);\r\n    this.show = defaultValue(options.show, true)\r\n    Cesium.Matrix4.multiply(this.modelMatrix, scaleMatrix, this.modelMatrix);\r\n\r\n\r\n  }\r\n  createVertex(context) {\r\n    const {\r\n      vs,\r\n      fs,\r\n      vertex,\r\n      index,\r\n      attributeLocations\r\n    } = this;\r\n    const geometry = new Cesium.Geometry({\r\n      attributes: {\r\n        position: new Cesium.GeometryAttribute({\r\n          // vtxf 使用double类型的position进行计算\r\n          // componentDatatype : Cesium.ComponentDatatype.DOUBLE,\r\n          componentDatatype: Cesium.ComponentDatatype.FLOAT,\r\n          componentsPerAttribute: 3,\r\n          values: vertex\r\n        }),\r\n      },\r\n      indices: this.index,\r\n      primitiveType: Cesium.PrimitiveType.TRIANGLES,\r\n      boundingSphere: Cesium.BoundingSphere.fromVertices(vertex)\r\n    })\r\n    const vertexArray = Cesium.VertexArray.fromGeometry({\r\n      context: context,\r\n      geometry: geometry,\r\n      attributeLocations: attributeLocations,\r\n      bufferUsage: Cesium.BufferUsage.STATIC_DRAW,\r\n      // interleave : true\r\n    });\r\n    return vertexArray\r\n  }\r\n  createCommand(context) {\r\n    const {\r\n      vs,\r\n      fs,\r\n      attributeLocations\r\n    } = this;\r\n    const defaultRenderState = Cesium.Appearance.getDefaultRenderState(false, false, undefined);\r\n    const renderState = Cesium.RenderState.fromCache(defaultRenderState);\r\n    const vertexShaderSource = new Cesium.ShaderSource({\r\n      sources: [vs]\r\n    });\r\n    const fragmentShaderSource = new Cesium.ShaderSource({\r\n      sources: [fs]\r\n    });\r\n    const uniformMap = {\r\n      color: function() {\r\n        return Cesium.Color.RED\r\n      }\r\n    }\r\n    const shaderProgram = Cesium.ShaderProgram.fromCache({\r\n      context: context,\r\n      vertexShaderSource: vertexShaderSource,\r\n      fragmentShaderSource: fragmentShaderSource,\r\n      attributeLocations: attributeLocations\r\n    });\r\n    return new Cesium.DrawCommand({\r\n      vertexArray: this.createVertex(context),\r\n      primitiveType: Cesium.PrimitiveType.TRIANGLES,\r\n      renderState: renderState,\r\n      shaderProgram: shaderProgram,\r\n      uniformMap: uniformMap,\r\n      owner: this,\r\n      // framebuffer : framebuffer,\r\n      pass: Cesium.Pass.OPAQUE,\r\n      modelMatrix: this.modelMatrix,\r\n    });\r\n    this.show = true;\r\n    this._command = undefined;\r\n    this._createCommand = createCommand;\r\n  }\r\n  update(frameState) {\r\n    if (!this.show) {\r\n      return;\r\n    }\r\n\r\n    if (!Cesium.defined(this._command)) {\r\n      this._command = this.createCommand(frameState.context);\r\n    }\r\n\r\n    if (Cesium.defined(this._command)) {\r\n      frameState.commandList.push(this._command);\r\n    }\r\n  }\r\n}\r\nexport default PolygonPrimitive;\r\n","/**\r\n * 从某范围生成一定数量的随机点,默认生成当前视图范围内的一个随机点\r\n * @param  {Cesium.Viewer} viewer viewer\r\n * @param  {Number} [count=1] 随机点数量\r\n * @param {Cesium.Rectangle} 定义生成随机点的边界，如果未定义，将使用当前窗口的视图范围\r\n * @return {Cartesian3[]}        [description]\r\n */\r\nfunction randomPosition(viewer, count, extent) {\r\n\r\n}\r\nexport default randomPosition;\r\n","import defaultValue from './defaultValue';\r\nimport defined from './defined';\r\nimport CesiumProError from './CesiumProError';\r\nconst {\r\n  VertexFormat,\r\n  ArcType\r\n} = Cesium;\r\nclass SectorGeometry {\r\n  /**\r\n   * 描述一个扇形几何体，\r\n   * @param {Object} options 具有以下参数\r\n   * @param {Cesium.Cartesian3} options.center 扇形的圆心位置\r\n   * @param {Number} options.radius 扇形半径，单位米\r\n   * @param {Number} options.fov 扇形开合角度，以正北方向为起点，正值逆时值旋转，单位弧度。\r\n   */\r\n  constructor(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n    if (!defined(options.center)) {\r\n      throw new CesiumProError('parameter center is required.')\r\n    }\r\n    if (!defined(options.radius)) {\r\n      throw new CesiumProError('parameter radius is required.')\r\n    }\r\n    if (!defined(options.fov)) {\r\n      throw new CesiumProError('parameter fov is required.');\r\n    }\r\n    this._center = options.center;\r\n    this._radius = options.radius;\r\n    this._fov = options.fov;\r\n    this._vertexFormat = VertexFormat.clone(\r\n      defaultValue(options.vertexFormat, VertexFormat.DEFAULT)\r\n    );\r\n\r\n    this._arcType = defaultValue(options.arcType, ArcType.GEODESIC);\r\n    this._positions = undefined;\r\n    this._workerName = \"createSectorGeometry\";\r\n    this._rectangle = undefined;\r\n  }\r\n  /**\r\n   * 扇形圆心坐标\r\n   * @type Cesium.Cartesian3\r\n   * @readonly\r\n   */\r\n  get center() {\r\n    return this._center;\r\n  }\r\n  /**\r\n   * 扇形半径\r\n   * @type Number\r\n   * @readonly\r\n   */\r\n  get radius() {\r\n    return this._radius;\r\n  }\r\n  /**\r\n   * 开合角\r\n   * @type Number\r\n   * @readonly\r\n   */\r\n  get fov() {\r\n    return this._fov;\r\n  }\r\n  /**\r\n   * 扇形顶点坐标\r\n   * @type Cesium.Cartesian3[]\r\n   * @readonly\r\n   */\r\n  get positions() {\r\n    return this._positions;\r\n  }\r\n  /**\r\n   * 顶点类型\r\n   * @type Cesium.VertexFormat\r\n   * @readonly\r\n   */\r\n  get vertexFormat() {\r\n    return this._vertexFormat;\r\n  }\r\n\r\n}\r\n\r\nexport default SectorGeometry;\r\n","import defaultValue from './defaultValue';\r\nimport CVT from './CVT';\r\n\r\n/**\r\n * 此方法将定位分成3个步骤：step 1:调整位置,step 2:调整高度,step 3:调整角度，一般用于小场景初始化时。\r\n * @exports StepFlyTo\r\n *\r\n * @param  {Cesium.Viewer} viewer  Cesium Viewer对象\r\n * @param  {Object} [options={}] 具有以下参数\r\n * @param  {Cesium.Cartesian3} options.destination 目标位置\r\n * @param  {Object} [options.orientation] 相机姿态\r\n * @param  {Number} [options.step1Duration=3.0] 调整高度的持续时间\r\n * @param  {Number} [options.step1Duration=3.0] 调整位置的持续时间\r\n * @param  {Number} [options.step1Duration=3.0] 调整姿态的持续时间\r\n * @return {Promise}\r\n */\r\nfunction flyTo(viewer, options = {}) {\r\n  const {\r\n    camera\r\n  } = viewer;\r\n  const step1 = defaultValue(options.step1Duration, 3);\r\n  const step2 = defaultValue(options.step2Duration, 3);\r\n  const step3 = defaultValue(options.step3Duration, 3);\r\n\r\n  const curHeight = camera.positionCartographic.height;\r\n  const cartographic = CVT.toDegrees(options.destination, viewer);\r\n  // 第一步改变位置\r\n  const step1Destination = Cesium.Cartesian3.fromDegrees(cartographic.lon, cartographic.lat, cur_height);\r\n  // 第二步改变高度\r\n  const step2Destination = options.destination;\r\n\r\n  return new Promise((resolve) => {\r\n    camera.flyTo({\r\n      destination: step1Destination,\r\n      duration: step1,\r\n      complete() {\r\n        camera.flyTo({\r\n          destination: step2Destination,\r\n          duration: step2,\r\n          complete() {\r\n            camera.flyTo({\r\n              destination: step2Destination,\r\n              duration: step3,\r\n              complete() {\r\n                resolve();\r\n              },\r\n            });\r\n          },\r\n        });\r\n      },\r\n    });\r\n  });\r\n}\r\n\r\nexport default flyTo;\r\n","import checkViewer from './checkViewer';\r\nimport CVT from './CVT';\r\n\r\nclass ViewerParams {\r\n  /**\r\n   * 获取当前场景的参数，包括经纬度、海拔、视高、帧率、延迟以及相机参数heading、pitch、roll。\r\n   * 如果要更新帧率和延迟，应该在对象初始化后调用addPostRenderEvent()方法。\r\n   * @param {Cesium.Viewer} viewer\r\n   * @param {Boolean} [debug=false] 是否打开调试模式，打开开将在控制台打印参数\r\n   */\r\n  constructor(viewer, debug = false) {\r\n    checkViewer(viewer);\r\n    this._viewer = viewer;\r\n    this._handler = new Cesium.ScreenSpaceEventHandler(viewer.canvas);\r\n    this._lastFpsSampleTime = 0;\r\n    this._fpsFrameCount = 0;\r\n    this._msFrameCount = 0;\r\n    this._fps = 0;\r\n    this._ms = 0;\r\n    this._lon = 0;\r\n    this._lat = 0;\r\n    this._height = 0;\r\n    this._alt = undefined;\r\n    this._heading = undefined;\r\n    this._pitch = undefined;\r\n    this._roll = undefined;\r\n    this.debug = debug;\r\n    this.addMousemoveEvent();\r\n  }\r\n\r\n  /**\r\n   * 开始监听鼠标移动事件，获取鼠标所在位置的经纬度及高程。\r\n   */\r\n  addMousemoveEvent() {\r\n    this.removeMousemoveEvent();\r\n    this._handler.setInputAction((e) => {\r\n      const coor = CVT.toDegrees(e.endPosition, this._viewer);\r\n      if (!Cesium.defined(coor)) {\r\n        return;\r\n      }\r\n      this._lon = coor.lon;\r\n      this._lat = coor.lat;\r\n      this._height = coor.height;\r\n      this._alt = undefined;\r\n\r\n      if (this._viewer.terrainProvider) {\r\n        const cartesian = Cesium.Cartographic.fromCartesian(\r\n          Cesium.Cartesian3.fromDegrees(this._lon, this._lat),\r\n        );\r\n        Cesium.sampleTerrainMostDetailed(this._viewer.terrainProvider, [cartesian])\r\n          .then((sampler) => {\r\n            this._alt = sampler[0].height;\r\n          });\r\n      }\r\n      this.updateHeadingPitchRoll();\r\n      if (this.debug) {\r\n        console.log(this.params);\r\n      }\r\n    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\r\n  }\r\n\r\n  /**\r\n   * 移除鼠标移动事件监听，经纬度、高程、视高将不会更新\r\n   */\r\n  removeMousemoveEvent() {\r\n    this._handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE);\r\n  }\r\n\r\n  /**\r\n   * 添加postRender事件监听，对象初始化后必须调用该方法帧率和延迟以及相机能数才会实时刷新\r\n   */\r\n  addPostRenderEvent() {\r\n    this.postRenderFunction = this._viewer.scene.postRender.addEventListener(() => {\r\n      this.updateFps();\r\n      this.updateHeadingPitchRoll();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 移除postRender事件监听,帧率和延迟以及相机能数将不会更新\r\n   */\r\n  removePostRenderEvent() {\r\n    if (this.postRenderFunction) {\r\n      this.postRenderFunction();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 销毁对象\r\n   */\r\n  destroy() {\r\n    this.removeMousemoveEvent();\r\n    this.removePostRenderEvent();\r\n    if (!this._handler.isDestroyed()) {\r\n      this._handler.destroy();\r\n    }\r\n    this._handler = undefined;\r\n    this._viewer = undefined;\r\n  }\r\n\r\n  /**\r\n   * 所有属性的集合\r\n   * @readonly\r\n   */\r\n  get params() {\r\n    return {\r\n      lon: this.lon,\r\n      lat: this.lat,\r\n      height: this.height,\r\n      alt: this.alt,\r\n      heading: this.heading,\r\n      pitch: this.pitch,\r\n      roll: this.roll,\r\n      fps: this.fps,\r\n      ms: this.ms,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 经度\r\n   * @readonly\r\n   */\r\n  get lon() {\r\n    return this._lon;\r\n  }\r\n\r\n  /**\r\n   * 纬度\r\n   * @readonly\r\n   */\r\n  get lat() {\r\n    return this._lat;\r\n  }\r\n\r\n  /**\r\n   * 视高\r\n   * @readonly\r\n   */\r\n  get height() {\r\n    return this._height;\r\n  }\r\n\r\n  /**\r\n   * 地形高/海拔\r\n   * @readonly\r\n   */\r\n  get alt() {\r\n    return this._alt;\r\n  }\r\n\r\n  /**\r\n   * 相机旋转角\r\n   * @readonly\r\n   */\r\n  get heading() {\r\n    return Cesium.Math.toDegrees(this._heading);\r\n  }\r\n\r\n  /**\r\n   * 相机仰俯角\r\n   * @readonly\r\n   */\r\n  get pitch() {\r\n    return Cesium.Math.toDegrees(this._pitch);\r\n  }\r\n\r\n  /**\r\n   * 相机翻滚角\r\n   * @readonly\r\n   */\r\n  get roll() {\r\n    return Cesium.Math.toDegrees(this._roll);\r\n  }\r\n\r\n  /**\r\n   * 帧率\r\n   * @readonly\r\n   */\r\n  get fps() {\r\n    return this._fps;\r\n  }\r\n\r\n  /**\r\n   * 延迟\r\n   * @readonly\r\n   */\r\n  get ms() {\r\n    return this._ms;\r\n  }\r\n\r\n  /**\r\n   * 场景中心坐标\r\n   * @readonly\r\n   */\r\n  get center() {\r\n    return this.viewerCenter();\r\n  }\r\n\r\n  updateFps() {\r\n    const time = Cesium.getTimestamp();\r\n    if (!Cesium.defined(this._lastFpsSampleTime)) {\r\n      this._lastFpsSampleTime = Cesium.getTimestamp();\r\n    }\r\n    if (!Cesium.defined(this.lastMsSampleTime)) {\r\n      this.lastMsSampleTime = Cesium.getTimestamp();\r\n    }\r\n\r\n    this._fpsFrameCount++;\r\n    const fpsElapsedTime = time - this._lastFpsSampleTime;\r\n    if (fpsElapsedTime > 1000) {\r\n      let fps = 'N/A';\r\n      fps = ((this._fpsFrameCount * 1000) / fpsElapsedTime) || 0;\r\n\r\n      this._fps = `${fps.toFixed(0)} FPS`;\r\n      this._lastFpsSampleTime = time;\r\n      this._fpsFrameCount = 0;\r\n    }\r\n\r\n    this._msFrameCount++;\r\n    const msElapsedTime = time - this.lastMsSampleTime;\r\n    if (msElapsedTime > 200) {\r\n      let ms = 'N/A';\r\n      ms = (msElapsedTime / this._msFrameCount).toFixed(2);\r\n\r\n      this._ms = `${ms} MS`;\r\n      this.lastMsSampleTime = time;\r\n      this._msFrameCount = 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新相机参数\r\n   */\r\n  updateHeadingPitchRoll() {\r\n    const viewer = this._viewer;\r\n    this._heading = viewer.camera.heading;\r\n    this._pitch = viewer.camera.pitch;\r\n    this._roll = viewer.camera.roll;\r\n  }\r\n\r\n  /**\r\n   * 场景的中心坐标\r\n   * @param  {Boolean} [inWorldCoordinates=true] 是否转为世界坐标，如果为false,将返回相机参考系的坐标\r\n   * @param  {Cesium.Cartesian3}  [result] 结果的保存对象\r\n   * @return {Cesium.Cartesian3} 场景的中心坐标\r\n   */\r\n  viewerCenter(inWorldCoordinates = true, result = new Cesium.Cartesian3()) {\r\n    const {\r\n      scene,\r\n      camera,\r\n    } = this._viewer;\r\n    const unprojectedScratch = new Cesium.Cartographic();\r\n    const rayScratch = new Cesium.Ray();\r\n    const viewer = this._viewer;\r\n    if (scene.mode === Cesium.SceneMode.MORPHING) {\r\n      return undefined;\r\n    }\r\n\r\n    if (Cesium.defined(viewer.trackedEntity)) {\r\n      result = viewer.trackedEntity.position.getValue(\r\n        viewer.clock.currentTime,\r\n        result,\r\n      );\r\n    } else {\r\n      rayScratch.origin = camera.positionWC;\r\n      rayScratch.direction = camera.directionWC;\r\n      result = scene.globe.pick(rayScratch, scene, result);\r\n    }\r\n\r\n    if (!Cesium.defined(result)) {\r\n      return undefined;\r\n    }\r\n\r\n    if (\r\n      scene.mode === Cesium.SceneMode.SCENE2D\r\n      || scene.mode === Cesium.SceneMode.COLUMBUS_VIEW\r\n    ) {\r\n      result = camera.worldToCameraCoordinatesPoint(result, result);\r\n\r\n      if (inWorldCoordinates) {\r\n        result = scene.globe.ellipsoid.cartographicToCartesian(\r\n          scene.mapProjection.unproject(result, unprojectedScratch),\r\n          result,\r\n        );\r\n      }\r\n    } else if (!inWorldCoordinates) {\r\n      result = camera.worldToCameraCoordinatesPoint(result, result);\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\nexport default ViewerParams;\r\n","const shader = `\r\nuniform sampler2D u_normalMap;\r\nuniform sampler2D u_refractMap;\r\n//uniform samplerCube u_cubeMap;\r\nuniform sampler2D u_reflectMap;\r\n//uniform sampler2D u_flowMap;\r\nuniform vec4 u_waterColor;\r\nuniform vec4 u_refractColor;\r\nuniform int u_useRefractTex;\r\nuniform vec4 u_reflectColor;\r\nuniform int u_reflection;\r\nuniform vec2 u_flowDirection;\r\n\r\nvarying vec3 eyeDir;\r\nvarying vec2 texCoord;\r\nvarying float myTime;\r\nvarying vec4 projectionCoord;\r\n\r\nvoid main (void)\r\n{\r\n    // texScale determines the amount of tiles generated.\r\n    float texScale = 35.0;\r\n    // texScale2 determines the repeat of the water texture (the normalmap) itself\r\n    float texScale2 = 10.0;\r\n    float myangle;\r\n    float transp;\r\n    vec3 myNormal;\r\n\r\n    vec2 mytexFlowCoord = texCoord * texScale;\r\n    //ff是混合因子\r\n    vec2 ff = abs(2.0*(fract(mytexFlowCoord)) - 1.0) -0.5;\r\n    // 取3次幂，使亮的地方更亮，暗的地方更暗\r\n    ff = 0.5-4.0*ff*ff*ff;\r\n    // ffscale is a scaling factor that compensates for the effect that\r\n    // adding normal vectors together tends to get them closer to the average normal\r\n    // which is a visible effect. For more or less random waves, this factor\r\n    // compensates for it\r\n    vec2 ffscale = sqrt(ff*ff + (1.0-ff)*(1.0-ff));\r\n    vec2 Tcoord = texCoord  * texScale2;\r\n\r\n    // 水移动时的偏移量\r\n    vec2 offset = vec2(myTime,0.0);\r\n\r\n    // I scale the texFlowCoord and floor the value to create the tiling\r\n    // This could have be replace by an extremely lo-res texture lookup\r\n    // using NEAREST pixel.\r\n    vec3 sample = vec3(u_flowDirection, 1.0);//texture2D( u_flowMap, floor(mytexFlowCoord)/ texScale).rgb;\r\n\r\n    // flowdir is supposed to go from -1 to 1 and the line below\r\n    // used to be sample.xy * 2.0 - 1.0, but saves a multiply by\r\n    // moving this factor two to the sample.b\r\n    vec2 flowdir = sample.xy -0.5;\r\n\r\n    // sample.b is used for the inverse length of the wave\r\n    // could be premultiplied in sample.xy, but this is easier for editing flowtexture\r\n    flowdir *= sample.b;\r\n\r\n    // build the rotation matrix that scales and rotates the complete tile\r\n    mat2 rotmat = mat2(flowdir.x, -flowdir.y, flowdir.y ,flowdir.x);\r\n\r\n    // this is the normal for tile A\r\n    vec2 NormalT0 = texture2D(u_normalMap, rotmat * Tcoord - offset).rg;\r\n\r\n    // for the next tile (B) I shift by half the tile size in the x-direction\r\n    sample = vec3(u_flowDirection, 1.0);//texture2D( u_flowMap, floor((mytexFlowCoord + vec2(0.5,0)))/ texScale ).rgb;\r\n    flowdir = sample.b * (sample.xy - 0.5);\r\n    rotmat = mat2(flowdir.x, -flowdir.y, flowdir.y ,flowdir.x);\r\n    // and the normal for tile B...\r\n    // multiply the offset by some number close to 1 to give it a different speed\r\n    // The result is that after blending the water starts to animate and look\r\n    // realistic, instead of just sliding in some direction.\r\n    // This is also why I took the third power of ff above, so the area where the\r\n    // water animates is as big as possible\r\n    // adding a small arbitrary constant isn't really needed, but helps to show\r\n    // a bit less tiling in the beginning of the program. After a few seconds, the\r\n    // tiling cannot be seen anymore so this constant could be removed.\r\n    // For the quick demo I leave them in. In a simulation that keeps running for\r\n    // some time, you could just as well remove these small constant offsets\r\n    vec2 NormalT1 = texture2D(u_normalMap, rotmat * Tcoord - offset*1.06+0.62).rg;\r\n\r\n    // blend them together using the ff factor\r\n    // use ff.x because this tile is shifted in the x-direction\r\n    vec2 NormalTAB = ff.x * NormalT0 + (1.0-ff.x) * NormalT1;\r\n\r\n    // the scaling of NormalTab and NormalTCD is moved to a single scale of\r\n    // NormalT later in the program, which is mathematically identical to\r\n    // NormalTAB = (NormalTAB - 0.5) / ffscale.x + 0.5;\r\n\r\n    // tile C is shifted in the y-direction\r\n    sample = vec3(u_flowDirection, 1.0);//texture2D( u_flowMap, floor((mytexFlowCoord + vec2(0.0,0.5)))/ texScale ).rgb;\r\n    flowdir = sample.b * (sample.xy - 0.5);\r\n    rotmat = mat2(flowdir.x, -flowdir.y, flowdir.y ,flowdir.x);\r\n    NormalT0 = texture2D(u_normalMap, rotmat * Tcoord - offset*1.33+0.27).rg;\r\n\r\n    // tile D is shifted in both x- and y-direction\r\n    sample = vec3(u_flowDirection, 1.0);//texture2D( u_flowMap, floor((mytexFlowCoord + vec2(0.5,0.5)))/ texScale ).rgb;\r\n    flowdir = sample.b * (sample.xy - 0.5);\r\n    rotmat = mat2(flowdir.x, -flowdir.y, flowdir.y ,flowdir.x);\r\n    NormalT1 = texture2D(u_normalMap, rotmat * Tcoord - offset*1.24).rg ;\r\n\r\n    vec2 NormalTCD = ff.x * NormalT0 + (1.0-ff.x) * NormalT1;\r\n    // NormalTCD = (NormalTCD - 0.5) / ffscale.x + 0.5;\r\n\r\n    // now blend the two values togetherv\r\n    vec2 NormalT = ff.y * NormalTAB + (1.0-ff.y) * NormalTCD;\r\n\r\n    // this line below used to be here for scaling the result\r\n    //NormalT = (NormalT - 0.5) / ffscale.y + 0.5;\r\n\r\n    // below the new, direct scaling of NormalT\r\n    NormalT = (NormalT - 0.5) / (ffscale.y * ffscale.x);\r\n    // scaling by 0.3 is arbritrary, and could be done by just\r\n    // changing the values in the normal map\r\n    // without this factor, the waves look very strong\r\n    NormalT *= 0.3;\r\n    // to make the water more transparent\r\n    transp = 1.0;//texture2D( u_flowMap, texFlowCoord ).a;\r\n    // and scale the normals with the transparency\r\n    NormalT *= transp*transp;\r\n\r\n    // assume normal of plane is 0,0,1 and produce the normalized sum of adding NormalT to it\r\n    myNormal = vec3(NormalT,sqrt(1.0-NormalT.x*NormalT.x - NormalT.y*NormalT.y));\r\n\r\n    // 获取反射颜色。\r\n    vec3 envColor = u_reflectColor.rgb;//vec3(0.5647, 0.6941, 0.8235);\r\n    if (u_reflection == 1)\r\n    {\r\n        //vec3 reflectDir = reflect(eyeDir, myNormal);\r\n        //vec3 envColor = vec3(textureCube(u_cubeMap, -reflectDir));\r\n        // 如果要实现反射真实场景，需要把场景渲染5遍构建一个无底的立方体纹理。\r\n        // 目前使用一张反射纹理近似模拟。\r\n        vec2 final = projectionCoord.xy / projectionCoord.w;\r\n        final = final * 0.5 + 0.5;\r\n        final.y = 1.0 - final.y;\r\n        envColor = texture2D(u_reflectMap, final + myNormal.xy/texScale2*transp).rgb;\r\n    }\r\n\r\n    // very ugly version of fresnel effect\r\n    // but it gives a nice transparent water, but not too transparent\r\n    myangle = dot(myNormal,normalize(eyeDir));\r\n    myangle = 0.95-0.6*myangle*myangle;\r\n\r\n    // blend in the color of the plane below the water\r\n\r\n    // add in a little distortion of the colormap for the effect of a refracted\r\n    // view of the image below the surface.\r\n    // (this isn't really tested, just a last minute addition\r\n    // and perhaps should be coded differently\r\n\r\n    // the correct way, would be to use the refract routine, use the alpha channel for depth of\r\n    // the water (and make the water disappear when depth = 0), add some watercolor to the colormap\r\n    // depending on the depth, and use the calculated refractdir and the depth to find the right\r\n    // pixel in the colormap.... who knows, something for the next version\r\n    vec3 base = u_refractColor.rgb;//vec3(0.3, 0.4, 0.5);\r\n    if (u_useRefractTex == 1)\r\n        base = texture2D(u_refractMap,(texCoord + myNormal.xy/texScale2*0.03*transp)*32.0).rgb;\r\n    base = mix(base, u_waterColor.rgb, u_waterColor.a);\r\n\r\n    // 光照计算(暂不加入)\r\n    //vec3 lightDir = normalize(vec3(0.0, 0.0, 1.0)); // 光照方向需要从外面传入\r\n    //vec3 reflectVec = reflect(-lightDir, myNormal);\r\n    //float diffuse = max(0.0, dot(myNormal, lightDir));\r\n    //float spec = max(dot(reflectVec, normalize(-eyeDir)), 0.0);\r\n    //spec = pow(spec, 128.0);\r\n    //float lightIntensity = 0.7 * diffuse + 0.3 * spec;\r\n\r\n    gl_FragColor = vec4(mix(base, envColor, myangle*transp), 1.0);\r\n\r\n    // note that smaller waves appear to move slower than bigger waves\r\n    // one could use the tiles and give each tile a different speed if that\r\n    // is what you want\r\n}`\r\nexport default shader\r\n","const shader = `\r\nattribute vec3 position;\r\nattribute vec2 st;\r\nuniform mat4 u_modelViewProjectionMatrix;\r\nuniform mat4 u_modelViewMatrix;\r\nuniform mat4 u_invWorldViewMatrix;\r\nuniform vec2 u_texCoordOffset;\r\nuniform vec2 u_texCoordScale;\r\nuniform float u_frameTime;\r\nuniform int u_clampToGroud;\r\nuniform vec3 u_cameraPosition;\r\nuniform vec3 u_scale;\r\n\r\nvarying vec3 eyeDir;\r\nvarying vec2 texCoord;\r\nvarying float myTime;\r\nvarying vec4 projectionCoord;\r\n\r\nvoid main(void)\r\n{\r\n\tgl_Position = u_modelViewProjectionMatrix * vec4(position.xyz,1.0);\r\n\tif (u_clampToGroud == 1)\r\n\t{\r\n\t  eyeDir = (u_cameraPosition - position.xyz) * u_scale;\r\n\t} else {\r\n\t  vec4 pos = u_modelViewMatrix * vec4(position.xyz,1.0);\r\n\t  eyeDir = vec3(u_invWorldViewMatrix*vec4(pos.xyz,0.0));\r\n\t  projectionCoord = gl_Position;\r\n\t}\r\n\ttexCoord = (st+u_texCoordOffset)*u_texCoordScale;\r\n\tmyTime = 0.01 * u_frameTime;\r\n}`\r\nexport default shader\r\n","import defaultValue from './defaultValue';\r\nimport defined from './defined';\r\nimport CesiumProError from './CesiumProError'\r\nimport URL from './URL';\r\nimport fs from '../shader/waterFaceFS';\r\nimport vs from '../shader/waterFaceVS';\r\nimport checkViewer from './checkViewer'\r\nconst {\r\n  Color,\r\n  Resource,\r\n  Texture,\r\n  TextureWrap,\r\n  Sampler,\r\n  Cartographic,\r\n  Cartesian2,\r\n  Cartesian3,\r\n  Camera,\r\n  Framebuffer,\r\n  Renderbuffer,\r\n  PassState,\r\n  BoundingRectangle,\r\n  PixelFormat,\r\n  RenderbufferFormat,\r\n  Matrix4,\r\n  Matrix3,\r\n  JulianDate,\r\n  ShaderProgram,\r\n  RenderState,\r\n  PolygonGeometry,\r\n  Buffer,\r\n  BufferUsage,\r\n  IndexDatatype,\r\n  ComponentDatatype,\r\n  VertexArray,\r\n  DrawCommand,\r\n  PrimitiveType,\r\n  Pass,\r\n  Plane,\r\n  Cartesian4,\r\n  ClearCommand,\r\n  Primitive,\r\n  destroyObject,\r\n  ShaderSource\r\n} = Cesium;\r\n\r\nconst CesiumMath = Cesium.Math;\r\n\r\nfunction executeCommand(command, scene, context, passState, debugFramebuffer) {\r\n  var frameState = scene._frameState;\r\n\r\n  if (defined(scene.debugCommandFilter) && !scene.debugCommandFilter(command)) {\r\n    return;\r\n  }\r\n\r\n  if (command instanceof ClearCommand) {\r\n    command.execute(context, passState);\r\n    return;\r\n  }\r\n\r\n  // if (command.debugShowBoundingVolume && defined(command.boundingVolume)) {\r\n  //   debugShowBoundingVolume(command, scene, passState, debugFramebuffer);\r\n  // }\r\n\r\n  if (frameState.useLogDepth && defined(command.derivedCommands.logDepth)) {\r\n    command = command.derivedCommands.logDepth.command;\r\n  }\r\n\r\n  var passes = frameState.passes;\r\n  if (\r\n    !passes.pick &&\r\n    !passes.depth &&\r\n    scene._hdr &&\r\n    defined(command.derivedCommands) &&\r\n    defined(command.derivedCommands.hdr)\r\n  ) {\r\n    command = command.derivedCommands.hdr.command;\r\n  }\r\n\r\n  if (passes.pick || passes.depth) {\r\n    if (\r\n      passes.pick &&\r\n      !passes.depth &&\r\n      defined(command.derivedCommands.picking)\r\n    ) {\r\n      command = command.derivedCommands.picking.pickCommand;\r\n      command.execute(context, passState);\r\n      return;\r\n    } else if (defined(command.derivedCommands.depth)) {\r\n      command = command.derivedCommands.depth.depthOnlyCommand;\r\n      command.execute(context, passState);\r\n      return;\r\n    }\r\n  }\r\n\r\n  // if (scene.debugShowCommands || scene.debugShowFrustums) {\r\n  //   executeDebugCommand(command, scene, passState);\r\n  //   return;\r\n  // }\r\n\r\n  if (\r\n    frameState.shadowState.lightShadowsEnabled &&\r\n    command.receiveShadows &&\r\n    defined(command.derivedCommands.shadows)\r\n  ) {\r\n    // If the command receives shadows, execute the derived shadows command.\r\n    // Some commands, such as OIT derived commands, do not have derived shadow commands themselves\r\n    // and instead shadowing is built-in. In this case execute the command regularly below.\r\n    command.derivedCommands.shadows.receiveCommand.execute(context, passState);\r\n  } else {\r\n    command.execute(context, passState);\r\n  }\r\n}\r\nclass WaterFacePrimitive {\r\n  /**\r\n   * @see {@link https://www.cnblogs.com/wanghui2011/articles/13100925.html|基于Cesium实现逼真的水特效}\r\n   * @param {Obejct} options [description]\r\n   * @param {Cesium.Color} [options.waterColor=new Color(.439, .564, .788, 0)] 水颜色\r\n   * @param {Cesium.Color} [options.refractColor=new Color(0,0,0,0)] 折射颜色\r\n   * @param {Cesium.Color} [options.reflectColor=options.waterColor] 反射颜色\r\n   *\r\n   */\r\n  constructor(options) {\r\n    this._viewer = options.viewer;\r\n    checkViewer(this._viewer);\r\n    if (!defined(options.waterPolygon)) {\r\n      throw new CesiumProError('parameter waterPolygon is required.')\r\n    }\r\n    this._waterColor = defaultValue(options.waterColor, new Color(0.439, 0.564, 0.788, 0));\r\n    this._refractColor = defaultValue(options.refractColor, new Color(0, 0, 0, 0));\r\n    this._reflectColor = defaultValue(options.reflectColor, this._waterColor);\r\n    this._waveWidth = defaultValue(options.waveWidth, 5);\r\n    this._flowDirection = defaultValue(options.flowDirection, 45);\r\n    this._flowSpeed = defaultValue(options.flowSpeed, 0.6);\r\n    this._waterPolygon = options.waterPolygon\r\n    this._normalMap = defaultValue(options.normalMap, URL.buildModuleUrl('./assets/images/waterNormal.jpg'))\r\n    this._normalTexture = undefined;\r\n    this._startTime = 0;\r\n    this._reflectCamera = undefined;\r\n    this._reflectPassState = undefined;\r\n    this._ready = false;\r\n    this._drawCommand = undefined;\r\n    this._show = defaultValue(options.show, true);\r\n    this._context = viewer.scene._context;\r\n    this._zFactor = 0;\r\n    this._pointsToCartographic = []\r\n    let img = document.createElement('img');\r\n    Resource.fetchImage({\r\n      url: this._normalMap\r\n    }).then(resource => {\r\n      img = resource;\r\n      this._normalTexture = new Texture({\r\n        context: this._context,\r\n        width: img.width,\r\n        height: img.height,\r\n        source: img,\r\n        sampler: new Sampler({\r\n          wrapS: TextureWrap.REPEAT,\r\n          wrapT: TextureWrap.REPAT\r\n        })\r\n      })\r\n    })\r\n    this.initialize()\r\n  }\r\n  /**\r\n   * 定义水面范围\r\n   * @type {Cesium.PolygonGeometry} 定义水面范围的多边形\r\n   */\r\n  get waterPolygon() {\r\n    return this._waterPolygon;\r\n  }\r\n  set waterPolygon(v) {\r\n    if (defined(v) && defined(this._waterPolygon)) {\r\n      this.release();\r\n    }\r\n    this._waterPolygon = v;\r\n  }\r\n  /**\r\n   * 流动速度\r\n   * @type {Number} 流动速度\r\n   */\r\n  get flowSpeed() {\r\n    return this._flowSpeed;\r\n  }\r\n  set flowSpeed(v) {\r\n    this._flowSpeed = v;\r\n  }\r\n\r\n  get flowDirection() {\r\n    return this._flowDirection;\r\n  }\r\n  set flowDirection(v) {\r\n    this._flowDirection = v;\r\n  }\r\n  get waveWidth() {\r\n    return this._waveWidth;\r\n  }\r\n  set waveWidth(val) {\r\n    this._waveWidth = val;\r\n  }\r\n  get show() {\r\n    return this._show;\r\n  }\r\n  set show(val) {\r\n    this._show = val;\r\n  }\r\n  get waterColor() {\r\n    return this._waterColor;\r\n  }\r\n  get refractColor() {\r\n    return this._reflectColor;\r\n  }\r\n  get reflectColor() {\r\n    return this._reflectColor;\r\n  }\r\n  /**\r\n   * 计算水面的外接矩形\r\n   * @private\r\n   */\r\n  computeBoundingRectangle() {\r\n    const positions = this._waterPolygon._polygonHierarchy.positions;\r\n    if (positions.length < 1) {\r\n      throw new CesiumProError('The positions of water polygon hierarchy is empty.')\r\n    }\r\n    const firstCartographic = Cartographic.fromCartesian(positions[0]);\r\n    let minX = CesiumMath.toDegrees(firstCartographic.longitude);\r\n    let minY = CesiumMath.toDegrees(firstCartographic.latitude);\r\n    let maxX = CesiumMath.toDegrees(firstCartographic.longitude);\r\n    let maxY = CesiumMath.toDegrees(firstCartographic.latitude);\r\n    this._zFactor = firstCartographic.height;\r\n    for (let i = 0, length = positions.length; i < length; i++) {\r\n      const cartographic = Cartographic.fromCartesian(positions[i]);\r\n      const lon = CesiumMath.toDegrees(cartographic.longitude);\r\n      const lat = CesiumMath.toDegrees(cartographic.latitude);\r\n      const coordinate = new Cartesian2(lon, lat);\r\n      this._pointsToCartographic.push(coordinate);\r\n      if (lon > maxX) {\r\n        maxX = lon;\r\n      }\r\n      if (lon < minX) {\r\n        minX = lon;\r\n      }\r\n      if (lat > maxY) {\r\n        maxY = lat;\r\n      }\r\n      if (lat < minY) {\r\n        minY = lat;\r\n      }\r\n      this._lonMin = minX;\r\n      this._latMin = minY;\r\n      this._center = Cartesian3.fromDegrees((minX + maxX) / 2, (minY + maxY) / 2, this._zFactor);\r\n    }\r\n  }\r\n  /**\r\n   * 初始化入口\r\n   * @private\r\n   */\r\n  initialize() {\r\n    const context = this._context;\r\n    if (!defined(this._reflectCamera)) {\r\n      this._reflectCamera = new Camera(this._viewer.scene)\r\n    }\r\n    if (!defined(this._reflectPassState)) {\r\n      const framebuffer = new Framebuffer({\r\n        context,\r\n        colorTextures: [new Texture({\r\n          context,\r\n          width: 512,\r\n          height: 512,\r\n          pixelFormat: PixelFormat.RGBA\r\n        })],\r\n        depthRenderbuffer: new Renderbuffer({\r\n          context,\r\n          format: RenderbufferFormat.DEPTH_COMPONENT16,\r\n          width: 512,\r\n          height: 512\r\n        })\r\n      })\r\n      this._reflectPassState = new PassState(context);\r\n      this._reflectPassState.viewport = new BoundingRectangle(0, 0, 512, 512);\r\n      this._reflectPassState.framebuffer = framebuffer;\r\n    }\r\n    this._ready = true;\r\n    this.computeBoundingRectangle();\r\n  }\r\n  update(frameState, time) {\r\n    const scene = this._viewer.scene;\r\n    const camera = this._viewer.camera;\r\n    if (!this._ready) {\r\n      this.initialize();\r\n    }\r\n    const context = this._context;\r\n    this._fscale = 1 / (0.001 * this._waveWidth);\r\n    const center = Cartesian3.clone(this._center);\r\n    const cartographic = Cartographic.fromCartesian(center);\r\n    const lon = CesiumMath.toDegrees(cartographic.longitude);\r\n    const lat = CesiumMath.toDegrees(cartographic.latitude);\r\n    const surface = Cartesian3.fromDegrees(lon, lat, 0);\r\n    const normal = surface;\r\n    Cartesian3.normalize(normal, normal);\r\n    const north = new Cartesian3(0, 1, 0);\r\n    const east = Cartesian3.cross(north, normal, new Cartesian3());\r\n    Cartesian3.normalize(east, east);\r\n    Cartesian3.cross(normal, east, north);\r\n    const matrix = new Matrix3();\r\n    Matrix3.setRow(matrix, 0, east, matrix);\r\n    Matrix3.setRow(matrix, 1, north, matrix);\r\n    Matrix3.setRow(matrix, 2, normal, matrix);\r\n    const transpose = new Matrix3();\r\n    Matrix3.transpose(matrix, transpose);\r\n    const translation = new Cartesian3()\r\n    const transposeCenter = new Cartesian3(-center.x, -center.y, -center.z);\r\n    Matrix3.multiplyByVector(matrix, transposeCenter, translation);\r\n    const invLocalViewMatrix = new Matrix4(matrix[0], matrix[3], matrix[6], translation.x,\r\n      matrix[1], matrix[4], matrix[7], translation.y, matrix[2], matrix[5], matrix[8], translation.z, 0, 0, 0, 1);\r\n    this.invWorldViewMatrix = new Matrix4();\r\n    Matrix4.multiply(invLocalViewMatrix, camera.inverseViewMatrix, this.invWorldViewMatrix);\r\n    this.modelMatrix = new Matrix4(1, 0, 0, center.x, 0, 1, 0, center.y, 0, 0, 1, center.z, 0, 0, 0, 1);\r\n    this.modelViewMatrix = new Matrix4;\r\n    this.modelViewProjection = new Matrix4;\r\n    Matrix4.multiply(scene.camera.viewMatrix, this.modelMatrix, this.modelViewMatrix);\r\n    Matrix4.multiply(scene.camera.frustum.projectionMatrix, this.modelViewMatrix, this.modelViewProjection);\r\n    if (!defined(time)) {\r\n      time = JulianDate.now();\r\n    }\r\n    if (this._startTime == 0) {\r\n      this._startTime = time.secondsOfDay;\r\n    }\r\n    this._updated = false;\r\n    const seconds = time.secondsOfDay;\r\n    this._fElapse = (seconds - this._startTime);\r\n    this._frameTime = this._fElapse * this._flowSpeed;\r\n    this._flowAngle = CesiumMath.toRadians(this._flowDirection);\r\n    if (!defined(this._drawCommand)) {\r\n      const program = ShaderProgram.fromCache({\r\n        context,\r\n        vertexShaderSource: vs,\r\n        fragmentShaderSource: fs,\r\n      });\r\n      const renderState = RenderState.fromCache({\r\n        depthTest: {\r\n          enabled: true\r\n        }\r\n      });\r\n      const me = this;\r\n      this._uniformMap = {\r\n        u_bgColor: function() {\r\n          return me.waterColor;\r\n        },\r\n        u_texCoordOffset: function() {\r\n          return new Cartesian2(-me._lonMin, -me.latMin);\r\n        },\r\n        u_texCoordScale: function() {\r\n          return new Cartesian2(me._fscale, me._fscale);\r\n        },\r\n        u_scale: function() {\r\n          return new Cartesian3(3, 3, 3);\r\n        },\r\n        u_cameraPosition: function() {\r\n          return new Cartesian3(3, 3, 3);\r\n        },\r\n        u_modelViewProjectionMatrix: function() {\r\n          return me.modelViewProjection;\r\n        },\r\n        u_modelViewMatrix: function() {\r\n          return me.modelViewMatrix;\r\n        },\r\n        u_clampToGroud: function() {\r\n          return false;\r\n        },\r\n        u_invWorldViewMatrix: function() {\r\n          return me.invWorldViewMatrix;\r\n        },\r\n        u_refractMap: function() {\r\n          return me._normalTexture;\r\n        },\r\n        u_frameTime: function() {\r\n          return me._frameTime;\r\n        },\r\n        u_normalMap: function() {\r\n          return me._normalTexture\r\n        },\r\n        u_reflectMap: function() {\r\n          return me._reflectPassState.framebuffer.getColorTexture(0);\r\n        },\r\n        u_useRefractTex: function() {\r\n          return 0;\r\n        },\r\n        u_reflection: function() {\r\n          return true;\r\n        },\r\n        u_waterColor: function() {\r\n          return me._waterColor;\r\n        },\r\n        u_refractColor: function() {\r\n          return me._refractColor;\r\n        },\r\n        u_reflectColor: function() {\r\n          return me._reflectColor;\r\n        },\r\n        u_flowDirection: function() {\r\n          return new Cartesian2(0.5 * Math.sin(me._flowAngle) + 0.5, 0.5 * Math.cos(me._flowAngle) + 0.5);\r\n        }\r\n      }\r\n      this._waterGeometry = PolygonGeometry.createGeometry(this._waterPolygon);\r\n      const indices = this._waterGeometry.indices;\r\n      const positions = this._waterGeometry.attributes.position.values;\r\n      for (let i = 0; i < positions.length; i++) {\r\n        if (i % 3 === 0) {\r\n          positions[i] = positions[i] - center.x;\r\n        }\r\n        if (i % 3 === 1) {\r\n          positions[i] = positions[i] - center.y;\r\n        }\r\n        if (i % 3 === 2) {\r\n          positions[i] = positions[i] - center.z;\r\n        }\r\n      }\r\n      const cartographics = []\r\n      for (let j = 0, length = this._pointsToCartographic.length; j < length; j++) {\r\n        cartographics.push(this._pointsToCartographic[j]);\r\n      }\r\n      const indexBuffer = Buffer.createIndexBuffer({\r\n        context,\r\n        typedArray: new Uint32Array(indices),\r\n        usage: BufferUsage.STATIC_DRAW,\r\n        indexDatatype: IndexDatatype.UNSIGNED_INT\r\n      });\r\n      const vertexBuffer = Buffer.createVertexBuffer({\r\n        context,\r\n        typedArray: ComponentDatatype.createTypedArray(ComponentDatatype.FLOAT, positions),\r\n        usage: BufferUsage.STATIC_DRAW,\r\n      })\r\n      const vertexBuffer1 = Buffer.createVertexBuffer({\r\n        context,\r\n        typedArray: ComponentDatatype.createTypedArray(ComponentDatatype.FLOAT, new Float64Array(cartographics)),\r\n        usage: BufferUsage.STATIC_DRAW\r\n      })\r\n      const attributes = [{\r\n        index: 0,\r\n        vertexBuffer,\r\n        componentDatatype: ComponentDatatype.FLOAT,\r\n        componentsPerAttribute: 3,\r\n        normalize: false\r\n      }, {\r\n        idnex: 1,\r\n        vertexBuffer: vertexBuffer1,\r\n        componentsPerAttribute: 2,\r\n        normalize: false\r\n      }]\r\n      const vertexArray = new VertexArray({\r\n        context,\r\n        attributes,\r\n        indexBuffer\r\n      })\r\n      this._drawCommand = new DrawCommand({\r\n        boundingVolume: this._waterGeometry.boundingSphere,\r\n        primitiveType: PrimitiveType.TRIANGLES,\r\n        vertexArray,\r\n        shaderProgram: program,\r\n        castShadows: false,\r\n        receiveShadows: false,\r\n        uniformMap: this._uniformMap,\r\n        renderState,\r\n        pass: Pass.OPAQUE\r\n      })\r\n    }\r\n    if (this._drawCommand) {\r\n      frameState.commandList.push(this._drawCommand);\r\n    }\r\n    this._updated = true;\r\n    // this.updateReflectTexture(frameState);\r\n    // this.execute(frameState)\r\n  }\r\n  updateReflectTexture(frameState) {\r\n\r\n    const camera = this._viewer.camera;\r\n    if (this._updated) {\r\n      const context = this._context;\r\n      this.modelViewMatrix = Matrix4.multiply(camera.viewMatrix, this.modelMatrix, this.modelViewMatrix);\r\n      this.modelViewProjection = Matrix4.multiply(camera.frustum.projectionMatrix, this.modelViewMatrix, this.modelViewProjection);\r\n      const center = Cartesian3.clone(this._center);\r\n      const normal = Cartesian3.clone(this._center);\r\n      Cartesian3.normalize(normal, normal);\r\n      const plane = Plane.fromPointNormal(center, normal);\r\n      const normal1 = Cartesian3.clone(normal);\r\n      const projectScale = -Cartesian3.dot(normal, center);\r\n      const matrix = new Matrix4(\r\n        -2 * normal.x * normal.x + 1, -2 * normal.x * normal.y, -2 * normal.x * normal.z, -2 * normal.x * projectScale,\r\n        -2 * normal.y * normal.x, -2 * normal.y * normal.y + 1, -2 * normal.y * normal.z, -2 * normal.y * projectScale,\r\n        -2 * normal.z * normal.x, -2 * normal.z * normal.y, -2 * normal.z * normal.z + 1, -2 * normal.z * projectScale,\r\n        0, 0, 0, 1\r\n      )\r\n      const direction = new Cesium.Cartesian3();\r\n      Cartesian3.clone(camera.direction, direction);\r\n      const scaleNormal = new Cartesian3();\r\n      Cartesian3.multiplyByScalar(normal, 2.0 * Cartesian3.dot(direction, normal), scaleNormal);\r\n      const subtract = new Cartesian3()\r\n      Cartesian3.subtract(direction, scaleNormal, subtract);\r\n      Cartesian3.normalize(subtract, subtract);\r\n      const up = new Cartesian3();\r\n      Cartesian3.clone(camera.up, up);\r\n      const scaleNormal2 = new Cartesian3();\r\n      const cos = Cartesian3.dot(up, normal)\r\n      Cartesian3.multiplyByScalar(normal, 2 * cos, scaleNormal2)\r\n      const g = new Cartesian3();\r\n      Cartesian3.add(up, scaleNormal2, g);\r\n      Cartesian3.normalize(g, g);\r\n      const cameraPos = Cartesian3.clone(camera.position);\r\n      const worldPos = new Cartesian3();\r\n      Matrix4.multiplyByPoint(matrix, cameraPos, worldPos);\r\n      camera.frustum.fat = 1e8;\r\n      const projectionMatrix = new Matrix4();\r\n      Matrix4.clone(camera.frustum.projectionMatrix, projectionMatrix);\r\n      this._reflectCamera.direction = subtract;\r\n      if (cos < 0.5) {\r\n        this._reflectCamera.up = new Cartesian3(-g.x, -g.y, -g.z);\r\n      } else {\r\n        this._reflectCamera.up = g;\r\n      }\r\n      this._reflectCamera.position = worldPos;\r\n      const inverseMatrix = new Matrix4();\r\n      Matrix4.inverse(this._reflectCamera.viewMatrix, inverseMatrix);\r\n      Matrix4.transpose(inverseMatrix, inverseMatrix);\r\n      const cartesian4 = new Cartesian4(plane.normal.x, plane.normal.y, plane.normal.z, -Cartesian3.dot(normal, center));\r\n      Matrix4.multiplyByVector(inverseMatrix, cartesian4, cartesian4);\r\n      const scale = cartesian4.w / Math.sqrt(cartesian4.x ** 2, cartesian4.y ** 2, cartesian4.z ** 2);\r\n      const cartesian3 = new Cartesian3(cartesian4.x, cartesian4.y, cartesian4.z);\r\n      Cartesian3.normalize(cartesian3, cartesian3);\r\n\r\n      const cartesian4_1 = new Cartesian4();\r\n      cartesian4_1.x = (Math.asin(cartesian3.x) + projectionMatrix[8]) / projectionMatrix[0];\r\n      cartesian4_1.y = (Math.asin(cartesian3.y) + projectionMatrix[9] / projectionMatrix[5]);\r\n      cartesian4_1.z = -1;\r\n      cartesian4_1.w = (+projectionMatrix[10]) / projectionMatrix[14];\r\n      const cartesian4_2 = new Cartesian4(cartesian3.x, cartesian3.y, cartesian3.z, scale);\r\n      const scaleCartesian4_2 = new Cartesian4()\r\n      Cartesian4.multiplyByScalar(cartesian4_2, 2 / Cartesian4.dot(cartesian4_2, cartesian4_1), scaleCartesian4_2);\r\n      projectionMatrix[2] = scaleCartesian4_2.x;\r\n      projectionMatrix[6] = scaleCartesian4_2.y;\r\n      projectionMatrix[10] = scaleCartesian4_2.z + 1;\r\n      projectionMatrix[14] = scaleCartesian4_2.w;\r\n      Matrix4.clone(projectionMatrix, this._reflectCamera.frustum.projectionMatrix);\r\n      const clear = new ClearCommand({\r\n        color: Cesium.Color.fromBytes(14, 33, 60, 255),\r\n        depth: 1,\r\n        framebuffer: this._reflectPassState.framebuffer,\r\n      })\r\n      clear.execute(context, this._reflectPassState);\r\n      this.renderColorTexture(frameState, clear, this._reflectPassState, this._reflectCamera)\r\n    }\r\n  }\r\n  updateEnvironment(scene, passState) {\r\n    //   const frameState = frameState._frameState,\r\n    //     environmentState = frameState._environmentState,\r\n    //     render = r.passes.render,\r\n    //     skyAtmosphere = frameState.skyAtmosphere,\r\n    //     globe = frameState.globe;\r\n    //   if (!render || frameState._mode !== we.SCENE2D && r.camera.frustum instanceof D)\r\n    //     environmentState.skyAtmosphereCommand =null,\r\n    //     environmentState.skyBoxCommand =null,\r\n    //     environmentState.sunDrawCommand =null,\r\n    //     environmentState.sunComputeCommand =null,\r\n    //     environmentState.moonCommand =null;\r\n    //   else {\r\n    //     h(skyAtmosphere) && h(globe) && (skyAtmosphere.setDynamicAtmosphereColor(globe.enableLighting),\r\n    //         i.isReadyForAtmosphere = i.isReadyForAtmosphere || globe._surface._tilesToRender.length > 0),\r\n    //       i.skyAtmosphereCommand = h(skyAtmosphere) ? skyAtmosphere.update(r) : void 0,\r\n    //       i.skyBoxCommand = h(frameState.skyBox) ? frameState.skyBox.update(r) : void 0;\r\n    //     var s = h(frameState.sun) ? frameState.sun.update(r, t) : void 0;\r\n    //     i.sunDrawCommand = h(s) ? s.drawCommand : void 0,\r\n    //       i.sunComputeCommand = h(s) ? s.computeCommand : void 0,\r\n    //       i.moonCommand = h(frameState.moon) ? frameState.moon.update(r) : void 0\r\n    //   }\r\n    //   var l = i.clearGlobeDepth = h(globe) && (!globe.depthTestAgainstTerrain || frameState.mode === we.SCENE2D);\r\n    //   (i.useDepthPlane = l && frameState.mode === we.SCENE3D) && frameState._depthPlane.update(r);\r\n    //   for (var u = r.mode === we.SCENE3D ? r.occluder : void 0, c = r.cullingVolume, d = Rt.planes, p = 0; p < 5; ++p)\r\n    //     d[p] = c.planes[p];\r\n    //   c = Rt,\r\n    //     i.isSkyAtmosphereVisible = h(i.skyAtmosphereCommand) && i.isReadyForAtmosphere,\r\n    //     i.isSunVisible = ze(i.sunDrawCommand, c, u),\r\n    //     i.isMoonVisible = ze(i.moonCommand, c, u)\r\n  }\r\n  renderColorTexture(frameState, command, passState, reflectCamera) {\r\n    const context = this._context;\r\n    const uniformState = context.uniformState;\r\n    frameState.render = false;\r\n    frameState.pick = false;\r\n    frameState.depth = false;\r\n    frameState.passes.render = true;\r\n    const camera = frameState.camera;\r\n    frameState.camera = reflectCamera;\r\n    uniformState.updateCamera(reflectCamera);\r\n    // at(this, passState);\r\n    command.execute(context, passState);\r\n    const commandList = frameState.commandList;\r\n    const length = commandList.length;\r\n    const environmentState = this._viewer.scene._environmentState;\r\n    environmentState.isSkyAtmosphereVisible && executeCommand(environmentState.skyAtmosphereCommand, this._viewer.scene, context, passState);\r\n    for (let c = 0; c < length; ++c) {\r\n      const cmd = commandList[c];\r\n      if (cmd.pass !== Pass.GLOBE && cmd.pass !== Pass.CESIUM_3D_TILE && cmd.pass !==\r\n        Pass.OPAQUE && cmd.pass !== Pass.TRANSLUCENT && cmd.pass !== Pass.ENVIRONMENT && cmd.pass !== Pass.OVERLAY ||\r\n        (uniformState.updatePass(cmd.pass))) {\r\n        if (!defined(cmd.derivedCommands)) {\r\n          continue;\r\n        }\r\n        executeCommand(cmd, this._viewer.scene, context, passState);\r\n      }\r\n\r\n    }\r\n    uniformState.updateCamera(this._viewer.camera);\r\n    uniformState.updateFrustum(this._viewer.camera.frustum);\r\n    frameState.camera = camera;\r\n  }\r\n  execute(frameState) {\r\n    if (this._normalTexture && this.show && this._updated) {\r\n      this._viewer.scene.context.draw(this._drawCommand, frameState)\r\n    }\r\n  }\r\n  release() {\r\n    this._ready = false;\r\n    this._waterPolygon = undefined;\r\n    this._drawCommand = undefined;\r\n    this._updated = false;\r\n  }\r\n  destroy() {\r\n    if (this._drawCommand) {\r\n      this._drawCommand = this._drawCommand && this._drawCommand.shaderProgram.destroy();\r\n    }\r\n    return destroyObject(this);\r\n  }\r\n  isDestroyed() {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default WaterFacePrimitive\r\n","const {\r\n  Cartesian2,\r\n  Cartesian3,\r\n  ImageryProvider,\r\n  when,\r\n  WebMercatorTilingScheme,\r\n  Resource,\r\n  CesiumMath,\r\n  Rectangle,\r\n  GeographicProjection,\r\n  Event,\r\n  DeveloperError,\r\n  defined,\r\n  defaultValue,\r\n  Credit,\r\n  combine,\r\n  Cartographic\r\n} = Cesium;\r\n\r\nvar templateRegex = /{[^}]+}/g;\r\n\r\nvar tags = {\r\n  x: xTag,\r\n  y: yTag,\r\n  z: zTag,\r\n  s: sTag,\r\n  reverseX: reverseXTag,\r\n  reverseY: reverseYTag,\r\n  reverseZ: reverseZTag,\r\n  westDegrees: westDegreesTag,\r\n  southDegrees: southDegreesTag,\r\n  eastDegrees: eastDegreesTag,\r\n  northDegrees: northDegreesTag,\r\n  westProjected: westProjectedTag,\r\n  southProjected: southProjectedTag,\r\n  eastProjected: eastProjectedTag,\r\n  northProjected: northProjectedTag,\r\n  width: widthTag,\r\n  height: heightTag,\r\n};\r\n\r\nvar pickFeaturesTags = combine(tags, {\r\n  i: iTag,\r\n  j: jTag,\r\n  reverseI: reverseITag,\r\n  reverseJ: reverseJTag,\r\n  longitudeDegrees: longitudeDegreesTag,\r\n  latitudeDegrees: latitudeDegreesTag,\r\n  longitudeProjected: longitudeProjectedTag,\r\n  latitudeProjected: latitudeProjectedTag,\r\n  format: formatTag,\r\n});\r\n\r\n/**\r\n * @typedef {Object} VectorTileProvider.ConstructorOptions\r\n *\r\n * Initialization options for the VectorTileProvider constructor\r\n *\r\n * @property {Promise.<Object>|Object} [options] Object with the following properties:\r\n * @property {Resource|String} url  The URL template to use to request tiles.  It has the following keywords:\r\n * <ul>\r\n *     <li><code>{z}</code>: The level of the tile in the tiling scheme.  Level zero is the root of the quadtree pyramid.</li>\r\n *     <li><code>{x}</code>: The tile X coordinate in the tiling scheme, where 0 is the Westernmost tile.</li>\r\n *     <li><code>{y}</code>: The tile Y coordinate in the tiling scheme, where 0 is the Northernmost tile.</li>\r\n *     <li><code>{s}</code>: One of the available subdomains, used to overcome browser limits on the number of simultaneous requests per host.</li>\r\n *     <li><code>{reverseX}</code>: The tile X coordinate in the tiling scheme, where 0 is the Easternmost tile.</li>\r\n *     <li><code>{reverseY}</code>: The tile Y coordinate in the tiling scheme, where 0 is the Southernmost tile.</li>\r\n *     <li><code>{reverseZ}</code>: The level of the tile in the tiling scheme, where level zero is the maximum level of the quadtree pyramid.  In order to use reverseZ, maximumLevel must be defined.</li>\r\n *     <li><code>{westDegrees}</code>: The Western edge of the tile in geodetic degrees.</li>\r\n *     <li><code>{southDegrees}</code>: The Southern edge of the tile in geodetic degrees.</li>\r\n *     <li><code>{eastDegrees}</code>: The Eastern edge of the tile in geodetic degrees.</li>\r\n *     <li><code>{northDegrees}</code>: The Northern edge of the tile in geodetic degrees.</li>\r\n *     <li><code>{westProjected}</code>: The Western edge of the tile in projected coordinates of the tiling scheme.</li>\r\n *     <li><code>{southProjected}</code>: The Southern edge of the tile in projected coordinates of the tiling scheme.</li>\r\n *     <li><code>{eastProjected}</code>: The Eastern edge of the tile in projected coordinates of the tiling scheme.</li>\r\n *     <li><code>{northProjected}</code>: The Northern edge of the tile in projected coordinates of the tiling scheme.</li>\r\n *     <li><code>{width}</code>: The width of each tile in pixels.</li>\r\n *     <li><code>{height}</code>: The height of each tile in pixels.</li>\r\n * </ul>\r\n * @property {Resource|String} [pickFeaturesUrl] The URL template to use to pick features.  If this property is not specified,\r\n *                 {@link VectorTileProvider#pickFeatures} will immediately returned undefined, indicating no\r\n *                 features picked.  The URL template supports all of the keywords supported by the <code>url</code>\r\n *                 parameter, plus the following:\r\n * <ul>\r\n *     <li><code>{i}</code>: The pixel column (horizontal coordinate) of the picked position, where the Westernmost pixel is 0.</li>\r\n *     <li><code>{j}</code>: The pixel row (vertical coordinate) of the picked position, where the Northernmost pixel is 0.</li>\r\n *     <li><code>{reverseI}</code>: The pixel column (horizontal coordinate) of the picked position, where the Easternmost pixel is 0.</li>\r\n *     <li><code>{reverseJ}</code>: The pixel row (vertical coordinate) of the picked position, where the Southernmost pixel is 0.</li>\r\n *     <li><code>{longitudeDegrees}</code>: The longitude of the picked position in degrees.</li>\r\n *     <li><code>{latitudeDegrees}</code>: The latitude of the picked position in degrees.</li>\r\n *     <li><code>{longitudeProjected}</code>: The longitude of the picked position in the projected coordinates of the tiling scheme.</li>\r\n *     <li><code>{latitudeProjected}</code>: The latitude of the picked position in the projected coordinates of the tiling scheme.</li>\r\n *     <li><code>{format}</code>: The format in which to get feature information, as specified in the {@link GetFeatureInfoFormat}.</li>\r\n * </ul>\r\n * @property {Object} [urlSchemeZeroPadding] Gets the URL scheme zero padding for each tile coordinate. The format is '000' where\r\n * each coordinate will be padded on the left with zeros to match the width of the passed string of zeros. e.g. Setting:\r\n * urlSchemeZeroPadding : { '{x}' : '0000'}\r\n * will cause an 'x' value of 12 to return the string '0012' for {x} in the generated URL.\r\n * It the passed object has the following keywords:\r\n * <ul>\r\n *  <li> <code>{z}</code>: The zero padding for the level of the tile in the tiling scheme.</li>\r\n *  <li> <code>{x}</code>: The zero padding for the tile X coordinate in the tiling scheme.</li>\r\n *  <li> <code>{y}</code>: The zero padding for the the tile Y coordinate in the tiling scheme.</li>\r\n *  <li> <code>{reverseX}</code>: The zero padding for the tile reverseX coordinate in the tiling scheme.</li>\r\n *  <li> <code>{reverseY}</code>: The zero padding for the tile reverseY coordinate in the tiling scheme.</li>\r\n *  <li> <code>{reverseZ}</code>: The zero padding for the reverseZ coordinate of the tile in the tiling scheme.</li>\r\n * </ul>\r\n * @property {String|String[]} [subdomains='abc'] The subdomains to use for the <code>{s}</code> placeholder in the URL template.\r\n *                          If this parameter is a single string, each character in the string is a subdomain.  If it is\r\n *                          an array, each element in the array is a subdomain.\r\n * @property {Credit|String} [credit=''] A credit for the data source, which is displayed on the canvas.\r\n * @property {Number} [minimumLevel=0] The minimum level-of-detail supported by the imagery provider.  Take care when specifying\r\n *                 this that the number of tiles at the minimum level is small, such as four or less.  A larger number is likely\r\n *                 to result in rendering problems.\r\n * @property {Number} [maximumLevel] The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\r\n * @property {Rectangle} [rectangle=Rectangle.MAX_VALUE] The rectangle, in radians, covered by the image.\r\n * @property {TilingScheme} [tilingScheme=WebMercatorTilingScheme] The tiling scheme specifying how the ellipsoidal\r\n * surface is broken into tiles.  If this parameter is not provided, a {@link WebMercatorTilingScheme}\r\n * is used.\r\n * @property {Ellipsoid} [ellipsoid] The ellipsoid.  If the tilingScheme is specified,\r\n *                    this parameter is ignored and the tiling scheme's ellipsoid is used instead. If neither\r\n *                    parameter is specified, the WGS84 ellipsoid is used.\r\n * @property {Number} [tileWidth=256] Pixel width of image tiles.\r\n * @property {Number} [tileHeight=256] Pixel height of image tiles.\r\n * @property {Boolean} [hasAlphaChannel=true] true if the images provided by this imagery provider\r\n *                  include an alpha channel; otherwise, false.  If this property is false, an alpha channel, if\r\n *                  present, will be ignored.  If this property is true, any images without an alpha channel will\r\n *                  be treated as if their alpha is 1.0 everywhere.  When this property is false, memory usage\r\n *                  and texture upload time are potentially reduced.\r\n * @property {GetFeatureInfoFormat[]} [getFeatureInfoFormats] The formats in which to get feature information at a\r\n *                                 specific location when {@link VectorTileProvider#pickFeatures} is invoked.  If this\r\n *                                 parameter is not specified, feature picking is disabled.\r\n * @property {Boolean} [enablePickFeatures=true] If true, {@link VectorTileProvider#pickFeatures} will\r\n *        request the <code>pickFeaturesUrl</code> and attempt to interpret the features included in the response.  If false,\r\n *        {@link VectorTileProvider#pickFeatures} will immediately return undefined (indicating no pickable\r\n *        features) without communicating with the server.  Set this property to false if you know your data\r\n *        source does not support picking features or if you don't want this provider's features to be pickable. Note\r\n *        that this can be dynamically overridden by modifying the {@link UriTemplateImageryProvider#enablePickFeatures}\r\n *        property.\r\n * @property {Object} [customTags] Allow to replace custom keywords in the URL template. The object must have strings as keys and functions as values.\r\n */\r\n\r\n/**\r\n * Provides imagery by requesting tiles using a specified URL template.\r\n *\r\n * @alias VectorTileProvider\r\n * @constructor\r\n *\r\n * @param {VectorTileProvider.ConstructorOptions} options Object describing initialization options\r\n *\r\n * @example\r\n * // Access Natural Earth II imagery, which uses a TMS tiling scheme and Geographic (EPSG:4326) project\r\n * var tms = new Cesium.VectorTileProvider({\r\n *     url : Cesium.buildModuleUrl('Assets/Textures/NaturalEarthII') + '/{z}/{x}/{reverseY}.jpg',\r\n *     credit : '© Analytical Graphics, Inc.',\r\n *     tilingScheme : new Cesium.GeographicTilingScheme(),\r\n *     maximumLevel : 5\r\n * });\r\n * // Access the CartoDB Positron basemap, which uses an OpenStreetMap-like tiling scheme.\r\n * var positron = new Cesium.VectorTileProvider({\r\n *     url : 'http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',\r\n *     credit : 'Map tiles by CartoDB, under CC BY 3.0. Data by OpenStreetMap, under ODbL.'\r\n * });\r\n * // Access a Web Map Service (WMS) server.\r\n * var wms = new Cesium.VectorTileProvider({\r\n *    url : 'https://programs.communications.gov.au/geoserver/ows?tiled=true&' +\r\n *          'transparent=true&format=image%2Fpng&exceptions=application%2Fvnd.ogc.se_xml&' +\r\n *          'styles=&service=WMS&version=1.1.1&request=GetMap&' +\r\n *          'layers=public%3AMyBroadband_Availability&srs=EPSG%3A3857&' +\r\n *          'bbox={westProjected}%2C{southProjected}%2C{eastProjected}%2C{northProjected}&' +\r\n *          'width=256&height=256',\r\n *    rectangle : Cesium.Rectangle.fromDegrees(96.799393, -43.598214999057824, 153.63925700000001, -9.2159219997013)\r\n * });\r\n * // Using custom tags in your template url.\r\n * var custom = new Cesium.VectorTileProvider({\r\n *    url : 'https://yoururl/{Time}/{z}/{y}/{x}.png',\r\n *    customTags : {\r\n *        Time: function(imageryProvider, x, y, level) {\r\n *            return '20171231'\r\n *        }\r\n *    }\r\n * });\r\n *\r\n */\r\nfunction VectorTileProvider(options) {\r\n  //>>includeStart('debug', pragmas.debug);\r\n  if (!defined(options)) {\r\n    throw new DeveloperError(\"options is required.\");\r\n  }\r\n  if (!when.isPromise(options) && !defined(options.url)) {\r\n    throw new DeveloperError(\"options is required.\");\r\n  }\r\n  //>>includeEnd('debug');\r\n\r\n  this._errorEvent = new Event();\r\n\r\n  this._resource = undefined;\r\n  this._urlSchemeZeroPadding = undefined;\r\n  this._pickFeaturesResource = undefined;\r\n  this._tileWidth = undefined;\r\n  this._tileHeight = undefined;\r\n  this._maximumLevel = undefined;\r\n  this._minimumLevel = undefined;\r\n  this._tilingScheme = undefined;\r\n  this._rectangle = undefined;\r\n  this._tileDiscardPolicy = undefined;\r\n  this._credit = undefined;\r\n  this._hasAlphaChannel = undefined;\r\n  this._readyPromise = undefined;\r\n  this._tags = undefined;\r\n  this._pickFeaturesTags = undefined;\r\n\r\n  /**\r\n   * The default alpha blending value of this provider, with 0.0 representing fully transparent and\r\n   * 1.0 representing fully opaque.\r\n   *\r\n   * @type {Number|undefined}\r\n   * @default undefined\r\n   */\r\n  this.defaultAlpha = undefined;\r\n\r\n  /**\r\n   * The default alpha blending value on the night side of the globe of this provider, with 0.0 representing fully transparent and\r\n   * 1.0 representing fully opaque.\r\n   *\r\n   * @type {Number|undefined}\r\n   * @default undefined\r\n   */\r\n  this.defaultNightAlpha = undefined;\r\n\r\n  /**\r\n   * The default alpha blending value on the day side of the globe of this provider, with 0.0 representing fully transparent and\r\n   * 1.0 representing fully opaque.\r\n   *\r\n   * @type {Number|undefined}\r\n   * @default undefined\r\n   */\r\n  this.defaultDayAlpha = undefined;\r\n\r\n  /**\r\n   * The default brightness of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0\r\n   * makes the imagery darker while greater than 1.0 makes it brighter.\r\n   *\r\n   * @type {Number|undefined}\r\n   * @default undefined\r\n   */\r\n  this.defaultBrightness = undefined;\r\n\r\n  /**\r\n   * The default contrast of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0 reduces\r\n   * the contrast while greater than 1.0 increases it.\r\n   *\r\n   * @type {Number|undefined}\r\n   * @default undefined\r\n   */\r\n  this.defaultContrast = undefined;\r\n\r\n  /**\r\n   * The default hue of this provider in radians. 0.0 uses the unmodified imagery color.\r\n   *\r\n   * @type {Number|undefined}\r\n   * @default undefined\r\n   */\r\n  this.defaultHue = undefined;\r\n\r\n  /**\r\n   * The default saturation of this provider. 1.0 uses the unmodified imagery color. Less than 1.0 reduces the\r\n   * saturation while greater than 1.0 increases it.\r\n   *\r\n   * @type {Number|undefined}\r\n   * @default undefined\r\n   */\r\n  this.defaultSaturation = undefined;\r\n\r\n  /**\r\n   * The default gamma correction to apply to this provider.  1.0 uses the unmodified imagery color.\r\n   *\r\n   * @type {Number|undefined}\r\n   * @default undefined\r\n   */\r\n  this.defaultGamma = undefined;\r\n\r\n  /**\r\n   * The default texture minification filter to apply to this provider.\r\n   *\r\n   * @type {TextureMinificationFilter}\r\n   * @default undefined\r\n   */\r\n  this.defaultMinificationFilter = undefined;\r\n\r\n  /**\r\n   * The default texture magnification filter to apply to this provider.\r\n   *\r\n   * @type {TextureMagnificationFilter}\r\n   * @default undefined\r\n   */\r\n  this.defaultMagnificationFilter = undefined;\r\n\r\n  /**\r\n   * Gets or sets a value indicating whether feature picking is enabled.  If true, {@link VectorTileProvider#pickFeatures} will\r\n   * request the <code>options.pickFeaturesUrl</code> and attempt to interpret the features included in the response.  If false,\r\n   * {@link VectorTileProvider#pickFeatures} will immediately return undefined (indicating no pickable\r\n   * features) without communicating with the server.  Set this property to false if you know your data\r\n   * source does not support picking features or if you don't want this provider's features to be pickable.\r\n   * @type {Boolean}\r\n   * @default true\r\n   */\r\n  this.enablePickFeatures = true;\r\n\r\n  this.reinitialize(options);\r\n}\r\n\r\nObject.defineProperties(VectorTileProvider.prototype, {\r\n  /**\r\n   * Gets the URL template to use to request tiles.  It has the following keywords:\r\n   * <ul>\r\n   *  <li> <code>{z}</code>: The level of the tile in the tiling scheme.  Level zero is the root of the quadtree pyramid.</li>\r\n   *  <li> <code>{x}</code>: The tile X coordinate in the tiling scheme, where 0 is the Westernmost tile.</li>\r\n   *  <li> <code>{y}</code>: The tile Y coordinate in the tiling scheme, where 0 is the Northernmost tile.</li>\r\n   *  <li> <code>{s}</code>: One of the available subdomains, used to overcome browser limits on the number of simultaneous requests per host.</li>\r\n   *  <li> <code>{reverseX}</code>: The tile X coordinate in the tiling scheme, where 0 is the Easternmost tile.</li>\r\n   *  <li> <code>{reverseY}</code>: The tile Y coordinate in the tiling scheme, where 0 is the Southernmost tile.</li>\r\n   *  <li> <code>{reverseZ}</code>: The level of the tile in the tiling scheme, where level zero is the maximum level of the quadtree pyramid.  In order to use reverseZ, maximumLevel must be defined.</li>\r\n   *  <li> <code>{westDegrees}</code>: The Western edge of the tile in geodetic degrees.</li>\r\n   *  <li> <code>{southDegrees}</code>: The Southern edge of the tile in geodetic degrees.</li>\r\n   *  <li> <code>{eastDegrees}</code>: The Eastern edge of the tile in geodetic degrees.</li>\r\n   *  <li> <code>{northDegrees}</code>: The Northern edge of the tile in geodetic degrees.</li>\r\n   *  <li> <code>{westProjected}</code>: The Western edge of the tile in projected coordinates of the tiling scheme.</li>\r\n   *  <li> <code>{southProjected}</code>: The Southern edge of the tile in projected coordinates of the tiling scheme.</li>\r\n   *  <li> <code>{eastProjected}</code>: The Eastern edge of the tile in projected coordinates of the tiling scheme.</li>\r\n   *  <li> <code>{northProjected}</code>: The Northern edge of the tile in projected coordinates of the tiling scheme.</li>\r\n   *  <li> <code>{width}</code>: The width of each tile in pixels.</li>\r\n   *  <li> <code>{height}</code>: The height of each tile in pixels.</li>\r\n   * </ul>\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {String}\r\n   * @readonly\r\n   */\r\n  url: {\r\n    get: function() {\r\n      return this._resource.url;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the URL scheme zero padding for each tile coordinate. The format is '000' where each coordinate will be padded on\r\n   * the left with zeros to match the width of the passed string of zeros. e.g. Setting:\r\n   * urlSchemeZeroPadding : { '{x}' : '0000'}\r\n   * will cause an 'x' value of 12 to return the string '0012' for {x} in the generated URL.\r\n   * It has the following keywords:\r\n   * <ul>\r\n   *  <li> <code>{z}</code>: The zero padding for the level of the tile in the tiling scheme.</li>\r\n   *  <li> <code>{x}</code>: The zero padding for the tile X coordinate in the tiling scheme.</li>\r\n   *  <li> <code>{y}</code>: The zero padding for the the tile Y coordinate in the tiling scheme.</li>\r\n   *  <li> <code>{reverseX}</code>: The zero padding for the tile reverseX coordinate in the tiling scheme.</li>\r\n   *  <li> <code>{reverseY}</code>: The zero padding for the tile reverseY coordinate in the tiling scheme.</li>\r\n   *  <li> <code>{reverseZ}</code>: The zero padding for the reverseZ coordinate of the tile in the tiling scheme.</li>\r\n   * </ul>\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Object}\r\n   * @readonly\r\n   */\r\n  urlSchemeZeroPadding: {\r\n    get: function() {\r\n      return this._urlSchemeZeroPadding;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the URL template to use to use to pick features.  If this property is not specified,\r\n   * {@link VectorTileProvider#pickFeatures} will immediately return undefined, indicating no\r\n   * features picked.  The URL template supports all of the keywords supported by the\r\n   * {@link VectorTileProvider#url} property, plus the following:\r\n   * <ul>\r\n   *     <li><code>{i}</code>: The pixel column (horizontal coordinate) of the picked position, where the Westernmost pixel is 0.</li>\r\n   *     <li><code>{j}</code>: The pixel row (vertical coordinate) of the picked position, where the Northernmost pixel is 0.</li>\r\n   *     <li><code>{reverseI}</code>: The pixel column (horizontal coordinate) of the picked position, where the Easternmost pixel is 0.</li>\r\n   *     <li><code>{reverseJ}</code>: The pixel row (vertical coordinate) of the picked position, where the Southernmost pixel is 0.</li>\r\n   *     <li><code>{longitudeDegrees}</code>: The longitude of the picked position in degrees.</li>\r\n   *     <li><code>{latitudeDegrees}</code>: The latitude of the picked position in degrees.</li>\r\n   *     <li><code>{longitudeProjected}</code>: The longitude of the picked position in the projected coordinates of the tiling scheme.</li>\r\n   *     <li><code>{latitudeProjected}</code>: The latitude of the picked position in the projected coordinates of the tiling scheme.</li>\r\n   *     <li><code>{format}</code>: The format in which to get feature information, as specified in the {@link GetFeatureInfoFormat}.</li>\r\n   * </ul>\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {String}\r\n   * @readonly\r\n   */\r\n  pickFeaturesUrl: {\r\n    get: function() {\r\n      return this._pickFeaturesResource.url;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the proxy used by this provider.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Proxy}\r\n   * @readonly\r\n   * @default undefined\r\n   */\r\n  proxy: {\r\n    get: function() {\r\n      return this._resource.proxy;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the width of each tile, in pixels. This function should\r\n   * not be called before {@link VectorTileProvider#ready} returns true.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Number}\r\n   * @readonly\r\n   * @default 256\r\n   */\r\n  tileWidth: {\r\n    get: function() {\r\n      //>>includeStart('debug', pragmas.debug);\r\n      if (!this.ready) {\r\n        throw new DeveloperError(\r\n          \"tileWidth must not be called before the imagery provider is ready.\"\r\n        );\r\n      }\r\n      //>>includeEnd('debug');\r\n      return this._tileWidth;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the height of each tile, in pixels.  This function should\r\n   * not be called before {@link VectorTileProvider#ready} returns true.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Number}\r\n   * @readonly\r\n   * @default 256\r\n   */\r\n  tileHeight: {\r\n    get: function() {\r\n      //>>includeStart('debug', pragmas.debug);\r\n      if (!this.ready) {\r\n        throw new DeveloperError(\r\n          \"tileHeight must not be called before the imagery provider is ready.\"\r\n        );\r\n      }\r\n      //>>includeEnd('debug');\r\n      return this._tileHeight;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the maximum level-of-detail that can be requested, or undefined if there is no limit.\r\n   * This function should not be called before {@link VectorTileProvider#ready} returns true.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Number|undefined}\r\n   * @readonly\r\n   * @default undefined\r\n   */\r\n  maximumLevel: {\r\n    get: function() {\r\n      //>>includeStart('debug', pragmas.debug);\r\n      if (!this.ready) {\r\n        throw new DeveloperError(\r\n          \"maximumLevel must not be called before the imagery provider is ready.\"\r\n        );\r\n      }\r\n      //>>includeEnd('debug');\r\n      return this._maximumLevel;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the minimum level-of-detail that can be requested.  This function should\r\n   * not be called before {@link VectorTileProvider#ready} returns true.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Number}\r\n   * @readonly\r\n   * @default 0\r\n   */\r\n  minimumLevel: {\r\n    get: function() {\r\n      //>>includeStart('debug', pragmas.debug);\r\n      if (!this.ready) {\r\n        throw new DeveloperError(\r\n          \"minimumLevel must not be called before the imagery provider is ready.\"\r\n        );\r\n      }\r\n      //>>includeEnd('debug');\r\n      return this._minimumLevel;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the tiling scheme used by this provider.  This function should\r\n   * not be called before {@link VectorTileProvider#ready} returns true.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {TilingScheme}\r\n   * @readonly\r\n   * @default new WebMercatorTilingScheme()\r\n   */\r\n  tilingScheme: {\r\n    get: function() {\r\n      //>>includeStart('debug', pragmas.debug);\r\n      if (!this.ready) {\r\n        throw new DeveloperError(\r\n          \"tilingScheme must not be called before the imagery provider is ready.\"\r\n        );\r\n      }\r\n      //>>includeEnd('debug');\r\n      return this._tilingScheme;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the rectangle, in radians, of the imagery provided by this instance.  This function should\r\n   * not be called before {@link VectorTileProvider#ready} returns true.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Rectangle}\r\n   * @readonly\r\n   * @default tilingScheme.rectangle\r\n   */\r\n  rectangle: {\r\n    get: function() {\r\n      //>>includeStart('debug', pragmas.debug);\r\n      if (!this.ready) {\r\n        throw new DeveloperError(\r\n          \"rectangle must not be called before the imagery provider is ready.\"\r\n        );\r\n      }\r\n      //>>includeEnd('debug');\r\n      return this._rectangle;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the tile discard policy.  If not undefined, the discard policy is responsible\r\n   * for filtering out \"missing\" tiles via its shouldDiscardImage function.  If this function\r\n   * returns undefined, no tiles are filtered.  This function should\r\n   * not be called before {@link VectorTileProvider#ready} returns true.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {TileDiscardPolicy}\r\n   * @readonly\r\n   * @default undefined\r\n   */\r\n  tileDiscardPolicy: {\r\n    get: function() {\r\n      //>>includeStart('debug', pragmas.debug);\r\n      if (!this.ready) {\r\n        throw new DeveloperError(\r\n          \"tileDiscardPolicy must not be called before the imagery provider is ready.\"\r\n        );\r\n      }\r\n      //>>includeEnd('debug');\r\n      return this._tileDiscardPolicy;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets an event that is raised when the imagery provider encounters an asynchronous error.  By subscribing\r\n   * to the event, you will be notified of the error and can potentially recover from it.  Event listeners\r\n   * are passed an instance of {@link TileProviderError}.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Event}\r\n   * @readonly\r\n   */\r\n  errorEvent: {\r\n    get: function() {\r\n      return this._errorEvent;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets a value indicating whether or not the provider is ready for use.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Boolean}\r\n   * @readonly\r\n   */\r\n  ready: {\r\n    get: function() {\r\n      return defined(this._resource);\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets a promise that resolves to true when the provider is ready for use.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Promise.<Boolean>}\r\n   * @readonly\r\n   */\r\n  readyPromise: {\r\n    get: function() {\r\n      return this._readyPromise;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets the credit to display when this imagery provider is active.  Typically this is used to credit\r\n   * the source of the imagery.  This function should not be called before {@link VectorTileProvider#ready} returns true.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Credit}\r\n   * @readonly\r\n   * @default undefined\r\n   */\r\n  credit: {\r\n    get: function() {\r\n      //>>includeStart('debug', pragmas.debug);\r\n      if (!this.ready) {\r\n        throw new DeveloperError(\r\n          \"credit must not be called before the imagery provider is ready.\"\r\n        );\r\n      }\r\n      //>>includeEnd('debug');\r\n      return this._credit;\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Gets a value indicating whether or not the images provided by this imagery provider\r\n   * include an alpha channel.  If this property is false, an alpha channel, if present, will\r\n   * be ignored.  If this property is true, any images without an alpha channel will be treated\r\n   * as if their alpha is 1.0 everywhere.  When this property is false, memory usage\r\n   * and texture upload time are reduced.  This function should\r\n   * not be called before {@link ImageryProvider#ready} returns true.\r\n   * @memberof VectorTileProvider.prototype\r\n   * @type {Boolean}\r\n   * @readonly\r\n   * @default true\r\n   */\r\n  hasAlphaChannel: {\r\n    get: function() {\r\n      //>>includeStart('debug', pragmas.debug);\r\n      if (!this.ready) {\r\n        throw new DeveloperError(\r\n          \"hasAlphaChannel must not be called before the imagery provider is ready.\"\r\n        );\r\n      }\r\n      //>>includeEnd('debug');\r\n      return this._hasAlphaChannel;\r\n    },\r\n  },\r\n});\r\n\r\n/**\r\n * Reinitializes this instance.  Reinitializing an instance already in use is supported, but it is not\r\n * recommended because existing tiles provided by the imagery provider will not be updated.\r\n *\r\n * @param {Promise.<Object>|Object} options Any of the options that may be passed to the {@link VectorTileProvider} constructor.\r\n */\r\nVectorTileProvider.prototype.reinitialize = function(options) {\r\n  var that = this;\r\n  that._readyPromise = when(options).then(function(properties) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    if (!defined(properties)) {\r\n      throw new DeveloperError(\"options is required.\");\r\n    }\r\n    if (!defined(properties.url)) {\r\n      throw new DeveloperError(\"options.url is required.\");\r\n    }\r\n    //>>includeEnd('debug');\r\n\r\n    var customTags = properties.customTags;\r\n    var allTags = combine(tags, customTags);\r\n    var allPickFeaturesTags = combine(pickFeaturesTags, customTags);\r\n    var resource = Resource.createIfNeeded(properties.url);\r\n    var pickFeaturesResource = Resource.createIfNeeded(\r\n      properties.pickFeaturesUrl\r\n    );\r\n\r\n    that.enablePickFeatures = defaultValue(\r\n      properties.enablePickFeatures,\r\n      that.enablePickFeatures\r\n    );\r\n    that._urlSchemeZeroPadding = defaultValue(\r\n      properties.urlSchemeZeroPadding,\r\n      that.urlSchemeZeroPadding\r\n    );\r\n    that._tileDiscardPolicy = properties.tileDiscardPolicy;\r\n    that._getFeatureInfoFormats = properties.getFeatureInfoFormats;\r\n\r\n    that._subdomains = properties.subdomains;\r\n    if (Array.isArray(that._subdomains)) {\r\n      that._subdomains = that._subdomains.slice();\r\n    } else if (defined(that._subdomains) && that._subdomains.length > 0) {\r\n      that._subdomains = that._subdomains.split(\"\");\r\n    } else {\r\n      that._subdomains = [\"a\", \"b\", \"c\"];\r\n    }\r\n\r\n    that._tileWidth = defaultValue(properties.tileWidth, 256);\r\n    that._tileHeight = defaultValue(properties.tileHeight, 256);\r\n    that._minimumLevel = defaultValue(properties.minimumLevel, 0);\r\n    that._maximumLevel = properties.maximumLevel;\r\n    that._tilingScheme = defaultValue(\r\n      properties.tilingScheme,\r\n      new WebMercatorTilingScheme({\r\n        ellipsoid: properties.ellipsoid\r\n      })\r\n    );\r\n    that._rectangle = defaultValue(\r\n      properties.rectangle,\r\n      that._tilingScheme.rectangle\r\n    );\r\n    that._rectangle = Rectangle.intersection(\r\n      that._rectangle,\r\n      that._tilingScheme.rectangle\r\n    );\r\n    that._hasAlphaChannel = defaultValue(properties.hasAlphaChannel, true);\r\n\r\n    var credit = properties.credit;\r\n    if (typeof credit === \"string\") {\r\n      credit = new Credit(credit);\r\n    }\r\n    that._credit = credit;\r\n\r\n    that._resource = resource;\r\n    that._tags = allTags;\r\n    that._pickFeaturesResource = pickFeaturesResource;\r\n    that._pickFeaturesTags = allPickFeaturesTags;\r\n\r\n    return true;\r\n  });\r\n};\r\n\r\n/**\r\n * Gets the credits to be displayed when a given tile is displayed.\r\n *\r\n * @param {Number} x The tile X coordinate.\r\n * @param {Number} y The tile Y coordinate.\r\n * @param {Number} level The tile level;\r\n * @returns {Credit[]} The credits to be displayed when the tile is displayed.\r\n *\r\n * @exception {DeveloperError} <code>getTileCredits</code> must not be called before the imagery provider is ready.\r\n */\r\nVectorTileProvider.prototype.getTileCredits = function(x, y, level) {\r\n  //>>includeStart('debug', pragmas.debug);\r\n  if (!this.ready) {\r\n    throw new DeveloperError(\r\n      \"getTileCredits must not be called before the imagery provider is ready.\"\r\n    );\r\n  }\r\n  //>>includeEnd('debug');\r\n  return undefined;\r\n};\r\n\r\n/**\r\n * Requests the image for a given tile.  This function should\r\n * not be called before {@link VectorTileProvider#ready} returns true.\r\n *\r\n * @param {Number} x The tile X coordinate.\r\n * @param {Number} y The tile Y coordinate.\r\n * @param {Number} level The tile level.\r\n * @param {Request} [request] The request object. Intended for internal use only.\r\n * @returns {Promise.<HTMLImageElement|HTMLCanvasElement>|undefined} A promise for the image that will resolve when the image is available, or\r\n *          undefined if there are too many active requests to the server, and the request\r\n *          should be retried later.  The resolved image may be either an\r\n *          Image or a Canvas DOM object.\r\n */\r\nVectorTileProvider.prototype.requestImage = function(\r\n  x,\r\n  y,\r\n  level,\r\n  request\r\n) {\r\n  //>>includeStart('debug', pragmas.debug);\r\n  if (!this.ready) {\r\n    throw new DeveloperError(\r\n      \"requestImage must not be called before the imagery provider is ready.\"\r\n    );\r\n  }\r\n  //>>includeEnd('debug');\r\n  return ImageryProvider.loadImage(\r\n    this,\r\n    buildImageResource(this, x, y, level, request)\r\n  );\r\n};\r\n\r\n/**\r\n * Asynchronously determines what features, if any, are located at a given longitude and latitude within\r\n * a tile.  This function should not be called before {@link ImageryProvider#ready} returns true.\r\n *\r\n * @param {Number} x The tile X coordinate.\r\n * @param {Number} y The tile Y coordinate.\r\n * @param {Number} level The tile level.\r\n * @param {Number} longitude The longitude at which to pick features.\r\n * @param {Number} latitude  The latitude at which to pick features.\r\n * @return {Promise.<ImageryLayerFeatureInfo[]>|undefined} A promise for the picked features that will resolve when the asynchronous\r\n *                   picking completes.  The resolved value is an array of {@link ImageryLayerFeatureInfo}\r\n *                   instances.  The array may be empty if no features are found at the given location.\r\n *                   It may also be undefined if picking is not supported.\r\n */\r\nVectorTileProvider.prototype.pickFeatures = function(\r\n  x,\r\n  y,\r\n  level,\r\n  longitude,\r\n  latitude\r\n) {\r\n  //>>includeStart('debug', pragmas.debug);\r\n  if (!this.ready) {\r\n    throw new DeveloperError(\r\n      \"pickFeatures must not be called before the imagery provider is ready.\"\r\n    );\r\n  }\r\n  //>>includeEnd('debug');\r\n\r\n  if (\r\n    !this.enablePickFeatures ||\r\n    !defined(this._pickFeaturesResource) ||\r\n    this._getFeatureInfoFormats.length === 0\r\n  ) {\r\n    return undefined;\r\n  }\r\n\r\n  var formatIndex = 0;\r\n\r\n  var that = this;\r\n\r\n  function handleResponse(format, data) {\r\n    return format.callback(data);\r\n  }\r\n\r\n  function doRequest() {\r\n    if (formatIndex >= that._getFeatureInfoFormats.length) {\r\n      // No valid formats, so no features picked.\r\n      return when([]);\r\n    }\r\n\r\n    var format = that._getFeatureInfoFormats[formatIndex];\r\n    var resource = buildPickFeaturesResource(\r\n      that,\r\n      x,\r\n      y,\r\n      level,\r\n      longitude,\r\n      latitude,\r\n      format.format\r\n    );\r\n\r\n    ++formatIndex;\r\n\r\n    if (format.type === \"json\") {\r\n      return resource.fetchJson().then(format.callback).otherwise(doRequest);\r\n    } else if (format.type === \"xml\") {\r\n      return resource.fetchXML().then(format.callback).otherwise(doRequest);\r\n    } else if (format.type === \"text\" || format.type === \"html\") {\r\n      return resource.fetchText().then(format.callback).otherwise(doRequest);\r\n    }\r\n    return resource\r\n      .fetch({\r\n        responseType: format.format,\r\n      })\r\n      .then(handleResponse.bind(undefined, format))\r\n      .otherwise(doRequest);\r\n  }\r\n\r\n  return doRequest();\r\n};\r\n\r\nvar degreesScratchComputed = false;\r\nvar degreesScratch = new Rectangle();\r\nvar projectedScratchComputed = false;\r\nvar projectedScratch = new Rectangle();\r\n\r\nfunction buildImageResource(imageryProvider, x, y, level, request) {\r\n  degreesScratchComputed = false;\r\n  projectedScratchComputed = false;\r\n\r\n  var resource = imageryProvider._resource;\r\n  var url = resource.getUrlComponent(true);\r\n  var allTags = imageryProvider._tags;\r\n  var templateValues = {};\r\n\r\n  var match = url.match(templateRegex);\r\n  if (defined(match)) {\r\n    match.forEach(function(tag) {\r\n      var key = tag.substring(1, tag.length - 1); //strip {}\r\n      if (defined(allTags[key])) {\r\n        templateValues[key] = allTags[key](imageryProvider, x, y, level);\r\n      }\r\n    });\r\n  }\r\n\r\n  return resource.getDerivedResource({\r\n    request: request,\r\n    templateValues: templateValues,\r\n  });\r\n}\r\n\r\nvar ijScratchComputed = false;\r\nvar ijScratch = new Cartesian2();\r\nvar longitudeLatitudeProjectedScratchComputed = false;\r\n\r\nfunction buildPickFeaturesResource(\r\n  imageryProvider,\r\n  x,\r\n  y,\r\n  level,\r\n  longitude,\r\n  latitude,\r\n  format\r\n) {\r\n  degreesScratchComputed = false;\r\n  projectedScratchComputed = false;\r\n  ijScratchComputed = false;\r\n  longitudeLatitudeProjectedScratchComputed = false;\r\n\r\n  var resource = imageryProvider._pickFeaturesResource;\r\n  var url = resource.getUrlComponent(true);\r\n  var allTags = imageryProvider._pickFeaturesTags;\r\n  var templateValues = {};\r\n  var match = url.match(templateRegex);\r\n  if (defined(match)) {\r\n    match.forEach(function(tag) {\r\n      var key = tag.substring(1, tag.length - 1); //strip {}\r\n      if (defined(allTags[key])) {\r\n        templateValues[key] = allTags[key](\r\n          imageryProvider,\r\n          x,\r\n          y,\r\n          level,\r\n          longitude,\r\n          latitude,\r\n          format\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  return resource.getDerivedResource({\r\n    templateValues: templateValues,\r\n  });\r\n}\r\n\r\nfunction padWithZerosIfNecessary(imageryProvider, key, value) {\r\n  if (\r\n    imageryProvider &&\r\n    imageryProvider.urlSchemeZeroPadding &&\r\n    imageryProvider.urlSchemeZeroPadding.hasOwnProperty(key)\r\n  ) {\r\n    var paddingTemplate = imageryProvider.urlSchemeZeroPadding[key];\r\n    if (typeof paddingTemplate === \"string\") {\r\n      var paddingTemplateWidth = paddingTemplate.length;\r\n      if (paddingTemplateWidth > 1) {\r\n        value =\r\n          value.length >= paddingTemplateWidth ?\r\n          value :\r\n          new Array(\r\n            paddingTemplateWidth - value.toString().length + 1\r\n          ).join(\"0\") + value;\r\n      }\r\n    }\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction xTag(imageryProvider, x, y, level) {\r\n  return padWithZerosIfNecessary(imageryProvider, \"{x}\", x);\r\n}\r\n\r\nfunction reverseXTag(imageryProvider, x, y, level) {\r\n  var reverseX =\r\n    imageryProvider.tilingScheme.getNumberOfXTilesAtLevel(level) - x - 1;\r\n  return padWithZerosIfNecessary(imageryProvider, \"{reverseX}\", reverseX);\r\n}\r\n\r\nfunction yTag(imageryProvider, x, y, level) {\r\n  return padWithZerosIfNecessary(imageryProvider, \"{y}\", y);\r\n}\r\n\r\nfunction reverseYTag(imageryProvider, x, y, level) {\r\n  var reverseY =\r\n    imageryProvider.tilingScheme.getNumberOfYTilesAtLevel(level) - y - 1;\r\n  return padWithZerosIfNecessary(imageryProvider, \"{reverseY}\", reverseY);\r\n}\r\n\r\nfunction reverseZTag(imageryProvider, x, y, level) {\r\n  var maximumLevel = imageryProvider.maximumLevel;\r\n  var reverseZ =\r\n    defined(maximumLevel) && level < maximumLevel ?\r\n    maximumLevel - level - 1 :\r\n    level;\r\n  return padWithZerosIfNecessary(imageryProvider, \"{reverseZ}\", reverseZ);\r\n}\r\n\r\nfunction zTag(imageryProvider, x, y, level) {\r\n  return padWithZerosIfNecessary(imageryProvider, \"{z}\", level);\r\n}\r\n\r\nfunction sTag(imageryProvider, x, y, level) {\r\n  var index = (x + y + level) % imageryProvider._subdomains.length;\r\n  return imageryProvider._subdomains[index];\r\n}\r\n\r\nfunction computeDegrees(imageryProvider, x, y, level) {\r\n  if (degreesScratchComputed) {\r\n    return;\r\n  }\r\n\r\n  imageryProvider.tilingScheme.tileXYToRectangle(x, y, level, degreesScratch);\r\n  degreesScratch.west = CesiumMath.toDegrees(degreesScratch.west);\r\n  degreesScratch.south = CesiumMath.toDegrees(degreesScratch.south);\r\n  degreesScratch.east = CesiumMath.toDegrees(degreesScratch.east);\r\n  degreesScratch.north = CesiumMath.toDegrees(degreesScratch.north);\r\n\r\n  degreesScratchComputed = true;\r\n}\r\n\r\nfunction westDegreesTag(imageryProvider, x, y, level) {\r\n  computeDegrees(imageryProvider, x, y, level);\r\n  return degreesScratch.west;\r\n}\r\n\r\nfunction southDegreesTag(imageryProvider, x, y, level) {\r\n  computeDegrees(imageryProvider, x, y, level);\r\n  return degreesScratch.south;\r\n}\r\n\r\nfunction eastDegreesTag(imageryProvider, x, y, level) {\r\n  computeDegrees(imageryProvider, x, y, level);\r\n  return degreesScratch.east;\r\n}\r\n\r\nfunction northDegreesTag(imageryProvider, x, y, level) {\r\n  computeDegrees(imageryProvider, x, y, level);\r\n  return degreesScratch.north;\r\n}\r\n\r\nfunction computeProjected(imageryProvider, x, y, level) {\r\n  if (projectedScratchComputed) {\r\n    return;\r\n  }\r\n\r\n  imageryProvider.tilingScheme.tileXYToNativeRectangle(\r\n    x,\r\n    y,\r\n    level,\r\n    projectedScratch\r\n  );\r\n\r\n  projectedScratchComputed = true;\r\n}\r\n\r\nfunction westProjectedTag(imageryProvider, x, y, level) {\r\n  computeProjected(imageryProvider, x, y, level);\r\n  return projectedScratch.west;\r\n}\r\n\r\nfunction southProjectedTag(imageryProvider, x, y, level) {\r\n  computeProjected(imageryProvider, x, y, level);\r\n  return projectedScratch.south;\r\n}\r\n\r\nfunction eastProjectedTag(imageryProvider, x, y, level) {\r\n  computeProjected(imageryProvider, x, y, level);\r\n  return projectedScratch.east;\r\n}\r\n\r\nfunction northProjectedTag(imageryProvider, x, y, level) {\r\n  computeProjected(imageryProvider, x, y, level);\r\n  return projectedScratch.north;\r\n}\r\n\r\nfunction widthTag(imageryProvider, x, y, level) {\r\n  return imageryProvider.tileWidth;\r\n}\r\n\r\nfunction heightTag(imageryProvider, x, y, level) {\r\n  return imageryProvider.tileHeight;\r\n}\r\n\r\nfunction iTag(imageryProvider, x, y, level, longitude, latitude, format) {\r\n  computeIJ(imageryProvider, x, y, level, longitude, latitude);\r\n  return ijScratch.x;\r\n}\r\n\r\nfunction jTag(imageryProvider, x, y, level, longitude, latitude, format) {\r\n  computeIJ(imageryProvider, x, y, level, longitude, latitude);\r\n  return ijScratch.y;\r\n}\r\n\r\nfunction reverseITag(\r\n  imageryProvider,\r\n  x,\r\n  y,\r\n  level,\r\n  longitude,\r\n  latitude,\r\n  format\r\n) {\r\n  computeIJ(imageryProvider, x, y, level, longitude, latitude);\r\n  return imageryProvider.tileWidth - ijScratch.x - 1;\r\n}\r\n\r\nfunction reverseJTag(\r\n  imageryProvider,\r\n  x,\r\n  y,\r\n  level,\r\n  longitude,\r\n  latitude,\r\n  format\r\n) {\r\n  computeIJ(imageryProvider, x, y, level, longitude, latitude);\r\n  return imageryProvider.tileHeight - ijScratch.y - 1;\r\n}\r\n\r\nvar rectangleScratch = new Rectangle();\r\nvar longitudeLatitudeProjectedScratch = new Cartesian3();\r\n\r\nfunction computeIJ(imageryProvider, x, y, level, longitude, latitude, format) {\r\n  if (ijScratchComputed) {\r\n    return;\r\n  }\r\n\r\n  computeLongitudeLatitudeProjected(\r\n    imageryProvider,\r\n    x,\r\n    y,\r\n    level,\r\n    longitude,\r\n    latitude\r\n  );\r\n  var projected = longitudeLatitudeProjectedScratch;\r\n\r\n  var rectangle = imageryProvider.tilingScheme.tileXYToNativeRectangle(\r\n    x,\r\n    y,\r\n    level,\r\n    rectangleScratch\r\n  );\r\n  ijScratch.x =\r\n    ((imageryProvider.tileWidth * (projected.x - rectangle.west)) /\r\n      rectangle.width) |\r\n    0;\r\n  ijScratch.y =\r\n    ((imageryProvider.tileHeight * (rectangle.north - projected.y)) /\r\n      rectangle.height) |\r\n    0;\r\n  ijScratchComputed = true;\r\n}\r\n\r\nfunction longitudeDegreesTag(\r\n  imageryProvider,\r\n  x,\r\n  y,\r\n  level,\r\n  longitude,\r\n  latitude,\r\n  format\r\n) {\r\n  return CesiumMath.toDegrees(longitude);\r\n}\r\n\r\nfunction latitudeDegreesTag(\r\n  imageryProvider,\r\n  x,\r\n  y,\r\n  level,\r\n  longitude,\r\n  latitude,\r\n  format\r\n) {\r\n  return CesiumMath.toDegrees(latitude);\r\n}\r\n\r\nfunction longitudeProjectedTag(\r\n  imageryProvider,\r\n  x,\r\n  y,\r\n  level,\r\n  longitude,\r\n  latitude,\r\n  format\r\n) {\r\n  computeLongitudeLatitudeProjected(\r\n    imageryProvider,\r\n    x,\r\n    y,\r\n    level,\r\n    longitude,\r\n    latitude\r\n  );\r\n  return longitudeLatitudeProjectedScratch.x;\r\n}\r\n\r\nfunction latitudeProjectedTag(\r\n  imageryProvider,\r\n  x,\r\n  y,\r\n  level,\r\n  longitude,\r\n  latitude,\r\n  format\r\n) {\r\n  computeLongitudeLatitudeProjected(\r\n    imageryProvider,\r\n    x,\r\n    y,\r\n    level,\r\n    longitude,\r\n    latitude\r\n  );\r\n  return longitudeLatitudeProjectedScratch.y;\r\n}\r\n\r\nvar cartographicScratch = new Cartographic();\r\n\r\nfunction computeLongitudeLatitudeProjected(\r\n  imageryProvider,\r\n  x,\r\n  y,\r\n  level,\r\n  longitude,\r\n  latitude,\r\n  format\r\n) {\r\n  if (longitudeLatitudeProjectedScratchComputed) {\r\n    return;\r\n  }\r\n\r\n  if (imageryProvider.tilingScheme.projection instanceof GeographicProjection) {\r\n    longitudeLatitudeProjectedScratch.x = CesiumMath.toDegrees(longitude);\r\n    longitudeLatitudeProjectedScratch.y = CesiumMath.toDegrees(latitude);\r\n  } else {\r\n    var cartographic = cartographicScratch;\r\n    cartographic.longitude = longitude;\r\n    cartographic.latitude = latitude;\r\n    imageryProvider.tilingScheme.projection.project(\r\n      cartographic,\r\n      longitudeLatitudeProjectedScratch\r\n    );\r\n  }\r\n\r\n  longitudeLatitudeProjectedScratchComputed = true;\r\n}\r\n\r\nfunction formatTag(imageryProvider, x, y, level, longitude, latitude, format) {\r\n  return format;\r\n}\r\nexport default VectorTileProvider;\r\n","function _classCallCheck(instance, Constructor) {\r\n  if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n  }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n  for (var i = 0; i < props.length; i++) {\r\n    var descriptor = props[i];\r\n    descriptor.enumerable = descriptor.enumerable || false;\r\n    descriptor.configurable = true;\r\n    if (\"value\" in descriptor) descriptor.writable = true;\r\n    Object.defineProperty(target, descriptor.key, descriptor);\r\n  }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\r\n  if (staticProps) _defineProperties(Constructor, staticProps);\r\n  return Constructor;\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n  if (key in obj) {\r\n    Object.defineProperty(obj, key, {\r\n      value: value,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n  } else {\r\n    obj[key] = value;\r\n  }\r\n\r\n  return obj;\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n  if (typeof superClass !== \"function\" && superClass !== null) {\r\n    throw new TypeError(\"Super expression must either be null or a function\");\r\n  }\r\n\r\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n    constructor: {\r\n      value: subClass,\r\n      writable: true,\r\n      configurable: true\r\n    }\r\n  });\r\n  if (superClass) _setPrototypeOf(subClass, superClass);\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\r\n    return o.__proto__ || Object.getPrototypeOf(o);\r\n  };\r\n  return _getPrototypeOf(o);\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\r\n    o.__proto__ = p;\r\n    return o;\r\n  };\r\n\r\n  return _setPrototypeOf(o, p);\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\r\n  if (Reflect.construct.sham) return false;\r\n  if (typeof Proxy === \"function\") return true;\r\n\r\n  try {\r\n    Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n  if (self === void 0) {\r\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\r\n  }\r\n\r\n  return self;\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\r\n    return call;\r\n  }\r\n\r\n  return _assertThisInitialized(self);\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n\r\n  return function _createSuperInternal() {\r\n    var Super = _getPrototypeOf(Derived),\r\n      result;\r\n\r\n    if (hasNativeReflectConstruct) {\r\n      var NewTarget = _getPrototypeOf(this).constructor;\r\n\r\n      result = Reflect.construct(Super, arguments, NewTarget);\r\n    } else {\r\n      result = Super.apply(this, arguments);\r\n    }\r\n\r\n    return _possibleConstructorReturn(this, result);\r\n  };\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n    object = _getPrototypeOf(object);\r\n    if (object === null) break;\r\n  }\r\n\r\n  return object;\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\r\n    _get = Reflect.get;\r\n  } else {\r\n    _get = function _get(target, property, receiver) {\r\n      var base = _superPropBase(target, property);\r\n\r\n      if (!base) return;\r\n      var desc = Object.getOwnPropertyDescriptor(base, property);\r\n\r\n      if (desc.get) {\r\n        return desc.get.call(receiver);\r\n      }\r\n\r\n      return desc.value;\r\n    };\r\n  }\r\n\r\n  return _get(target, property, receiver || target);\r\n}\r\n\r\nfunction _toConsumableArray(arr) {\r\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\r\n}\r\n\r\nfunction _arrayWithoutHoles(arr) {\r\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\r\n}\r\n\r\nfunction _iterableToArray(iter) {\r\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\r\n}\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n  if (!o) return;\r\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\r\n  var n = Object.prototype.toString.call(o).slice(8, -1);\r\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\r\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\r\n}\r\n\r\nfunction _arrayLikeToArray(arr, len) {\r\n  if (len == null || len > arr.length) len = arr.length;\r\n\r\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\r\n\r\n  return arr2;\r\n}\r\n\r\nfunction _nonIterableSpread() {\r\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n}\r\n\r\n/**\r\n * 如果第一个元素为空或未定义，则返回第二个元素，用于设置默认属性\r\n * @exports defaultValue\r\n * @param {any} a\r\n * @param {any} b\r\n * @returns {any} 如果第一个元素为空或未定义，则返回第二个元素\r\n *\r\n * @example\r\n * param = Cesium.defaultValue(param, 'default');\r\n */\r\nfunction defaultValue(a, b) {\r\n  if (a !== undefined && a !== null) {\r\n    return a;\r\n  }\r\n\r\n  return b;\r\n}\r\n/**\r\n *\r\n * 空对象，该对象不能被编辑\r\n *\r\n * @type {Object}\r\n * @memberof defaultValue\r\n *\r\n */\r\n\r\n\r\ndefaultValue.EMPTY_OBJECT = Object.freeze({});\r\n\r\n/**\r\n * 箭头构件类型\r\n * @exports ComponentType\r\n * @enum {Number}\r\n */\r\nvar ComponentType = {\r\n  /**\r\n   * 箭头\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  ARROW: 0,\r\n\r\n  /**\r\n   * 半箭头\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  HALF_ARROW: 1,\r\n\r\n  /**\r\n   * 贝塞尔曲线\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  BEZIER: 2,\r\n\r\n  /**\r\n   * 样条曲线\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  SPLINE: 3,\r\n\r\n  /**\r\n   * 燕尾\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  SWALLOW_TRAIL: 4,\r\n\r\n  /**\r\n   * 梯形\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  TRAPEZOID: 5,\r\n\r\n  /**\r\n   * 半梯形\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  HALF_TRAPEZOID: 6,\r\n  HALF_SWALLOW_TRAIL: 7,\r\n  HALF_SPLINE: 8\r\n};\r\n\r\nComponentType.getLabel = function(component) {\r\n  var label;\r\n\r\n  switch (component.type) {\r\n    case ComponentType.HALF_ARROW:\r\n      label = 'HALF_ARROW';\r\n      break;\r\n\r\n    case ComponentType.ARROW:\r\n      lebel = 'ARROW';\r\n      break;\r\n\r\n    case ComponentType.BEZIER:\r\n      label = 'BEZIER';\r\n      break;\r\n\r\n    case ComponentType.SPLINE:\r\n      label = \"SPLINE\";\r\n      break;\r\n\r\n    case ComponentType.SWALLOW_TRAIL:\r\n      label = 'SWALLOW_TRAIL';\r\n      break;\r\n\r\n    case ComponentType.HALF_SWALLOW_TRAIL:\r\n      label = 'HALF_SWALLOW_TRAIL';\r\n      break;\r\n\r\n    case ComponentType.HALF_SPLINE:\r\n      label = 'HALF_SPLINE';\r\n      break;\r\n\r\n    default:\r\n      label = undefined;\r\n  }\r\n\r\n  return label;\r\n};\r\n/**\r\n * function\r\n * @param  {[type]} type [description]\r\n * @return {[type]}      [description]\r\n */\r\n\r\n\r\nComponentType.getErrorMsg = function(component) {\r\n  var type = component.type;\r\n  var controls = component.controls.length;\r\n\r\n  if (!ComponentType.validate(component)) {\r\n    throw new Error(ComponentType.getLabel(component) + '控制点个数必须不少于' + component.controlPointsCount[0] + \",实际只有\" + controls + '个');\r\n  }\r\n};\r\n\r\nComponentType.validate = function(component) {\r\n  var controls = component.controls.length;\r\n\r\n  if (controls < component.controlPointsCount[0]) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nvar Component = /*#__PURE__*/ function() {\r\n  function Component() {\r\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n    _classCallCheck(this, Component);\r\n\r\n    this._controls = options.controls || [];\r\n    this._index = options.index;\r\n    this._inverse = options.inverse || false;\r\n\r\n    if (!this._index) {\r\n      var count = this._controls.length;\r\n      this._index = new Array(count);\r\n\r\n      for (var i = 0; i < count; i++) {\r\n        this._index[i] = i;\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * 描述箭头的控制点个数，数组第一个值为最小个数，控制点小于最小值将无法创建箭头，\r\n   * 数组第二个值表示最大控制点个数，大于最大值的控制点将被抛弃\r\n   * @return {Point[]} 控制点个数\r\n   */\r\n\r\n\r\n  _createClass(Component, [{\r\n    key: \"createNodes\",\r\n    value: function createNodes() {\r\n      ComponentType.getErrorMsg(this);\r\n    }\r\n    /**\r\n     * 返回index指定的控制点\r\n     * @param  {Number} index\r\n     * @return {Number[]}\r\n     */\r\n\r\n  }, {\r\n    key: \"get\",\r\n    value: function get(index) {\r\n      if (this.index) {\r\n        return this.controls[this.index[index]];\r\n      }\r\n\r\n      return this.controls[index];\r\n    }\r\n  }, {\r\n    key: \"controls\",\r\n    get: function get() {\r\n      return this._controls;\r\n    }\r\n    /**\r\n     * 生成组件时输入顶点的索引\r\n     * @return {Number[]}\r\n     */\r\n\r\n  }, {\r\n    key: \"index\",\r\n    get: function get() {\r\n      return this._index;\r\n    }\r\n    /**\r\n     * 组件类型\r\n     * @return {ComponentType}\r\n     */\r\n\r\n  }, {\r\n    key: \"type\",\r\n    get: function get() {\r\n      return this._type;\r\n    }\r\n  }, {\r\n    key: \"controlPointsCount\",\r\n    get: function get() {\r\n      return this._controlPointsCount;\r\n    }\r\n  }, {\r\n    key: \"nodes\",\r\n    get: function get() {\r\n      return this._nodes;\r\n    },\r\n    set: function set(v) {\r\n      this._nodes = v;\r\n    }\r\n    /**\r\n     * 确定箭头在控制点连线的的左侧还是右侧，inverse为false是生成的图形在控制点连线的左侧\r\n     * @return {Bool}\r\n     */\r\n\r\n  }, {\r\n    key: \"inverse\",\r\n    get: function get() {\r\n      return this._inverse;\r\n    },\r\n    set: function set(v) {\r\n      this._inverse = v;\r\n    }\r\n  }]);\r\n\r\n  return Component;\r\n}();\r\n\r\nvar PlotUtil = /*#__PURE__*/ function() {\r\n  /**\r\n   * 几何图形学基础方法\r\n   */\r\n  function PlotUtil() {\r\n    _classCallCheck(this, PlotUtil);\r\n  }\r\n  /**\r\n   * 平面点的欧氏距离，如果点的数据大于2，将计算相邻两个点的距离之和。\r\n   * @param  {Number[]} args 需要计算距离的平面点集合\r\n   * @return {Float}      欧氏距离\r\n   */\r\n\r\n\r\n  _createClass(PlotUtil, null, [{\r\n    key: \"distance\",\r\n    value: function distance() {\r\n      var length = arguments.length;\r\n\r\n      if (length < 2) {\r\n        return 0;\r\n      }\r\n\r\n      var distance = 0;\r\n\r\n      for (var i = 0; i < length - 1; i++) {\r\n        var nextIndex = (i + 1) % length;\r\n        var start = i < 0 || arguments.length <= i ? undefined : arguments[i];\r\n        var end = nextIndex < 0 || arguments.length <= nextIndex ? undefined : arguments[nextIndex];\r\n        distance += Math.sqrt(Math.pow(start[0] - end[0], 2) + Math.pow(start[1] - end[1], 2));\r\n      }\r\n\r\n      return distance;\r\n    }\r\n    /**\r\n     * @param  {Number[]} points            [description]\r\n     * @param  {Number} [percentage=0.99] [description]\r\n     * @return {Number}                  长度\r\n     */\r\n\r\n  }, {\r\n    key: \"baseLength\",\r\n    value: function baseLength(points) {\r\n      var percentage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.99;\r\n      return Math.pow(PlotUtil.distance.apply(PlotUtil, _toConsumableArray(points)), percentage);\r\n    }\r\n    /**\r\n     * 平面两点的中点\r\n     * @param  {Number[]} start 起点\r\n     * @param  {Number[]} end   终点\r\n     * @return {Number[]}       中点坐标\r\n     */\r\n\r\n  }, {\r\n    key: \"mid\",\r\n    value: function mid(start, end) {\r\n      return [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2];\r\n    }\r\n    /**\r\n     * 方位角\r\n     * @param  {Number[]} start 起点\r\n     * @param  {Number[]} end   终点\r\n     * @return {Number} 向量与Y轴的夹角\r\n     */\r\n\r\n  }, {\r\n    key: \"azimuth\",\r\n    value: function azimuth(start, end) {\r\n      var result;\r\n      var _ref = [end, start];\r\n      start = _ref[0];\r\n      end = _ref[1];\r\n      //向量与Y轴的夹角;\r\n      var angle = Math.asin(Math.abs(start[1] - end[1]) / PlotUtil.distance(start, end));\r\n      result = start[1] >= end[1] && start[0] >= end[0] ? angle + Math.PI : start[1] >= end[1] && start[0] < end[0] ? Math.PI * 2 - angle : start[1] < end[1] && start[0] >= end[0] ? Math.PI - angle : angle;\r\n      return result;\r\n    }\r\n    /**\r\n     * 根据两个点计算第三个点,具体为：如果以end为圆心，以radius为半径创建一个圆,以向量<start,end>方位角为起始位置，\r\n     * 旋转angle度后得到的圆弧上的点,inverse为false，向正方向旋转,true,向负方向旋转\r\n     * @param  {Number[]} start   起点，即圆心\r\n     * @param  {Number[]} end     终点\r\n     * @param  {Number} angle   旋转角度，单位弧度\r\n     * @param  {Number} radius    半径\r\n     * @param  {bool} inverse  是否逆向旋转\r\n     * @return {Number[]}      新点位\r\n     */\r\n\r\n  }, {\r\n    key: \"thirdPoint\",\r\n    value: function thirdPoint(start, end, angle, radius) {\r\n      var inverse = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\r\n      var azimuth = PlotUtil.azimuth(start, end);\r\n      var adjustAngle = inverse ? azimuth - angle : azimuth + angle;\r\n      var x = radius * Math.cos(adjustAngle);\r\n      var y = radius * Math.sin(adjustAngle);\r\n      return [end[0] + x, end[1] + y];\r\n    }\r\n    /**\r\n     * 判断由t,o,e是否顺时针环绕\r\n     * @param  {Number[]}  t\r\n     * @param  {Number[]}  o\r\n     * @param  {Number[]}  e\r\n     * @return {Boolean}\r\n     */\r\n\r\n  }, {\r\n    key: \"isClockWise\",\r\n    value: function isClockWise(t, o, e) {\r\n      return (e[1] - t[1]) * (o[0] - t[0]) > (o[1] - t[1]) * (e[0] - t[0]);\r\n    }\r\n    /**\r\n     * 计算两条直线之间的夹角，两条直线必须有公共点\r\n     * @param  {Number[]} origin 两直接的公共点\r\n     * @param  {Number[]} point1 直线1的另一个顶点\r\n     * @param  {Number[]} point2 直线2的另一个顶点\r\n     * @return {number}  两直线之间的夹角，单位弧度\r\n     */\r\n\r\n  }, {\r\n    key: \"angleOfThreePoints\",\r\n    value: function angleOfThreePoints(origin, point1, point2) {\r\n      var angle = PlotUtil.azimuth(origin, point1) - PlotUtil.azimuth(origin, point2);\r\n      return angle > 0 ? angle : Math.PI * 2 + angle;\r\n    }\r\n    /**\r\n     * 四边形B样条曲面因子\r\n     * @param  {Number} t\r\n     * @param  {Number} o\r\n     * @return {Number}\r\n     */\r\n\r\n  }, {\r\n    key: \"quadricBSplineFactor\",\r\n    value: function quadricBSplineFactor(t, o) {\r\n      if (t === 0) {\r\n        return Math.pow(o - 1, 2) / 2;\r\n      }\r\n\r\n      if (t === 1) {\r\n        return (-2.0 * Math.pow(o, 2) + 2 * o + 1) / 2;\r\n      }\r\n\r\n      if (t === 2) {\r\n        return Math.pow(o, 2) / 2;\r\n      }\r\n\r\n      return 0;\r\n    }\r\n    /**\r\n     * 四边形B样条曲线\r\n     *\r\n     * @param  {Number[]} points 计算四边形B样条曲线的输入点\r\n     * @return {Number[]}        构成四边形B样条曲线的点\r\n     */\r\n\r\n  }, {\r\n    key: \"quadricBSpline\",\r\n    value: function quadricBSpline(points) {\r\n      if (points <= 2) {\r\n        return points;\r\n      }\r\n\r\n      var result = [];\r\n      var fac = 2;\r\n      var length = points.length - fac - 1;\r\n      result.push(points[0]);\r\n\r\n      for (var n = 0; n <= length; n++) {\r\n        for (var g = 0; g <= 1; g += 0.05) {\r\n          var x = 0,\r\n            y = 0;\r\n\r\n          for (var s = 0; s <= fac; s++) {\r\n            var factor = PlotUtil.quadricBSplineFactor(s, g);\r\n            x += factor * points[n + s][0];\r\n            y += factor * points[n + s][1];\r\n          }\r\n\r\n          result.push([x, y]);\r\n        }\r\n      }\r\n\r\n      result.push(points[points.length - 1]);\r\n      return result;\r\n    }\r\n    /**\r\n     * 组合C<sub>0</sub><sup style=\"margin-left:-5px\">t</sup>的值\r\n     * @param  {Number} t\r\n     * @param  {Number} o\r\n     * @return {Number}\r\n     */\r\n\r\n  }, {\r\n    key: \"binomialFactor\",\r\n    value: function binomialFactor(t, o) {\r\n      return PlotUtil.factorial(t) / (PlotUtil.factorial(o) * PlotUtil.factorial(t - o));\r\n    }\r\n    /**\r\n     * 求阶乘\r\n     * @param  {Number} n n必须不小于0\r\n     * @return {Number}   n的阶乘(n!)\r\n     */\r\n\r\n  }, {\r\n    key: \"factorial\",\r\n    value: function factorial(n) {\r\n      if (n < 0) {\r\n        return NaN;\r\n      }\r\n\r\n      if (n === 0) {\r\n        return 1;\r\n      }\r\n\r\n      return n * PlotUtil.factorial(n - 1);\r\n    }\r\n    /**\r\n     * 贝塞尔曲线\r\n     * @param {Number[]} points [description]\r\n     * @return {Number[]}   构成贝塞尔曲线的点集\r\n     */\r\n\r\n  }, {\r\n    key: \"BezierCurve\",\r\n    value: function BezierCurve(points) {\r\n      var count = points.length;\r\n\r\n      if (count < 2) {\r\n        return points;\r\n      }\r\n\r\n      var curves = [];\r\n\r\n      for (var i = 0; i <= 1; i += 0.01) {\r\n        var x = 0,\r\n          y = 0;\r\n\r\n        for (var j = 0; j < count; j++) {\r\n          var factor = PlotUtil.binomialFactor(count - 1, j);\r\n          var s = Math.pow(i, j);\r\n          var a = Math.pow(1 - i, count - j - 1);\r\n          x += factor * s * a * points[j][0];\r\n          y += factor * s * a * points[j][1];\r\n        }\r\n\r\n        curves.push([x, y]);\r\n      }\r\n\r\n      curves.push(points[count - 1]);\r\n      return curves;\r\n    }\r\n  }]);\r\n\r\n  return PlotUtil;\r\n}();\r\n\r\nvar HalfArrowComponent = /*#__PURE__*/ function(_Component) {\r\n  _inherits(HalfArrowComponent, _Component);\r\n\r\n  var _super = _createSuper(HalfArrowComponent);\r\n\r\n  /**\r\n   * 半箭头头部\r\n   *           *-----------------------------\r\n   *          **             |              |\r\n   *         * *             |              |\r\n   *        *  *           neck height  arrow height\r\n   *       *   *             |              |\r\n   *      *    *             |              |\r\n   *     *     *             |              |\r\n   *    *   ***x（neck control）--------------              |\r\n   *   *  *                                 |\r\n   *  *--------x(tail control)-----------------------------\r\n   *\r\n   *\r\n   *\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Number} [options.heightFactor=0.18] 箭头状况高度占整个图形高度(控制点连线长度)的百分比\r\n   * @param {Number} [options.neckHeightFactor=0.15] 脖子占整个整个图形高度的百分比\r\n   * @param {Number} [options.widthFactor=0.3] 箭头宽度占高度的百分比\r\n   * @param {Number} [options.neckWidthFactor=options.widthFactor/2] 脖子宽度占箭头高度的百分比\r\n   * @param {Number} [options.inverse=false] inverse为false是生成的图形在控制点连线的右侧\r\n   */\r\n  function HalfArrowComponent() {\r\n    var _this;\r\n\r\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n    _classCallCheck(this, HalfArrowComponent);\r\n\r\n    _this = _super.call(this, options);\r\n    _this._controlPointsCount = [2, 2];\r\n    _this._type = ComponentType.HALF_ARROW;\r\n    _this._heightFactor = defaultValue(options.heightFactor, 0.18);\r\n    _this._neckHeightFactor = defaultValue(options.neckHeightFactor, 0.15);\r\n    _this._headWidthFactor = defaultValue(options.headWidthFactor, 0.5);\r\n    _this._neckWidthFactor = defaultValue(options.neckWidthFactor, 0.3);\r\n    _this._headMaxHeight = options.headMaxHeight;\r\n    _this._headTailHeightFactor = defaultValue(options.headTailHeightFactor, 0.3);\r\n    _this._inverse = defaultValue(options.inverse, false);\r\n    _this._nodes = [];\r\n\r\n    _this.createNodes();\r\n\r\n    return _this;\r\n  }\r\n\r\n  _createClass(HalfArrowComponent, [{\r\n    key: \"createNodes\",\r\n\r\n    /**\r\n     * 生成构成图形的顶点\r\n     * @return {Number[]} 生成构成图形的顶点\r\n     */\r\n    value: function createNodes() {\r\n      _get(_getPrototypeOf(HalfArrowComponent.prototype), \"createNodes\", this).call(this);\r\n\r\n      var controls = this.controls;\r\n      var baseLength = PlotUtil.baseLength(controls);\r\n      var height = this.heightFactor * baseLength;\r\n      baseLength = PlotUtil.distance(this.get(0), this.get(1));\r\n\r\n      if (this.headMaxHeight && height > this.headMaxHeight) {\r\n        height = this.headMaxHeight;\r\n      }\r\n\r\n      var neckWidth = this.neckWidthFactor * height;\r\n      var width = this.headWidthFactor * height;\r\n      height = height > baseLength ? baseLength : height;\r\n      var neckHeight = this.neckHeightFactor * height;\r\n      var tailControl = PlotUtil.thirdPoint(this.get(0), this.get(1), 0, height);\r\n      var neckControl = PlotUtil.thirdPoint(this.get(0), this.get(1), 0, neckHeight);\r\n      var tail = PlotUtil.thirdPoint(this.get(1), tailControl, Math.PI / 2, width, this.inverse);\r\n      var neck = PlotUtil.thirdPoint(this.get(1), neckControl, Math.PI / 2, neckWidth, this.inverse);\r\n      this.neck = neck;\r\n      this.tail = tail;\r\n      this.neckControl = neckControl;\r\n      this.tailControl = tailControl;\r\n      this._nodes = [neckControl, neck, tail, this.get(1)];\r\n      this.completedNodes = new Map();\r\n      this.completedNodes.set(this.inverse, [neckControl, neck, tail, this.get(1)]);\r\n      return this._nodes;\r\n    }\r\n  }, {\r\n    key: \"headMaxHeight\",\r\n    get: function get() {\r\n      return this._headMaxHeight;\r\n    }\r\n    /**\r\n     * 箭头高度因子\r\n     * @return {Number} 箭头高度占整个图形高度的百分比\r\n     */\r\n\r\n  }, {\r\n    key: \"heightFactor\",\r\n    get: function get() {\r\n      return this._heightFactor;\r\n    }\r\n    /**\r\n     * 脖子高度因子\r\n     * @return {Number}\r\n     */\r\n\r\n  }, {\r\n    key: \"neckHeightFactor\",\r\n    get: function get() {\r\n      return this._neckHeightFactor;\r\n    }\r\n    /**\r\n     * 箭头宽度因子\r\n     * @return {Number}\r\n     */\r\n\r\n  }, {\r\n    key: \"headWidthFactor\",\r\n    get: function get() {\r\n      return this._headWidthFactor;\r\n    }\r\n    /**\r\n     * 脖子宽度因子\r\n     * @return {Number}\r\n     */\r\n\r\n  }, {\r\n    key: \"neckWidthFactor\",\r\n    get: function get() {\r\n      return this._neckWidthFactor;\r\n    }\r\n    /**\r\n     * 构成图形的顶点\r\n     * @return {[type]}\r\n     */\r\n\r\n  }, {\r\n    key: \"nodes\",\r\n    get: function get() {\r\n      return this._nodes;\r\n    }\r\n  }]);\r\n\r\n  return HalfArrowComponent;\r\n}(Component);\r\n\r\nvar ArrowComponent = /*#__PURE__*/ function(_HalfArrowComponent) {\r\n  _inherits(ArrowComponent, _HalfArrowComponent);\r\n\r\n  var _super = _createSuper(ArrowComponent);\r\n\r\n  /**\r\n   * 箭头头部\r\n   *\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Number} [options.heightFactor=0.18] 箭头状况高度占整个图形高度(控制点连线长度)的百分比\r\n   * @param {Number} [options.neckHeightFactor=0.85] 脖子占整个箭头的百分比\r\n   * @param {Number} [options.widthFactor=0.3] 箭头宽度占高度的百分比\r\n   * @param {Number} [options.neckWidthFactor=options.widthFactor/2] 脖子宽度占箭头高度的百分比\r\n   */\r\n  function ArrowComponent() {\r\n    var _this;\r\n\r\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n    _classCallCheck(this, ArrowComponent);\r\n\r\n    _this = _super.call(this, options);\r\n    _this._type = ComponentType.ARROW;\r\n\r\n    _this.createNodes();\r\n\r\n    return _this;\r\n  }\r\n\r\n  _createClass(ArrowComponent, [{\r\n    key: \"createNodes\",\r\n    value: function createNodes() {\r\n      var completedNodes = new Map();\r\n      this._inverse = true;\r\n\r\n      var rightHalf = _get(_getPrototypeOf(ArrowComponent.prototype), \"createNodes\", this).call(this);\r\n\r\n      completedNodes.set(this.inverse, _toConsumableArray(rightHalf));\r\n      this._inverse = false;\r\n\r\n      var leftHalf = _get(_getPrototypeOf(ArrowComponent.prototype), \"createNodes\", this).call(this);\r\n\r\n      completedNodes.set(this.inverse, _toConsumableArray(leftHalf));\r\n      leftHalf.shift();\r\n      rightHalf.shift();\r\n      leftHalf.pop();\r\n      this.inverse = undefined;\r\n      this.completedNodes = completedNodes;\r\n      this._nodes = [].concat(_toConsumableArray(leftHalf), _toConsumableArray(rightHalf.reverse()));\r\n      return [].concat(_toConsumableArray(leftHalf), _toConsumableArray(rightHalf.reverse()));\r\n    }\r\n  }]);\r\n\r\n  return ArrowComponent;\r\n}(HalfArrowComponent);\r\n\r\nvar HalfTrapezoidComponent = /*#__PURE__*/ function(_Component) {\r\n  _inherits(HalfTrapezoidComponent, _Component);\r\n\r\n  var _super = _createSuper(HalfTrapezoidComponent);\r\n\r\n  /**\r\n   * 半梯形\r\n   *    *** head control\r\n   *   *  *\r\n   *  *   *\r\n   * *****x tail control\r\n   * @param {[type]} options [description]\r\n   * @param {Number} [options.heightFactor] 梯形高度高图形高度的百分比\r\n   * @param {Number} [options.tailWidth=0.5] 梯形尾部宽度占高度的百分比\r\n   * @param {Number} [options.headWidthFactor=0.3] 梯形头部宽度占高度的百分比\r\n   */\r\n  function HalfTrapezoidComponent(options) {\r\n    var _this;\r\n\r\n    _classCallCheck(this, HalfTrapezoidComponent);\r\n\r\n    _this = _super.call(this, options);\r\n    _this._type = ComponentType.HALF_TRAPEZOID;\r\n    _this._controlPointsCount = [2, 2];\r\n    _this._heightFactor = defaultValue(options.heightFactor, 0.82);\r\n    _this._tailWidthFactor = defaultValue(options.tailWidthFactor, 0.5);\r\n    _this._headWidthFactor = defaultValue(options.headWidthFactor, 0.3);\r\n\r\n    _this.createNodes();\r\n\r\n    return _this;\r\n  }\r\n  /**\r\n   * 梯形高度因子\r\n   * @return {Number} 梯形高度高图形高度的百分比\r\n   */\r\n\r\n\r\n  _createClass(HalfTrapezoidComponent, [{\r\n    key: \"createNodes\",\r\n    value: function createNodes() {\r\n      _get(_getPrototypeOf(HalfTrapezoidComponent.prototype), \"createNodes\", this).call(this);\r\n\r\n      var tailControl = this.get(0);\r\n      var baseLength = PlotUtil.baseLength(this._controls);\r\n      var height = this.heightFactor * baseLength;\r\n      var headControl = PlotUtil.thirdPoint(this.get(1), tailControl, 0, height, this.inverse);\r\n      var tailWidth = this.tailWidthFactor * baseLength;\r\n      var headWidth = this.headWidthFactor * baseLength;\r\n      var leftHead = PlotUtil.thirdPoint(tailControl, headControl, Math.PI / 2, headWidth, this.inverse);\r\n      var leftTail = PlotUtil.thirdPoint(headControl, tailControl, Math.PI / 2, tailWidth, !this.inverse);\r\n      this._nodes = [leftHead, leftTail, tailControl, headControl].flat();\r\n      this.completedNodes = new Map();\r\n      this.completedNodes.set(this.inverse, [leftTail]);\r\n      return [leftTail];\r\n    }\r\n  }, {\r\n    key: \"linkArrow\",\r\n    value: function linkArrow(options) {\r\n      var arrowNodes = options.arrowNodes,\r\n        bodyNodes = options.bodyNodes,\r\n        inverse = options.inverse;\r\n\r\n      if (inverse) {\r\n        return [].concat(_toConsumableArray(bodyNodes), _toConsumableArray(arrowNodes));\r\n      }\r\n\r\n      return [].concat(_toConsumableArray(arrowNodes), _toConsumableArray(bodyNodes));\r\n    }\r\n  }, {\r\n    key: \"linkTail\",\r\n    value: function linkTail() {\r\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n      var tailNodes = options.tailNodes,\r\n        bodyNodes = options.bodyNodes,\r\n        inverse = options.inverse;\r\n      return [].concat(_toConsumableArray(tailNodes), _toConsumableArray(bodyNodes));\r\n    }\r\n  }, {\r\n    key: \"heightFactor\",\r\n    get: function get() {\r\n      return this._heightFactor;\r\n    }\r\n    /**\r\n     * 梯形头部宽度因子\r\n     * @return {Number} 梯形头部宽度占高度的百分比\r\n     */\r\n\r\n  }, {\r\n    key: \"headWidthFactor\",\r\n    get: function get() {\r\n      return this._headWidthFactor;\r\n    }\r\n    /**\r\n     * 梯形尾部宽度因子\r\n     * @return {Number} 梯形尾部宽度占高度的百分比\r\n     */\r\n\r\n  }, {\r\n    key: \"tailWidthFactor\",\r\n    get: function get() {\r\n      return this._tailWidthFactor;\r\n    }\r\n  }]);\r\n\r\n  return HalfTrapezoidComponent;\r\n}(Component);\r\n\r\nvar TrapezoidComponent = /*#__PURE__*/ function(_HalfTrapezoidCompone) {\r\n  _inherits(TrapezoidComponent, _HalfTrapezoidCompone);\r\n\r\n  var _super = _createSuper(TrapezoidComponent);\r\n\r\n  function TrapezoidComponent() {\r\n    var _this;\r\n\r\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n    _classCallCheck(this, TrapezoidComponent);\r\n\r\n    _this = _super.call(this, options);\r\n    _this._type = ComponentType.TRAPEZOID;\r\n    return _this;\r\n  }\r\n\r\n  _createClass(TrapezoidComponent, [{\r\n    key: \"createNodes\",\r\n    value: function createNodes() {\r\n      var completedNodes = new Map();\r\n      this.inverse = false;\r\n\r\n      var right = _get(_getPrototypeOf(TrapezoidComponent.prototype), \"createNodes\", this).call(this);\r\n\r\n      completedNodes.set(this.inverse, _toConsumableArray(right));\r\n      this.inverse = true;\r\n\r\n      var left = _get(_getPrototypeOf(TrapezoidComponent.prototype), \"createNodes\", this).call(this);\r\n\r\n      completedNodes.set(this.inverse, _toConsumableArray(left));\r\n      this.completedNodes = completedNodes;\r\n      this.inverse = undefined;\r\n      this._nodes = left.concat(right);\r\n      return this._nodes;\r\n    }\r\n  }]);\r\n\r\n  return TrapezoidComponent;\r\n}(HalfTrapezoidComponent);\r\n\r\nvar Arrow = /*#__PURE__*/ function() {\r\n  function Arrow(options) {\r\n    _classCallCheck(this, Arrow);\r\n\r\n    this._headHeightFactor = defaultValue(options.headHeightFactor, 0.2);\r\n    this._neckHeightFactor = defaultValue(options.neckHeightFactor, 0.8);\r\n    this._headWidthFactor = defaultValue(options.headWidthFactor, 0.5);\r\n    this._neckWidthFactor = defaultValue(options.neckWidthFactor, 0.3);\r\n    this._tailWidthFactor = defaultValue(options.tailWidthFactor, 0.3);\r\n    this._tailHeightFactor = defaultValue(options.tailHeightFactor, 0.20);\r\n    this._controls = defaultValue(options.controls, []);\r\n    this._headComponent = undefined;\r\n    this._bodyComponent = undefined;\r\n    this._tailComponent = undefined;\r\n    this._nodes = undefined;\r\n    this._polygon = [];\r\n    this._polyline = [];\r\n  }\r\n\r\n  _createClass(Arrow, [{\r\n    key: \"postProcessing\",\r\n\r\n    /**\r\n     * 几何图形做进一步处理\r\n     * @return {Number[]}\r\n     */\r\n    value: function postProcessing(pts) {\r\n      return pts;\r\n    }\r\n    /**\r\n     * 合并箭头的各个组件\r\n     * @return {Number[]}\r\n     */\r\n\r\n  }, {\r\n    key: \"merge\",\r\n    value: function merge() {\r\n      var _this$polygon, _this$polyline;\r\n\r\n      var head = this.headComponent;\r\n      var body = this.bodyComponent;\r\n      var tail = this.tailComponent;\r\n      var bodyNodes;\r\n      body && (bodyNodes = body.completedNodes);\r\n      var nodes = [];\r\n      var tNode;\r\n\r\n      if (bodyNodes && bodyNodes.get(true)) {\r\n        tNode = bodyNodes.get(true);\r\n        nodes = body.linkTail({\r\n          tailNodes: nodes,\r\n          bodyNodes: tNode\r\n        });\r\n      }\r\n\r\n      if (head) {\r\n        tNode = head.nodes;\r\n\r\n        if (body) {\r\n          nodes = body.linkArrow({\r\n            arrowNodes: tNode,\r\n            bodyNodes: nodes,\r\n            inverse: true,\r\n            target: this\r\n          });\r\n        } else {\r\n          nodes = tNode;\r\n        }\r\n      }\r\n\r\n      if (bodyNodes && bodyNodes.get(false)) {\r\n        tNode = bodyNodes.get(false);\r\n        nodes = body.linkArrow({\r\n          arrowNodes: nodes,\r\n          bodyNodes: tNode,\r\n          inverse: false,\r\n          target: this\r\n        });\r\n      }\r\n\r\n      if (tail) {\r\n        var _nodes;\r\n\r\n        (_nodes = nodes).push.apply(_nodes, _toConsumableArray(tail.nodes));\r\n      }\r\n\r\n      this.reset();\r\n\r\n      (_this$polygon = this.polygon).push.apply(_this$polygon, _toConsumableArray(nodes.flat())); // nodes.shift();\r\n\r\n\r\n      (_this$polyline = this.polyline).push.apply(_this$polyline, _toConsumableArray(nodes.flat()));\r\n    }\r\n  }, {\r\n    key: \"update\",\r\n    value: function update() {\r\n      this.createNodes();\r\n    }\r\n  }, {\r\n    key: \"reset\",\r\n    value: function reset() {\r\n      this.polygon.splice(0);\r\n      this.polyline.splice(0);\r\n    }\r\n  }, {\r\n    key: \"polygon\",\r\n    get: function get() {\r\n      return this._polygon;\r\n    }\r\n  }, {\r\n    key: \"polyline\",\r\n    get: function get() {\r\n      return this._polyline;\r\n    }\r\n  }, {\r\n    key: \"controls\",\r\n    get: function get() {\r\n      return this._controls;\r\n    }\r\n  }]);\r\n\r\n  return Arrow;\r\n}();\r\n\r\nvar HalfSwallowTail = /*#__PURE__*/ function(_Component) {\r\n  _inherits(HalfSwallowTail, _Component);\r\n\r\n  var _super = _createSuper(HalfSwallowTail);\r\n\r\n  /**\r\n   * [constructor description]\r\n   * @param {Object} [options={}] [description]\r\n   * @param {Number} [options.heightFactor] 尾部高度占总高度的比例\r\n   */\r\n  function HalfSwallowTail() {\r\n    var _this;\r\n\r\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n    _classCallCheck(this, HalfSwallowTail);\r\n\r\n    _this = _super.call(this, options);\r\n    _this._type = ComponentType.HALF_SWALLOW_TRAIL;\r\n    _this._controlPointsCount = [3, Infinity];\r\n    _this._heightFactor = defaultValue(options.heightFactor, 0.3);\r\n\r\n    _this.createNodes();\r\n\r\n    return _this;\r\n  }\r\n  /**\r\n   * 尾部高度因了\r\n   * @return {Number} 尾部高度占总高度的比例\r\n   */\r\n\r\n\r\n  _createClass(HalfSwallowTail, [{\r\n    key: \"createNodes\",\r\n    value: function createNodes() {\r\n      _get(_getPrototypeOf(HalfSwallowTail.prototype), \"createNodes\", this).call(this);\r\n\r\n      var baseLength = PlotUtil.baseLength(this.controls);\r\n      var height = this._heightFactor * baseLength;\r\n      var mid = PlotUtil.mid(this.get(0), this.get(1));\r\n      var headControl = PlotUtil.thirdPoint(this.get(2), mid, 0, height, this.inverse);\r\n      this.nodes = [headControl];\r\n      return this.nodes;\r\n    }\r\n  }, {\r\n    key: \"heightFactor\",\r\n    get: function get() {\r\n      return this._heightFactor;\r\n    }\r\n  }]);\r\n\r\n  return HalfSwallowTail;\r\n}(Component);\r\n\r\nfunction defineProperties(object) {\r\n  var _loop = function _loop(key) {\r\n    if (object.hasOwnProperty(key) && key.startsWith('_')) {\r\n      var newKey = key.replace('_', '');\r\n      Object.defineProperty(object, newKey, {\r\n        get: function get() {\r\n          return object[key];\r\n        },\r\n        set: function set(v) {\r\n          object[key] = v;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  for (var key in object) {\r\n    _loop(key);\r\n  }\r\n}\r\n\r\nvar StraightArrow = /*#__PURE__*/ function(_Arrow) {\r\n  _inherits(StraightArrow, _Arrow);\r\n\r\n  var _super = _createSuper(StraightArrow);\r\n\r\n  /**\r\n   * 直线箭头\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Number} [options.headHeightFactor=0.18] 头部高度占箭头高度的比例\r\n   * @param {Number} [options.neckHeightFactor=0.13] 脖子高度占箭头高度的比例\r\n   * @param {Number} [options.headWidthFactor=0.2] 头部宽度占箭头高度的比例\r\n   * @param {Number} [options=neckWidthFactor=options.neckHeightFactor/2] 脖子宽度占箭头高度的比例\r\n   * @param {Number} [options.tailWidthFactor=0.3] 尾部宽度占箭头高度的比例\r\n   * @param {Number} [options.tailHeightFactor=0.2] 尾部高度占箭头高度的比例\r\n   */\r\n  function StraightArrow() {\r\n    var _this;\r\n\r\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n    _classCallCheck(this, StraightArrow);\r\n\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n    _this = _super.call(this, options);\r\n    _this._tail = defaultValue(options.tail, false);\r\n\r\n    _this.init();\r\n\r\n    defineProperties(_assertThisInitialized(_this));\r\n\r\n    _this.merge();\r\n\r\n    return _this;\r\n  }\r\n\r\n  _createClass(StraightArrow, [{\r\n    key: \"addControl\",\r\n    value: function addControl(control) {\r\n      if (this.controls.length >= StraightArrow.MIN_CONTROL_COUNT) {\r\n        this.controls.pop();\r\n      }\r\n\r\n      this.controls.push(control);\r\n\r\n      if (this.controls.length >= StraightArrow.MIN_CONTROL_COUNT) {\r\n        this.init();\r\n        this.merge();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"popControl\",\r\n    value: function popControl() {\r\n      return this.controls.pop();\r\n    }\r\n  }, {\r\n    key: \"updateControl\",\r\n    value: function updateControl(index, control) {\r\n      this.controls[index] = control;\r\n\r\n      if (this.controls.length >= StraightArrow.MIN_CONTROL_COUNT) {\r\n        this.init();\r\n        this.merge();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"init\",\r\n    value: function init() {\r\n      if (this.controls.length < StraightArrow.MIN_CONTROL_COUNT) {\r\n        return;\r\n      }\r\n\r\n      this._headComponent = this.createHeadComponent();\r\n      this._bodyComponent = this.createBodyComponent();\r\n\r\n      if (this._tail) {\r\n        this._tailComponent = this.createTailComponent();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"update\",\r\n    value: function update() {\r\n      this._headComponent = this.createHeadComponent();\r\n      this._bodyComponent = this.createBodyComponent();\r\n\r\n      if (this._tail) {\r\n        this._tailComponent = this.createTailComponent();\r\n      }\r\n\r\n      this.merge();\r\n    }\r\n  }, {\r\n    key: \"createBodyComponent\",\r\n    value: function createBodyComponent() {\r\n      return new TrapezoidComponent({\r\n        controls: this._controls,\r\n        heightFactor: 1 - this._neckHeightFactor,\r\n        headWidthFactor: this._neckWidthFactor,\r\n        tailWidthFactor: this._tailWidthFactor\r\n      });\r\n    }\r\n  }, {\r\n    key: \"createHeadComponent\",\r\n    value: function createHeadComponent() {\r\n      return new ArrowComponent({\r\n        controls: this._controls,\r\n        headWidthFactor: this._headWidthFactor,\r\n        neckHeightFactor: this._neckHeightFactor,\r\n        neckWidthFactor: this._neckWidthFactor,\r\n        headHeightFactor: this._headHeightFactor\r\n      });\r\n    }\r\n  }, {\r\n    key: \"createTailComponent\",\r\n    value: function createTailComponent() {\r\n      if (!this._bodyComponent) {\r\n        return;\r\n      }\r\n\r\n      var bodyNodes = this._bodyComponent.nodes;\r\n      return new HalfSwallowTail({\r\n        controls: [].concat(_toConsumableArray(bodyNodes), [this._controls[1]]),\r\n        heightFactor: this._tailHeightFactor\r\n      });\r\n    }\r\n  }, {\r\n    key: \"tail\",\r\n    set: function set(v) {\r\n      this._tail = v;\r\n    }\r\n  }]);\r\n\r\n  return StraightArrow;\r\n}(Arrow);\r\n\r\n_defineProperty(StraightArrow, \"MIN_CONTROL_COUNT\", 2);\r\n\r\nvar SplineComponent = /*#__PURE__*/ function(_Component) {\r\n  _inherits(SplineComponent, _Component);\r\n\r\n  var _super = _createSuper(SplineComponent);\r\n\r\n  /**\r\n   * 样条曲线\r\n   * @param {Object} options 具有以下属性\r\n   * @param {Number} [options.headWidthFactor=0.1] 头部宽度占图形高度的比例\r\n   * @param {Number} [options.tailWidthFactor=0.3] 尾部宽度占图形高度的比例\r\n   */\r\n  function SplineComponent(options) {\r\n    var _this;\r\n\r\n    _classCallCheck(this, SplineComponent);\r\n\r\n    _this = _super.call(this, options);\r\n    _this._type = ComponentType.HALF_SPLINE;\r\n    _this._controlPointsCount = [2, Infinity];\r\n    _this._headWidthFactor = defaultValue(options.headWidthFactor, 0.1);\r\n    _this._tailWidthFactor = defaultValue(options.tailWidthFactor, 0.3);\r\n\r\n    _this.createNodes();\r\n\r\n    return _this;\r\n  }\r\n\r\n  _createClass(SplineComponent, [{\r\n    key: \"createNodes\",\r\n    value: function createNodes() {\r\n      _get(_getPrototypeOf(SplineComponent.prototype), \"createNodes\", this).call(this);\r\n\r\n      var controls = this.controls;\r\n      var length = PlotUtil.distance.apply(PlotUtil, _toConsumableArray(controls));\r\n      var baseLength = PlotUtil.baseLength(controls);\r\n      var tailWidth = this.tailWidthFactor * baseLength;\r\n      var headWidth = this.headWidthFactor * baseLength;\r\n      var offset = Math.abs(tailWidth - headWidth) / 2;\r\n      var distance = 0;\r\n      var cts = controls;\r\n      var u = [];\r\n\r\n      for (var i = 1; i < controls.length - 1; i++) {\r\n        var angle = PlotUtil.angleOfThreePoints(cts[i], cts[i - 1], cts[i + 1]) / 2;\r\n        distance += PlotUtil.distance(cts[i - 1], cts[i]);\r\n\r\n        if (!this.inverse) {\r\n          angle = Math.PI - angle;\r\n        }\r\n\r\n        var tmpDis = (tailWidth / 2 - distance / length * offset) / Math.sin(angle);\r\n        var point = PlotUtil.thirdPoint(cts[i - 1], cts[i], angle, tmpDis, this.inverse);\r\n        u.push(point);\r\n      }\r\n\r\n      this.completedNodes = new Map();\r\n      this.completedNodes.set(this.inverse, u);\r\n      this.nodes = u;\r\n      return u;\r\n    }\r\n  }, {\r\n    key: \"linkArrow\",\r\n    value: function linkArrow(options) {\r\n      var arrowNodes = options.arrowNodes,\r\n        bodyNodes = options.bodyNodes,\r\n        inverse = options.inverse,\r\n        target = options.target;\r\n      var nodes = [];\r\n\r\n      if (target._tail) {\r\n        nodes.push(target.controls[+!inverse]);\r\n      }\r\n\r\n      if (inverse) {\r\n        nodes.push.apply(nodes, _toConsumableArray(bodyNodes).concat([arrowNodes[0]]));\r\n\r\n        var _spline = PlotUtil.quadricBSpline(nodes);\r\n\r\n        return [].concat(_toConsumableArray(_spline), _toConsumableArray(arrowNodes));\r\n      }\r\n\r\n      nodes.push.apply(nodes, _toConsumableArray(bodyNodes).concat([arrowNodes[arrowNodes.length - 1]]));\r\n      var spline = PlotUtil.quadricBSpline(nodes);\r\n      return [].concat(_toConsumableArray(arrowNodes), _toConsumableArray(spline.reverse()));\r\n    }\r\n  }, {\r\n    key: \"linkTail\",\r\n    value: function linkTail() {\r\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n      var tailNodes = options.tailNodes,\r\n        bodyNodes = options.bodyNodes,\r\n        inverse = options.inverse;\r\n      return [].concat(_toConsumableArray(tailNodes), _toConsumableArray(bodyNodes));\r\n    }\r\n  }, {\r\n    key: \"tailWidthFactor\",\r\n    get: function get() {\r\n      return this._tailWidthFactor;\r\n    }\r\n  }, {\r\n    key: \"headWidthFactor\",\r\n    get: function get() {\r\n      return this._headWidthFactor;\r\n    }\r\n  }]);\r\n\r\n  return SplineComponent;\r\n}(Component);\r\n\r\nvar SplineComponent$1 = /*#__PURE__*/ function(_HalfSplineComponent) {\r\n  _inherits(SplineComponent, _HalfSplineComponent);\r\n\r\n  var _super = _createSuper(SplineComponent);\r\n\r\n  function SplineComponent() {\r\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n    _classCallCheck(this, SplineComponent);\r\n\r\n    return _super.call(this, options);\r\n  }\r\n\r\n  _createClass(SplineComponent, [{\r\n    key: \"createNodes\",\r\n    value: function createNodes() {\r\n      var completedNodes = new Map();\r\n      this.inverse = false;\r\n\r\n      var leftNodes = _get(_getPrototypeOf(SplineComponent.prototype), \"createNodes\", this).call(this);\r\n\r\n      completedNodes.set(this.inverse, _toConsumableArray(leftNodes));\r\n      this.inverse = true;\r\n\r\n      var rightNodes = _get(_getPrototypeOf(SplineComponent.prototype), \"createNodes\", this).call(this);\r\n\r\n      completedNodes.set(this.inverse, _toConsumableArray(rightNodes));\r\n      this.inverse = undefined;\r\n      this.nodes = [].concat(_toConsumableArray(leftNodes), _toConsumableArray(rightNodes.reverse()));\r\n      this.completedNodes = completedNodes;\r\n      return [].concat(_toConsumableArray(leftNodes), _toConsumableArray(rightNodes.reverse()));\r\n    }\r\n  }]);\r\n\r\n  return SplineComponent;\r\n}(SplineComponent);\r\n\r\nvar AttackArrow = /*#__PURE__*/ function(_Arrow) {\r\n  _inherits(AttackArrow, _Arrow);\r\n\r\n  var _super = _createSuper(AttackArrow);\r\n\r\n  function AttackArrow(options) {\r\n    var _this;\r\n\r\n    _classCallCheck(this, AttackArrow);\r\n\r\n    options = defaultValue(options, {});\r\n    options.headHeightFactor = defaultValue(options.headHeightFactor, 0.15);\r\n    options.neckHeightFactor = defaultValue(options.headWidthFactor, 0.8);\r\n    options.neckWidthFactor = defaultValue(options.neckWidthFactor, 0.15);\r\n    options.headWidthFactor = defaultValue(options.headWidthFactor, 0.4);\r\n    options.tailWidthFactor = defaultValue(options.tailWidthFactor, 0.25);\r\n    _this = _super.call(this, options);\r\n    _this._headTailHeightFactor = defaultValue(options.headTailHeightFactor, 0.5);\r\n    _this._tail = defaultValue(options.tail, true);\r\n    _this._heightFactor = defaultValue(options.heightFactor, 0.8);\r\n    _this._tailHeightFactor = defaultValue(options.tailHeightFactor, 0.05);\r\n\r\n    _this.init();\r\n\r\n    defineProperties(_assertThisInitialized(_this));\r\n\r\n    _this.merge();\r\n\r\n    return _this;\r\n  }\r\n\r\n  _createClass(AttackArrow, [{\r\n    key: \"addControl\",\r\n    value: function addControl(control) {\r\n      var lastNode = this.controls[this.controls.length - 1]; // if (lastNode && lastNode[0] === control[0] && lastNode[1] === control[1]) {\r\n      //   return;\r\n      // }\r\n\r\n      this.controls.push(control);\r\n\r\n      if (!this.tail && this.controls.length >= AttackArrow.MIN_CONTROL_COUNT || this.controls.length >= AttackArrow.MIN_CONTROL_COUNT + 1) {\r\n        this.init();\r\n        this.merge();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"updateControl\",\r\n    value: function updateControl(index, control) {\r\n      this.controls[index] = control;\r\n\r\n      if (!this.tail && this.controls.length >= AttackArrow.MIN_CONTROL_COUNT || this.controls.length >= AttackArrow.MIN_CONTROL_COUNT + 1) {\r\n        this.init();\r\n        this.merge();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"popControl\",\r\n    value: function popControl() {\r\n      this.controls.pop();\r\n    }\r\n  }, {\r\n    key: \"init\",\r\n    value: function init() {\r\n      var _ref;\r\n\r\n      if (!this.tail && this.controls.length < AttackArrow.MIN_CONTROL_COUNT) {\r\n        return;\r\n      }\r\n\r\n      if (this.tail && this.controls.length < AttackArrow.MIN_CONTROL_COUNT + 1) {\r\n        return;\r\n      }\r\n\r\n      this._head1 = this.controls[0];\r\n      this._head2 = this.controls[1];\r\n      this.tail && PlotUtil.isClockWise(this.controls[0], this.controls[1], this.controls[2]) && (_ref = [this._head2, this._head1], this._head1 = _ref[0], this._head2 = _ref[1], _ref);\r\n      this._headComponent = this.createHeadComponent();\r\n      this._bodyComponent = this.createBodyComponent();\r\n\r\n      if (this._tail) {\r\n        this._tailComponent = this.createTailComponent();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"createHeadComponent\",\r\n    value: function createHeadComponent() {\r\n      var controls, tailWidth;\r\n\r\n      if (this.tail) {\r\n        var mid = PlotUtil.mid(this._head1, this._head2);\r\n        controls = [mid].concat(_toConsumableArray(this.controls.slice(2)));\r\n        tailWidth = PlotUtil.distance(this._head1, this._head2);\r\n      } else {\r\n        controls = this.controls;\r\n      }\r\n\r\n      var count = controls.length;\r\n      return new ArrowComponent({\r\n        controls: controls,\r\n        heightFactor: this._headHeightFactor,\r\n        neckHeightFactor: this._neckHeightFactor,\r\n        headWidthFactor: this._headWidthFactor,\r\n        neckWidthFactor: this._neckWidthFactor,\r\n        headMaxHeight: this._headTailHeightFactor * tailWidth,\r\n        index: [count - 2, count - 1]\r\n      });\r\n    }\r\n  }, {\r\n    key: \"createBodyComponent\",\r\n    value: function createBodyComponent() {\r\n      var mid,\r\n        controls = this.controls.slice(2);\r\n      var neckWidth = PlotUtil.distance(this._headComponent.nodes[0], this._headComponent.nodes[4]);\r\n      var baseLength = PlotUtil.baseLength(controls);\r\n      var tailWidth;\r\n\r\n      if (this._tail) {\r\n        tailWidth = PlotUtil.distance(this.controls[0], this.controls[1]);\r\n        mid = PlotUtil.mid(this._head1, this._head2);\r\n        controls = [mid].concat(_toConsumableArray(controls));\r\n\r\n        var _baseLength = PlotUtil.baseLength(controls);\r\n\r\n        this._tailWidthFactor = tailWidth / _baseLength;\r\n      } else {\r\n        tailWidth = baseLength * this._tailWidthFactor;\r\n        controls = this.controls;\r\n      }\r\n\r\n      var headWidthFactor = neckWidth / baseLength;\r\n      return new SplineComponent$1({\r\n        controls: controls,\r\n        headWidthFactor: headWidthFactor,\r\n        tailWidthFactor: this._tailWidthFactor\r\n      });\r\n    }\r\n  }, {\r\n    key: \"createTailComponent\",\r\n    value: function createTailComponent() {\r\n      if (!this._bodyComponent) {\r\n        return;\r\n      } // const mid = Util.mid(this._head1, this._head2);\r\n\r\n\r\n      var controls = this.controls;\r\n      return new HalfSwallowTail({\r\n        controls: controls,\r\n        heightFactor: this._tailHeightFactor\r\n      });\r\n    }\r\n  }]);\r\n\r\n  return AttackArrow;\r\n}(Arrow);\r\n\r\n_defineProperty(AttackArrow, \"MIN_CONTROL_COUNT\", 2);\r\n\r\nvar DoubleArrow = /*#__PURE__*/ function(_Arrow) {\r\n  _inherits(DoubleArrow, _Arrow);\r\n\r\n  var _super = _createSuper(DoubleArrow);\r\n\r\n  function DoubleArrow(options) {\r\n    var _this;\r\n\r\n    _classCallCheck(this, DoubleArrow);\r\n\r\n    options = defaultValue(options, {});\r\n    options.neckHeightFactor = defaultValue(options.neckHeightFactor, 0.8);\r\n    options.neckWidthFactor = defaultValue(options.neckWidthFactor, 0.2);\r\n    options.headWidthFactor = defaultValue(options.headWidthFactor, 0.5);\r\n    _this = _super.call(this, options);\r\n    _this._nodes = [];\r\n\r\n    _this.init();\r\n\r\n    defineProperties(_assertThisInitialized(_this));\r\n\r\n    _this.merge();\r\n\r\n    return _this;\r\n  }\r\n\r\n  _createClass(DoubleArrow, [{\r\n    key: \"addControl\",\r\n    value: function addControl(control) {\r\n      if (this.controls.length >= DoubleArrow.MAX_CONTROL_COUNT) {\r\n        this.popControl();\r\n      }\r\n\r\n      this.controls.push(control);\r\n\r\n      if (this.controls.length >= DoubleArrow.MIN_CONTROL_COUNT) {\r\n        this.init();\r\n        this.merge();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"updateControl\",\r\n    value: function updateControl(index, control) {\r\n      this.controls[index] = control;\r\n\r\n      if (this.controls.length >= DoubleArrow.MIN_CONTROL_COUNT) {\r\n        this.init();\r\n        this.merge();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"popControl\",\r\n    value: function popControl() {\r\n      return this.controls.pop();\r\n    }\r\n  }, {\r\n    key: \"init\",\r\n    value: function init() {\r\n      if (this.controls.length < DoubleArrow.MIN_CONTROL_COUNT) {\r\n        return;\r\n      }\r\n\r\n      this.getPoints();\r\n    }\r\n  }, {\r\n    key: \"tempPoint4\",\r\n    value: function tempPoint4(p1, p2, p3) {\r\n      var mid = PlotUtil.mid(p1, p2);\r\n      var distance = PlotUtil.distance(mid, p3);\r\n      var angle = PlotUtil.angleOfThreePoints(p1, mid, p3);\r\n      var x, y;\r\n      var rst;\r\n\r\n      if (angle < Math.PI / 2);\r\n      else if (angle < Math.PI && angle >= Math.PI / 2) {\r\n        angle = Math.PI - angle;\r\n      } else if (angle >= Math.PI && angle < Math.PI * 1.5) {\r\n        angle = angle - Math.PI;\r\n      } else if (angle >= Math.PI * 1.5) {\r\n        angle = Math.PI * 2 - angle;\r\n      }\r\n\r\n      x = distance * Math.cos(angle);\r\n      y = distance * Math.sin(angle);\r\n      var tmp = PlotUtil.thirdPoint(p1, mid, Math.PI / 2, x, true);\r\n      rst = PlotUtil.thirdPoint(mid, tmp, Math.PI / 2, y, false);\r\n      return rst;\r\n    }\r\n  }, {\r\n    key: \"getPoints\",\r\n    value: function getPoints() {\r\n      var controls;\r\n      var controls_ = this.controls;\r\n\r\n      if (controls_ < 3) {\r\n        return;\r\n      }\r\n\r\n      var tmp, connectPoint;\r\n\r\n      if (controls_.length === 3) {\r\n        tmp = this.tempPoint4.apply(this, _toConsumableArray(controls_));\r\n      } else {\r\n        tmp = controls_[3];\r\n      }\r\n\r\n      if (controls_.length <= 4) {\r\n        connectPoint = PlotUtil.mid(controls_[0], controls_[1]);\r\n      } else {\r\n        connectPoint = controls_[4];\r\n      }\r\n\r\n      var head1, head2, bodyControls, radio;\r\n\r\n      if (PlotUtil.isClockWise.apply(PlotUtil, _toConsumableArray(this.controls.slice(0, 3)))) {\r\n        var _bodyControls;\r\n\r\n        controls = this.getArrowControls(controls_[0], connectPoint, tmp, true);\r\n        head1 = new ArrowComponent({\r\n          controls: controls,\r\n          index: [2, 3],\r\n          neckHeightFactor: this._neckHeightFactor,\r\n          neckWidthFactor: this._neckWidthFactor,\r\n          headWidthFactor: this._headWidthFactor\r\n        });\r\n        radio = PlotUtil.distance(controls_[0], connectPoint) / PlotUtil.baseLength(controls) / 2;\r\n        bodyControls = this.getBodyControls(controls, head1.nodes[0], head1.nodes[4], radio);\r\n        controls = this.getArrowControls(connectPoint, controls_[1], controls_[2], false);\r\n        head2 = new ArrowComponent({\r\n          controls: controls,\r\n          index: [2, 3],\r\n          neckHeightFactor: this._neckHeightFactor,\r\n          neckWidthFactor: this._neckWidthFactor,\r\n          headWidthFactor: this._headWidthFactor\r\n        });\r\n        radio = PlotUtil.distance(connectPoint, controls_[1]) / PlotUtil.baseLength(controls) / 2;\r\n\r\n        (_bodyControls = bodyControls).unshift.apply(_bodyControls, _toConsumableArray(this.getBodyControls(controls, head2.nodes[0], head2.nodes[4], radio)));\r\n\r\n        var bodyPoints = this.geoBodyPoints([head1, head2], bodyControls, connectPoint);\r\n        this._nodes = [].concat(_toConsumableArray(bodyPoints[0]), _toConsumableArray(head1.nodes), _toConsumableArray(bodyPoints[1]), _toConsumableArray(head2.nodes), _toConsumableArray(bodyPoints[2]));\r\n      } else {\r\n        var _bodyControls2;\r\n\r\n        controls = this.getArrowControls(controls_[0], connectPoint, tmp, false);\r\n        head1 = new ArrowComponent({\r\n          controls: controls,\r\n          index: [2, 3],\r\n          neckHeightFactor: this._neckHeightFactor,\r\n          neckWidthFactor: this._neckWidthFactor,\r\n          headWidthFactor: this._headWidthFactor\r\n        });\r\n        radio = PlotUtil.distance(controls_[0], connectPoint) / PlotUtil.baseLength(controls) / 2;\r\n        bodyControls = this.getBodyControls(controls, head1.nodes[0], head1.nodes[4], radio);\r\n        controls = this.getArrowControls(connectPoint, controls_[1], controls_[2], true);\r\n        head2 = new ArrowComponent({\r\n          controls: controls,\r\n          index: [2, 3],\r\n          neckHeightFactor: this._neckHeightFactor,\r\n          neckWidthFactor: this._neckWidthFactor,\r\n          headWidthFactor: this._headWidthFactor\r\n        });\r\n        radio = PlotUtil.distance(connectPoint, controls_[1]) / PlotUtil.baseLength(controls) / 2;\r\n\r\n        (_bodyControls2 = bodyControls).unshift.apply(_bodyControls2, _toConsumableArray(this.getBodyControls(controls, head2.nodes[0], head2.nodes[4], radio)));\r\n\r\n        var _bodyPoints = this.geoBodyPoints([head1, head2], bodyControls, connectPoint);\r\n\r\n        this._nodes = [].concat(_toConsumableArray(_bodyPoints[0]), _toConsumableArray(head1.nodes), _toConsumableArray(_bodyPoints[1]), _toConsumableArray(head2.nodes), _toConsumableArray(_bodyPoints[2]));\r\n      }\r\n    }\r\n  }, {\r\n    key: \"getArrowControls\",\r\n    value: function getArrowControls(p1, p2, p3, inverse) {\r\n      //t,o,e,r\r\n      var mid = PlotUtil.mid(p1, p2);\r\n      var distance = PlotUtil.distance(mid, p3);\r\n      var neckControl = PlotUtil.thirdPoint(p3, mid, 0, 0.3 * distance, false);\r\n      var headControl = PlotUtil.thirdPoint(p3, mid, 0, 0.5 * distance, false);\r\n      neckControl = PlotUtil.thirdPoint(mid, neckControl, Math.PI / 2, distance / 5, inverse);\r\n      headControl = PlotUtil.thirdPoint(mid, headControl, Math.PI / 2, distance / 4, inverse);\r\n      return [mid, neckControl, headControl, p3];\r\n    }\r\n  }, {\r\n    key: \"geoBodyPoints\",\r\n    value: function geoBodyPoints(head, body, connect) {\r\n      var body1 = PlotUtil.BezierCurve([this.controls[1], body[0], body[1], head[1].nodes[4]]);\r\n      var body2 = PlotUtil.BezierCurve([this.controls[0], body[6], body[7], head[0].nodes[0]]);\r\n      var body3 = PlotUtil.BezierCurve([head[0].nodes[4], body[5], body[4], connect, body[3], body[2], head[1].nodes[0]]);\r\n      return [body2, body3, body1.reverse()];\r\n    }\r\n  }, {\r\n    key: \"getBodyControls\",\r\n    value: function getBodyControls(points, neckControl1, neckControl2, radio) {\r\n      //t,o,e,r\r\n      var length = PlotUtil.distance.apply(PlotUtil, _toConsumableArray(points));\r\n      var baseLength = PlotUtil.baseLength(points);\r\n      var width = baseLength * radio;\r\n      var neckWidth = PlotUtil.distance(neckControl1, neckControl2);\r\n      var offset = (width - neckWidth) / 2;\r\n      var dis = 0;\r\n      var u = [],\r\n        c = [];\r\n\r\n      for (var i = 1; i < points.length - 1; i++) {\r\n        var angle = PlotUtil.angleOfThreePoints(points[i], points[i - 1], points[i + 1]) / 2;\r\n        dis += PlotUtil.distance(points[i - 1], points[i]);\r\n        var d = (width / 2 - dis / length * offset) / Math.sin(angle);\r\n        u.push(PlotUtil.thirdPoint(points[i - 1], points[i], Math.PI - angle, d, false));\r\n        c.push(PlotUtil.thirdPoint(points[i - 1], points[i], angle, d, true));\r\n      }\r\n\r\n      return u.concat(c);\r\n    }\r\n  }, {\r\n    key: \"merge\",\r\n    value: function merge() {\r\n      var _this$polygon, _this$polyline;\r\n\r\n      this.reset();\r\n\r\n      (_this$polygon = this.polygon).push.apply(_this$polygon, _toConsumableArray(_toConsumableArray(this.nodes).flat()));\r\n\r\n      (_this$polyline = this.polyline).push.apply(_this$polyline, _toConsumableArray(_toConsumableArray(this.nodes).flat()));\r\n    }\r\n  }]);\r\n\r\n  return DoubleArrow;\r\n}(Arrow);\r\n\r\n_defineProperty(DoubleArrow, \"MIN_CONTROL_COUNT\", 3);\r\n\r\n_defineProperty(DoubleArrow, \"MAX_CONTROL_COUNT\", 5);\r\n\r\nvar ArrowType = {\r\n  \"straightarrow\": 'straightarrow',\r\n  'attackarrow': 'attackarrow',\r\n  'doublearrow': 'doublearrow'\r\n};\r\n\r\nArrowType.validate = function(type) {\r\n  if (type === ArrowType.straightarrow || type === ArrowType.attackarrow || type === ArrowType.doublearrow) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nvar ArrowGraphic = {\r\n  StraightArrow: StraightArrow,\r\n  AttackArrow: AttackArrow,\r\n  DoubleArrow: DoubleArrow,\r\n  ArrowType: ArrowType\r\n};\r\n\r\nexport default ArrowGraphic;\r\nexport {\r\n  ArrowType,\r\n  AttackArrow,\r\n  DoubleArrow,\r\n  StraightArrow\r\n};\r\n","import Graphic from '../core/Graphic'\r\nimport PointGraphic from './PointGraphic'\r\nimport defaultValue from '../core/defaultValue'\r\nimport GraphicType from '../core/GraphicType'\r\nimport defined from '../core/defined';\r\nimport NodeGraphic from './NodeGraphic'\r\nimport PolygonGraphic from './PolygonGraphic';\r\nimport CesiumProError from '../core/CesiumProError'\r\nimport {\r\n  StraightArrow,\r\n  AttackArrow,\r\n  DoubleArrow,\r\n  ArrowType\r\n} from '../thirdParty/arrow';\r\nclass ArrowGraphic extends Graphic {\r\n  constructor(viewer, entityOptions, options = {}) {\r\n    super(viewer, entityOptions);\r\n    this._type = GraphicType.ARROW;\r\n    this._entityOptions = entityOptions\r\n    this._positions = defaultValue(entityOptions.positions, [])\r\n    this._arrowType = defaultValue(options.arrowType, 'straightarrow');\r\n    if (!ArrowType.validate(this._arrowType)) {\r\n      throw new CesiumProError('无效的箭头图形.')\r\n    }\r\n    const positions = []\r\n    for (let p of this.positions) {\r\n      const ll = PointGraphic.toDegrees(p);\r\n      positions.push([ll.lon, ll.lat])\r\n    }\r\n    if (this._arrowType === ArrowType.straightarrow) {\r\n      this._arrow = new StraightArrow({\r\n        controls: positions\r\n      })\r\n    }\r\n    if (this._arrowType === ArrowType.attackarrow) {\r\n      this._arrow = new AttackArrow({\r\n        controls: positions\r\n      })\r\n    }\r\n    if (this._arrowType === ArrowType.doublearrow) {\r\n      this._arrow = new DoubleArrow({\r\n        controls: positions\r\n      })\r\n    }\r\n    this._entity = this.createEntity();\r\n    this.add();\r\n  }\r\n  /**\r\n   * 箭头图形\r\n   * @return {StraightArrow|AttackArrow|DoubleArrow}\r\n   */\r\n  get arrow() {\r\n    return this._arrow;\r\n  }\r\n  /**\r\n   * 该图形的几何描述，包括类型，经纬度等\r\n   * @return {Object}\r\n   */\r\n  getGeometry() {\r\n    PolygonGraphic.getGeometry(this);\r\n  }\r\n  createEntity() {\r\n    super.createEntity();\r\n    delete this._entityOptions.positions;\r\n    const options = {\r\n      id: this.id,\r\n      polygon: {\r\n        hierarchy: Cesium.Cartesian3.fromDegreesArray(this._arrow.polygon),\r\n        ...this._entityOptions,\r\n      },\r\n    };\r\n    if (this._entityOptions.outline) {\r\n      options.polyline = {\r\n        positions: Cesium.Cartesian3.fromDegreesArray(this._arrow.polyline),\r\n        material: this._entityOptions.outlineColor,\r\n        width: this._entityOptions.outlineWidth,\r\n      };\r\n      options.polygon.outline = false;\r\n    }\r\n    this._entityOptions = options;\r\n    return new Cesium.Entity(this._entityOptions);\r\n  }\r\n\r\n  /**\r\n   * 对图形几何编辑前调用\r\n   * @fires Graphic#preEdit\r\n   */\r\n  startEdit() {\r\n    const style = PointGraphic.defaultStyle;\r\n    this._node = new NodeGraphic(this._viewer, {\r\n      positions: this.positions,\r\n      ...style,\r\n    });\r\n  }\r\n  /**\r\n   * 图形几何信息编辑完成后调用\r\n   * @fires Graphic#postEdit\r\n   */\r\n  stopEdit() {\r\n    this._node && this._node.destroy();\r\n    this._node = undefined;\r\n  }\r\n\r\n  /**\r\n   * 添加顶。\r\n   * @param {Cartesian} node 新顶点\r\n   */\r\n  addNode(node) {\r\n    if (this.arrow) {\r\n      const ll = PointGraphic.toDegrees(node);\r\n      this.arrow.addControl([ll.lon, ll.lat])\r\n      this.updatePositions();\r\n      this.updateEntity()\r\n    }\r\n  }\r\n  /**\r\n   * 删除最后一个顶点\r\n   */\r\n  popNode() {\r\n    if (this.arrow) {\r\n      this.arrow.popControl();\r\n      this.updatePositions();\r\n      this.updateEntity()\r\n    }\r\n  }\r\n  /**\r\n   * 更新一个顶点\r\n   * @param  {Number} index 顶点编号\r\n   * @param  {Cartesian} node  将要更新的位置\r\n   */\r\n  updateNode(index, node) {\r\n    if (this.arrow) {\r\n      const ll = PointGraphic.toDegrees(node);\r\n      this.arrow.updateControl(index, [ll.lon, ll.lat]);\r\n      this.updatePositions()\r\n      this.updateEntity()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  updatePositions() {\r\n    if (!defined(this.arrow)) {\r\n      return;\r\n    }\r\n    const controls = this.arrow.controls;\r\n    for (let i = 0; i < controls.length; i++) {\r\n      this.positions[i] = Cesium.Cartesian3.fromDegrees(controls[i][0], controls[i][1]);\r\n    }\r\n    if (this.positions.length > controls.length) {\r\n      this.positions.splice(controls.length)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  updateEntity() {\r\n    if (this.entity && this.entity.polygon) {\r\n      this.entity.polygon.hierarchy = Cesium.Cartesian3.fromDegreesArray(this.arrow.polygon);\r\n    }\r\n  }\r\n}\r\n\r\nexport default ArrowGraphic;\r\n","import Graphic from '../core/Graphic';\r\nimport PointGraphic from './PointGraphic';\r\nimport GraphicType from '../core/GraphicType';\r\nimport defined from '../core/defined';\r\nimport NodeGraphic from './NodeGraphic';\n\r\nclass PolylineGraphic extends Graphic {\r\n  /**\r\n   * 可编辑的线图形\r\n   * @extends Graphic\r\n   * @param {Cesium.Viewer} viewer\r\n   * @param {Object} entityOptions 和Cesium.PolylineGraphics具有相同的属性\r\n   * @param {Object} [options={}] 具有以下属性\r\n   */\r\n  constructor(viewer, entityOptions, options = {}) {\r\n    super(viewer, options);\r\n    this._entityOptions = entityOptions;\r\n    this._positions = entityOptions.positions;\r\n    this._type = GraphicType.POLYLINE;\r\n    this._entity = this.createEntity();\r\n    this.add();\r\n  }\r\n\r\n  /**\r\n   * 该图形的几何描述，包括类型，经纬度等\r\n   * @return {Object}\r\n   */\r\n  getGeometry() {\r\n    const coordinates = [];\r\n    const type = GraphicType.getOGCType(this.type);\r\n\r\n    for (const position of this.positions) {\r\n      const lonlat = PointGraphic.toDegrees(position);\r\n      coordinates.push([lonlat.lon, lonlat.lat]);\r\n    }\r\n    return {\r\n      type,\r\n      coordinates,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  createEntity() {\r\n    super.createEntity();\r\n    const options = {\r\n      id: this.id,\r\n      polyline: this._entityOptions,\r\n    };\r\n    this._entityOptions = options;\r\n    return new Cesium.Entity(this._entityOptions);\r\n  }\n\r\n  toGeoJson() {\r\n    return PolylineGraphic.toGeoJson(this);\r\n  }\n\r\n  /**\r\n   * 开始编辑几何信息，此时图形的顶点可以被修改、删除、移动。\r\n   * 属性信息的编辑不需要调用该方法。\r\n   * @fires Graphic#preEdit\r\n   */\r\n  startEdit() {\r\n    super.startEdit();\r\n    const style = PointGraphic.defaultStyle;\r\n    this._node = new NodeGraphic(this._viewer, {\r\n      positions: this.positions,\r\n      ...style,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @fires Graphic#postEdit\r\n   * 几何要素编辑完成后调用该方法，以降低性能消耗。\r\n   * <p style='font-weight:bold'>建议在图形编辑完成后调用该方法，因为CallbackProperty对资源消耗比较大，虽然对单个图形来说，不调用此方法可能并不会有任何影响。</p>\r\n   */\r\n  stopEdit() {\r\n    super.stopEdit();\r\n    this._node && this._node.destroy();\r\n    this._node = undefined;\r\n  }\n\r\n  /**\r\n   * 添加顶点,如果在使用该函数前没有调用<code>startEdit()</code>，位置更新将不会立即生效,在下次调用<code>startEdit()</code>后，此操作将更新到图形。\r\n   * @param {Cartesian} node 新顶点\r\n   */\r\n  addNode(node) {\r\n    this.positions.push(node);\r\n  }\n\r\n  /**\r\n   * 删除一个顶点,如果在使用该函数前没有调用<code>startEdit()</code>，位置更新将不会立即生效,在下次调用<code>startEdit()</code>后，此操作将更新到图形。\r\n   * @param  {Number} index 顶点编号\r\n   */\r\n  removeNode(index) {\r\n    if (index < 0 || index >= this.positions.length) {\r\n      return;\r\n    }\r\n    this.positions.splice(index, 1);\r\n  }\n\r\n  /**\r\n   * 更新一个顶点,如果在使用该函数前没有调用<code>startEdit()</code>，位置更新将不会立即生效,在下次调用<code>startEdit()</code>后，此操作将更新到图形。\r\n   * @param  {Number} index 顶点编号\r\n   * @param  {Cartesian} node  将要更新的位置\r\n   */\r\n  updateNode(index, node) {\r\n    if (index >= this.positions.length) {\r\n      return;\r\n    }\r\n    this.positions[index] = node;\r\n  }\n\r\n  updateStyle(style) {\r\n    if (!style || !this.entity.model) {\r\n      return;\r\n    }\r\n    for (const s in style) {\r\n      if (style.hasOwnProperty(s)) {\r\n        this.entity.polyline[s] = style[s];\r\n      }\r\n    }\r\n  }\n\r\n  /**\r\n   * 将图形转为GeoJson\r\n   * @param  {PolylineGraphic} graphic\r\n   * @return {Object}  graphic的geojson格式\r\n   */\r\n  static toGeoJson(graphic) {\r\n    const type = GraphicType.getOGCType(graphic.type);\r\n    const properties = graphic.properties ? graphic.properties.toJson() : {};\r\n    properties.graphicType = graphic.type;\r\n    const features = {\r\n      type: 'Feature',\r\n      properties,\r\n      geometry: graphic.getGeometry(),\r\n    };\r\n    return features;\r\n  }\r\n\r\n  /**\r\n   * 利用GeoJson创建图形\r\n   * @param  {Cesium.Viewer} viewer\r\n   * @param  {String|Object} json   json对象或字符串\r\n   * @param  {Object} style  图形样式\r\n   * @return {PolylineGraphic}\r\n   */\r\n  static fromGeoJson(viewer, json, style) {\r\n    if (typeof json === 'string') {\r\n      json = JSON.parse(json);\r\n    }\r\n    if (!defined(json.geometry) || !(defined(json.properties))) {\r\n      return;\r\n    }\r\n    const type = json.properties.graphicType;\r\n    if (type !== GraphicType.POLYLINE) {\r\n      throw new CesiumProError('json没有包含一个有效的PolylineGraphic.');\r\n    }\r\n    const coordinate = json.geometry && json.geometry.coordinates;\r\n    return PolylineGraphic.fromCoordinates(viewer, coordinate, json.properties, style);\n  }\n\r\n  /**\r\n   * 从坐标点生成点图形\r\n   * @param {Cesium.Viewer} viewer\r\n   * @param  {Number[]} coordinate  包含经纬和纬度的数组\r\n   * @param  {Style} [style=PointGraphic.defaultStyle] 点样式\r\n   * @return {PolylineGraphic}\r\n   */\r\n  static fromCoordinates(viewer, coordinates, properties, style = PolylineGraphic.defaultStyle) {\n    const positions = Cesium.Cartesian3.fromDegreesArray(coordinates.flat());\r\n\r\n    const options = {\r\n      positions,\r\n      properties,\r\n      ...style,\r\n    };\r\n    return new PolylineGraphic(viewer, options);\r\n  }\r\n\r\n  /**\r\n   * 默认样式\r\n   * @type {Object}\r\n   */\r\n  static defaultStyle = {\r\n    clampToGround: true,\r\n    material: Cesium.Color.fromCssColorString('rgba(247,224,32,1)'),\r\n    width: 3,\r\n  }\n\r\n  static highlightStyle = {\r\n    clampToGround: true,\r\n    material: Cesium.Color.AQUA,\r\n    width: 3,\r\n  }\r\n}\r\n\r\nexport default PolylineGraphic;\r\n","import CursorTip from '../core/CursorTip';\r\nimport defaultValue from '../core/defaultValue';\r\nimport checkViewer from '../core/checkViewer';\r\nimport PointGraphic from '../graphic/PointGraphic';\r\nimport PolylineGraphic from '../graphic/PolylineGraphic';\r\nimport PolygonGraphic from '../graphic/PolygonGraphic';\r\nimport Cartometry from '../core/Cartometry';\r\nimport CartometryType from '../core/CartometryType';\r\nimport Event from '../core/Event';\r\nimport depthTest from '../core/depthTest';\r\nimport CVT from '../core/CVT'\r\n\r\nconst formatText = function(value, mode, islast) {\r\n  if (mode === CartometryType.SURFACE_DISTANCE ||\r\n    mode === CartometryType.SPACE_DISTANCE ||\r\n    mode === CartometryType.HEIGHT) {\r\n    const preText = islast ? '总长度 ' : '';\r\n    if (value > 10000) {\r\n      return `${preText}${(value / 1000).toFixed(2)} km`;\r\n    }\r\n    return `${preText}${value.toFixed(2)} m`;\r\n  }\r\n  if (mode === CartometryType.SURFACE_AREA || mode === CartometryType.SPACE_AREA) {\r\n    if (value > 1000 * 1000 * 10) {\r\n      return `${(value / 1000 / 1000).toFixed(2)} km²`;\r\n    }\r\n    return `${value.toFixed(2)} m²`;\r\n  }\r\n  if (mode === CartometryType.ANGLE) {\r\n    return `${(value % 360).toFixed(2)}°`;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nclass CartometryManager {\r\n  /**\r\n   *\r\n   * 地图量算管理工具\r\n   * @alias CartometryManager\r\n   *\r\n   * @param {*} options 具有以下属性\r\n   * @param {Cesium.Viewer} options.viewer Cesium.Viewer对象\r\n   * @param {Object} [options.labelStyle=PointGraphic.defaultLabelStyle] 定义label样式,和Cesium.LabelGraphic具有相同的参数\r\n   * @param {Object} [options.polylineStyle=PolylineGraphic.defaultStyle] 定义线样式，和Cesium.PolylineGraphic具有相同的参数\r\n   * @param {Object} [options.polygonStyle=PolygonGraphic.defaultStyle] 定义多边形样式,和Cesium.PolygonGraphic具有相同的参数\r\n   * @param {Object} [options.pointStyle=PointGraphic.defaultStyle] 定义点样式,和Cesium.PointGraphic具有相同的参数\r\n   * @param {CartometryManager~Callback} [options.formatText] 格式化标签内容的函数\r\n   * @param {Object} [options.nodeMode] 是否添加顶点，具有以下属性\r\n   * @param {Boolean} [options.nodeMode.distance=true] 是否在距离量算时添加顶点\r\n   * @param {Boolean} [options.nodeMode.area=false] 是否在面积量算时添加顶点\r\n   * @param {Boolean} [options.nodeMode.angle=false] 是否在角度量算时添加顶点\r\n   * @param {Boolean} [options.nodeMode.height=false] 是否在高度量算时添加顶点\r\n   * @param {Object} [options.auxiliaryGeometry] 是否创建辅助要素，具有以下参数\r\n   * @param {Boolean} [options.auxiliaryGeometry.distance=true] 是否在距离量算时创建辅助要素\r\n   * @param {Boolean} [options.auxiliaryGeometry.area=false] 是否在面积量算时创建辅助要素\r\n   * @param {Boolean} [options.auxiliaryGeometry.angle=false] 是否在角度量算时创建辅助要素\r\n   * @param {Boolean} [options.auxiliaryGeometry.height=false] 是否在高度量算时创建辅助要素\r\n   * @param {CartometryType} [options.mode=CartometryType.SURFACE_DISTANCE] 默认量算模式\r\n   * @param {Object} [options.auxiliaryLineMaterial] 定义辅助线的样式\r\n   * @param {Object} [options.auxiliaryPolygonMaterial] 定义辅助多边形的样式\r\n   * @param {Object} [options.autoDepthTest=true] 是否在需要的时候自动开启地形调整\r\n   */\r\n  constructor(options) {\r\n    const {\r\n      viewer,\r\n      labelStyle,\r\n      polylineStyle,\r\n      polygonStyle,\r\n      pointStyle,\r\n    } = options;\r\n    checkViewer(viewer);\r\n    this._viewer = viewer;\r\n    const defaultLabelStyle = PointGraphic.defaultLabelStyle;\r\n    defaultLabelStyle.disableDepthTestDistance = Number.POSITIVE_INFINITY;\r\n    this._labelStyle = defaultValue(labelStyle, defaultLabelStyle);\r\n    this._polylineStyle = defaultValue(polylineStyle, PolylineGraphic.defaultStyle);\r\n    this._polygonStyle = defaultValue(polygonStyle, PolygonGraphic.defaultStyle);\r\n    this._pointStyle = defaultValue(pointStyle, PointGraphic.defaultStyle);\r\n\r\n    this._startMeasure = new Event();\r\n    this._stopMeasure = new Event();\r\n    this._addNode = new Event();\r\n\r\n    this.formatText = defaultValue(options.formatText, formatText);\r\n\r\n    const defaultNode = {\r\n      distance: true,\r\n      area: false,\r\n      height: false,\r\n      angle: false,\r\n    };\r\n    const defaultAuxiliary = {\r\n      distance: true,\r\n      area: false,\r\n      height: true,\r\n      angle: true,\r\n    };\r\n    this._nodeMode = defaultValue(options.nodeMode, defaultNode);\r\n    this._auxiliaryGeometry = defaultValue(options.auxiliaryGeometry, defaultAuxiliary);\r\n\r\n    const handler = new Cesium.ScreenSpaceEventHandler(viewer.canvas);\r\n    this._handler = handler;\r\n    this._values = [];\r\n    this._mode = defaultValue(options.mode, CartometryType.SURFACE_DISTANCE);\r\n    this._tip = new CursorTip();\r\n    this._tip.show = false;\r\n    this._autoDepthTest = defaultValue(options.autoDepthTest, true);\r\n    this.listening = false;\r\n    const auxiliarylineMaterial = new Cesium.PolylineDashMaterialProperty({\r\n      color: Cesium.Color.RED,\r\n    });\r\n    this._auxiliarylineMaterial = defaultValue(options.auxiliaryLineMaterial, auxiliarylineMaterial);\r\n    const auxiliarypolygonMaterial = new Cesium.PolylineDashMaterialProperty({\r\n      color: Cesium.Color.RED,\r\n    });\r\n    this._depthTestAgainstTerrain = this._viewer.scene.globe.depthTestAgainstTerrain;\r\n    this._auxiliaryPolygonMaterial = defaultValue(options.auxiliaryPolygonMaterial, auxiliarypolygonMaterial);\r\n  }\r\n\r\n  /**\r\n   * Cesium Viewer对象，\r\n   * @type Viewer\r\n   * @readonly\r\n   * @return {Cesium.Viewer}\r\n   */\r\n  get viewer() {\r\n    return this.viewer;\r\n  }\r\n\r\n  /**\r\n   * 定义label样式，同Cesium.LabelGraphic\r\n   * @return {Object}\r\n   */\r\n  get labelStyle() {\r\n    return this._labelStyle;\r\n  }\r\n\r\n  set labelStyle(v) {\r\n    this._labelStyle = v;\r\n  }\r\n\r\n  /**\r\n   * 定义线样式，同Cesium.PolylineGraphic\r\n   * @return {Object}\r\n   */\r\n  get polylineStyle() {\r\n    return this._polylineStyle;\r\n  }\r\n\r\n  set polylineStyle(v) {\r\n    this._polylineStyle = v;\r\n  }\r\n\r\n  /**\r\n   * 定义Polygon样式，同Cesium.PolygonGraphic\r\n   * @return {Object}\r\n   */\r\n  get polygonStyle() {\r\n    return this._polygonStyle;\r\n  }\r\n\r\n  set polygonStyle(v) {\r\n    this._polygonStyle = v;\r\n  }\r\n\r\n  /**\r\n   * 定义Point样式，同Cesium.PointGraphic\r\n   * @return {Object}\r\n   */\r\n  get pointStyle() {\r\n    return this._pointStyle;\r\n  }\r\n\r\n  set pointStyle(v) {\r\n    this._pointStyle = v;\r\n  }\r\n\r\n  /**\r\n   * 开始测量时触发的事件\r\n   * @type {Event}\r\n   */\r\n  get startMeasure() {\r\n    return this._startMeasure;\r\n  }\r\n\r\n  /**\r\n   * 结束测量时触发的事件\r\n   * @type {Event}\r\n   */\r\n  get stopMeasure() {\r\n    return this._stopMeasure;\r\n  }\r\n\r\n  /**\r\n   * 添加节点时触发的事件\r\n   * @type {Event}\r\n   */\r\n  get addNode() {\r\n    return this._addNode;\r\n  }\r\n\r\n  /**\r\n   * 跟随鼠标的文字\r\n   * @type {CursorTip}\r\n   */\r\n  get tip() {\r\n    return this._tip;\r\n  }\r\n\r\n  /**\r\n   * 获得或设置地图量算的类型\r\n   * @type {CartometryType}\r\n   * @return {}\r\n   */\r\n  get mode() {\r\n    return this._mode;\r\n  }\r\n\r\n  set mode(mode) {\r\n    if (CartometryType.validate(mode)) {\r\n      this._mode = mode;\r\n    } else {\r\n      console.warn('CartometryManaer:无效的测量模式');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 开始监听鼠标事件，并获取鼠标所在的位置，包括单击，移动，右击，不建议直接调用该方法，因为开始量算后系统会自动调用。\r\n   * @private\r\n   * @param {CartometryType} mode 量算模式\r\n   * @param {Array} [positions=[]] 用于存储点位信息\r\n   */\r\n  addEventListener(mode, positions = []) {\r\n    this._listening = true;\r\n    const modeLabel = CartometryType.getKey(mode);\r\n    const label = /.*_?(distance|area|height|angle)$/.exec(modeLabel.toLowerCase());\r\n    let showNode = false;\r\n    let showAuxiliary = false;\r\n    if (label && label[1]) {\r\n      showNode = this._nodeMode[label[1]];\r\n      showAuxiliary = this._auxiliaryGeometry[label[1]];\r\n    }\r\n\r\n    const onClick = (e) => {\r\n      const cartesian = this.pickPosition(e.position);\r\n      cartesian && positions.push(cartesian);\r\n      if (showNode) {\r\n        this.createNode(cartesian);\r\n      }\r\n      if (showAuxiliary) {\r\n        this.createAuxiliaryGraphic(positions, cartesian, mode);\r\n      }\r\n      this.addNode.raise(cartesian);\r\n      if (mode === CartometryType.HEIGHT || mode === CartometryType.ANGLE) {\r\n        if (positions.length === 1) {\r\n          this.tip.text = '单击地图确定终点.';\r\n        }\r\n        if (positions.length === 2) {\r\n          this.removeEventListener();\r\n          let value;\r\n          if (mode === CartometryType.HEIGHT) {\r\n            value = this.getHeight(positions);\r\n          } else {\r\n            value = this.getAngle(positions);\r\n          }\r\n          this.createLabel(positions[0], value);\r\n        }\r\n      }\r\n    };\r\n    const onrClick = (e) => {\r\n      const cartesian = this.pickPosition(e.position);\r\n      if (showNode) {\r\n        this.createNode(cartesian);\r\n      }\r\n      if (mode !== CartometryType.HEIGHT || mode !== CartometryType.ANGLE) {\r\n        positions.pop();\r\n        positions.length && cartesian && positions.push(cartesian);\r\n        this.removeEventListener();\r\n        this.addNode.raise(cartesian);\r\n      }\r\n      if (mode === CartometryType.SURFACE_DISTANCE || mode === CartometryType.SPACE_DISTANCE) {\r\n        const text = this.getDistance(positions, mode);\r\n        this.createLabel(cartesian, text);\r\n      }\r\n      if (mode === CartometryType.SURFACE_AREA || mode === CartometryType.SPACE_AREA) {\r\n        const text = this.getArea(positions, mode);\r\n        this.createLabel(cartesian, text);\r\n      }\r\n      this.stopMeasure.raise();\r\n    };\r\n    const onMousemove = (e) => {\r\n      this.tip.position = e.endPosition;\r\n      if (mode === CartometryType.HEIGHT || mode === CartometryType.ANGLE) {\r\n        return;\r\n      }\r\n      const cartesian = this.pickPosition(e.endPosition);\r\n      if (positions.length > 1) {\r\n        cartesian && positions.pop();\r\n      }\r\n      if (positions.length > 0) {\r\n        cartesian && positions.push(cartesian);\r\n      }\r\n    };\r\n    const handler = this._handler;\r\n    handler.setInputAction(onClick, Cesium.ScreenSpaceEventType.LEFT_CLICK);\r\n    handler.setInputAction(onMousemove, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\r\n    handler.setInputAction(onrClick, Cesium.ScreenSpaceEventType.RIGHT_CLICK);\r\n  }\r\n\r\n  /**\r\n   * 移除事件监听\r\n   * @private\r\n   */\r\n  removeEventListener() {\r\n    const handler = this._handler;\r\n    handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK);\r\n    handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE);\r\n    handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK);\r\n    this._listening = false;\r\n    this.tip.show = false;\r\n    if (this._autoDepthTest) {\r\n      depthTest(this._viewer, this._depthTestAgainstTerrain);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 清除所有量算结果\r\n   */\r\n  clear() {\r\n    const values = this._values;\r\n    for (const v of values) {\r\n      this._viewer.entities.remove(v);\r\n    }\r\n    this._values = [];\r\n  }\r\n\r\n  /**\r\n   * 销毁对象\r\n   */\r\n  destroy() {\r\n    this.clear();\r\n    this.removeEventListener();\r\n    if (!this._handler.isDestroyed()) {\r\n      this._handler.destroy();\r\n    }\r\n    this._viewer = undefinesd;\r\n  }\r\n\r\n  /**\r\n   * 根据坐标计算距离。\r\n   * @param  {Array} position 需要计算距离的点\r\n   * @param {CartometryType} mode 距离类型，贴地距离/空间距离\r\n   * @return {Number}          距离,单位:米\r\n   */\r\n  getDistance(position, mode) {\r\n    if (position.length < 2 || !position[0] || !position[1]) {\r\n      return '起点';\r\n    }\r\n    let distance;\r\n    if (mode === CartometryType.SURFACE_DISTANCE) {\r\n      distance = Cartometry.surfaceDistance(position);\r\n    } else if (mode === CartometryType.SPACE_DISTANCE) {\r\n      distance = Cartometry.spaceDistance(position);\r\n    }\r\n    return this.formatText(distance, mode, !this._listening);\r\n  }\r\n\r\n  /**\r\n   * 根据坐标计算面积。\r\n   * @param  {Array} positions 要计算面积的点\r\n   * @param  {CartometryType} mode      计算模式,贴地面积/空间面积\r\n   * @return {Number}           面积，单位:平方米\r\n   */\r\n  getArea(positions, mode) {\r\n    let area;\r\n    if (mode === CartometryType.SURFACE_AREA) {\r\n      area = Cartometry.surfaceArea(positions);\r\n    } else {\r\n      area = Cartometry.spaceArea(positions);\r\n    }\r\n    return this.formatText(area, mode, !this._listening);\r\n  }\r\n\r\n  /**\r\n   * 根据坐标计算相邻两个点之间的高度差。\r\n   * @param  {Cesium.Cartesian3[]} positions 坐标集合\r\n   * @return {Number}           两点之间的高度差，单位：米\r\n   */\r\n  getHeight(positions) {\r\n    const heights = Cartometry.heightFromCartesianArray(positions);\r\n    return this.formatText(heights[0], CartometryType.HEIGHT);\r\n  }\r\n\r\n  /**\r\n   * 计算向量方位角。\r\n   * @param  {Cesium.Cartesian3[]} positions 构成向量的坐标，第一个点为起点，第二个点为终点，多余的点会被抛弃\r\n   * @return {Number} 向量与正北方向的夹角，单位：度\r\n   */\r\n  getAngle(positions, mode) {\r\n    const angle = Cartometry.angleBetweenNorth(positions[0], positions[1]);\r\n    return this.formatText(angle, CartometryType.ANGLE);\r\n  }\r\n\r\n  /**\r\n   * 开始量算,开启鼠标事件监听，包括点击、移动、右击，标绘结束后自动移除事件监听。\r\n   * @param  {CartometryType} mode 量算模式(类型)\r\n   * @param {Array} [positions] 通过鼠标拾取的点\r\n   */\r\n  do(mode, positions = []) {\r\n    if (!this._depthTestAgainstTerrain) {\r\n      if (!this._autoDepthTest) {\r\n        console.warn('depthTestAgainstTerrain未开启,点位获取可能不准确.');\r\n      } else {\r\n        depthTest(this._viewer);\r\n      }\r\n    }\r\n\r\n    this.tip.show = true;\r\n    mode = defaultValue(mode, this.mode);\r\n    const valid = CartometryType.validate(mode);\r\n    if (!valid) {\r\n      console.warn('无效的测量模式'); // WARNING: 无效的测量模式\r\n      return;\r\n    }\r\n    if (mode === CartometryType.HEIGHT || mode === CartometryType.ANGLE) {\r\n      this.tip.text = '单击地图确定起点.';\r\n    } else {\r\n      this.tip.text = '单击地图添加节点，右击地图结束量算';\r\n    }\r\n    this.startMeasure.raise(mode);\r\n    let options;\r\n    if (mode === CartometryType.SPACE_DISTANCE || mode === CartometryType.HEIGHT) {\r\n      options = this.polylineStyle;\r\n      options.clampToGround = false;\r\n      options.positions = new Cesium.CallbackProperty(() => positions, false);\r\n      this.createPolyline(options);\r\n    } else if (mode === CartometryType.SURFACE_DISTANCE ||\r\n      mode === CartometryType.ANGLE) {\r\n      options = this.polylineStyle;\r\n      options.clampToGround = true;\r\n      options.positions = new Cesium.CallbackProperty(() => positions, false);\r\n      this.createPolyline(options);\r\n    } else if (mode === CartometryType.SPACE_AREA) {\r\n      options = this.polygonStyle;\r\n      options.outline = false;\r\n      options.perPositionHeight = true;\r\n      options.heightReference = Cesium.HeightReference.NONE;\r\n      options.hierarchy = new Cesium.CallbackProperty(\r\n        () => new Cesium.PolygonHierarchy(positions),\r\n        false,\r\n      );\r\n      this.createPolygon(options);\r\n    } else if (mode === CartometryType.SURFACE_AREA) {\r\n      options = this.polygonStyle;\r\n      options.perPositionHeight = false;\r\n      options.heightReference = Cesium.HeightReference.CLAMP_TO_GROUND;\r\n      options.hierarchy = new Cesium.CallbackProperty(\r\n        () => new Cesium.PolygonHierarchy(positions),\r\n        false,\r\n      );\r\n      this.createPolygon(options);\r\n    }\r\n    this.addEventListener(mode, positions);\r\n  }\r\n\r\n  /**\r\n   * 开启地面距离量算，和<code>do(CesiumPro.CartometryType.SURFACE_DISTANCE)</code>效果相同。\r\n   * @returns {Number} 贴地距离，单位：米\r\n   */\r\n  surfaceDistance() {\r\n    this.do(CartometryType.SURFACE_DISTANCE);\r\n  }\r\n\r\n  /**\r\n   * 开启空间距离量算，和<code>do(CesiumPro.CartometryType.SPACE_DISTANCE)</code>效果相同。\r\n   * @returns {Number} 空间距离，单位：米\r\n   */\r\n  spaceDistance() {\r\n    this.do(CartometryType.SPACE_DISTANCE);\r\n  }\r\n\r\n  /**\r\n   * 开启贴地面积量算，和<code>do(CesiumPro.CartometryType.SURFACE_AREA)</code>效果相同。\r\n   * @return {Number} 贴地面积，单位：平方米\r\n   */\r\n  surfaceArea() {\r\n    this.do(CartometryType.SURFACE_AREA);\r\n  }\r\n\r\n  /**\r\n   * 开启空间面积量算，和<code>do(CesiumPro.CartometryType.SPACE_AREA)</code>效果相同。\r\n   * @return {Number} 空间面积，单位：平方米\r\n   */\r\n  spaceArea() {\r\n    this.do(CartometryType.SPACE_AREA);\r\n  }\r\n\r\n  /**\r\n   * 开启高度量算，和<code>do(CesiumPro.CartometryType.HEIGHT)</code>效果相同。\r\n   * @return {Number} 高度差，单位：米\r\n   */\r\n  height() {\r\n    this.do(CartometryType.HEIGHT);\r\n  }\r\n\r\n  /**\r\n   * 开启角度量算，和<code>do(CesiumPro.CartometryType.ANGLE)</code>效果相同。\r\n   * @return {Number} 方位角，单位：度\r\n   */\r\n  angle() {\r\n    this.do(CartometryType.ANGLE);\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * 屏幕坐标转笛卡尔坐标。\r\n   * @param  {Cartesian2} pixel  屏幕坐标\r\n   * @return {Cartesian3}        笛卡尔坐标\r\n   */\r\n  pickPosition(pixel) {\r\n    const viewer = this._viewer;\r\n    let cartesian;\r\n    const ray = viewer.camera.getPickRay(pixel);\r\n    cartesian = viewer.scene.globe.pick(ray, viewer.scene);\r\n    const feat = viewer.scene.pick(pixel);\r\n    if (feat) {\r\n      if (viewer.scene.pickPositionSupported) {\r\n        cartesian = viewer.scene.pickPosition(pixel);\r\n      } else {\r\n        console.warn('This browser does not support pickPosition.');\r\n      }\r\n    }\r\n    return cartesian;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param  {} options [description]\r\n   * @return {}         [description]\r\n   */\r\n  createNode(cartesian) {\r\n    if (!cartesian) {\r\n      return;\r\n    }\r\n    const pointOptions = this.pointStyle;\r\n    const point = this._viewer.entities.add({\r\n      position: cartesian,\r\n      point: pointOptions,\r\n    });\r\n    this._values.push(point);\r\n    return point;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param  {} options\r\n   */\r\n  createLabel(cartesian, text) {\r\n    const labelOptions = this.labelStyle;\r\n    labelOptions.text = text;\r\n    const coor = CVT.toDegrees(cartesian);\r\n    labelOptions.pixelOffset = new Cesium.Cartesian3(0, 0, coor.height > 0 ? -coor.height : 0);\r\n    const label = this._viewer.entities.add({\r\n      position: cartesian,\r\n      label: labelOptions,\r\n    });\r\n    this._values.push(label);\r\n    return label;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param  {} options [description]\r\n   * @return {}         [description]\r\n   */\r\n  createPolygon(options) {\r\n    const pg = this._viewer.entities.add({\r\n      polygon: options,\r\n    });\r\n    this._values.push(pg);\r\n    return pg;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param  {} options [description]\r\n   * @return {}         [description]\r\n   */\r\n  createPolyline(options) {\r\n    const pl = this._viewer.entities.add({\r\n      polyline: options,\r\n    });\r\n    this._values.push(pl);\r\n    return pl;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * 为高度量算创建辅助线\r\n   * @param  {} potitions [description]\r\n   * @return {}           [description]\r\n   */\r\n  _createAuxiliaryGraphicforHeight(positions) {\r\n    if (positions.length !== 2) {\r\n      return;\r\n    }\r\n    const startC = Cesium.Cartographic.fromCartesian(positions[0]);\r\n    const endC = Cesium.Cartographic.fromCartesian(positions[1]);\r\n    const tmp = Cesium.Cartesian3.fromRadians(\r\n      endC.longitude,\r\n      endC.latitude,\r\n      startC.height,\r\n    );\r\n    const pts = [positions[0], tmp, positions[1]];\r\n    const pl = this._viewer.entities.add({\r\n      polyline: {\r\n        positions: pts,\r\n        material: this._auxiliarylineMaterial,\r\n        width: this.polylineStyle.width || 3,\r\n      },\r\n    });\r\n    this._values.push(pl);\r\n  }\r\n\r\n  /**\r\n   * 为距离量算创建辅助要素\r\n   * @private\r\n   * @param  {Cesium.Cartesian3} cartesian [description]\r\n   * @param  {} text      [description]\r\n   * @return {}           [description]\r\n   */\r\n  _createAuxiliaryGraphicforDisgance(cartesian, text) {\r\n    this.createLabel(cartesian, text);\r\n  }\r\n\r\n  /**\r\n   * 为角度量算创建辅助要素\r\n   * @private\r\n   * @param  {} cartesian [description]\r\n   * @return {}           [description]\r\n   */\r\n  _createAuxiliaryGraphicforAngle(positions) {\r\n    if (positions.length !== 2) {\r\n      return;\r\n    }\r\n    const distance = Cartometry.spaceDistance(positions);\r\n    const matrix = new Cesium.Transforms.eastNorthUpToFixedFrame(positions[0]);\r\n    const inverseMatrix = new Cesium.Matrix4();\r\n    Cesium.Matrix4.inverseTransformation(matrix, inverseMatrix);\r\n    // const x = Cesium.Matrix4.multiplyByPoint(matrix, new Cesium.Cartesian3(distance, 0, 0), new Cesium.Cartesian3);\r\n    const y = Cesium.Matrix4.multiplyByPoint(matrix, new Cesium.Cartesian3(0, distance, 0), new Cesium.Cartesian3());\r\n    const options = {\r\n      polyline: {\r\n        positions: [positions[0], y],\r\n        material: this._auxiliarylineMaterial,\r\n        width: this.polylineStyle.width || 3,\r\n        clampToGround: true,\r\n      },\r\n    };\r\n    const pl = this._viewer.entities.add(options);\r\n    this._values.push(pl);\r\n  }\r\n\r\n  /**\r\n   * 创建辅助要素\r\n   * @private\r\n   */\r\n  createAuxiliaryGraphic(position, cartesian, mode) {\r\n    if (mode === CartometryType.SPACE_DISTANCE || mode === CartometryType.SURFACE_DISTANCE) {\r\n      const {\r\n        length,\r\n      } = position;\r\n      const text = this.getDistance([position[length - 3], position[length - 2]], mode);\r\n      this._createAuxiliaryGraphicforDisgance(cartesian, text);\r\n    } else if (mode === CartometryType.HEIGHT) {\r\n      this._createAuxiliaryGraphicforHeight(position);\r\n    } else if (mode === CartometryType.ANGLE) {\r\n      this._createAuxiliaryGraphicforAngle(position);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理显示文本的回调函数\r\n   * @callback CartometryManager~Callback\r\n   *\r\n   * @param {Number} value 量算结果，距离、面积或角度\r\n   * @param {CartometryType} mode 量算模式\r\n   * @param {Boolean} isLast 是否是最后一个点\r\n   * @returns {String} 格式化的文本内容\r\n   */\r\n  callback(value, mode, isLast) {\r\n\r\n  }\r\n}\r\nexport default CartometryManager;\r\n","import defaultValue from '../core/defaultValue'\r\nimport Event from '../core/Event';\r\nconst {\r\n  Material,\r\n  Color,\r\n  Property\r\n} = Cesium;\r\n\r\nclass DynamicFadeMaterialProperty {\r\n  /**\r\n   * 创建一个渐变材质\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Color} [options.fadeInColor] 几何体在时间0~time时表现的颜色\r\n   * @param {Color} [options.fadeOutColor] 几何体在maximumDistance到time之间的颜色\r\n   * @param {Bool} [options.repeat=true] 如果要实现循环，此值应该为true\r\n   * @param {Object} [options.time=0] 具有x,y值的对象，在0~time处表现为fadeInColor\r\n   * @param {Object} [options.fadeDirection={x:true,y:false}] 具有x,y值的对象，指定是否在x或y方向上实现Fade效果\r\n   * @param {Number} [options.maximumDistance=0.5] 介于0~1之间的值，当值为0时，整个颜色为fadeOutColor，值为1时，整个颜色为fadeInColor\r\n   */\r\n  constructor(options = {}) {\r\n    this._fadeInColor = defaultValue(options.fadeInColor, Cesium.Color.RED);\r\n    this._fadeOutColor = defaultValue(options.fadeOutColor, Cesium.Color.WHITE.withAlpha(0.5));\r\n    this._time = defaultValue(options.time, new Cesium.Cartesian2(0, 0));\r\n    this._repeat = defaultValue(options.repeat, false);\r\n    this._duration = defaultValue(options.duration, 3000);\r\n    this._fadeDirection = defaultValue(options.fadeDirection, {\r\n      x: true,\r\n      y: false\r\n    });\r\n    this._maximumDistance = defaultValue(options.maximumDistance, 0.5);\r\n    this._definitionChanged = new Event();\r\n  }\r\n\r\n  /**\r\n   * 几何体在0~time处的颜色。\r\n   * @type {Cesium.Color}\r\n   */\r\n  get fadeInColor() {\r\n    return this._fadeInColor;\r\n  }\r\n  set fadeInColor(v) {\r\n    this._fadeInColor = v;\r\n  }\r\n  /**\r\n   * 几何体在time~maximumDistance处表现的颜色。\r\n   * @type {Cesium.Color}\r\n   */\r\n  get fadeOutColor() {\r\n    return this._fadeOutColor;\r\n  }\r\n  set fadeOutColor(v) {\r\n    this._fadeOutColor = v;\r\n  }\r\n  /**\r\n   * 渐变动画同期，决定了动画的速度，值越小，速度越快，单位毫秒。\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  /**\r\n   * 具有x,y值的对象，在0~time处表现为fadeInColor\r\n   * @type {Object}\r\n   */\r\n  get time() {\r\n    return this._time;\r\n  }\r\n  set time(v) {\r\n    this._time = v\r\n  }\r\n  /**\r\n   * 表示该属性是否是常量。\r\n   * @readonly\r\n   */\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n  /**\r\n   * @Event\r\n   * 当此属性发生变化时触发的事件。\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged\r\n  }\r\n\r\n  /**\r\n   * 是否在x或y方向上实现渐变效果，如果x和y方向上具未实现渐变效果，将表现为fadeInColor。\r\n   * @type {Object}\r\n   */\r\n  get fadeDirection() {\r\n    return this._fadeDirection;\r\n  }\r\n  set fadeDirection(v) {\r\n    this._fadeDirection = v;\r\n  }\r\n\r\n  /**\r\n   * 是否重复渐变效果。\r\n   * @type {Bool} true表示重复渐变效果，false表示不重复。\r\n   */\r\n  get repeat() {\r\n    return this._repeat;\r\n  }\r\n  set repeat(v) {\r\n    this._repeat = v;\r\n  }\r\n  /**\r\n   * 介于0~1之间的值，当值为0时，整个颜色为fadeOutColor，值为1时，整个颜色为fadeInColor。\r\n   * @type {Number}\r\n   */\r\n  get maximumDistance() {\r\n    return this._maximumDistance;\r\n  }\r\n  set maximumDistance(v) {\r\n    this._maximumDistance = v;\r\n  }\r\n\r\n  /**\r\n   * 此属性的类型。\r\n   * @type {String}\r\n   */\r\n  getType() {\r\n    return Material.FadeType;\r\n  }\r\n\r\n  /**\r\n   * 获取指定时间的属性值。\r\n   * @param  {JulianDate} time  时间\r\n   * @param  {Object} [result] 保存新属性的副本，如果没有指定将自动创建。\r\n   * @return {Object} 修改后的result,如果未提供result参数，则为新实例。\r\n   */\r\n  getValue(time, result) {\r\n    result = defaultValue(result, {});\r\n    if (this._time === undefined) {\r\n      this._time = {\r\n        x: time.secondsOfDay,\r\n        y: time.secondsOfDay\r\n      };\r\n    }\r\n    if (this.fadeDirection.x) {\r\n      result.time.x = (time.secondsOfDay - this.time.x) * 1000 / this.duration % 1;\r\n    }\r\n    if (this.fadeDirection.y) {\r\n      result.time.y = (time.secondsOfDay - this.time.y) * 1000 / this.duration % 1;\r\n    }\r\n    result.fadeInColor = this.fadeInColor;\r\n    result.fadeOutColor = this.fadeOutColor;\r\n    result.maximumDistance = this.maximumDistance;\r\n    result.repeat = this.repeat;\r\n    result.fadeDirection = this.fadeDirection;\r\n    return result\r\n  }\r\n  /**\r\n   * 判断两个属性是否相同。\r\n   * @param  {DynamicFadeMaterialProperty} other 另一个属性\r\n   * @return {Bool}   如果相同返回true，否则返回false\r\n   */\r\n  equals(other) {\r\n    return this === other || (other instanceof DynamicFadeMaterialProperty &&\r\n      this.fadeInColor === other.fadeInColor && this.fadeOutColor === other.fadeOutColor &&\r\n      this.maximumDistance === other.maximumDistance && this.repeat === other.repeat &&\r\n      this.fadeDirection === other.fadeDirection);\r\n  }\r\n}\r\n\r\nexport default DynamicFadeMaterialProperty;\r\n","const shader = `\r\nczm_material czm_getMaterial(czm_materialInput materialInput){\r\n  czm_material material=czm_getDefaultMaterial(materialInput);\r\n  float dis=distance(materialInput.st,vec2(0.5));\r\n  if(dis*time<0.8){\r\n    discard;\r\n  }\r\n}\r\n`\r\nexport default shader;\r\n","import dynamicWateMaterialShaderSource from '../shader/dynamicScanMaterial'\r\nimport defaultValue from '../core/defaultValue'\r\nimport Event from '../core/Event';\r\nconst {\r\n  Material,\r\n  Color,\r\n  Property\r\n} = Cesium;\r\n\r\nMaterial.DynamicScanType = \"DynamicScan\";\r\nclass DynamicScanMaterialProperty {\r\n  /**\r\n   * 创建一个渐变材质\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Color} [options.color=Cesium.Color.RED] 颜色\r\n   * @param {count} [options.count=3] 波纹的条数\r\n   * @param {Number} [options.duration=1000] 动画周期，值越小，动画传播速度越快\r\n   */\r\n  constructor(options = {}) {\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._time = defaultValue(options.time, new Cesium.Cartesian2(0, 0));\r\n    this._duration = defaultValue(options.duration, 1000);\r\n    this._count = defaultValue(options.count, 3);\r\n    this._definitionChanged = new Event();\r\n  }\r\n\r\n  /**\r\n   * 材质的颜色\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画同期，决定了动画的传播速度，值越小，速度越快，单位毫秒。\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  get time() {\r\n    return this._time;\r\n  }\r\n  set time(v) {\r\n    this._time = v\r\n  }\r\n  /**\r\n   * 表示该属性是否是常量。\r\n   * @readonly\r\n   */\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n  /**\r\n   * @Event\r\n   * 当此属性发生变化时触发的事件。\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged\r\n  }\r\n  /**\r\n   * 条纹的个数\r\n   * @type {Number}\r\n   */\r\n  get count() {\r\n    return this._count;\r\n  }\r\n  set count(v) {\r\n    this._count = v;\r\n  }\r\n\r\n  /**\r\n   * 此属性的类型\r\n   * @type {String}\r\n   */\r\n  getType() {\r\n    return Material.DynamicScanType;\r\n  }\r\n\r\n  /**\r\n   * 获取指定时间的属性值。\r\n   * @param  {JulianDate} time  时间\r\n   * @param  {Object} [result] 保存新属性的副本，如果没有指定将自动创建。\r\n   * @return {Object} 修改后的result,如果未提供result参数，则为新实例。\r\n   */\r\n  getValue(time, result) {\r\n    result = defaultValue(result, {});\r\n    if (this._time === undefined) {\r\n      this._time = {\r\n        x: time.secondsOfDay,\r\n        y: time.secondsOfDay\r\n      };\r\n    }\r\n    if (this.fadeDirection.x) {\r\n      result.time.x = (time.secondsOfDay - this.time.x) * 1000 / this.duration % 1;\r\n    }\r\n    if (this.fadeDirection.y) {\r\n      result.time.y = (time.secondsOfDay - this.time.y) * 1000 / this.duration % 1;\r\n    }\r\n    result.fadeInColor = this.fadeInColor;\r\n    result.fadeOutColor = this.fadeOutColor;\r\n    result.maximumDistance = this.maximumDistance;\r\n    result.repeat = this.repeat;\r\n    result.fadeDirection = this.fadeDirection;\r\n    return result\r\n  }\r\n  /**\r\n   * 判断两个属性是否相同。\r\n   * @param  {DynamicScanMaterialProperty} other 另一个属性\r\n   * @return {Bool}   如果相同返回true，否则返回false\r\n   */\r\n  equals(other) {\r\n    return this === other || (other instanceof DynamicScanMaterialProperty &&\r\n      this.fadeInColor === other.fadeInColor && this.fadeOutColor === other.fadeOutColor &&\r\n      this.maximumDistance === other.maximumDistance && this.repeat === other.repeat &&\r\n      this.fadeDirection === other.fadeDirection);\r\n  }\r\n}\r\n\r\nexport default DynamicScanMaterialProperty;\r\n","const shader = `\r\nczm_material czm_getMaterial(czm_materialInput materialInput){\r\n  czm_material material =czm_getDefaultMaterial(materialInput);\r\n  float PI = 3.141592653589793;\r\n  float angle=2.0*PI*fract(time);\r\n  mat2 rotateMaterial=mat2(cos(angle),-sin(angle),sin(angle),cos(angle));\r\n  vec2 uv=materialInput.st-vec2(0.5);\r\n  materialInput.st=rotateMaterial*uv+vec2(0.5);\r\n  vec4 imageRgba=texture2D(image,materialInput.st);\r\n  material.alpha=imageRgba.a;\r\n  float dis=distance(materialInput.st,vec2(0.5));\r\n  material.diffuse=color.rgb;\r\n  return material;\r\n}\r\n`\r\nexport default shader;\r\n","import sectorMaterialShaderSource from '../shader/dynamicSectorFadeMaterial';\r\nimport defaultValue from '../core/defaultValue'\r\nimport URL from '../core/URL'\r\nimport Event from '../core/Event';\r\nconst {\r\n  Material,\r\n  Color,\r\n  Property\r\n} = Cesium;\r\n\r\nMaterial.DynamicSectorFadeType = 'DynamicSectorFade'\r\nMaterial._materialCache.addMaterial(Material.DynamicSectorFadeType, {\r\n  fabric: {\r\n    type: Material.DynamicSectorFadeType,\r\n    uniforms: {\r\n      color: new Color(1.0, 0.0, 0.0),\r\n      time: 0,\r\n      image: ''\r\n    },\r\n    source: sectorMaterialShaderSource\r\n  }\r\n})\r\n\r\nclass DynamicSectorFadeMaterialProperty {\r\n  /**\r\n   * 创建一个扇形动态渐变材质\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Color} [options.color] 图形颜色\r\n   * @param {Color} [options.duration=1000] 决定动画的速度，值越小，速度越快\r\n   */\r\n  constructor(options = {}) {\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._time = defaultValue(options.time, 0);\r\n    this._duration = defaultValue(options.duration, 1000);\r\n    this._image = defaultValue(options.image, URL.buildModuleUrl('./assets/images/circleScan.png'))\r\n    this._definitionChanged = new Event();\r\n  }\r\n\r\n  /**\r\n   * 图形颜色。\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画周期，决定了动画执行的速度，值越小，速度越快,单位秒。\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  get time() {\r\n    return this._time;\r\n  }\r\n  set time(v) {\r\n    this._time = v\r\n  }\r\n  /**\r\n   * 将要映射到纹理的图形。\r\n   * @type {String|Resource}\r\n   */\r\n  get image() {\r\n    return this._image;\r\n  }\r\n  set image(v) {\r\n    this._image = v;\r\n  }\r\n  /**\r\n   * 表示该属性是否是常量\r\n   * @readonly\r\n   */\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n  /**\r\n   * @Event\r\n   * 当此属性发生变化时触发的事件\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged\r\n  }\r\n\r\n  /**\r\n   * 此属性的类型。\r\n   * @type {String}\r\n   */\r\n  getType() {\r\n    return Material.DynamicSectorFadeType;\r\n  }\r\n\r\n  /**\r\n   * 获取指定时间的属性值\r\n   * @param  {JulianDate} time  时间\r\n   * @param  {Object} [result] 保存新属性的副本，如果没有指定将自动创建\r\n   * @return {Object} 修改后的result,如果未提供result参数，则为新实例。\r\n   */\r\n  getValue(time, result) {\r\n    result = defaultValue(result, {});\r\n    if (this._time === undefined) {\r\n      this._time = time.secondsOfDay;\r\n    }\r\n    result.time = (time.secondsOfDay - this.time) * 1000 / this.duration;\r\n    result.color = this.color;\r\n    result.image = this.image;\r\n    return result\r\n  }\r\n  /**\r\n   * 判断两个属性是否相同\r\n   * @param  {DynamicSectorFadeMaterialProperty} other 另一个属性\r\n   * @return {Bool}   如果相同返回true,否则返回false\r\n   */\r\n  equals(other) {\r\n    return this === other || (other instanceof DynamicSectorFadeMaterialProperty &&\r\n      this.color === other.color && this.image === other.image);\r\n  }\r\n}\r\n\r\nexport default DynamicSectorFadeMaterialProperty;\r\n","const shader = `\r\nczm_material czm_getMaterial(czm_materialInput materialInput){\r\n  czm_material material=czm_getDefaultMaterial(materialInput);\r\n  vec2 st=materialInput.st;\r\n  float per=fract(time);\r\n  float dis=distance(st,vec2(0.5));\r\n  if(dis*2.0>per){\r\n    discard;\r\n  }else{\r\n    material.alpha=pow(color.a*dis*2.0/per,gradient);\r\n    material.diffuse=color.rgb;\r\n  }\r\n  return material;\r\n}\r\n`\r\nexport default shader;\r\n","import spreadMaterialShaderSource from '../shader/dynamicSpreadMaterial';\r\nimport defaultValue from '../core/defaultValue'\r\nimport Event from '../core/Event';\r\nconst {\r\n  Material,\r\n  Color,\r\n  Property\r\n} = Cesium;\r\n\r\nMaterial.DynamicSpreadType = 'DynamicSpread'\r\nMaterial._materialCache.addMaterial(Material.DynamicSpreadType, {\r\n  fabric: {\r\n    type: Material.DynamicSpreadType,\r\n    uniforms: {\r\n      color: new Color(1.0, 0.0, 0.0),\r\n      time: 0,\r\n      gradient: 0.0\r\n    },\r\n    source: spreadMaterialShaderSource\r\n  }\r\n})\r\n\r\nclass DynamicSpreadMaterialProperty {\r\n  /**\r\n   * 用于生成具有扩散效果的材质，该属性适用于所有几何图形，包括点、线、面、体。\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Number} [options.duration=1000] 扩散动画周期，值越小扩散越快，单位毫秒\r\n   * @param {Color} [options.color=Cesium.Color.RED] 图形颜色\r\n   * @param {Number} [options.gradient=4.0] 渐变强度，不小于0的值，值越大渐变越明显，值为0将不会产生渐变效果\r\n   */\r\n  constructor(options = {}) {\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._time = 0;\r\n    this._duration = defaultValue(options.duration, 1000);\r\n    this._gradient = defaultValue(options.gradient, 4.0)\r\n    this._definitionChanged = new Event();\r\n  }\r\n\r\n  /**\r\n   * 线颜色\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  get time() {\r\n    return this._time;\r\n  }\r\n  /**\r\n   * 材质发生变化时触发的事件\r\n   * @Event\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged\r\n  }\r\n  /**\r\n   * 获取一个值，该值指示此属性是否恒定。如果getValue对于当前定义始终返回相同的结果，则该属性被视为常量。\r\n   * @readonly\r\n   */\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画周期，单位毫秒。\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  /**\r\n   * 渐变强度，不小于0的值，值越大渐变越明显，值为0将不会产生渐变效果\r\n   * @return {Number} 渐变强度\r\n   */\r\n  get gradient() {\r\n    return this._gradient;\r\n  }\r\n  set gradient(v) {\r\n    this._gradient = v;\r\n  }\r\n  /**\r\n   * 此属性的类型\r\n   * @return {String}\r\n   */\r\n  getType(time) {\r\n    return Material.DynamicSpreadType;\r\n  }\r\n  /**\r\n   * 获取指定时间的属性值。\r\n   * @param  {JulianDate} time  时间\r\n   * @param  {Object} [result] 保存新属性的副本，如果没有指定将自动创建。\r\n   * @return {Object} 修改后的result,如果未提供result参数，则为新实例。\r\n   */\r\n  getValue(time, result) {\r\n    result = defaultValue(result, {});\r\n    result.color = this.color;\r\n    if (this._time === undefined) {\r\n      this._time = time.secondsOfDay;\r\n    }\r\n    result.time = (time.secondsOfDay - this.time) * 1000 / this.duration;\r\n    result.gradient = this.gradient;\r\n    return result\r\n  }\r\n  /**\r\n   * 判断两个材质是否相同\r\n   * @param  {DynamicSpreadMaterialProperty} other 作为对比的另一个材质\r\n   * @return {Bool}   两个材质相同返回true,否则返回false\r\n   */\r\n  equals(other) {\r\n    return this === other || (other instanceof DynamicSpreadMaterialProperty && this.color === other.color &&\r\n      this.gradient === other.gradient);\r\n  }\r\n}\r\n\r\nexport default DynamicSpreadMaterialProperty;\r\n","const shader = `\r\nczm_material czm_getMaterial(czm_materialInput materialInput){\r\n  czm_material material=czm_getDefaultMaterial(materialInput);\r\n  vec2 st=materialInput.st*repeat;\r\n  float s=1.0-fract(time-st.s);\r\n  if(wrapX){\r\n    s= s=1.0-fract(time-st.t);\r\n  }\r\n  vec4 imageRGBA=texture2D(image,vec2(s,st.t));\r\n  material.alpha = imageRGBA.a * color.a;\r\n\tmaterial.diffuse = max(color.rgb * material.alpha * gradient, color.rgb);\r\n  return material;\r\n}\r\n`\r\nexport default shader;\r\n","import spreadMaterialShaderSource from '../shader/dynamicSpreadWallMaterial';\r\nimport defaultValue from '../core/defaultValue'\r\nimport Event from '../core/Event';\r\nimport URL from '../core/URL'\r\nconst {\r\n  Material,\r\n  Color,\r\n  Property\r\n} = Cesium;\r\n\r\nMaterial.DynamicSpreadWallType = 'DynamicSpreadWall'\r\nMaterial._materialCache.addMaterial(Material.DynamicSpreadWallType, {\r\n  fabric: {\r\n    type: Material.DynamicSpreadWallType,\r\n    uniforms: {\r\n      color: new Color(1.0, 0.0, 0.0),\r\n      time: 0,\r\n      gradient: 1,\r\n      image: '',\r\n      repeat: {\r\n        x: 1,\r\n        y: 1\r\n      },\r\n      wrapX: false\r\n    },\r\n    source: spreadMaterialShaderSource\r\n  }\r\n})\r\n\r\nclass DynamicSpreadWallMaterialProperty {\r\n  /**\r\n   * 用于生成具有扩散效果的材质，该属性适用于所有几何图形，包括点、线、面、体。\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Number} [options.duration=1000] 扩散动画周期，值越小扩散越快，单位毫秒\r\n   * @param {Color} [options.color=Cesium.Color.RED] 图形颜色\r\n   * @param {String} [options.image] 获取alpha值的图像\r\n   * @param {Bool} [options.wrapX=false] 纹理映射时是否旋转X轴\r\n   * @param {Cesium.Cartesian2} [options.repeat=new Cesium.Cartesian2(1,1)] 图片在x和y方向上重复的次数\r\n   */\r\n  constructor(options = {}) {\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._time = 0;\r\n    this._duration = defaultValue(options.duration, 1000);\r\n    this._gradient = defaultValue(options.gradient, 1.0);\r\n    this._image = defaultValue(options.image, URL.buildModuleUrl('./assets/images/wall.png'));\r\n    this._wrapX = defaultValue(options.wrapX, false);\r\n    this._repeat = defaultValue(options.repeat, new Cesium.Cartesian2(1, 1));\r\n    this._definitionChanged = new Event();\r\n  }\r\n\r\n  /**\r\n   * 线颜色\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  get time() {\r\n    return this._time;\r\n  }\r\n  /**\r\n   * 材质发生变化时触发的事件\r\n   * @Event\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged\r\n  }\r\n  /**\r\n   * 获取一个值，该值指示此属性是否恒定。如果getValue对于当前定义始终返回相同的结果，则该属性被视为常量。\r\n   * @readonly\r\n   */\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画周期，单位毫秒。\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  /**\r\n   * 渐变强度,必须不小于0，如果值为，将不会产生渐变效果\r\n   * @type {Number} 渐变强度\r\n   */\r\n  get gradient() {\r\n    if (this._gradient > 0) {\r\n      return this._gradient;\r\n    }\r\n    return 0;\r\n  }\r\n  set gradient(v) {\r\n    this._gradient = v;\r\n  }\r\n\r\n  /**\r\n   * 将要映射到材质的图片，仅使用其alpha值\r\n   * @type {String} 图片url\r\n   */\r\n  get image() {\r\n    return this._image;\r\n  }\r\n  set image(v) {\r\n    this._image = v;\r\n  }\r\n  /**\r\n   * 纹理映射时是否旋转X轴\r\n   * @type {Bool}\r\n   */\r\n  get wrapX() {\r\n    return this._wrapX;\r\n  }\r\n  set wrapX(v) {\r\n    this._wrapX = v;\r\n  }\r\n\r\n  /**\r\n   * 图片在x和y方向上的重复次数\r\n   * @type Cesium.Cartesian2\r\n   */\r\n  get repeat() {\r\n    return this._repeat;\r\n  }\r\n  set repeat(v) {\r\n    this._repeat = v;\r\n  }\r\n  /**\r\n   * 此属性的类型\r\n   * @return {String}\r\n   */\r\n  getType(time) {\r\n    return Material.DynamicSpreadWallType;\r\n  }\r\n  /**\r\n   * 获取指定时间的属性值。\r\n   * @param  {JulianDate} time  时间\r\n   * @param  {Object} [result] 保存新属性的副本，如果没有指定将自动创建。\r\n   * @return {Object} 修改后的result,如果未提供result参数，则为新实例。\r\n   */\r\n  getValue(time, result) {\r\n    result = defaultValue(result, {});\r\n    result.color = this.color;\r\n    if (this._time === undefined) {\r\n      this._time = time.secondsOfDay;\r\n    }\r\n    result.time = (time.secondsOfDay - this.time) * 1000 / this.duration;\r\n    result.gradient = this.gradient;\r\n    result.image = this.image;\r\n    result.wrapX = this.wrapX;\r\n    result.repeat = this.repeat;\r\n    return result\r\n  }\r\n  /**\r\n   * 判断两个材质是否相同\r\n   * @param  {DynamicSpreadWallMaterialProperty} other 作为对比的另一个材质\r\n   * @return {Bool}   两个材质相同返回true,否则返回false\r\n   */\r\n  equals(other) {\r\n    return this === other || (other instanceof DynamicSpreadWallMaterialProperty &&\r\n      this.color === other.color && this.gradient === other.gradient &&\r\n      this.image === other.image && this.wrapX === other.wrapX &&\r\n      this.repeat === other.repeat);\r\n  }\r\n}\r\n\r\nexport default DynamicSpreadWallMaterialProperty;\r\n","const shader = `\r\nczm_material czm_getMaterial(czm_materialInput materialInput){\r\n  czm_material material=czm_getDefaultMaterial(materialInput);\r\n  material.diffuse=1.5*color.rgb;\r\n  vec2 st=materialInput.st;\r\n  vec3 str=materialInput.str;\r\n  float dis=distance(st,vec2(0.5));\r\n  float per=fract(time);\r\n  if(dis>=0.5){\r\n    discard;\r\n  }else{\r\n    float perDis=0.5/count;\r\n    float bl=0.0;\r\n    for(int i=0;i<99;i++){\r\n      if(float(i)>count){\r\n        break;\r\n      }\r\n      float disNum=perDis*float(i)-dis+per/count;\r\n      if(disNum>0.0){\r\n        if(disNum<perDis){\r\n          bl=1.0-disNum/perDis;\r\n        }else if(disNum-perDis<perDis){\r\n          bl=1.0-abs(1.0-disNum/perDis);\r\n        }\r\n        material.alpha=pow(bl,gradient);\r\n      }\r\n    }\r\n  }\r\n  return material;\r\n}\r\n`\r\n\r\nexport default shader;\r\n","import dynamicWareMaterialShaderSource from '../shader/dynamicWareMaterial'\r\nimport defaultValue from '../core/defaultValue'\r\nimport Event from '../core/Event';\r\nconst {\r\n  Material,\r\n  Color,\r\n  Property\r\n} = Cesium;\r\n\r\nMaterial.DynamicWareType = \"DynamicWare\";\r\nMaterial._materialCache.addMaterial(Material.DynamicWareType, {\r\n  fabric: {\r\n    type: Material.DynamicWareType,\r\n    uniforms: {\r\n      count: 1,\r\n      color: Color.RED,\r\n      duration: 1000,\r\n      time: 0,\r\n      gradient: 0.1\r\n    },\r\n    source: dynamicWareMaterialShaderSource\r\n  }\r\n})\r\nclass DynamicWareMaterialProperty {\r\n  /**\r\n   * 创建一个点材质，模拟波纹效果。\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Color} [options.color=Cesium.Color.RED] 颜色\r\n   * @param {count} [options.count=3] 波纹的条数\r\n   * @param {Number} [options.duration=1000] 动画周期，值越小，动画传播速度越快\r\n   * @param {Number} [options.gradient=1.0] 介于0~1之间的数，表示条纹的宽度，值越大条纹越宽\r\n   */\r\n  constructor(options = {}) {\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._time = defaultValue(options.time, 0);\r\n    this._duration = defaultValue(options.duration, 1000);\r\n    this._count = defaultValue(options.count, 3);\r\n    this._gradient = defaultValue(options.gradient, 1.0);\r\n    this._gradient = Cesium.Math.clamp(this._gradient, 0, 1);\r\n    this._definitionChanged = new Event();\r\n  }\r\n\r\n  /**\r\n   * 材质的颜色\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画同期，决定了动画的传播速度，值越小，速度越快，单位毫秒。\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  get time() {\r\n    return this._time;\r\n  }\r\n  set time(v) {\r\n    this._time = v\r\n  }\r\n  /**\r\n   * 表示该属性是否是常量。\r\n   * @readonly\r\n   */\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n  /**\r\n   * @Event\r\n   * 当此属性发生变化时触发的事件。\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged\r\n  }\r\n  /**\r\n   * 条纹的个数\r\n   * @type {Number}\r\n   */\r\n  get count() {\r\n    return this._count;\r\n  }\r\n  set count(v) {\r\n    this._count = v;\r\n  }\r\n  /**\r\n   * 介于0~1之间，条纹宽度，值越大条纹越宽\r\n   * @return {Number} 条纹宽度\r\n   */\r\n  get gradient() {\r\n    return this._gradient;\r\n  }\r\n  set gradient(v) {\r\n    this._gradient = v;\r\n  }\r\n\r\n  /**\r\n   * 此属性的类型\r\n   * @type {String}\r\n   */\r\n  getType() {\r\n    return Material.DynamicWareType;\r\n  }\r\n\r\n  /**\r\n   * 获取指定时间的属性值。\r\n   * @param  {JulianDate} time  时间\r\n   * @param  {Object} [result] 保存新属性的副本，如果没有指定将自动创建。\r\n   * @return {Object} 修改后的result,如果未提供result参数，则为新实例。\r\n   */\r\n  getValue(time, result) {\r\n    result = defaultValue(result, {});\r\n    if (this._time === undefined) {\r\n      this._time = time.secondsOfDay\r\n    }\r\n    result.time = (time.secondsOfDay - this.time) * 1000 / this.duration;\r\n    result.color = this.color;\r\n    result.count = this.count;\r\n    result.duration = this.duration;\r\n    result.gradient = (this.gradient) * 10 + 1;\r\n    return result\r\n  }\r\n  /**\r\n   * 判断两个属性是否相同。\r\n   * @param  {DynamicWareMaterialProperty} other 另一个属性\r\n   * @return {Bool}   如果相同返回true，否则返回false\r\n   */\r\n  equals(other) {\r\n    return this === other || (other instanceof DynamicWareMaterialProperty &&\r\n      this.count === other.count && this.duration === other.duration &&\r\n      this.color === other.color && this.gradient === other.gradient);\r\n  }\r\n}\r\n\r\nexport default DynamicWareMaterialProperty;\r\n","const shader =\r\n  `\r\n  czm_material czm_getMaterial(czm_materialInput materialInput) {\r\n  czm_material material = czm_getDefaultMaterial(materialInput);\r\n  vec2 st = materialInput.st;\r\n  vec4 imageRgba=texture2D(image, vec2(1.0 - fract(time - st.s),st.t));\r\n  material.alpha =imageRgba.a * color.a;\r\n  material.diffuse = max(color.rgb * material.alpha * 3.0, color.rgb);\r\n  return material;\r\n}\r\n`\r\nexport default shader;\r\n","import polylineFlowShaderSource from '../shader/polylineFlowMaterial';\r\nimport defaultValue from '../core/defaultValue'\r\nimport URL from '../core/URL'\r\nimport Event from '../core/Event';\r\nconst {\r\n  Material,\r\n  Color,\r\n  Property\r\n} = Cesium;\r\n\r\nMaterial.PolylineFlowType = 'PolylineFlow'\r\nMaterial._materialCache.addMaterial(Material.PolylineFlowType, {\r\n  fabric: {\r\n    type: Material.PolylineFlowType,\r\n    uniforms: {\r\n      color: new Color(1.0, 0.0, 0.0),\r\n      image: '',\r\n      time: 0\r\n    },\r\n    source: polylineFlowShaderSource\r\n  }\r\n})\r\n\r\nclass PolylineFlowMaterialProperty {\r\n  /**\r\n   * 流动线，相比 {@link PolylineTrailLinkMaterialProperty},此材质仅仅会用到图片的alpha通道\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Color} [options.color=Cesium.Color.RED] 颜色\r\n   * @param {Number} [options.duration=1000] 动画的周期，值越小动画越快，单位毫秒\r\n   * @param {String|Resource} [options.image] 需要映射到材质的图片\r\n   *\r\n   * @see PolylineTrailLinkMaterialProperty\r\n   */\r\n  constructor(options = {}) {\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._time = defaultValue(options.time, 0);\r\n    this._image = defaultValue(options.image, URL.buildModuleUrl('./assets/images/flowLine.png'));\r\n    this._duration = defaultValue(options.duration, 1000);\r\n    this._definitionChanged = new Event();\r\n  }\r\n\r\n  /**\r\n   * 线颜色\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  get time() {\r\n    return this._time;\r\n  }\r\n  /**\r\n   * 将要映射到纹理的图形\r\n   * @type {String|Resource}\r\n   */\r\n  get image() {\r\n    return this._image;\r\n  }\r\n  set image(v) {\r\n    this._image = v;\r\n  }\r\n  /**\r\n   * 材质发生变化时触发的事件\r\n   * @Event\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged\r\n  }\r\n  /**\r\n   * 获取一个值，该值指示此属性是否恒定。如果getValue对于当前定义始终返回相同的结果，则该属性被视为常量。\r\n   * @readonly\r\n   */\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画周期。\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  /**\r\n   * 此属性的类型\r\n   * @return {String}\r\n   */\r\n  getType(time) {\r\n    return Material.PolylineFlowType;\r\n  }\r\n  /**\r\n   * 获取指定时间的属性值。\r\n   * @param  {JulianDate} time  时间\r\n   * @param  {Object} [result] 保存新属性的副本，如果没有指定将自动创建。\r\n   * @return {Object} 修改后的result,如果未提供result参数，则为新实例。\r\n   */\r\n  getValue(time, result) {\r\n    result = defaultValue(result, {});\r\n    result.color = this.color;\r\n    if (this._time === undefined) {\r\n      this._time = time.secondsOfDay;\r\n    }\r\n    result.time = (time.secondsOfDay - this.time) * 1000 / this.duration;\r\n    result.image = this.image;\r\n    return result\r\n  }\r\n  /**\r\n   * 判断两个材质是否相同\r\n   * @param  {PolylineFlowMaterialProperty} other 作为对比的另一个材质\r\n   * @return {Bool}   两个材质相同返回true,否则返回false\r\n   */\r\n  equals(other) {\r\n    return this === other || (other instanceof PolylineFlowMaterialProperty && this.color === other.color &&\r\n      this.image === other.image);\r\n  }\r\n}\r\n\r\nexport default PolylineFlowMaterialProperty;\r\n","const shader = `\r\nczm_material czm_getMaterial(czm_materialInput materialInput)\r\n{\r\n    czm_material material = czm_getDefaultMaterial(materialInput);\r\n\r\n    vec2 st = materialInput.st;\r\n    float glow = glowPower / abs(st.t - 0.5) - (glowPower / 0.5);\r\n\r\n    if (taperPower <= 0.99999) {\r\n        glow *= min(1.0, taperPower / (0.5 - st.s * 0.5) - (taperPower / 0.5));\r\n    }\r\n\r\n    vec4 fragColor;\r\n    fragColor.rgb = max(vec3(glow - 1.0 + color.rgb), color.rgb);\r\n    fragColor.a = texture2D(image,vec2(fract(time-st.s),st.t)).a * color.a;\r\n    fragColor = czm_gammaCorrect(fragColor);\r\n\r\n    material.emission = fragColor.rgb;\r\n    material.alpha = fragColor.a;\r\n\r\n    return material;\r\n}\r\n`\r\nexport default shader;\r\n","import polylineGlowMaterialShaderSource from '../shader/polylineGlowMaterial'\r\nimport defaultValue from '../core/defaultValue'\r\nimport Event from '../core/Event';\r\nimport URL from '../core/URL'\r\nconst {\r\n  Material,\r\n  Color,\r\n  Property\r\n} = Cesium;\r\n\r\nMaterial.PolylineDynamicGlowType = \"PolylineDynamicGlow\";\r\nMaterial._materialCache.addMaterial(Material.PolylineDynamicGlowType, {\r\n  fabric: {\r\n    type: Material.PolylineDynamicGlowType,\r\n    uniforms: {\r\n      color: new Color(1.0, 0.0, 0.0),\r\n      image: '',\r\n      time: 0,\r\n      glowPower: 0.2,\r\n      taperPower: 1.0\r\n    },\r\n    source: polylineGlowMaterialShaderSource\r\n  }\r\n})\r\nclass PolylineGlowMaterialProperty {\r\n  /**\r\n   * 创建一个边缘发光的流动材质。\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Color} [options.color=Cesium.Color.RED] 该颜色将会和图片颜色做alpha混合\r\n   * @param {String|Resource} [options.image] 将要映射的图形纹理\r\n   * @param {Number} [options.duration=1000] 动画周期，值越小，动画传播速度越快\r\n   * @param {Number} [options.factor=0.0] alpha混合因子，0~1\r\n   *\r\n   * @see PolylineFlowMaterialProperty\r\n   * @see PolylineTrailLinkMaterialProperty\r\n   */\r\n  constructor(options = {}) {\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._time = defaultValue(options.time, 0);\r\n    this._image = defaultValue(options.image, URL.buildModuleUrl('./assets/images/colors.png'));\r\n    this._duration = defaultValue(options.duration, 1000);\r\n    this._taperPower = defaultValue(options.taperPower, 1.0);\r\n    this._glowPower = defaultValue(options.glowPower, 0.2);\r\n    this._definitionChanged = new Event();\r\n  }\r\n\r\n  /**\r\n   * 材质的颜色\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画同期，决定了动画的传播速度，值越小，速度越快，单位毫秒。\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  get time() {\r\n    return this._time;\r\n  }\r\n  set time(v) {\r\n    this._time = v\r\n  }\r\n  /**\r\n   * 表示该属性是否是常量。\r\n   * @readonly\r\n   */\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n  /**\r\n   * @Event\r\n   * 当此属性发生变化时触发的事件。\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged\r\n  }\r\n  /**\r\n   * 将要映射到材质的图片纹理\r\n   * @type {String|Resource}\r\n   */\r\n  get image() {\r\n    return this._image;\r\n  }\r\n  set image(v) {\r\n    this._image = v;\r\n  }\r\n\r\n  /**\r\n   * 此属性的类型\r\n   * @type {String}\r\n   */\r\n  getType() {\r\n    return Material.PolylineDynamicGlowType;\r\n  }\r\n\r\n  /**\r\n   * 获取指定时间的属性值。\r\n   * @param  {JulianDate} time  时间\r\n   * @param  {Object} [result] 保存新属性的副本，如果没有指定将自动创建。\r\n   * @return {Object} 修改后的result,如果未提供result参数，则为新实例。\r\n   */\r\n  getValue(time, result) {\r\n    result = defaultValue(result, {});\r\n    if (this._time === undefined) {\r\n      this._time = time.secondsOfDay;\r\n    }\r\n    result.time = (time.secondsOfDay - this.time) * 1000 / this.duration;\r\n    result.color = this.color;\r\n    result.image = this.image;\r\n    result.glowPower = this._glowPower;\r\n    result.taperPower = this._taperPower;\r\n    return result\r\n  }\r\n  /**\r\n   * 判断两个属性是否相同。\r\n   * @param  {PolylineGlowMaterialProperty} other 另一个属性\r\n   * @return {Bool}   如果相同返回true，否则返回false\r\n   */\r\n  equals(other) {\r\n    return this === other || (other instanceof PolylineGlowMaterialProperty &&\r\n      this.color === other.color && this.image === other.image);\r\n  }\r\n}\r\n\r\nexport default PolylineGlowMaterialProperty;\r\n","const shader = `czm_material czm_getMaterial(czm_materialInput materialInput)\r\n    {\r\n         czm_material material = czm_getDefaultMaterial(materialInput);\r\n         vec2 st = materialInput.st;\r\n         vec4 colorImage = texture2D(image, vec2(fract(st.s - time), st.t));\r\n         material.alpha=colorImage.a*color.a;\r\n         float factor=colorImage.a;\r\n         material.diffuse=mix(color.rgb,colorImage.rgb,factor);\r\n         return material;\r\n        }`;\r\nexport default shader;\r\n","import polylineTrailLinkMaterialShaderSource from '../shader/polylineTrailLinkMaterial'\r\nimport defaultValue from '../core/defaultValue'\r\nimport Event from '../core/Event';\r\nimport URL from '../core/URL'\r\nconst {\r\n  Material,\r\n  Color,\r\n  Property\r\n} = Cesium;\r\n\r\nMaterial.PolylineTrailLinkType = \"PolylineTrailLink\";\r\nMaterial._materialCache.addMaterial(Material.PolylineTrailLinkType, {\r\n  fabric: {\r\n    type: Material.PolylineTrailLinkType,\r\n    uniforms: {\r\n      color: new Color(1.0, 0.0, 0.0),\r\n      image: '',\r\n      time: 0\r\n    },\r\n    source: polylineTrailLinkMaterialShaderSource\r\n  }\r\n})\r\nclass PolylineTrailLinkMaterialProperty {\r\n  /**\r\n   * 创建一个流动材质，和{@link PolylineFlowMaterialProperty}不同的是，它会映射图形的rgb值，而不仅仅是alpha。\r\n   * @param {Object} [options={}] 具有以下属性\r\n   * @param {Color} [options.color=Cesium.Color.RED] 该颜色将会和图片颜色做alpha混合\r\n   * @param {String|Resource} [options.image] 将要映射的图形纹理\r\n   * @param {Number} [options.duration=1000] 动画周期，值越小，动画传播速度越快\r\n   * @param {Number} [options.factor=0.0] alpha混合因子，0~1\r\n   *\r\n   * @see PolylineFlowMaterialProperty\r\n   */\r\n  constructor(options = {}) {\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._time = defaultValue(options.time, 0);\r\n    this._image = defaultValue(options.image, URL.buildModuleUrl('./assets/images/colors.png'));\r\n    this._duration = defaultValue(options.duration, 1000);\r\n    this._definitionChanged = new Event();\r\n  }\r\n\r\n  /**\r\n   * 材质的颜色\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画同期，决定了动画的传播速度，值越小，速度越快，单位毫秒。\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  get time() {\r\n    return this._time;\r\n  }\r\n  set time(v) {\r\n    this._time = v\r\n  }\r\n  /**\r\n   * 表示该属性是否是常量。\r\n   * @readonly\r\n   */\r\n  get isConstant() {\r\n    return false;\r\n  }\r\n  /**\r\n   * @Event\r\n   * 当此属性发生变化时触发的事件。\r\n   */\r\n  get definitionChanged() {\r\n    return this._definitionChanged\r\n  }\r\n  /**\r\n   * 将要映射到材质的图片纹理\r\n   * @type {String|Resource}\r\n   */\r\n  get image() {\r\n    return this._image;\r\n  }\r\n  set image(v) {\r\n    this._image = v;\r\n  }\r\n\r\n  /**\r\n   * 此属性的类型\r\n   * @type {String}\r\n   */\r\n  getType() {\r\n    return Material.PolylineTrailLinkType;\r\n  }\r\n\r\n  /**\r\n   * 获取指定时间的属性值。\r\n   * @param  {JulianDate} time  时间\r\n   * @param  {Object} [result] 保存新属性的副本，如果没有指定将自动创建。\r\n   * @return {Object} 修改后的result,如果未提供result参数，则为新实例。\r\n   */\r\n  getValue(time, result) {\r\n    result = defaultValue(result, {});\r\n    if (this._time === undefined) {\r\n      this._time = time.secondsOfDay;\r\n    }\r\n    result.time = (time.secondsOfDay - this.time) * 1000 / this.duration;\r\n    result.color = this.color;\r\n    result.image = this.image;\r\n    return result\r\n  }\r\n  /**\r\n   * 判断两个属性是否相同。\r\n   * @param  {PolylineTrailLinkMaterialProperty} other 另一个属性\r\n   * @return {Bool}   如果相同返回true，否则返回false\r\n   */\r\n  equals(other) {\r\n    return this === other || (other instanceof PolylineTrailLinkMaterialProperty &&\r\n      this.color === other.color && this.image === other.image);\r\n  }\r\n}\r\n\r\nexport default PolylineTrailLinkMaterialProperty;\r\n","const vs = `\r\nattribute vec3 position3DHigh;\r\nattribute vec3 position3DLow;\r\nattribute vec2 st;\r\nattribute float batchId;\r\nvarying vec3 v_positionEC;\r\nvarying vec3 v_positionMC;\r\nvarying vec2 v_st;\r\nvoid main(){\r\n  vec4 position=czm_computePosition();\r\n  v_positionEC=(czm_modelViewRelativeToEye*position).xyz;\r\n  v_st=st;\r\n  v_positionMC=position3DHigh+position3DLow;\r\n  gl_Position=czm_modelViewProjectionRelativeToEye*position;\r\n}\r\n`\r\nexport default vs;\r\n","const fs = `\r\nvarying vec3 v_positionEC;\r\nvarying vec3 v_positionMC;\r\nvarying vec2 v_st;\r\nvoid main(){\r\n  czm_materialInput materialInput;\r\n  vec3 normalEC=normalize(czm_normal3D*czm_geodeticSurfaceNormal(v_positionMC,vec3(0.0),vec3(1.0)));\r\n  #ifdef FACE_FORWARD\r\n  normalEC=faceforward(normalEC,vec3(0.0,0.0,1.0),-normalEC);\r\n  #endif\r\n  materialInput.s=v_st.s;\r\n  materialInput.st=v_st;\r\n  materialInput.str=vec3(v_st,0.0);\r\n  materialInput.normalEC=normalEC;\r\n  materialInput.tangentToEyeMatrix=czm_eastNorthUpToEyeCoordinates(v_positionMC,materialInput.normalEC);\r\n  vec3 positionToEyeEC=-v_positionEC;\r\n  czm_material material =czm_getMaterial(materialInput);\r\n  #ifdef FLAT\r\n  gl_FragColor=vec4(material.diffuse+material.emission,material.alpha);\r\n  gl_FragColor.a={alpha};\r\n  #else\r\n  gl_FragColor=czm_phong(normalize(positionToEyeEC),material,czm_lightDirectionEC);\r\n  gl_FragColor.a={alpha};\r\n  #endif\r\n}\r\n`\r\nexport default fs;\r\n","const shader = `\r\nuniform sampler2D specularMap;\r\nuniform sampler2D normalMap;\r\nuniform vec4 baseWaterColor;\r\nuniform vec4 blendColor;\r\nuniform float frequency;\r\nuniform float animationSpeed;\r\nuniform float amplitude;\r\nuniform float specularIntensity;\r\nuniform float fadeFactor;\r\nuniform vec4 sizeAndVelocity;\r\n\r\nczm_material czm_getMaterial(czm_materialInput materialInput)\r\n{\r\n    float width = sizeAndVelocity.x;\r\n    float height = sizeAndVelocity.y;\r\n    float vx = sizeAndVelocity.z;\r\n    float vy = sizeAndVelocity.w;\r\n    czm_material material = czm_getDefaultMaterial(materialInput);\r\n\r\n    float time = czm_frameNumber * animationSpeed;\r\n\r\n    // fade is a function of the distance from the fragment and the frequency of the waves\r\n    float fade = max(1.0, (length(materialInput.positionToEyeEC) / 10000000000.0) * frequency * fadeFactor);\r\n\r\n    // note: not using directional motion at this time, just set the angle to 0.0;\r\n    vec2 st = materialInput.st * vec2(width, height) / 100.0 * frequency;\r\n    st -= vec2(vx*time, vy*time);\r\n    vec4 noise = czm_getWaterNoise(normalMap, st, time, 0.0);\r\n    vec3 normalTangentSpace = noise.xyz * vec3(1.0, 1.0, (1.0 / amplitude));\r\n\r\n    // fade out the normal perturbation as we move further from the water surface\r\n    normalTangentSpace.xy /= fade;\r\n    normalTangentSpace = normalize(normalTangentSpace);\r\n\r\n    // get ratios for alignment of the new normal vector with a vector perpendicular to the tangent plane\r\n    float tsPerturbationRatio = clamp(dot(normalTangentSpace, vec3(0.0, 0.0, 1.0)), 0.0, 1.0);\r\n\r\n    // base color is a blend of the water and non-water color based on the value from the specular map\r\n    // may need a uniform blend factor to better control this\r\n    vec2 v = gl_FragCoord.xy / czm_viewport.zw;\r\n    v.y = 1.0 - v.y;\r\n    material.diffuse = texture2D(specularMap, v + noise.xy*0.03).rgb;\r\n\r\n    // diffuse highlights are based on how perturbed the normal is\r\n    material.diffuse += (0.1 * tsPerturbationRatio);\r\n\r\n    material.diffuse = mix(baseWaterColor.rgb, material.diffuse, blendColor.rgb);\r\n    material.normal = normalize(materialInput.tangentToEyeMatrix * normalTangentSpace);\r\n\r\n    material.specular = specularIntensity;\r\n    material.shininess = 10.0;\r\n    material.alpha = baseWaterColor.a * blendColor.a;\r\n\r\n    return material;\r\n}\r\n`\r\nexport default shader\r\n","import vsTemplate from '../shader/waterAppearanceVS';\r\nimport fsTemplate from '../shader/waterAppearanceFS';\r\nimport shaderSource from '../shader/waterFaceMaterial'\r\nimport defaultValue from '../core/defaultValue'\r\nimport Event from '../core/Event';\r\nimport URL from '../core/URL'\r\nconst {\r\n  Material,\r\n  Color\r\n} = Cesium;\r\n\r\nclass WaterFaceAppearance {\r\n  /**\r\n   * 水面材质\r\n   * @param {Object} options 具有以下属性\r\n   * @param {String} [options.normalMap] 法线贴图\r\n   * @param {Cesium.Color} [options.baseWaterColor=new Cesium.Color(0, 0.42, 0.71)] 水的颜色\r\n   * @param {Cesium.Color} [options.blendColor=options.baseWaterColor] 从水到非水区域混合时使用的颜色\r\n   * @param {Number} [options.frequency=8000] 波数\r\n   * @param {Number} [options.animationSpeed=0.02] 水面动画速度的\r\n   * @param {Number} [options.amplitude=5] 水波振幅字\r\n   * @param {Number} [options.specularIntensity=0.8] 镜面反射强度\r\n   * @param {Number} [options.alpha=0.4] 水面透明度\r\n   * @param {String|Cesium.Resource} [options.normalMap] 水正常扰动的法线贴图\r\n   *\r\n   */\r\n  constructor(options) {\r\n    options = defaultValue(options, {});\r\n    this._normalMap = defaultValue(options.normalMap, URL.buildModuleUrl('./assets/images/waterNormal.jpg'));\r\n    this._baseWaterColor = defaultValue(options.baseWaterColor, new Cesium.Color(0, 0.42, 0.71));\r\n    this._blendColor = defaultValue(options.blendColor, this._baseWaterColor);\r\n    this._frequency = defaultValue(options.frequency, 8000);\r\n    this._animationSpeed = defaultValue(options.animationSpeed, 0.02);\r\n    this._amplitude = defaultValue(options.amplitude, 5);\r\n    this._specularIntensity = defaultValue(options.specularIntensity, 0.8);\r\n    this._fadeFactor = defaultValue(options.fadeFactor, 1);\r\n    this._alpha = defaultValue(options.alpha, 0.4);\r\n    this._material = new Material({\r\n      fabric: {\r\n        type: Material.WaterType,\r\n        uniforms: {\r\n          normalMap: this._normalMap,\r\n          baseWaterColor: this._baseWaterColor,\r\n          blendColor: this._blendColor,\r\n          frequency: this._frequency,\r\n          animationSpeed: this._animationSpeed,\r\n          amplitude: this._amplitude,\r\n          specularIntensity: this._specularIntensity,\r\n          fadeFactor: this._fadeFactor\r\n        }\r\n      }\r\n    })\r\n    return new Cesium.MaterialAppearance({\r\n      material: this._material,\r\n      faceForward: true,\r\n      vertexShaderSource: this.vertexShaderSource,\r\n      fragmentShaderSource: this.fragmentShaderSource\r\n    })\r\n  }\r\n  get vertexShaderSource() {\r\n    return vsTemplate;\r\n  }\r\n  get fragmentShaderSource() {\r\n    const fs = fsTemplate.replace(/{alpha}/g, this._alpha);\r\n    return fs;\r\n  }\r\n}\r\nexport default WaterFaceAppearance;\r\n","const shader = `\r\nuniform sampler2D colorTexture;\r\nvarying vec2 v_textureCoordinates;\r\nvoid main(){\r\n  vec4 color=texture2D(colorTexture,v_textureCoordinates);\r\n  if(czm_selected()){\r\n    gl_FragColor=color;\r\n  }else{\r\n    gl_FragColor=vec4(0.0);\r\n  }\r\n}\r\n`\r\nexport default shader;\r\n","const shader = `\r\nuniform sampler2D colorTexture;\r\nuniform vec2 direction;\r\nuniform float scale;\r\nuniform float bloomRadius;\r\nfloat gaussianPdf(in float x, in float sigma) {\r\n  return 0.39894 * exp(-0.5 * x * x/(sigma * sigma))/sigma;\r\n}\r\nvoid main(){\r\n  vec4 color=texture2D(colorTexture,v_textureCoordinates);\r\n  float fSigma=float(SIGMA);\r\n  vec2 size=vec2(czm_viewport.z,czm_viewport.w)*scale*fSigma*2.0;\r\n  vec2 invSize=(1.0+bloomRadius)/size;\r\n  float weightSum=gaussianPdf(0.0,fSigma);\r\n  vec3 diffuseSum=texture2D(colorTexture,v_textureCoordinates).rgb*weightSum;\r\n  bool selected=false;\r\n  for(int i=0;i<KERNEL_RADIUS;i++){\r\n    float x=float(i);\r\n    float w=gaussianPdf(x,fSigma);\r\n    vec2 uvOffset=direction*invSize*x;\r\n    vec3 sample1=texture2D(colorTexture,v_textureCoordinates+uvOffset).rgb;\r\n    vec3 sample2=texture2D(colorTexture,v_textureCoordinates-uvOffset).rgb;\r\n    diffuseSum+=(sample1+sample2)*w;\r\n    weightSum+=2.0*w;\r\n  }\r\n  gl_FragColor=vec4(diffuseSum/weightSum,2.0);\r\n}\r\n`\r\nexport default shader;\r\n","const shader = `\r\n#define NUM_MIPS 5\r\nvarying vec2 v_textureCoordinates;\r\nuniform sampler2D blurTexture1;\r\nuniform sampler2D blurTexture2;\r\nuniform sampler2D blurTexture3;\r\nuniform sampler2D blurTexture4;\r\nuniform sampler2D blurTexture5;\r\nuniform sampler2D colorTexture;\r\nuniform float bloomStrength;\r\nuniform float bloomRadius;\r\nuniform float bloomFactors[NUM_MIPS];\r\nuniform vec3 bloomTintColors[NUM_MIPS];\r\nfloat lerpBloomFactor(const in float factor){\r\n  float mirrorFactor=1.2-factor;\r\n  return mix(factor,mirrorFactor,bloomRadius);\r\n}\r\nvoid main(){\r\n  vec4 color=texture2D(colorTexture,v_textureCoordinates);\r\n  gl_FragColor=bloomStrength*(\r\n    lerpBloomFactor(bloomFactors[0])*vec4(bloomTintColors[0],1.0)*texture2D(blurTexture1,v_textureCoordinates)+\r\n    lerpBloomFactor(bloomFactors[1])*vec4(bloomTintColors[1],1.0)*texture2D(blurTexture2,v_textureCoordinates)+\r\n    lerpBloomFactor(bloomFactors[2])*vec4(bloomTintColors[2],1.0)*texture2D(blurTexture3,v_textureCoordinates)+\r\n    lerpBloomFactor(bloomFactors[3])*vec4(bloomTintColors[3],1.0)*texture2D(blurTexture4,v_textureCoordinates)+\r\n    lerpBloomFactor(bloomFactors[4])*vec4(bloomTintColors[4],1.0)*texture2D(blurTexture5,v_textureCoordinates)\r\n  )+color;\r\n}`\r\nexport default shader;\r\n","import selectFrag from '../shader/PostProcessStage/selected';\r\nimport blurFrag from \"../shader/PostProcessStage//seperableBlur\";\r\nimport bloomFrag from \"../shader/PostProcessStage//bloom\";\r\nclass BloomPass {\r\n  constructor() {\r\n    const kernelSizeArray = [3, 5, 7, 9, 11];\r\n    this.nMips = kernelSizeArray.length;\r\n    let scale = 0.5;\r\n    let array = [];\r\n    const selectPass = new Cesium.PostProcessStage({\r\n      fragmentShader: selectFrag,\r\n    })\r\n    array.push(selectPass);\r\n\r\n    for (let i = 0; i < this.nMips; i++) {\r\n      const blurX = this.createBlurPass(kernelSizeArray[i], new Cesium.Cartesian2(1.0, 0.0), scale);\r\n      const blurY = this.createBlurPass(kernelSizeArray[i], new Cesium.Cartesian2(0.0, 1.0), scale);\r\n      array.push(blurX, blurY);\r\n      scale /= 2;\r\n    }\r\n    const blurUnion = new Cesium.PostProcessStageComposite({\r\n      stages: array\r\n    })\r\n    const bloomPass = new Cesium.PostProcessStage({\r\n      fragmentShader: bloomFrag,\r\n      uniforms: {\r\n        bloomStrength: 3.0,\r\n        bloomRadius: 1.0,\r\n        blurTexture1: array[2].name,\r\n        blurTexture2: array[4].name,\r\n        blurTexture3: array[6].name,\r\n        blurTexture4: array[8].name,\r\n        blurTexture5: array[10].name,\r\n        bloomFactors: [1.0, 0.8, 0.6, 0.4, 0.2],\r\n        bloomTintColors: [\r\n          new Cesium.Cartesian3(1, 1, 1),\r\n          new Cesium.Cartesian3(1, 1, 1),\r\n          new Cesium.Cartesian3(1, 1, 1),\r\n          new Cesium.Cartesian3(1, 1, 1),\r\n          new Cesium.Cartesian3(1, 1, 1)\r\n        ]\r\n      }\r\n    })\r\n    const uniforms = {};\r\n    Object.defineProperties(uniforms, {\r\n      bloomStrength: {\r\n        get: function() {\r\n          return bloomPass.uniforms.bloomStrength;\r\n        },\r\n        set: function(value) {\r\n          bloomPass.uniforms.bloomStrength = value;\r\n        }\r\n      },\r\n      bloomRadius: {\r\n        get: function() {\r\n          return bloomPass.uniforms.bloomRadius;\r\n        },\r\n        set: function(value) {\r\n          array[2].uniforms.bloomRadius = value;\r\n          array[4].uniforms.bloomRadius = value;\r\n          array[6].uniforms.bloomRadius = value;\r\n          array[8].uniforms.bloomRadius = value;\r\n          array[10].uniforms.bloomRadius = value;\r\n          bloomPass.uniforms.bloomRadius = value;\r\n        }\r\n      }\r\n    });\r\n    const bloomPassComposite = new Cesium.PostProcessStageComposite({\r\n      stages: [blurUnion, bloomPass],\r\n      inputPreviousStageTexture: false,\r\n      uniforms\r\n    });\r\n    return bloomPassComposite;\r\n  }\r\n  createBlurPass(kernelRadius, direction, size) {\r\n    return new Cesium.PostProcessStage({\r\n      fragmentShader: `#define KERNEL_RADIUS ${kernelRadius} \\n\r\n                      #define SIGMA ${kernelRadius} \\n\r\n                      ${blurFrag}`,\r\n      uniforms: {\r\n        direction,\r\n        scale: size,\r\n        bloomRadius: 0.0\r\n      },\r\n      sampleMode: Cesium.PostProcessStageSampleMode.LINEAR\r\n    })\r\n  }\r\n\r\n}\r\nexport default BloomPass;\r\n","const shader = `\r\nuniform sampler2D colorTexture;\r\nuniform sampler2D depthTexture;\r\nvarying vec2 v_textureCoordinates;\r\nuniform vec3 center;\r\nuniform float radius;\r\nuniform vec4 color;\r\nuniform vec3 normal;\r\nvec4 toEye(in vec2 uv,in float depth){\r\n  vec2 xy=vec2(uv.x*2.0-1.0,uv.y*2.0-1.0);\r\n  vec4 positionInCamera=czm_inverseProjection*vec4(xy,depth,1.0);\r\n  positionInCamera=positionInCamera/positionInCamera.w;\r\n  return positionInCamera;\r\n}\r\nvec3 pointProjectOnPlane(in vec3 normal,in vec3 origin,in vec3 point){\r\n  vec3 offset=point-origin;\r\n  float d=dot(offset,normal);\r\n  // float cosA=d/(length(normal)+length(point));\r\n  // float sinA=pow((1.0-cosA*cosA),0.5);\r\n  // return point*sinA;\r\n  return point-d*normal;\r\n}\r\nfloat getDepth(in vec4 depth){\r\n  float z_window=czm_unpackDepth(depth);\r\n  z_window=czm_reverseLogDepth(z_window);\r\n  float n_range=czm_depthRange.near;\r\n  float f_range=czm_depthRange.far;\r\n  return (2.0*z_window-n_range-f_range)/(f_range-n_range);\r\n}\r\nvoid main(){\r\n  gl_FragColor=texture2D(colorTexture,v_textureCoordinates);\r\n  float depth=getDepth(texture2D(depthTexture,v_textureCoordinates));\r\n  vec4 viewPos=toEye(v_textureCoordinates,depth);\r\n  vec3 planePosition=pointProjectOnPlane(normal.xyz,center.xyz,viewPos.xyz);\r\n  float dis=distance(planePosition.xyz,center.xyz);\r\n  if(dis<radius){\r\n    float f=1.0-abs(radius-dis)/radius;\r\n    f=pow(f,4.0);\r\n    gl_FragColor=mix(gl_FragColor,color,f);\r\n  }\r\n}\r\n`\r\n\r\nexport default shader;\r\n","import checkViewer from '../core/checkViewer';\r\nimport defaultValue from '../core/defaultValue';\r\nimport flyTo from '../core/flyTo'\r\nimport CesiumProError from '../core/CesiumProError'\r\nimport defined from '../core/defined';\r\nimport abstract from '../core/abstract'\r\nclass PostProcessing {\r\n  /**\r\n   * 后处理类的基类，不要直接创建。\r\n   * @param {Object} [options={}]\r\n   */\r\n  constructor(options) {\r\n    checkViewer(viewer);\r\n    options = defaultValue(options, {})\r\n    this._viewer = viewer;\r\n    this._options = options;\r\n    this._postProcessStage = undefined;\r\n    this.camera = viewer.camera;\r\n  }\r\n  /**\r\n   * 添加到场景。\r\n   * @param {Cesium.Viewer} viewer对象\r\n   * @returns {Cesium.PostProcessStage}\r\n   */\r\n  addTo(viewer) {\r\n    checkViewer(viewer);\r\n    this._viewer = viewer;\r\n    if (!this._postProcessStage) {\r\n      this._postProcessStage = this.createPostStage()\r\n    }\r\n    if (this._viewer.scene.postProcessStages.contains(this._postProcessStage)) {\r\n      return;\r\n    }\r\n    if (!this._postProcessStage) {\r\n      throw new CesiumProError('createPostStage method must reture a Cesium.PostProcessStage object.');\r\n    }\r\n    return this._viewer.scene.postProcessStages.add(this._postProcessStage)\r\n  }\r\n  /**\r\n   * 创建postProcessState，继承该类的子类必须实现它\r\n   * @abstract\r\n   * @return {Cesium.postProcessState}\r\n   */\r\n  createPostStage() {\r\n    abstract()\r\n  }\r\n  /**\r\n   * 指定被选中使用后处理效果的要素\r\n   */\r\n  get selected() {\r\n    if (this._postProcessStage) {\r\n      return this._postProcessStage.selected;\r\n    }\r\n    return []\r\n  }\r\n  set selected(v) {\r\n    if (this._postProcessStage) {\r\n      this._postProcessStage.selected = v;\r\n    }\r\n  }\r\n  /**\r\n   * 从场景移除。\r\n   * @return {Bool} 是否被成功移除\r\n   */\r\n  remove() {\r\n    if (!this._viewer) {\r\n      return;\r\n    }\r\n    return this._viewer.scene.postProcessStages.remove(this._postProcessStage);\r\n  }\r\n  /**\r\n   * 销毁对象。\r\n   */\r\n  destroy() {\r\n    this.remove()\r\n    if (!this._postProcessStage.isDestroyed()) {\r\n      this._postProcessStage.destroy()\r\n    }\r\n    this._viewer = undefined;\r\n  }\r\n  /**\r\n   * 定位到对象。\r\n   */\r\n  zoomTo() {\r\n    if (!this._viewer) {\r\n      return;\r\n    }\r\n    return flyTo(this._viewer, {\r\n      destination: this.center,\r\n      duration: 0\r\n    })\r\n  }\r\n}\r\n\r\nexport default PostProcessing\r\n","import fs from '../shader/postProcessStage/circleScan'\r\nimport PostProcessing from './PostProcessing'\r\nimport defaultValue from '../core/defaultValue';\r\nimport defined from '../core/defined'\r\nclass CircleScan extends PostProcessing {\r\n  /**\r\n   * @extends PostProcessing\r\n   * @see {@link https://www.wellyyss.cn/ysCesium/main/main.html|圆形扫描}\r\n   * @param {options} options 具有以下参数\r\n   * @param {Cesium.Cartesian3} options.center 中心位置\r\n   * @param {Cesium.Color} [options.color=Cesium.Color.RED] 颜色\r\n   * @param {Cesium.duration} [options.duration=1000] 周期，单位毫秒\r\n   * @param {Number} [options.radius] 扩展半径\r\n   *\r\n   */\r\n  constructor(options) {\r\n    super(options);\r\n    if (!defined(options.center)) {\r\n      throw new Error('parameter center is required.')\r\n    }\r\n    this._radius = defaultValue(options.radius, 1000);\r\n    this._duration = defaultValue(options.duration, 1000);\r\n    this._color = defaultValue(options.color, Cesium.Color.RED);\r\n    this._center = options.center;\r\n  }\r\n  /**\r\n   * 中心位置\r\n   * @type {Cesium.Cartesian3}\r\n   */\r\n  get center() {\r\n    return this._center;\r\n  }\r\n  set center(v) {\r\n    this._center = v;\r\n  }\r\n  /**\r\n   * 扩散半径\r\n   * @type {Number}\r\n   */\r\n  get radius() {\r\n    return this._radius;\r\n  }\r\n  set radius(v) {\r\n    this._radius = v;\r\n  }\r\n  /**\r\n   * 颜色\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画周期，单位毫秒\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n  /**\r\n   * 创建postProcessState\r\n   * @override\r\n   * @return {Cesium.postProcessState} postProcessState\r\n   */\r\n  createPostStage() {\r\n    const cartographicCenter = Cesium.Cartographic.fromCartesian(this.center)\r\n    const maxRadius = this.radius\r\n    const scanColor = this.color\r\n    const duration = this.duration\r\n    const _Cartesian3Center = Cesium.Cartographic.toCartesian(cartographicCenter);\r\n    const _Cartesian4Center = new Cesium.Cartesian4(_Cartesian3Center.x, _Cartesian3Center.y, _Cartesian3Center.z, 1);\r\n    const _CartographicCenter1 = new Cesium.Cartographic(cartographicCenter.longitude, cartographicCenter.latitude, cartographicCenter.height + 1);\r\n    const _Cartesian3Center1 = Cesium.Cartographic.toCartesian(_CartographicCenter1);\r\n    const _Cartesian4Center1 = new Cesium.Cartesian4(_Cartesian3Center1.x, _Cartesian3Center1.y, _Cartesian3Center1.z, 1);\r\n    const _time = (new Date()).getTime();\r\n    const _scratchCartesian4Center = new Cesium.Cartesian4();\r\n    const _scratchCartesian4Center1 = new Cesium.Cartesian4();\r\n    const _scratchCartesian3Normal = new Cesium.Cartesian3();\r\n    this.scanPostStage = undefined\r\n    const self = this;\r\n\r\n    return new Cesium.PostProcessStage({\r\n      fragmentShader: fs,\r\n      uniforms: {\r\n        center: function() {\r\n          return Cesium.Matrix4.multiplyByVector(self.camera._viewMatrix, _Cartesian4Center, _scratchCartesian4Center);\r\n        },\r\n        normal: function() {\r\n          const temp = Cesium.Matrix4.multiplyByVector(self.camera._viewMatrix, _Cartesian4Center, _scratchCartesian4Center);\r\n          const temp1 = Cesium.Matrix4.multiplyByVector(self.camera._viewMatrix, _Cartesian4Center1, _scratchCartesian4Center1);\r\n          _scratchCartesian3Normal.x = temp1.x - temp.x;\r\n          _scratchCartesian3Normal.y = temp1.y - temp.y;\r\n          _scratchCartesian3Normal.z = temp1.z - temp.z;\r\n          Cesium.Cartesian3.normalize(_scratchCartesian3Normal, _scratchCartesian3Normal);\r\n          return _scratchCartesian3Normal;\r\n\r\n        },\r\n        radius: function() {\r\n          return maxRadius * (((new Date()).getTime() - _time) % duration) / duration;\r\n        },\r\n        color: scanColor\r\n      }\r\n    });\r\n  }\r\n}\r\nexport default CircleScan;\r\n","const shader = `\r\nuniform sampler2D colorTexture;\r\nuniform sampler2D depthTexture;\r\nvarying vec2 v_textureCoordinates;\r\nuniform vec3 u_center;\r\nuniform vec3 u_lineNormal;\r\nuniform vec3 u_planeNormal;\r\nuniform float radius;\r\nuniform vec4 color;\r\nvec4 toEye(in vec2 uv,in float depth){\r\n  vec2 xy=vec2(uv.x*2.0-1.0,uv.y*2.0-1.0);\r\n  vec4 posInCamera=czm_inverseProjection*vec4(xy,depth,1.0);\r\n  return posInCamera/posInCamera.w;\r\n}\r\nbool isPointOnLineRight(in vec3 ptOnLine,in vec3 normal,in vec3 testPt,in vec3 planeNormal){\r\n  vec3 v01=testPt-ptOnLine;\r\n  v01=normalize(v01);\r\n  vec3 temp=cross(v01,normal);\r\n  float d=dot(temp,planeNormal);\r\n  return d>0.0;\r\n}\r\nvec3 pointProjectOnPlane(in vec3 normal,in vec3 origin,in vec3 point){\r\n  vec3 offset=point-origin;\r\n  float d=dot(normal,offset);\r\n  return (point - d * normal);\r\n}\r\nfloat distancePointToLine(in vec3 ptOnLine,in vec3 normal,in vec3 testPt){\r\n  vec3 tmp=pointProjectOnPlane(normal,ptOnLine,testPt);\r\n  return distance(tmp,ptOnLine);\r\n}\r\nfloat getDepth(in vec4 depth){\r\n  float z_window=czm_unpackDepth(depth);\r\n  z_window=czm_reverseLogDepth(z_window);\r\n  float n_range=czm_depthRange.near;\r\n  float f_range=czm_depthRange.far;\r\n  return (2.0*z_window-n_range-f_range)/(f_range-n_range);\r\n}\r\nvoid main(){\r\n  vec4 center=czm_view * vec4(u_center,1.0);\r\n  vec3 planeNormal=(czm_view*vec4(u_planeNormal,1.0)).xyz;\r\n  planeNormal=normalize(planeNormal);\r\n  vec3 lineNormal=u_lineNormal;\r\n  gl_FragColor = texture2D(colorTexture, v_textureCoordinates);\r\n  float depth=getDepth(texture2D(depthTexture,v_textureCoordinates));\r\n  vec4 viewPos=toEye(v_textureCoordinates,depth);\r\n  vec3 projOnPlane=pointProjectOnPlane(planeNormal.xyz,center.xyz,viewPos.xyz);\r\n  float dis=length(projOnPlane.xyz-center.xyz);\r\n  float radius2=radius*2.0;\r\n  if(dis<radius){\r\n    float f=1.0-abs(radius-dis)/radius;\r\n    f=pow(f,64.0);\r\n    vec3 lineEndPt=vec3(center.xyz)+lineNormal*radius;\r\n    float f0=0.0;\r\n    if(isPointOnLineRight(center.xyz,lineNormal.xyz,projOnPlane.xyz,planeNormal)){\r\n      float dis1=distance(projOnPlane.xyz,lineEndPt);\r\n      f0 = abs(radius2 -dis1) / radius2;\r\n      f0=pow(f0,3.0);\r\n    }\r\n    gl_FragColor=mix(gl_FragColor,color,f+f0);\r\n  }\r\n}\r\n`\r\nexport default shader;\r\n","import defined from '../core/defined';\r\nimport defaultValue from '../core/defaultValue';\r\nimport PostProcessing from './PostProcessing'\r\nimport fs from '../shader/postProcessStage/radarScan'\r\nclass RadarScan extends PostProcessing {\r\n  /**\r\n   * @extends PostProcessing\r\n   * @see {@link https://www.wellyyss.cn/ysCesium/main/main.html|雷达扫描}\r\n   * @param {options} options 具有以下参数\r\n   * @param {Cesium.Cartesian3} options.center 中心位置\r\n   * @param {Cesium.Color} [options.color=Cesium.Color.RED] 颜色\r\n   * @param {Cesium.duration} [options.duration=1000] 周期，单位毫秒\r\n   * @param {Number} [options.radius] 扩展半径\r\n   */\r\n  constructor(options) {\r\n    super(options);\r\n    if (!defined(options.center)) {\r\n      throw new Error('parameter center is required.')\r\n    }\r\n    this._center = options.center;\r\n    this._color = defaultValue(options.color, new Cesium.Color(1.0, 0.0, 0.0, 1.0));\r\n    this._radius = defaultValue(options.radius, 1000);\r\n    this._duration = defaultValue(options.duration, 1000)\r\n  }\r\n  /**\r\n   * 创建postProcessState\r\n   * @override\r\n   * @return {Cesium.postProcessState} postProcessState\r\n   */\r\n  createPostStage() {\r\n    const {\r\n      center,\r\n      radius,\r\n      color,\r\n      duration\r\n    } = this;\r\n    const viewer = this._viewer\r\n    const camera = viewer.camera;\r\n    const Cartographic = Cesium.Cartographic\r\n    const Cartesian3 = Cesium.Cartesian3;\r\n    const toRadians = Cesium.Math.toRadians\r\n\r\n    const cartographicCenter = Cartographic.fromCartesian(center);\r\n    const cartographicCenter1 = new Cartographic(cartographicCenter.longitude,\r\n      cartographicCenter.latitude, cartographicCenter.height + 500);\r\n    const center1 = Cartesian3.fromRadians(cartographicCenter1.longitude,\r\n      cartographicCenter1.latitude, cartographicCenter1.height);\r\n    const cartographicCenter2 = new Cartographic(cartographicCenter.longitude + toRadians(0.001),\r\n      cartographicCenter.latitude, cartographicCenter.height);\r\n    const center2 = Cartesian3.fromRadians(cartographicCenter2.longitude,\r\n      cartographicCenter2.latitude, cartographicCenter2.height);\r\n    const rotateQ = new Cesium.Quaternion();\r\n    const rotateM = new Cesium.Matrix3();\r\n    const time = (new Date).getTime();\r\n    const stratchCartesian3 = new Cartesian3();\r\n    return new Cesium.PostProcessStage({\r\n      fragmentShader: fs,\r\n      uniforms: {\r\n        u_center: this.center,\r\n        u_planeNormal: Cartesian3.subtract(center, center1, new Cartesian3),\r\n        radius: radius,\r\n        u_lineNormal: function() {\r\n          const tmp = Cesium.Matrix4.multiplyByPoint(camera._viewMatrix,\r\n            center, new Cartesian3())\r\n          const tmp1 = Cesium.Matrix4.multiplyByPoint(camera._viewMatrix,\r\n            center1, new Cartesian3())\r\n          const tmp2 = Cesium.Matrix4.multiplyByPoint(camera._viewMatrix,\r\n            center2, new Cartesian3())\r\n          const normal1 = Cartesian3.subtract(tmp, tmp1, tmp1);\r\n          const normal2 = Cartesian3.subtract(tmp, tmp2, tmp2);\r\n          const time1 = (((new Date()).getTime() - time) % duration) / duration;\r\n          Cesium.Quaternion.fromAxisAngle(normal1, time1 * Math.PI * 2, rotateQ)\r\n          Cesium.Matrix3.fromQuaternion(rotateQ, rotateM);\r\n          Cesium.Matrix3.multiplyByVector(rotateM, normal2, normal2);\r\n          Cartesian3.normalize(normal2, normal2)\r\n          return normal2;\r\n        },\r\n        color: color\r\n      }\r\n\r\n    })\r\n  }\r\n  /**\r\n   * 中心位置\r\n   * @type {Cesium.Cartesian3}\r\n   */\r\n  get center() {\r\n    return this._center;\r\n  }\r\n  set center(v) {\r\n    this._center = v;\r\n  }\r\n  /**\r\n   * 扩散半径\r\n   * @type {Number}\r\n   */\r\n  get radius() {\r\n    return this._radius;\r\n  }\r\n  set radius(v) {\r\n    this._radius = v;\r\n  }\r\n  /**\r\n   * 颜色\r\n   * @type {Cesium.Color}\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n  set color(v) {\r\n    this._color = v;\r\n  }\r\n  /**\r\n   * 动画周期，单位毫秒\r\n   * @type {Number}\r\n   */\r\n  get duration() {\r\n    return this._duration;\r\n  }\r\n  set duration(v) {\r\n    this._duration = v;\r\n  }\r\n\r\n}\r\nexport default RadarScan;\r\n","const shader = `\r\n#extension GL_OES_standard_derivatives:enable\r\nuniform sampler2D colorTexture;\r\nuniform sampler2D depthTexture;\r\nvarying vec2 v_textureCoordinates;\r\nvec4 toEye(in vec2 uv,in float depth){\r\n  vec2 xy=vec2(uv.x*2.0-1.0,uv.y*2.0-1.0);\r\n  vec4 posInCamera = czm_inverseProjection*vec4(xy,depth,1.0);\r\n  posInCamera=posInCamera/posInCamera.w;\r\n  return posInCamera;\r\n}\r\nfloat getDepth(in vec4 depth){\r\n  float z_window=czm_unpackDepth(depth);\r\n  z_window=czm_reverseLogDepth(z_window);\r\n  float n_range=czm_depthRange.near;\r\n  float f_range=czm_depthRange.far;\r\n  return (2.0*z_window-n_range-f_range)/(f_range-n_range);\r\n}\r\nvec3 guussColor(vec2 uv){\r\n  vec2 pixelSize=1.0/czm_viewport.zw;\r\n  float dx0=-pixelSize.x;\r\n  float dy0=-pixelSize.y;\r\n  float dx1=pixelSize.x;\r\n  float dy1=pixelSize.y;\r\n  vec4 color1=texture2D(colorTexture,uv);\r\n  vec4 color2=texture2D(colorTexture,uv+vec2(dx0,dy0));\r\n  vec4 color3=texture2D(colorTexture,uv+vec2(0.0,dy0));\r\n  vec4 color4=texture2D(colorTexture,uv+vec2(dx1,dy0));\r\n  vec4 color5=texture2D(colorTexture,uv+vec2(dx0,0.0));\r\n  vec4 color6=texture2D(colorTexture,uv+vec2(dx1,0.0));\r\n  vec4 color7=texture2D(colorTexture,uv+vec2(dx0,dy1));\r\n  vec4 color8=texture2D(colorTexture,uv+vec2(0.0,dy1));\r\n  vec4 color9=texture2D(colorTexture,uv+vec2(dx1,dy1));\r\n  vec4 gc=(color1+color2+color3+color4+color5+color6+color7+color8+color9)*(1.0/9.0);\r\n  return gc.rgb;\r\n}\r\nvoid main(){\r\n  float offset=0.0;\r\n  vec4 color=texture2D(colorTexture,v_textureCoordinates);\r\n  vec4 cd=texture2D(depthTexture,v_textureCoordinates);\r\n  if(cd.r>=1.0){\r\n    gl_FragColor=color;\r\n    return;\r\n  }\r\n  float depth=getDepth(cd);\r\n  vec4 positionEC=toEye(v_textureCoordinates,depth);\r\n  vec3 dx=dFdx(positionEC.xyz);\r\n  vec3 dy=dFdy(positionEC.xyz);\r\n  vec3 normal=normalize(cross(dx,dy));\r\n  vec4 positionWC=normalize(czm_inverseView*positionEC);\r\n  vec3 normalWC=normalize(czm_inverseViewRotation*normal);\r\n  float fotNumWC=dot(positionWC.xyz,normalWC);\r\n  if(fotNumWC<=0.5){\r\n    gl_FragColor=color;\r\n    return;\r\n  }\r\n  vec3 viewDir=normalize(positionEC.xyz);\r\n  vec3 reflectDir=reflect(viewDir,normal);\r\n  vec3 viewReflectDir=reflectDir;\r\n  float step=0.05;\r\n  int stepNum=int(20.0/step);\r\n  vec3 pos;\r\n  vec3 albedo;\r\n  bool jd=false;\r\n  for(int i=0;i<=400;i++){\r\n    float delta=step*float(i)+offset;\r\n    pos=positionEC.xyz+viewReflectDir*delta;\r\n    float d=-pos.z;\r\n    vec4 temp=czm_projection*vec4(pos,1.0);\r\n    vec3 screenPos=temp.xyz/temp.w;\r\n    vec2 uv=vec2(screenPos.x,screenPos.y)*0.5+vec2(0.5);\r\n    if(uv.x>0.0&&uv.y>0.0&&uv.x<1.0&&uv.y<1.0){\r\n      float dd=getDepth(texture2D(depthTexture,uv));\r\n      vec4 jzc=toEye(uv,dd);\r\n      dd=-jzc.z;\r\n      if(d>dd){\r\n        if(abs(abs(d)-abs(dd))<=step){\r\n          jd=true;\r\n          albedo=guussColor(uv);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  if(jd&&bool(czm_selected())){\r\n    gl_FragColor=vec4(mix(color.xyz,albedo,0.5),1.0);\r\n  }else{\r\n    gl_FragColor=color;\r\n  }\r\n}`\r\nexport default shader;\r\n","import fs from '../shader/postProcessStage/specularReflection'\r\nimport PostProcessing from './PostProcessing'\r\nimport defaultValue from '../core/defaultValue';\r\nimport defined from '../core/defined'\r\n\r\nclass SpecularReflection extends PostProcessing {\r\n  constructor(viewer, options) {\r\n    super(viewer, options);\r\n  }\r\n  createPostStage() {\r\n    const stage =\r\n      new Cesium.PostProcessStage({\r\n        fragmentShader: fs,\r\n        uniforms: {\r\n\r\n        }\r\n      })\r\n    stage.selected = [];\r\n    return stage;\r\n  }\r\n}\r\nexport default SpecularReflection\r\n","// import selectFrag from \"./shaders/select\";\r\n// import blurFrag from \"./shaders/seperableBlur\";\r\n// import bloomFrag from \"./shaders/bloom\";\r\nlet selectFrag = '',\r\n  blurFrag = '',\r\n  bloomFrag = ''\r\nclass BloomPass {\r\n  constructor() {\r\n    const kernelSizeArray = [3, 5, 7, 9, 11];\r\n    this.nMips = kernelSizeArray.length;\r\n    let scale = 0.5;\r\n    let array = [];\r\n    const selectPass = new Cesium.PostProcessStage({\r\n      fragmentShader: selectFrag,\r\n    })\r\n    array.push(selectPass);\r\n\r\n    for (let i = 0; i < this.nMips; i++) {\r\n      const blurX = this.createBlurPass(kernelSizeArray[i], new Cesium.Cartesian2(1.0, 0.0), scale);\r\n      const blurY = this.createBlurPass(kernelSizeArray[i], new Cesium.Cartesian2(0.0, 1.0), scale);\r\n      array.push(blurX, blurY);\r\n      scale /= 2;\r\n    }\r\n    const blurUnion = new Cesium.PostProcessStageComposite({\r\n      stages: array\r\n    })\r\n    const bloomPass = new Cesium.PostProcessStage({\r\n      fragmentShader: bloomFrag,\r\n      uniforms: {\r\n        bloomStrength: 3.0,\r\n        bloomRadius: 1.0,\r\n        blurTexture1: array[2].name,\r\n        blurTexture2: array[4].name,\r\n        blurTexture3: array[6].name,\r\n        blurTexture4: array[8].name,\r\n        blurTexture5: array[10].name,\r\n        bloomFactors: [1.0, 0.8, 0.6, 0.4, 0.2],\r\n        bloomTintColors: [\r\n          new Cesium.Cartesian3(1, 1, 1),\r\n          new Cesium.Cartesian3(1, 1, 1),\r\n          new Cesium.Cartesian3(1, 1, 1),\r\n          new Cesium.Cartesian3(1, 1, 1),\r\n          new Cesium.Cartesian3(1, 1, 1)\r\n        ]\r\n      }\r\n    })\r\n    const uniforms = {};\r\n    Object.defineProperties(uniforms, {\r\n      bloomStrength: {\r\n        get: function() {\r\n          return bloomPass.uniforms.bloomStrength;\r\n        },\r\n        set: function(value) {\r\n          bloomPass.uniforms.bloomStrength = value;\r\n        }\r\n      },\r\n      bloomRadius: {\r\n        get: function() {\r\n          return bloomPass.uniforms.bloomRadius;\r\n        },\r\n        set: function(value) {\r\n          array[2].uniforms.bloomRadius = value;\r\n          array[4].uniforms.bloomRadius = value;\r\n          array[6].uniforms.bloomRadius = value;\r\n          array[8].uniforms.bloomRadius = value;\r\n          array[10].uniforms.bloomRadius = value;\r\n          bloomPass.uniforms.bloomRadius = value;\r\n        }\r\n      }\r\n    });\r\n    const bloomPassComposite = new Cesium.PostProcessStageComposite({\r\n      stages: [blurUnion, bloomPass],\r\n      inputPreviousStageTexture: false,\r\n      uniforms\r\n    });\r\n    return bloomPassComposite;\r\n  }\r\n  creatBlurPass(kernelRadius, direction, size) {\r\n    return new Cesium.PostProcessStage({\r\n      fragmentShader: `#define KERNEL_RADIUS ${kernelRadius} \\n\r\n                      #define SIGMA ${kernelRadius} \\n\r\n                      {blurFrag}`,\r\n      uniforms: {\r\n        direction,\r\n        scale: size,\r\n        bloomRadius: 0.0\r\n      },\r\n      sampleMode: Cesium.PostProcessStageSampleMode.LINEAR\r\n    })\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default class UnrealBloomPass {\r\n  constructor() {\r\n    const kernelSizeArray = [3, 5, 7, 9, 11];\r\n    this.nMips = kernelSizeArray.length;\r\n    let scale = 0.5;\r\n    let array = [];\r\n    const selectPass = new Cesium.PostProcessStage({\r\n      fragmentShader: selectFrag\r\n    });\r\n    array.push(selectPass);\r\n\r\n\r\n    Object.defineProperties(uniforms, {\r\n      bloomStrength: {\r\n        get: function() {\r\n          return bloomPass.uniforms.bloomStrength;\r\n        },\r\n        set: function(value) {\r\n          bloomPass.uniforms.bloomStrength = value;\r\n        }\r\n      },\r\n      bloomRadius: {\r\n        get: function() {\r\n          return bloomPass.uniforms.bloomRadius;\r\n        },\r\n        set: function(value) {\r\n          array[2].uniforms.bloomRadius = value;\r\n          array[4].uniforms.bloomRadius = value;\r\n          array[6].uniforms.bloomRadius = value;\r\n          array[8].uniforms.bloomRadius = value;\r\n          array[10].uniforms.bloomRadius = value;\r\n          bloomPass.uniforms.bloomRadius = value;\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","const shader =\r\n  `\r\n  czm_material czm_getMaterial(czm_materialInput materialInput) {\r\n  czm_material material = czm_getDefaultMaterial(materialInput);\r\n  vec2 st = materialInput.st;\r\n  vec4 imageRgba=texture2D(image, vec2(1.0 - fract(time - st.s),st.t));\r\n  material.alpha =imageRgba.a * color.a;\r\n  material.diffuse = max(color.rgb * material.alpha * 3.0, color.rgb);\r\n  return material;\r\n}\r\n`\r\nexport default shader;\r\n","const shader = `\r\nczm_material czm_getMaterial(czm_materialInput materialInput){\r\n  czm_material material=czm_getDefaultMaterial(materialInput);\r\n\r\n}\r\n`\r\n\r\nexport default shader;\r\n","const shader = `\r\nczm_material czm_getMaterial(czm_materialInput materialInput){\r\n  czm_material material=czm_getDefaultMaterial(materialInput);\r\n  vec2 st=materialInput.st;\r\n  material.alpha=fract(time-st.s)*color.a;\r\n  material.diffuse=color.rgb;\r\n  return material;\r\n}\r\n`\r\nexport default shader;\r\n","const tmp={};\r\n(function (global, factory) {\r\n  if (typeof define === \"function\" && define.amd) {\r\n    define([], factory);\r\n  } else if (typeof exports !== \"undefined\") {\r\n    factory();\r\n  } else {\r\n    var mod = {\r\n      exports: {}\r\n    };\r\n    factory();\r\n    global.FileSaver = mod.exports;\r\n  }\r\n})(tmp, function () {\r\n  \"use strict\";\r\n\r\n  /*\r\n  * FileSaver.js\r\n  * A saveAs() FileSaver implementation.\r\n  *\r\n  * By Eli Grey, http://eligrey.com\r\n  *\r\n  * License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\r\n  * source  : http://purl.eligrey.com/github/FileSaver.js\r\n  */\r\n  // The one and only way of getting global scope in all environments\r\n  // https://stackoverflow.com/q/3277182/1008999\r\n  var _global = typeof window === 'object' && window.window === window ? window : typeof self === 'object' && self.self === self ? self : typeof global === 'object' && global.global === global ? global : void 0;\r\n\r\n  function bom(blob, opts) {\r\n    if (typeof opts === 'undefined') opts = {\r\n      autoBom: false\r\n    };else if (typeof opts !== 'object') {\r\n      console.warn('Deprecated: Expected third argument to be a object');\r\n      opts = {\r\n        autoBom: !opts\r\n      };\r\n    } // prepend BOM for UTF-8 XML and text/* types (including HTML)\r\n    // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\r\n\r\n    if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\r\n      return new Blob([String.fromCharCode(0xFEFF), blob], {\r\n        type: blob.type\r\n      });\r\n    }\r\n\r\n    return blob;\r\n  }\r\n\r\n  function download(url, name, opts) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open('GET', url);\r\n    xhr.responseType = 'blob';\r\n\r\n    xhr.onload = function () {\r\n      saveAs(xhr.response, name, opts);\r\n    };\r\n\r\n    xhr.onerror = function () {\r\n      console.error('could not download file');\r\n    };\r\n\r\n    xhr.send();\r\n  }\r\n\r\n  function corsEnabled(url) {\r\n    var xhr = new XMLHttpRequest(); // use sync to avoid popup blocker\r\n\r\n    xhr.open('HEAD', url, false);\r\n\r\n    try {\r\n      xhr.send();\r\n    } catch (e) {}\r\n\r\n    return xhr.status >= 200 && xhr.status <= 299;\r\n  } // `a.click()` doesn't work for all browsers (#465)\r\n\r\n\r\n  function click(node) {\r\n    try {\r\n      node.dispatchEvent(new MouseEvent('click'));\r\n    } catch (e) {\r\n      var evt = document.createEvent('MouseEvents');\r\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\r\n      node.dispatchEvent(evt);\r\n    }\r\n  }\r\n\r\n  var saveAs = _global.saveAs || ( // probably in some web worker\r\n  typeof window !== 'object' || window !== _global ? function saveAs() {}\r\n  /* noop */\r\n  // Use download attribute first if possible (#193 Lumia mobile)\r\n  : 'download' in HTMLAnchorElement.prototype ? function saveAs(blob, name, opts) {\r\n    var URL = _global.URL || _global.webkitURL;\r\n    var a = document.createElement('a');\r\n    name = name || blob.name || 'download';\r\n    a.download = name;\r\n    a.rel = 'noopener'; // tabnabbing\r\n    // TODO: detect chrome extensions & packaged apps\r\n    // a.target = '_blank'\r\n\r\n    if (typeof blob === 'string') {\r\n      // Support regular links\r\n      a.href = blob;\r\n\r\n      if (a.origin !== location.origin) {\r\n        corsEnabled(a.href) ? download(blob, name, opts) : click(a, a.target = '_blank');\r\n      } else {\r\n        click(a);\r\n      }\r\n    } else {\r\n      // Support blobs\r\n      a.href = URL.createObjectURL(blob);\r\n      setTimeout(function () {\r\n        URL.revokeObjectURL(a.href);\r\n      }, 4E4); // 40s\r\n\r\n      setTimeout(function () {\r\n        click(a);\r\n      }, 0);\r\n    }\r\n  } // Use msSaveOrOpenBlob as a second approach\r\n  : 'msSaveOrOpenBlob' in navigator ? function saveAs(blob, name, opts) {\r\n    name = name || blob.name || 'download';\r\n\r\n    if (typeof blob === 'string') {\r\n      if (corsEnabled(blob)) {\r\n        download(blob, name, opts);\r\n      } else {\r\n        var a = document.createElement('a');\r\n        a.href = blob;\r\n        a.target = '_blank';\r\n        setTimeout(function () {\r\n          click(a);\r\n        });\r\n      }\r\n    } else {\r\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name);\r\n    }\r\n  } // Fallback to using FileReader and a popup\r\n  : function saveAs(blob, name, opts, popup) {\r\n    // Open a popup immediately do go around popup blocker\r\n    // Mostly only available on user interaction and the fileReader is async so...\r\n    popup = popup || open('', '_blank');\r\n\r\n    if (popup) {\r\n      popup.document.title = popup.document.body.innerText = 'downloading...';\r\n    }\r\n\r\n    if (typeof blob === 'string') return download(blob, name, opts);\r\n    var force = blob.type === 'application/octet-stream';\r\n\r\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari;\r\n\r\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\r\n\r\n    if ((isChromeIOS || force && isSafari) && typeof FileReader === 'object') {\r\n      // Safari doesn't allow downloading of blob URLs\r\n      var reader = new FileReader();\r\n\r\n      reader.onloadend = function () {\r\n        var url = reader.result;\r\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;');\r\n        if (popup) popup.location.href = url;else location = url;\r\n        popup = null; // reverse-tabnabbing #460\r\n      };\r\n\r\n      reader.readAsDataURL(blob);\r\n    } else {\r\n      var URL = _global.URL || _global.webkitURL;\r\n      var url = URL.createObjectURL(blob);\r\n      if (popup) popup.location = url;else location.href = url;\r\n      popup = null; // reverse-tabnabbing #460\r\n\r\n      setTimeout(function () {\r\n        URL.revokeObjectURL(url);\r\n      }, 4E4); // 40s\r\n    }\r\n  });\r\n  _global.saveAs = saveAs.saveAs = saveAs;\r\n});\r\nexport default tmp.saveAs;\r\n","/*!\r\n * html2canvas 1.0.0-rc.7 <https://html2canvas.hertzen.com>\r\n * Copyright (c) 2020 Niklas von Hertzen <https://hertzen.com>\r\n * Released under MIT License\r\n */\r\nlet html2canvas_default;\r\n(function(global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n    typeof define === 'function' && define.amd ? define(factory) :\r\n    (global = global || self, global.html2canvas = factory());\r\n}(this, function() {\r\n  'use strict';\r\n\r\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n  See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\r\n  /* global Reflect, Promise */\r\n\r\n  var extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n      ({\r\n          __proto__: []\r\n        }\r\n        instanceof Array && function(d, b) {\r\n          d.__proto__ = b;\r\n        }) ||\r\n      function(d, b) {\r\n        for (var p in b)\r\n          if (b.hasOwnProperty(p)) d[p] = b[p];\r\n      };\r\n    return extendStatics(d, b);\r\n  };\r\n\r\n  function __extends(d, b) {\r\n    extendStatics(d, b);\r\n\r\n    function __() {\r\n      this.constructor = d;\r\n    }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n  }\r\n\r\n  var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s)\r\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n      }\r\n      return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n  };\r\n\r\n  function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new(P || (P = Promise))(function(resolve, reject) {\r\n      function fulfilled(value) {\r\n        try {\r\n          step(generator.next(value));\r\n        } catch (e) {\r\n          reject(e);\r\n        }\r\n      }\r\n\r\n      function rejected(value) {\r\n        try {\r\n          step(generator[\"throw\"](value));\r\n        } catch (e) {\r\n          reject(e);\r\n        }\r\n      }\r\n\r\n      function step(result) {\r\n        result.done ? resolve(result.value) : new P(function(resolve) {\r\n          resolve(result.value);\r\n        }).then(fulfilled, rejected);\r\n      }\r\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n  }\r\n\r\n  function __generator(thisArg, body) {\r\n    var _ = {\r\n        label: 0,\r\n        sent: function() {\r\n          if (t[0] & 1) throw t[1];\r\n          return t[1];\r\n        },\r\n        trys: [],\r\n        ops: []\r\n      },\r\n      f, y, t, g;\r\n    return g = {\r\n      next: verb(0),\r\n      \"throw\": verb(1),\r\n      \"return\": verb(2)\r\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\r\n      return this;\r\n    }), g;\r\n\r\n    function verb(n) {\r\n      return function(v) {\r\n        return step([n, v]);\r\n      };\r\n    }\r\n\r\n    function step(op) {\r\n      if (f) throw new TypeError(\"Generator is already executing.\");\r\n      while (_) try {\r\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n        if (y = 0, t) op = [op[0] & 2, t.value];\r\n        switch (op[0]) {\r\n          case 0:\r\n          case 1:\r\n            t = op;\r\n            break;\r\n          case 4:\r\n            _.label++;\r\n            return {\r\n              value: op[1], done: false\r\n            };\r\n          case 5:\r\n            _.label++;\r\n            y = op[1];\r\n            op = [0];\r\n            continue;\r\n          case 7:\r\n            op = _.ops.pop();\r\n            _.trys.pop();\r\n            continue;\r\n          default:\r\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\r\n              _ = 0;\r\n              continue;\r\n            }\r\n            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\r\n              _.label = op[1];\r\n              break;\r\n            }\r\n            if (op[0] === 6 && _.label < t[1]) {\r\n              _.label = t[1];\r\n              t = op;\r\n              break;\r\n            }\r\n            if (t && _.label < t[2]) {\r\n              _.label = t[2];\r\n              _.ops.push(op);\r\n              break;\r\n            }\r\n            if (t[2]) _.ops.pop();\r\n            _.trys.pop();\r\n            continue;\r\n        }\r\n        op = body.call(thisArg, _);\r\n      } catch (e) {\r\n        op = [6, e];\r\n        y = 0;\r\n      } finally {\r\n        f = t = 0;\r\n      }\r\n      if (op[0] & 5) throw op[1];\r\n      return {\r\n        value: op[0] ? op[1] : void 0,\r\n        done: true\r\n      };\r\n    }\r\n  }\r\n\r\n  var Bounds = /** @class */ (function() {\r\n    function Bounds(x, y, w, h) {\r\n      this.left = x;\r\n      this.top = y;\r\n      this.width = w;\r\n      this.height = h;\r\n    }\r\n    Bounds.prototype.add = function(x, y, w, h) {\r\n      return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\r\n    };\r\n    Bounds.fromClientRect = function(clientRect) {\r\n      return new Bounds(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\r\n    };\r\n    return Bounds;\r\n  }());\r\n  var parseBounds = function(node) {\r\n    return Bounds.fromClientRect(node.getBoundingClientRect());\r\n  };\r\n  var parseDocumentSize = function(document) {\r\n    var body = document.body;\r\n    var documentElement = document.documentElement;\r\n    if (!body || !documentElement) {\r\n      throw new Error(\"Unable to get document size\");\r\n    }\r\n    var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\r\n    var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\r\n    return new Bounds(0, 0, width, height);\r\n  };\r\n\r\n  /*\r\n   * css-line-break 1.1.1 <https://github.com/niklasvh/css-line-break#readme>\r\n   * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>\r\n   * Released under MIT License\r\n   */\r\n  var toCodePoints = function(str) {\r\n    var codePoints = [];\r\n    var i = 0;\r\n    var length = str.length;\r\n    while (i < length) {\r\n      var value = str.charCodeAt(i++);\r\n      if (value >= 0xd800 && value <= 0xdbff && i < length) {\r\n        var extra = str.charCodeAt(i++);\r\n        if ((extra & 0xfc00) === 0xdc00) {\r\n          codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\r\n        } else {\r\n          codePoints.push(value);\r\n          i--;\r\n        }\r\n      } else {\r\n        codePoints.push(value);\r\n      }\r\n    }\r\n    return codePoints;\r\n  };\r\n  var fromCodePoint = function() {\r\n    var codePoints = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n      codePoints[_i] = arguments[_i];\r\n    }\r\n    if (String.fromCodePoint) {\r\n      return String.fromCodePoint.apply(String, codePoints);\r\n    }\r\n    var length = codePoints.length;\r\n    if (!length) {\r\n      return '';\r\n    }\r\n    var codeUnits = [];\r\n    var index = -1;\r\n    var result = '';\r\n    while (++index < length) {\r\n      var codePoint = codePoints[index];\r\n      if (codePoint <= 0xffff) {\r\n        codeUnits.push(codePoint);\r\n      } else {\r\n        codePoint -= 0x10000;\r\n        codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\r\n      }\r\n      if (index + 1 === length || codeUnits.length > 0x4000) {\r\n        result += String.fromCharCode.apply(String, codeUnits);\r\n        codeUnits.length = 0;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n  // Use a lookup table to find the index.\r\n  var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n  for (var i = 0; i < chars.length; i++) {\r\n    lookup[chars.charCodeAt(i)] = i;\r\n  }\r\n  var decode = function(base64) {\r\n    var bufferLength = base64.length * 0.75,\r\n      len = base64.length,\r\n      i, p = 0,\r\n      encoded1, encoded2, encoded3, encoded4;\r\n    if (base64[base64.length - 1] === '=') {\r\n      bufferLength--;\r\n      if (base64[base64.length - 2] === '=') {\r\n        bufferLength--;\r\n      }\r\n    }\r\n    var buffer = typeof ArrayBuffer !== 'undefined' &&\r\n      typeof Uint8Array !== 'undefined' &&\r\n      typeof Uint8Array.prototype.slice !== 'undefined' ?\r\n      new ArrayBuffer(bufferLength) :\r\n      new Array(bufferLength);\r\n    var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\r\n    for (i = 0; i < len; i += 4) {\r\n      encoded1 = lookup[base64.charCodeAt(i)];\r\n      encoded2 = lookup[base64.charCodeAt(i + 1)];\r\n      encoded3 = lookup[base64.charCodeAt(i + 2)];\r\n      encoded4 = lookup[base64.charCodeAt(i + 3)];\r\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n    }\r\n    return buffer;\r\n  };\r\n  var polyUint16Array = function(buffer) {\r\n    var length = buffer.length;\r\n    var bytes = [];\r\n    for (var i = 0; i < length; i += 2) {\r\n      bytes.push((buffer[i + 1] << 8) | buffer[i]);\r\n    }\r\n    return bytes;\r\n  };\r\n  var polyUint32Array = function(buffer) {\r\n    var length = buffer.length;\r\n    var bytes = [];\r\n    for (var i = 0; i < length; i += 4) {\r\n      bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\r\n    }\r\n    return bytes;\r\n  };\r\n\r\n  /** Shift size for getting the index-2 table offset. */\r\n  var UTRIE2_SHIFT_2 = 5;\r\n  /** Shift size for getting the index-1 table offset. */\r\n  var UTRIE2_SHIFT_1 = 6 + 5;\r\n  /**\r\n   * Shift size for shifting left the index array values.\r\n   * Increases possible data size with 16-bit index values at the cost\r\n   * of compactability.\r\n   * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\r\n   */\r\n  var UTRIE2_INDEX_SHIFT = 2;\r\n  /**\r\n   * Difference between the two shift sizes,\r\n   * for getting an index-1 offset from an index-2 offset. 6=11-5\r\n   */\r\n  var UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\r\n  /**\r\n   * The part of the index-2 table for U+D800..U+DBFF stores values for\r\n   * lead surrogate code _units_ not code _points_.\r\n   * Values for lead surrogate code _points_ are indexed with this portion of the table.\r\n   * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\r\n   */\r\n  var UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\r\n  /** Number of entries in a data block. 32=0x20 */\r\n  var UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\r\n  /** Mask for getting the lower bits for the in-data-block offset. */\r\n  var UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\r\n  var UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\r\n  /** Count the lengths of both BMP pieces. 2080=0x820 */\r\n  var UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\r\n  /**\r\n   * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\r\n   * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\r\n   */\r\n  var UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\r\n  var UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\r\n  /**\r\n   * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\r\n   * Variable length, for code points up to highStart, where the last single-value range starts.\r\n   * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\r\n   * (For 0x100000 supplementary code points U+10000..U+10ffff.)\r\n   *\r\n   * The part of the index-2 table for supplementary code points starts\r\n   * after this index-1 table.\r\n   *\r\n   * Both the index-1 table and the following part of the index-2 table\r\n   * are omitted completely if there is only BMP data.\r\n   */\r\n  var UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\r\n  /**\r\n   * Number of index-1 entries for the BMP. 32=0x20\r\n   * This part of the index-1 table is omitted from the serialized form.\r\n   */\r\n  var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\r\n  /** Number of entries in an index-2 block. 64=0x40 */\r\n  var UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\r\n  /** Mask for getting the lower bits for the in-index-2-block offset. */\r\n  var UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\r\n  var slice16 = function(view, start, end) {\r\n    if (view.slice) {\r\n      return view.slice(start, end);\r\n    }\r\n    return new Uint16Array(Array.prototype.slice.call(view, start, end));\r\n  };\r\n  var slice32 = function(view, start, end) {\r\n    if (view.slice) {\r\n      return view.slice(start, end);\r\n    }\r\n    return new Uint32Array(Array.prototype.slice.call(view, start, end));\r\n  };\r\n  var createTrieFromBase64 = function(base64) {\r\n    var buffer = decode(base64);\r\n    var view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\r\n    var view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\r\n    var headerLength = 24;\r\n    var index = slice16(view16, headerLength / 2, view32[4] / 2);\r\n    var data = view32[5] === 2 ?\r\n      slice16(view16, (headerLength + view32[4]) / 2) :\r\n      slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\r\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\r\n  };\r\n  var Trie = /** @class */ (function() {\r\n    function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\r\n      this.initialValue = initialValue;\r\n      this.errorValue = errorValue;\r\n      this.highStart = highStart;\r\n      this.highValueIndex = highValueIndex;\r\n      this.index = index;\r\n      this.data = data;\r\n    }\r\n    /**\r\n     * Get the value for a code point as stored in the Trie.\r\n     *\r\n     * @param codePoint the code point\r\n     * @return the value\r\n     */\r\n    Trie.prototype.get = function(codePoint) {\r\n      var ix;\r\n      if (codePoint >= 0) {\r\n        if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\r\n          // Ordinary BMP code point, excluding leading surrogates.\r\n          // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\r\n          // 16 bit data is stored in the index array itself.\r\n          ix = this.index[codePoint >> UTRIE2_SHIFT_2];\r\n          ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n          return this.data[ix];\r\n        }\r\n        if (codePoint <= 0xffff) {\r\n          // Lead Surrogate Code Point.  A Separate index section is stored for\r\n          // lead surrogate code units and code points.\r\n          //   The main index has the code unit data.\r\n          //   For this function, we need the code point data.\r\n          // Note: this expression could be refactored for slightly improved efficiency, but\r\n          //       surrogate code points will be so rare in practice that it's not worth it.\r\n          ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\r\n          ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n          return this.data[ix];\r\n        }\r\n        if (codePoint < this.highStart) {\r\n          // Supplemental code point, use two-level lookup.\r\n          ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\r\n          ix = this.index[ix];\r\n          ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\r\n          ix = this.index[ix];\r\n          ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n          return this.data[ix];\r\n        }\r\n        if (codePoint <= 0x10ffff) {\r\n          return this.data[this.highValueIndex];\r\n        }\r\n      }\r\n      // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\r\n      return this.errorValue;\r\n    };\r\n    return Trie;\r\n  }());\r\n\r\n  var base64 = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';\r\n\r\n  /* @flow */\r\n  var LETTER_NUMBER_MODIFIER = 50;\r\n  // Non-tailorable Line Breaking Classes\r\n  var BK = 1; //  Cause a line break (after)\r\n  var CR = 2; //  Cause a line break (after), except between CR and LF\r\n  var LF = 3; //  Cause a line break (after)\r\n  var CM = 4; //  Prohibit a line break between the character and the preceding character\r\n  var NL = 5; //  Cause a line break (after)\r\n  var WJ = 7; //  Prohibit line breaks before and after\r\n  var ZW = 8; //  Provide a break opportunity\r\n  var GL = 9; //  Prohibit line breaks before and after\r\n  var SP = 10; // Enable indirect line breaks\r\n  var ZWJ = 11; // Prohibit line breaks within joiner sequences\r\n  // Break Opportunities\r\n  var B2 = 12; //  Provide a line break opportunity before and after the character\r\n  var BA = 13; //  Generally provide a line break opportunity after the character\r\n  var BB = 14; //  Generally provide a line break opportunity before the character\r\n  var HY = 15; //  Provide a line break opportunity after the character, except in numeric context\r\n  var CB = 16; //   Provide a line break opportunity contingent on additional information\r\n  // Characters Prohibiting Certain Breaks\r\n  var CL = 17; //  Prohibit line breaks before\r\n  var CP = 18; //  Prohibit line breaks before\r\n  var EX = 19; //  Prohibit line breaks before\r\n  var IN = 20; //  Allow only indirect line breaks between pairs\r\n  var NS = 21; //  Allow only indirect line breaks before\r\n  var OP = 22; //  Prohibit line breaks after\r\n  var QU = 23; //  Act like they are both opening and closing\r\n  // Numeric Context\r\n  var IS = 24; //  Prevent breaks after any and before numeric\r\n  var NU = 25; //  Form numeric expressions for line breaking purposes\r\n  var PO = 26; //  Do not break following a numeric expression\r\n  var PR = 27; //  Do not break in front of a numeric expression\r\n  var SY = 28; //  Prevent a break before; and allow a break after\r\n  // Other Characters\r\n  var AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\r\n  var AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\r\n  var CJ = 31; //  Treat as NS or ID for strict or normal breaking.\r\n  var EB = 32; //  Do not break from following Emoji Modifier\r\n  var EM = 33; //  Do not break from preceding Emoji Base\r\n  var H2 = 34; //  Form Korean syllable blocks\r\n  var H3 = 35; //  Form Korean syllable blocks\r\n  var HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\r\n  var ID = 37; //  Break before or after; except in some numeric context\r\n  var JL = 38; //  Form Korean syllable blocks\r\n  var JV = 39; //  Form Korean syllable blocks\r\n  var JT = 40; //  Form Korean syllable blocks\r\n  var RI = 41; //  Keep pairs together. For pairs; break before and after other classes\r\n  var SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\r\n  var XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\r\n  var BREAK_MANDATORY = '!';\r\n  var BREAK_NOT_ALLOWED = '×';\r\n  var BREAK_ALLOWED = '÷';\r\n  var UnicodeTrie = createTrieFromBase64(base64);\r\n  var ALPHABETICS = [AL, HL];\r\n  var HARD_LINE_BREAKS = [BK, CR, LF, NL];\r\n  var SPACE = [SP, ZW];\r\n  var PREFIX_POSTFIX = [PR, PO];\r\n  var LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\r\n  var KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\r\n  var HYPHEN = [HY, BA];\r\n  var codePointsToCharacterClasses = function(codePoints, lineBreak) {\r\n    if (lineBreak === void 0) {\r\n      lineBreak = 'strict';\r\n    }\r\n    var types = [];\r\n    var indicies = [];\r\n    var categories = [];\r\n    codePoints.forEach(function(codePoint, index) {\r\n      var classType = UnicodeTrie.get(codePoint);\r\n      if (classType > LETTER_NUMBER_MODIFIER) {\r\n        categories.push(true);\r\n        classType -= LETTER_NUMBER_MODIFIER;\r\n      } else {\r\n        categories.push(false);\r\n      }\r\n      if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\r\n        // U+2010, – U+2013, 〜 U+301C, ゠ U+30A0\r\n        if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\r\n          indicies.push(index);\r\n          return types.push(CB);\r\n        }\r\n      }\r\n      if (classType === CM || classType === ZWJ) {\r\n        // LB10 Treat any remaining combining mark or ZWJ as AL.\r\n        if (index === 0) {\r\n          indicies.push(index);\r\n          return types.push(AL);\r\n        }\r\n        // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\r\n        // the base character in all of the following rules. Treat ZWJ as if it were CM.\r\n        var prev = types[index - 1];\r\n        if (LINE_BREAKS.indexOf(prev) === -1) {\r\n          indicies.push(indicies[index - 1]);\r\n          return types.push(prev);\r\n        }\r\n        indicies.push(index);\r\n        return types.push(AL);\r\n      }\r\n      indicies.push(index);\r\n      if (classType === CJ) {\r\n        return types.push(lineBreak === 'strict' ? NS : ID);\r\n      }\r\n      if (classType === SA) {\r\n        return types.push(AL);\r\n      }\r\n      if (classType === AI) {\r\n        return types.push(AL);\r\n      }\r\n      // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\r\n      // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\r\n      // to take into account the actual line breaking properties for these characters.\r\n      if (classType === XX) {\r\n        if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\r\n          return types.push(ID);\r\n        } else {\r\n          return types.push(AL);\r\n        }\r\n      }\r\n      types.push(classType);\r\n    });\r\n    return [indicies, types, categories];\r\n  };\r\n  var isAdjacentWithSpaceIgnored = function(a, b, currentIndex, classTypes) {\r\n    var current = classTypes[currentIndex];\r\n    if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\r\n      var i = currentIndex;\r\n      while (i <= classTypes.length) {\r\n        i++;\r\n        var next = classTypes[i];\r\n        if (next === b) {\r\n          return true;\r\n        }\r\n        if (next !== SP) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (current === SP) {\r\n      var i = currentIndex;\r\n      while (i > 0) {\r\n        i--;\r\n        var prev = classTypes[i];\r\n        if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\r\n          var n = currentIndex;\r\n          while (n <= classTypes.length) {\r\n            n++;\r\n            var next = classTypes[n];\r\n            if (next === b) {\r\n              return true;\r\n            }\r\n            if (next !== SP) {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (prev !== SP) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n  var previousNonSpaceClassType = function(currentIndex, classTypes) {\r\n    var i = currentIndex;\r\n    while (i >= 0) {\r\n      var type = classTypes[i];\r\n      if (type === SP) {\r\n        i--;\r\n      } else {\r\n        return type;\r\n      }\r\n    }\r\n    return 0;\r\n  };\r\n  var _lineBreakAtIndex = function(codePoints, classTypes, indicies, index, forbiddenBreaks) {\r\n    if (indicies[index] === 0) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    var currentIndex = index - 1;\r\n    if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    var beforeIndex = currentIndex - 1;\r\n    var afterIndex = currentIndex + 1;\r\n    var current = classTypes[currentIndex];\r\n    // LB4 Always break after hard line breaks.\r\n    // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\r\n    var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\r\n    var next = classTypes[afterIndex];\r\n    if (current === CR && next === LF) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\r\n      return BREAK_MANDATORY;\r\n    }\r\n    // LB6 Do not break before hard line breaks.\r\n    if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB7 Do not break before spaces or zero width space.\r\n    if (SPACE.indexOf(next) !== -1) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\r\n    if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\r\n      return BREAK_ALLOWED;\r\n    }\r\n    // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\r\n    if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB11 Do not break before or after Word joiner and related characters.\r\n    if (current === WJ || next === WJ) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB12 Do not break after NBSP and related characters.\r\n    if (current === GL) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\r\n    if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB13 Do not break before ‘]’ or ‘!’ or ‘;’ or ‘/’, even after spaces.\r\n    if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB14 Do not break after ‘[’, even after spaces.\r\n    if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB15 Do not break within ‘”[’, even with intervening spaces.\r\n    if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\r\n    if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB17 Do not break within ‘——’, even with intervening spaces.\r\n    if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB18 Break after spaces.\r\n    if (current === SP) {\r\n      return BREAK_ALLOWED;\r\n    }\r\n    // LB19 Do not break before or after quotation marks, such as ‘ ” ’.\r\n    if (current === QU || next === QU) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB20 Break before and after unresolved CB.\r\n    if (next === CB || current === CB) {\r\n      return BREAK_ALLOWED;\r\n    }\r\n    // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\r\n    if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB21a Don't break after Hebrew + Hyphen.\r\n    if (before === HL && HYPHEN.indexOf(current) !== -1) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB21b Don’t break between Solidus and Hebrew letters.\r\n    if (current === SY && next === HL) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\r\n    if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB23 Do not break between digits and letters.\r\n    if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\r\n    if ((current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\r\n      ([ID, EB, EM].indexOf(current) !== -1 && next === PO)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\r\n    if ((ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\r\n      (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB25 Do not break between the following pairs of classes relevant to numbers:\r\n    if (\r\n      // (PR | PO) × ( OP | HY )? NU\r\n      ([PR, PO].indexOf(current) !== -1 &&\r\n        (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\r\n      // ( OP | HY ) × NU\r\n      ([OP, HY].indexOf(current) !== -1 && next === NU) ||\r\n      // NU ×\t(NU | SY | IS)\r\n      (current === NU && [NU, SY, IS].indexOf(next) !== -1)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // NU (NU | SY | IS)* × (NU | SY | IS | CL | CP)\r\n    if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\r\n      var prevIndex = currentIndex;\r\n      while (prevIndex >= 0) {\r\n        var type = classTypes[prevIndex];\r\n        if (type === NU) {\r\n          return BREAK_NOT_ALLOWED;\r\n        } else if ([SY, IS].indexOf(type) !== -1) {\r\n          prevIndex--;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    // NU (NU | SY | IS)* (CL | CP)? × (PO | PR))\r\n    if ([PR, PO].indexOf(next) !== -1) {\r\n      var prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\r\n      while (prevIndex >= 0) {\r\n        var type = classTypes[prevIndex];\r\n        if (type === NU) {\r\n          return BREAK_NOT_ALLOWED;\r\n        } else if ([SY, IS].indexOf(type) !== -1) {\r\n          prevIndex--;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    // LB26 Do not break a Korean syllable.\r\n    if ((JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\r\n      ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\r\n      ([JT, H3].indexOf(current) !== -1 && next === JT)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB27 Treat a Korean Syllable Block the same as ID.\r\n    if ((KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\r\n      (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB28 Do not break between alphabetics (“at”).\r\n    if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB29 Do not break between numeric punctuation and alphabetics (“e.g.”).\r\n    if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\r\n    if ((ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP) ||\r\n      (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\r\n    // indicators preceding the position of the break.\r\n    if (current === RI && next === RI) {\r\n      var i = indicies[currentIndex];\r\n      var count = 1;\r\n      while (i > 0) {\r\n        i--;\r\n        if (classTypes[i] === RI) {\r\n          count++;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      if (count % 2 !== 0) {\r\n        return BREAK_NOT_ALLOWED;\r\n      }\r\n    }\r\n    // LB30b Do not break between an emoji base and an emoji modifier.\r\n    if (current === EB && next === EM) {\r\n      return BREAK_NOT_ALLOWED;\r\n    }\r\n    return BREAK_ALLOWED;\r\n  };\r\n  var cssFormattedClasses = function(codePoints, options) {\r\n    if (!options) {\r\n      options = {\r\n        lineBreak: 'normal',\r\n        wordBreak: 'normal'\r\n      };\r\n    }\r\n    var _a = codePointsToCharacterClasses(codePoints, options.lineBreak),\r\n      indicies = _a[0],\r\n      classTypes = _a[1],\r\n      isLetterNumber = _a[2];\r\n    if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\r\n      classTypes = classTypes.map(function(type) {\r\n        return ([NU, AL, SA].indexOf(type) !== -1 ? ID : type);\r\n      });\r\n    }\r\n    var forbiddenBreakpoints = options.wordBreak === 'keep-all' ?\r\n      isLetterNumber.map(function(letterNumber, i) {\r\n        return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\r\n      }) :\r\n      undefined;\r\n    return [indicies, classTypes, forbiddenBreakpoints];\r\n  };\r\n  var Break = /** @class */ (function() {\r\n    function Break(codePoints, lineBreak, start, end) {\r\n      this.codePoints = codePoints;\r\n      this.required = lineBreak === BREAK_MANDATORY;\r\n      this.start = start;\r\n      this.end = end;\r\n    }\r\n    Break.prototype.slice = function() {\r\n      return fromCodePoint.apply(void 0, this.codePoints.slice(this.start, this.end));\r\n    };\r\n    return Break;\r\n  }());\r\n  var LineBreaker = function(str, options) {\r\n    var codePoints = toCodePoints(str);\r\n    var _a = cssFormattedClasses(codePoints, options),\r\n      indicies = _a[0],\r\n      classTypes = _a[1],\r\n      forbiddenBreakpoints = _a[2];\r\n    var length = codePoints.length;\r\n    var lastEnd = 0;\r\n    var nextIndex = 0;\r\n    return {\r\n      next: function() {\r\n        if (nextIndex >= length) {\r\n          return {\r\n            done: true,\r\n            value: null\r\n          };\r\n        }\r\n        var lineBreak = BREAK_NOT_ALLOWED;\r\n        while (nextIndex < length &&\r\n          (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\r\n          BREAK_NOT_ALLOWED) {}\r\n        if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\r\n          var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\r\n          lastEnd = nextIndex;\r\n          return {\r\n            value: value,\r\n            done: false\r\n          };\r\n        }\r\n        return {\r\n          done: true,\r\n          value: null\r\n        };\r\n      },\r\n    };\r\n  };\r\n\r\n  // https://www.w3.org/TR/css-syntax-3\r\n  var TokenType;\r\n  (function(TokenType) {\r\n    TokenType[TokenType[\"STRING_TOKEN\"] = 0] = \"STRING_TOKEN\";\r\n    TokenType[TokenType[\"BAD_STRING_TOKEN\"] = 1] = \"BAD_STRING_TOKEN\";\r\n    TokenType[TokenType[\"LEFT_PARENTHESIS_TOKEN\"] = 2] = \"LEFT_PARENTHESIS_TOKEN\";\r\n    TokenType[TokenType[\"RIGHT_PARENTHESIS_TOKEN\"] = 3] = \"RIGHT_PARENTHESIS_TOKEN\";\r\n    TokenType[TokenType[\"COMMA_TOKEN\"] = 4] = \"COMMA_TOKEN\";\r\n    TokenType[TokenType[\"HASH_TOKEN\"] = 5] = \"HASH_TOKEN\";\r\n    TokenType[TokenType[\"DELIM_TOKEN\"] = 6] = \"DELIM_TOKEN\";\r\n    TokenType[TokenType[\"AT_KEYWORD_TOKEN\"] = 7] = \"AT_KEYWORD_TOKEN\";\r\n    TokenType[TokenType[\"PREFIX_MATCH_TOKEN\"] = 8] = \"PREFIX_MATCH_TOKEN\";\r\n    TokenType[TokenType[\"DASH_MATCH_TOKEN\"] = 9] = \"DASH_MATCH_TOKEN\";\r\n    TokenType[TokenType[\"INCLUDE_MATCH_TOKEN\"] = 10] = \"INCLUDE_MATCH_TOKEN\";\r\n    TokenType[TokenType[\"LEFT_CURLY_BRACKET_TOKEN\"] = 11] = \"LEFT_CURLY_BRACKET_TOKEN\";\r\n    TokenType[TokenType[\"RIGHT_CURLY_BRACKET_TOKEN\"] = 12] = \"RIGHT_CURLY_BRACKET_TOKEN\";\r\n    TokenType[TokenType[\"SUFFIX_MATCH_TOKEN\"] = 13] = \"SUFFIX_MATCH_TOKEN\";\r\n    TokenType[TokenType[\"SUBSTRING_MATCH_TOKEN\"] = 14] = \"SUBSTRING_MATCH_TOKEN\";\r\n    TokenType[TokenType[\"DIMENSION_TOKEN\"] = 15] = \"DIMENSION_TOKEN\";\r\n    TokenType[TokenType[\"PERCENTAGE_TOKEN\"] = 16] = \"PERCENTAGE_TOKEN\";\r\n    TokenType[TokenType[\"NUMBER_TOKEN\"] = 17] = \"NUMBER_TOKEN\";\r\n    TokenType[TokenType[\"FUNCTION\"] = 18] = \"FUNCTION\";\r\n    TokenType[TokenType[\"FUNCTION_TOKEN\"] = 19] = \"FUNCTION_TOKEN\";\r\n    TokenType[TokenType[\"IDENT_TOKEN\"] = 20] = \"IDENT_TOKEN\";\r\n    TokenType[TokenType[\"COLUMN_TOKEN\"] = 21] = \"COLUMN_TOKEN\";\r\n    TokenType[TokenType[\"URL_TOKEN\"] = 22] = \"URL_TOKEN\";\r\n    TokenType[TokenType[\"BAD_URL_TOKEN\"] = 23] = \"BAD_URL_TOKEN\";\r\n    TokenType[TokenType[\"CDC_TOKEN\"] = 24] = \"CDC_TOKEN\";\r\n    TokenType[TokenType[\"CDO_TOKEN\"] = 25] = \"CDO_TOKEN\";\r\n    TokenType[TokenType[\"COLON_TOKEN\"] = 26] = \"COLON_TOKEN\";\r\n    TokenType[TokenType[\"SEMICOLON_TOKEN\"] = 27] = \"SEMICOLON_TOKEN\";\r\n    TokenType[TokenType[\"LEFT_SQUARE_BRACKET_TOKEN\"] = 28] = \"LEFT_SQUARE_BRACKET_TOKEN\";\r\n    TokenType[TokenType[\"RIGHT_SQUARE_BRACKET_TOKEN\"] = 29] = \"RIGHT_SQUARE_BRACKET_TOKEN\";\r\n    TokenType[TokenType[\"UNICODE_RANGE_TOKEN\"] = 30] = \"UNICODE_RANGE_TOKEN\";\r\n    TokenType[TokenType[\"WHITESPACE_TOKEN\"] = 31] = \"WHITESPACE_TOKEN\";\r\n    TokenType[TokenType[\"EOF_TOKEN\"] = 32] = \"EOF_TOKEN\";\r\n  })(TokenType || (TokenType = {}));\r\n  var FLAG_UNRESTRICTED = 1 << 0;\r\n  var FLAG_ID = 1 << 1;\r\n  var FLAG_INTEGER = 1 << 2;\r\n  var FLAG_NUMBER = 1 << 3;\r\n  var LINE_FEED = 0x000a;\r\n  var SOLIDUS = 0x002f;\r\n  var REVERSE_SOLIDUS = 0x005c;\r\n  var CHARACTER_TABULATION = 0x0009;\r\n  var SPACE$1 = 0x0020;\r\n  var QUOTATION_MARK = 0x0022;\r\n  var EQUALS_SIGN = 0x003d;\r\n  var NUMBER_SIGN = 0x0023;\r\n  var DOLLAR_SIGN = 0x0024;\r\n  var PERCENTAGE_SIGN = 0x0025;\r\n  var APOSTROPHE = 0x0027;\r\n  var LEFT_PARENTHESIS = 0x0028;\r\n  var RIGHT_PARENTHESIS = 0x0029;\r\n  var LOW_LINE = 0x005f;\r\n  var HYPHEN_MINUS = 0x002d;\r\n  var EXCLAMATION_MARK = 0x0021;\r\n  var LESS_THAN_SIGN = 0x003c;\r\n  var GREATER_THAN_SIGN = 0x003e;\r\n  var COMMERCIAL_AT = 0x0040;\r\n  var LEFT_SQUARE_BRACKET = 0x005b;\r\n  var RIGHT_SQUARE_BRACKET = 0x005d;\r\n  var CIRCUMFLEX_ACCENT = 0x003d;\r\n  var LEFT_CURLY_BRACKET = 0x007b;\r\n  var QUESTION_MARK = 0x003f;\r\n  var RIGHT_CURLY_BRACKET = 0x007d;\r\n  var VERTICAL_LINE = 0x007c;\r\n  var TILDE = 0x007e;\r\n  var CONTROL = 0x0080;\r\n  var REPLACEMENT_CHARACTER = 0xfffd;\r\n  var ASTERISK = 0x002a;\r\n  var PLUS_SIGN = 0x002b;\r\n  var COMMA = 0x002c;\r\n  var COLON = 0x003a;\r\n  var SEMICOLON = 0x003b;\r\n  var FULL_STOP = 0x002e;\r\n  var NULL = 0x0000;\r\n  var BACKSPACE = 0x0008;\r\n  var LINE_TABULATION = 0x000b;\r\n  var SHIFT_OUT = 0x000e;\r\n  var INFORMATION_SEPARATOR_ONE = 0x001f;\r\n  var DELETE = 0x007f;\r\n  var EOF = -1;\r\n  var ZERO = 0x0030;\r\n  var a = 0x0061;\r\n  var e = 0x0065;\r\n  var f = 0x0066;\r\n  var u = 0x0075;\r\n  var z = 0x007a;\r\n  var A = 0x0041;\r\n  var E = 0x0045;\r\n  var F = 0x0046;\r\n  var U = 0x0055;\r\n  var Z = 0x005a;\r\n  var isDigit = function(codePoint) {\r\n    return codePoint >= ZERO && codePoint <= 0x0039;\r\n  };\r\n  var isSurrogateCodePoint = function(codePoint) {\r\n    return codePoint >= 0xd800 && codePoint <= 0xdfff;\r\n  };\r\n  var isHex = function(codePoint) {\r\n    return isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\r\n  };\r\n  var isLowerCaseLetter = function(codePoint) {\r\n    return codePoint >= a && codePoint <= z;\r\n  };\r\n  var isUpperCaseLetter = function(codePoint) {\r\n    return codePoint >= A && codePoint <= Z;\r\n  };\r\n  var isLetter = function(codePoint) {\r\n    return isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint);\r\n  };\r\n  var isNonASCIICodePoint = function(codePoint) {\r\n    return codePoint >= CONTROL;\r\n  };\r\n  var isWhiteSpace = function(codePoint) {\r\n    return codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE$1;\r\n  };\r\n  var isNameStartCodePoint = function(codePoint) {\r\n    return isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\r\n  };\r\n  var isNameCodePoint = function(codePoint) {\r\n    return isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\r\n  };\r\n  var isNonPrintableCodePoint = function(codePoint) {\r\n    return ((codePoint >= NULL && codePoint <= BACKSPACE) ||\r\n      codePoint === LINE_TABULATION ||\r\n      (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\r\n      codePoint === DELETE);\r\n  };\r\n  var isValidEscape = function(c1, c2) {\r\n    if (c1 !== REVERSE_SOLIDUS) {\r\n      return false;\r\n    }\r\n    return c2 !== LINE_FEED;\r\n  };\r\n  var isIdentifierStart = function(c1, c2, c3) {\r\n    if (c1 === HYPHEN_MINUS) {\r\n      return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\r\n    } else if (isNameStartCodePoint(c1)) {\r\n      return true;\r\n    } else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  var isNumberStart = function(c1, c2, c3) {\r\n    if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n      if (isDigit(c2)) {\r\n        return true;\r\n      }\r\n      return c2 === FULL_STOP && isDigit(c3);\r\n    }\r\n    if (c1 === FULL_STOP) {\r\n      return isDigit(c2);\r\n    }\r\n    return isDigit(c1);\r\n  };\r\n  var stringToNumber = function(codePoints) {\r\n    var c = 0;\r\n    var sign = 1;\r\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n      if (codePoints[c] === HYPHEN_MINUS) {\r\n        sign = -1;\r\n      }\r\n      c++;\r\n    }\r\n    var integers = [];\r\n    while (isDigit(codePoints[c])) {\r\n      integers.push(codePoints[c++]);\r\n    }\r\n    var int = integers.length ? parseInt(fromCodePoint.apply(void 0, integers), 10) : 0;\r\n    if (codePoints[c] === FULL_STOP) {\r\n      c++;\r\n    }\r\n    var fraction = [];\r\n    while (isDigit(codePoints[c])) {\r\n      fraction.push(codePoints[c++]);\r\n    }\r\n    var fracd = fraction.length;\r\n    var frac = fracd ? parseInt(fromCodePoint.apply(void 0, fraction), 10) : 0;\r\n    if (codePoints[c] === E || codePoints[c] === e) {\r\n      c++;\r\n    }\r\n    var expsign = 1;\r\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n      if (codePoints[c] === HYPHEN_MINUS) {\r\n        expsign = -1;\r\n      }\r\n      c++;\r\n    }\r\n    var exponent = [];\r\n    while (isDigit(codePoints[c])) {\r\n      exponent.push(codePoints[c++]);\r\n    }\r\n    var exp = exponent.length ? parseInt(fromCodePoint.apply(void 0, exponent), 10) : 0;\r\n    return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\r\n  };\r\n  var LEFT_PARENTHESIS_TOKEN = {\r\n    type: TokenType.LEFT_PARENTHESIS_TOKEN\r\n  };\r\n  var RIGHT_PARENTHESIS_TOKEN = {\r\n    type: TokenType.RIGHT_PARENTHESIS_TOKEN\r\n  };\r\n  var COMMA_TOKEN = {\r\n    type: TokenType.COMMA_TOKEN\r\n  };\r\n  var SUFFIX_MATCH_TOKEN = {\r\n    type: TokenType.SUFFIX_MATCH_TOKEN\r\n  };\r\n  var PREFIX_MATCH_TOKEN = {\r\n    type: TokenType.PREFIX_MATCH_TOKEN\r\n  };\r\n  var COLUMN_TOKEN = {\r\n    type: TokenType.COLUMN_TOKEN\r\n  };\r\n  var DASH_MATCH_TOKEN = {\r\n    type: TokenType.DASH_MATCH_TOKEN\r\n  };\r\n  var INCLUDE_MATCH_TOKEN = {\r\n    type: TokenType.INCLUDE_MATCH_TOKEN\r\n  };\r\n  var LEFT_CURLY_BRACKET_TOKEN = {\r\n    type: TokenType.LEFT_CURLY_BRACKET_TOKEN\r\n  };\r\n  var RIGHT_CURLY_BRACKET_TOKEN = {\r\n    type: TokenType.RIGHT_CURLY_BRACKET_TOKEN\r\n  };\r\n  var SUBSTRING_MATCH_TOKEN = {\r\n    type: TokenType.SUBSTRING_MATCH_TOKEN\r\n  };\r\n  var BAD_URL_TOKEN = {\r\n    type: TokenType.BAD_URL_TOKEN\r\n  };\r\n  var BAD_STRING_TOKEN = {\r\n    type: TokenType.BAD_STRING_TOKEN\r\n  };\r\n  var CDO_TOKEN = {\r\n    type: TokenType.CDO_TOKEN\r\n  };\r\n  var CDC_TOKEN = {\r\n    type: TokenType.CDC_TOKEN\r\n  };\r\n  var COLON_TOKEN = {\r\n    type: TokenType.COLON_TOKEN\r\n  };\r\n  var SEMICOLON_TOKEN = {\r\n    type: TokenType.SEMICOLON_TOKEN\r\n  };\r\n  var LEFT_SQUARE_BRACKET_TOKEN = {\r\n    type: TokenType.LEFT_SQUARE_BRACKET_TOKEN\r\n  };\r\n  var RIGHT_SQUARE_BRACKET_TOKEN = {\r\n    type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN\r\n  };\r\n  var WHITESPACE_TOKEN = {\r\n    type: TokenType.WHITESPACE_TOKEN\r\n  };\r\n  var EOF_TOKEN = {\r\n    type: TokenType.EOF_TOKEN\r\n  };\r\n  var Tokenizer = /** @class */ (function() {\r\n    function Tokenizer() {\r\n      this._value = [];\r\n    }\r\n    Tokenizer.prototype.write = function(chunk) {\r\n      this._value = this._value.concat(toCodePoints(chunk));\r\n    };\r\n    Tokenizer.prototype.read = function() {\r\n      var tokens = [];\r\n      var token = this.consumeToken();\r\n      while (token !== EOF_TOKEN) {\r\n        tokens.push(token);\r\n        token = this.consumeToken();\r\n      }\r\n      return tokens;\r\n    };\r\n    Tokenizer.prototype.consumeToken = function() {\r\n      var codePoint = this.consumeCodePoint();\r\n      switch (codePoint) {\r\n        case QUOTATION_MARK:\r\n          return this.consumeStringToken(QUOTATION_MARK);\r\n        case NUMBER_SIGN:\r\n          var c1 = this.peekCodePoint(0);\r\n          var c2 = this.peekCodePoint(1);\r\n          var c3 = this.peekCodePoint(2);\r\n          if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\r\n            var flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\r\n            var value = this.consumeName();\r\n            return {\r\n              type: TokenType.HASH_TOKEN,\r\n              value: value,\r\n              flags: flags\r\n            };\r\n          }\r\n          break;\r\n        case DOLLAR_SIGN:\r\n          if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n            this.consumeCodePoint();\r\n            return SUFFIX_MATCH_TOKEN;\r\n          }\r\n          break;\r\n        case APOSTROPHE:\r\n          return this.consumeStringToken(APOSTROPHE);\r\n        case LEFT_PARENTHESIS:\r\n          return LEFT_PARENTHESIS_TOKEN;\r\n        case RIGHT_PARENTHESIS:\r\n          return RIGHT_PARENTHESIS_TOKEN;\r\n        case ASTERISK:\r\n          if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n            this.consumeCodePoint();\r\n            return SUBSTRING_MATCH_TOKEN;\r\n          }\r\n          break;\r\n        case PLUS_SIGN:\r\n          if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n            this.reconsumeCodePoint(codePoint);\r\n            return this.consumeNumericToken();\r\n          }\r\n          break;\r\n        case COMMA:\r\n          return COMMA_TOKEN;\r\n        case HYPHEN_MINUS:\r\n          var e1 = codePoint;\r\n          var e2 = this.peekCodePoint(0);\r\n          var e3 = this.peekCodePoint(1);\r\n          if (isNumberStart(e1, e2, e3)) {\r\n            this.reconsumeCodePoint(codePoint);\r\n            return this.consumeNumericToken();\r\n          }\r\n          if (isIdentifierStart(e1, e2, e3)) {\r\n            this.reconsumeCodePoint(codePoint);\r\n            return this.consumeIdentLikeToken();\r\n          }\r\n          if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\r\n            this.consumeCodePoint();\r\n            this.consumeCodePoint();\r\n            return CDC_TOKEN;\r\n          }\r\n          break;\r\n        case FULL_STOP:\r\n          if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n            this.reconsumeCodePoint(codePoint);\r\n            return this.consumeNumericToken();\r\n          }\r\n          break;\r\n        case SOLIDUS:\r\n          if (this.peekCodePoint(0) === ASTERISK) {\r\n            this.consumeCodePoint();\r\n            while (true) {\r\n              var c = this.consumeCodePoint();\r\n              if (c === ASTERISK) {\r\n                c = this.consumeCodePoint();\r\n                if (c === SOLIDUS) {\r\n                  return this.consumeToken();\r\n                }\r\n              }\r\n              if (c === EOF) {\r\n                return this.consumeToken();\r\n              }\r\n            }\r\n          }\r\n          break;\r\n        case COLON:\r\n          return COLON_TOKEN;\r\n        case SEMICOLON:\r\n          return SEMICOLON_TOKEN;\r\n        case LESS_THAN_SIGN:\r\n          if (this.peekCodePoint(0) === EXCLAMATION_MARK &&\r\n            this.peekCodePoint(1) === HYPHEN_MINUS &&\r\n            this.peekCodePoint(2) === HYPHEN_MINUS) {\r\n            this.consumeCodePoint();\r\n            this.consumeCodePoint();\r\n            return CDO_TOKEN;\r\n          }\r\n          break;\r\n        case COMMERCIAL_AT:\r\n          var a1 = this.peekCodePoint(0);\r\n          var a2 = this.peekCodePoint(1);\r\n          var a3 = this.peekCodePoint(2);\r\n          if (isIdentifierStart(a1, a2, a3)) {\r\n            var value = this.consumeName();\r\n            return {\r\n              type: TokenType.AT_KEYWORD_TOKEN,\r\n              value: value\r\n            };\r\n          }\r\n          break;\r\n        case LEFT_SQUARE_BRACKET:\r\n          return LEFT_SQUARE_BRACKET_TOKEN;\r\n        case REVERSE_SOLIDUS:\r\n          if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n            this.reconsumeCodePoint(codePoint);\r\n            return this.consumeIdentLikeToken();\r\n          }\r\n          break;\r\n        case RIGHT_SQUARE_BRACKET:\r\n          return RIGHT_SQUARE_BRACKET_TOKEN;\r\n        case CIRCUMFLEX_ACCENT:\r\n          if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n            this.consumeCodePoint();\r\n            return PREFIX_MATCH_TOKEN;\r\n          }\r\n          break;\r\n        case LEFT_CURLY_BRACKET:\r\n          return LEFT_CURLY_BRACKET_TOKEN;\r\n        case RIGHT_CURLY_BRACKET:\r\n          return RIGHT_CURLY_BRACKET_TOKEN;\r\n        case u:\r\n        case U:\r\n          var u1 = this.peekCodePoint(0);\r\n          var u2 = this.peekCodePoint(1);\r\n          if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\r\n            this.consumeCodePoint();\r\n            this.consumeUnicodeRangeToken();\r\n          }\r\n          this.reconsumeCodePoint(codePoint);\r\n          return this.consumeIdentLikeToken();\r\n        case VERTICAL_LINE:\r\n          if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n            this.consumeCodePoint();\r\n            return DASH_MATCH_TOKEN;\r\n          }\r\n          if (this.peekCodePoint(0) === VERTICAL_LINE) {\r\n            this.consumeCodePoint();\r\n            return COLUMN_TOKEN;\r\n          }\r\n          break;\r\n        case TILDE:\r\n          if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n            this.consumeCodePoint();\r\n            return INCLUDE_MATCH_TOKEN;\r\n          }\r\n          break;\r\n        case EOF:\r\n          return EOF_TOKEN;\r\n      }\r\n      if (isWhiteSpace(codePoint)) {\r\n        this.consumeWhiteSpace();\r\n        return WHITESPACE_TOKEN;\r\n      }\r\n      if (isDigit(codePoint)) {\r\n        this.reconsumeCodePoint(codePoint);\r\n        return this.consumeNumericToken();\r\n      }\r\n      if (isNameStartCodePoint(codePoint)) {\r\n        this.reconsumeCodePoint(codePoint);\r\n        return this.consumeIdentLikeToken();\r\n      }\r\n      return {\r\n        type: TokenType.DELIM_TOKEN,\r\n        value: fromCodePoint(codePoint)\r\n      };\r\n    };\r\n    Tokenizer.prototype.consumeCodePoint = function() {\r\n      var value = this._value.shift();\r\n      return typeof value === 'undefined' ? -1 : value;\r\n    };\r\n    Tokenizer.prototype.reconsumeCodePoint = function(codePoint) {\r\n      this._value.unshift(codePoint);\r\n    };\r\n    Tokenizer.prototype.peekCodePoint = function(delta) {\r\n      if (delta >= this._value.length) {\r\n        return -1;\r\n      }\r\n      return this._value[delta];\r\n    };\r\n    Tokenizer.prototype.consumeUnicodeRangeToken = function() {\r\n      var digits = [];\r\n      var codePoint = this.consumeCodePoint();\r\n      while (isHex(codePoint) && digits.length < 6) {\r\n        digits.push(codePoint);\r\n        codePoint = this.consumeCodePoint();\r\n      }\r\n      var questionMarks = false;\r\n      while (codePoint === QUESTION_MARK && digits.length < 6) {\r\n        digits.push(codePoint);\r\n        codePoint = this.consumeCodePoint();\r\n        questionMarks = true;\r\n      }\r\n      if (questionMarks) {\r\n        var start_1 = parseInt(fromCodePoint.apply(void 0, digits.map(function(digit) {\r\n          return (digit === QUESTION_MARK ? ZERO : digit);\r\n        })), 16);\r\n        var end = parseInt(fromCodePoint.apply(void 0, digits.map(function(digit) {\r\n          return (digit === QUESTION_MARK ? F : digit);\r\n        })), 16);\r\n        return {\r\n          type: TokenType.UNICODE_RANGE_TOKEN,\r\n          start: start_1,\r\n          end: end\r\n        };\r\n      }\r\n      var start = parseInt(fromCodePoint.apply(void 0, digits), 16);\r\n      if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\r\n        this.consumeCodePoint();\r\n        codePoint = this.consumeCodePoint();\r\n        var endDigits = [];\r\n        while (isHex(codePoint) && endDigits.length < 6) {\r\n          endDigits.push(codePoint);\r\n          codePoint = this.consumeCodePoint();\r\n        }\r\n        var end = parseInt(fromCodePoint.apply(void 0, endDigits), 16);\r\n        return {\r\n          type: TokenType.UNICODE_RANGE_TOKEN,\r\n          start: start,\r\n          end: end\r\n        };\r\n      } else {\r\n        return {\r\n          type: TokenType.UNICODE_RANGE_TOKEN,\r\n          start: start,\r\n          end: start\r\n        };\r\n      }\r\n    };\r\n    Tokenizer.prototype.consumeIdentLikeToken = function() {\r\n      var value = this.consumeName();\r\n      if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n        this.consumeCodePoint();\r\n        return this.consumeUrlToken();\r\n      } else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n        this.consumeCodePoint();\r\n        return {\r\n          type: TokenType.FUNCTION_TOKEN,\r\n          value: value\r\n        };\r\n      }\r\n      return {\r\n        type: TokenType.IDENT_TOKEN,\r\n        value: value\r\n      };\r\n    };\r\n    Tokenizer.prototype.consumeUrlToken = function() {\r\n      var value = [];\r\n      this.consumeWhiteSpace();\r\n      if (this.peekCodePoint(0) === EOF) {\r\n        return {\r\n          type: TokenType.URL_TOKEN,\r\n          value: ''\r\n        };\r\n      }\r\n      var next = this.peekCodePoint(0);\r\n      if (next === APOSTROPHE || next === QUOTATION_MARK) {\r\n        var stringToken = this.consumeStringToken(this.consumeCodePoint());\r\n        if (stringToken.type === TokenType.STRING_TOKEN) {\r\n          this.consumeWhiteSpace();\r\n          if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n            this.consumeCodePoint();\r\n            return {\r\n              type: TokenType.URL_TOKEN,\r\n              value: stringToken.value\r\n            };\r\n          }\r\n        }\r\n        this.consumeBadUrlRemnants();\r\n        return BAD_URL_TOKEN;\r\n      }\r\n      while (true) {\r\n        var codePoint = this.consumeCodePoint();\r\n        if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\r\n          return {\r\n            type: TokenType.URL_TOKEN,\r\n            value: fromCodePoint.apply(void 0, value)\r\n          };\r\n        } else if (isWhiteSpace(codePoint)) {\r\n          this.consumeWhiteSpace();\r\n          if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n            this.consumeCodePoint();\r\n            return {\r\n              type: TokenType.URL_TOKEN,\r\n              value: fromCodePoint.apply(void 0, value)\r\n            };\r\n          }\r\n          this.consumeBadUrlRemnants();\r\n          return BAD_URL_TOKEN;\r\n        } else if (codePoint === QUOTATION_MARK ||\r\n          codePoint === APOSTROPHE ||\r\n          codePoint === LEFT_PARENTHESIS ||\r\n          isNonPrintableCodePoint(codePoint)) {\r\n          this.consumeBadUrlRemnants();\r\n          return BAD_URL_TOKEN;\r\n        } else if (codePoint === REVERSE_SOLIDUS) {\r\n          if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n            value.push(this.consumeEscapedCodePoint());\r\n          } else {\r\n            this.consumeBadUrlRemnants();\r\n            return BAD_URL_TOKEN;\r\n          }\r\n        } else {\r\n          value.push(codePoint);\r\n        }\r\n      }\r\n    };\r\n    Tokenizer.prototype.consumeWhiteSpace = function() {\r\n      while (isWhiteSpace(this.peekCodePoint(0))) {\r\n        this.consumeCodePoint();\r\n      }\r\n    };\r\n    Tokenizer.prototype.consumeBadUrlRemnants = function() {\r\n      while (true) {\r\n        var codePoint = this.consumeCodePoint();\r\n        if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\r\n          return;\r\n        }\r\n        if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n          this.consumeEscapedCodePoint();\r\n        }\r\n      }\r\n    };\r\n    Tokenizer.prototype.consumeStringSlice = function(count) {\r\n      var SLICE_STACK_SIZE = 60000;\r\n      var value = '';\r\n      while (count > 0) {\r\n        var amount = Math.min(SLICE_STACK_SIZE, count);\r\n        value += fromCodePoint.apply(void 0, this._value.splice(0, amount));\r\n        count -= amount;\r\n      }\r\n      this._value.shift();\r\n      return value;\r\n    };\r\n    Tokenizer.prototype.consumeStringToken = function(endingCodePoint) {\r\n      var value = '';\r\n      var i = 0;\r\n      do {\r\n        var codePoint = this._value[i];\r\n        if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\r\n          value += this.consumeStringSlice(i);\r\n          return {\r\n            type: TokenType.STRING_TOKEN,\r\n            value: value\r\n          };\r\n        }\r\n        if (codePoint === LINE_FEED) {\r\n          this._value.splice(0, i);\r\n          return BAD_STRING_TOKEN;\r\n        }\r\n        if (codePoint === REVERSE_SOLIDUS) {\r\n          var next = this._value[i + 1];\r\n          if (next !== EOF && next !== undefined) {\r\n            if (next === LINE_FEED) {\r\n              value += this.consumeStringSlice(i);\r\n              i = -1;\r\n              this._value.shift();\r\n            } else if (isValidEscape(codePoint, next)) {\r\n              value += this.consumeStringSlice(i);\r\n              value += fromCodePoint(this.consumeEscapedCodePoint());\r\n              i = -1;\r\n            }\r\n          }\r\n        }\r\n        i++;\r\n      } while (true);\r\n    };\r\n    Tokenizer.prototype.consumeNumber = function() {\r\n      var repr = [];\r\n      var type = FLAG_INTEGER;\r\n      var c1 = this.peekCodePoint(0);\r\n      if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n        repr.push(this.consumeCodePoint());\r\n      }\r\n      while (isDigit(this.peekCodePoint(0))) {\r\n        repr.push(this.consumeCodePoint());\r\n      }\r\n      c1 = this.peekCodePoint(0);\r\n      var c2 = this.peekCodePoint(1);\r\n      if (c1 === FULL_STOP && isDigit(c2)) {\r\n        repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n        type = FLAG_NUMBER;\r\n        while (isDigit(this.peekCodePoint(0))) {\r\n          repr.push(this.consumeCodePoint());\r\n        }\r\n      }\r\n      c1 = this.peekCodePoint(0);\r\n      c2 = this.peekCodePoint(1);\r\n      var c3 = this.peekCodePoint(2);\r\n      if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\r\n        repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n        type = FLAG_NUMBER;\r\n        while (isDigit(this.peekCodePoint(0))) {\r\n          repr.push(this.consumeCodePoint());\r\n        }\r\n      }\r\n      return [stringToNumber(repr), type];\r\n    };\r\n    Tokenizer.prototype.consumeNumericToken = function() {\r\n      var _a = this.consumeNumber(),\r\n        number = _a[0],\r\n        flags = _a[1];\r\n      var c1 = this.peekCodePoint(0);\r\n      var c2 = this.peekCodePoint(1);\r\n      var c3 = this.peekCodePoint(2);\r\n      if (isIdentifierStart(c1, c2, c3)) {\r\n        var unit = this.consumeName();\r\n        return {\r\n          type: TokenType.DIMENSION_TOKEN,\r\n          number: number,\r\n          flags: flags,\r\n          unit: unit\r\n        };\r\n      }\r\n      if (c1 === PERCENTAGE_SIGN) {\r\n        this.consumeCodePoint();\r\n        return {\r\n          type: TokenType.PERCENTAGE_TOKEN,\r\n          number: number,\r\n          flags: flags\r\n        };\r\n      }\r\n      return {\r\n        type: TokenType.NUMBER_TOKEN,\r\n        number: number,\r\n        flags: flags\r\n      };\r\n    };\r\n    Tokenizer.prototype.consumeEscapedCodePoint = function() {\r\n      var codePoint = this.consumeCodePoint();\r\n      if (isHex(codePoint)) {\r\n        var hex = fromCodePoint(codePoint);\r\n        while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\r\n          hex += fromCodePoint(this.consumeCodePoint());\r\n        }\r\n        if (isWhiteSpace(this.peekCodePoint(0))) {\r\n          this.consumeCodePoint();\r\n        }\r\n        var hexCodePoint = parseInt(hex, 16);\r\n        if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\r\n          return REPLACEMENT_CHARACTER;\r\n        }\r\n        return hexCodePoint;\r\n      }\r\n      if (codePoint === EOF) {\r\n        return REPLACEMENT_CHARACTER;\r\n      }\r\n      return codePoint;\r\n    };\r\n    Tokenizer.prototype.consumeName = function() {\r\n      var result = '';\r\n      while (true) {\r\n        var codePoint = this.consumeCodePoint();\r\n        if (isNameCodePoint(codePoint)) {\r\n          result += fromCodePoint(codePoint);\r\n        } else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n          result += fromCodePoint(this.consumeEscapedCodePoint());\r\n        } else {\r\n          this.reconsumeCodePoint(codePoint);\r\n          return result;\r\n        }\r\n      }\r\n    };\r\n    return Tokenizer;\r\n  }());\r\n\r\n  var Parser = /** @class */ (function() {\r\n    function Parser(tokens) {\r\n      this._tokens = tokens;\r\n    }\r\n    Parser.create = function(value) {\r\n      var tokenizer = new Tokenizer();\r\n      tokenizer.write(value);\r\n      return new Parser(tokenizer.read());\r\n    };\r\n    Parser.parseValue = function(value) {\r\n      return Parser.create(value).parseComponentValue();\r\n    };\r\n    Parser.parseValues = function(value) {\r\n      return Parser.create(value).parseComponentValues();\r\n    };\r\n    Parser.prototype.parseComponentValue = function() {\r\n      var token = this.consumeToken();\r\n      while (token.type === TokenType.WHITESPACE_TOKEN) {\r\n        token = this.consumeToken();\r\n      }\r\n      if (token.type === TokenType.EOF_TOKEN) {\r\n        throw new SyntaxError(\"Error parsing CSS component value, unexpected EOF\");\r\n      }\r\n      this.reconsumeToken(token);\r\n      var value = this.consumeComponentValue();\r\n      do {\r\n        token = this.consumeToken();\r\n      } while (token.type === TokenType.WHITESPACE_TOKEN);\r\n      if (token.type === TokenType.EOF_TOKEN) {\r\n        return value;\r\n      }\r\n      throw new SyntaxError(\"Error parsing CSS component value, multiple values found when expecting only one\");\r\n    };\r\n    Parser.prototype.parseComponentValues = function() {\r\n      var values = [];\r\n      while (true) {\r\n        var value = this.consumeComponentValue();\r\n        if (value.type === TokenType.EOF_TOKEN) {\r\n          return values;\r\n        }\r\n        values.push(value);\r\n        values.push();\r\n      }\r\n    };\r\n    Parser.prototype.consumeComponentValue = function() {\r\n      var token = this.consumeToken();\r\n      switch (token.type) {\r\n        case TokenType.LEFT_CURLY_BRACKET_TOKEN:\r\n        case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\r\n        case TokenType.LEFT_PARENTHESIS_TOKEN:\r\n          return this.consumeSimpleBlock(token.type);\r\n        case TokenType.FUNCTION_TOKEN:\r\n          return this.consumeFunction(token);\r\n      }\r\n      return token;\r\n    };\r\n    Parser.prototype.consumeSimpleBlock = function(type) {\r\n      var block = {\r\n        type: type,\r\n        values: []\r\n      };\r\n      var token = this.consumeToken();\r\n      while (true) {\r\n        if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\r\n          return block;\r\n        }\r\n        this.reconsumeToken(token);\r\n        block.values.push(this.consumeComponentValue());\r\n        token = this.consumeToken();\r\n      }\r\n    };\r\n    Parser.prototype.consumeFunction = function(functionToken) {\r\n      var cssFunction = {\r\n        name: functionToken.value,\r\n        values: [],\r\n        type: TokenType.FUNCTION\r\n      };\r\n      while (true) {\r\n        var token = this.consumeToken();\r\n        if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {\r\n          return cssFunction;\r\n        }\r\n        this.reconsumeToken(token);\r\n        cssFunction.values.push(this.consumeComponentValue());\r\n      }\r\n    };\r\n    Parser.prototype.consumeToken = function() {\r\n      var token = this._tokens.shift();\r\n      return typeof token === 'undefined' ? EOF_TOKEN : token;\r\n    };\r\n    Parser.prototype.reconsumeToken = function(token) {\r\n      this._tokens.unshift(token);\r\n    };\r\n    return Parser;\r\n  }());\r\n  var isDimensionToken = function(token) {\r\n    return token.type === TokenType.DIMENSION_TOKEN;\r\n  };\r\n  var isNumberToken = function(token) {\r\n    return token.type === TokenType.NUMBER_TOKEN;\r\n  };\r\n  var isIdentToken = function(token) {\r\n    return token.type === TokenType.IDENT_TOKEN;\r\n  };\r\n  var isStringToken = function(token) {\r\n    return token.type === TokenType.STRING_TOKEN;\r\n  };\r\n  var isIdentWithValue = function(token, value) {\r\n    return isIdentToken(token) && token.value === value;\r\n  };\r\n  var nonWhiteSpace = function(token) {\r\n    return token.type !== TokenType.WHITESPACE_TOKEN;\r\n  };\r\n  var nonFunctionArgSeparator = function(token) {\r\n    return token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;\r\n  };\r\n  var parseFunctionArgs = function(tokens) {\r\n    var args = [];\r\n    var arg = [];\r\n    tokens.forEach(function(token) {\r\n      if (token.type === TokenType.COMMA_TOKEN) {\r\n        if (arg.length === 0) {\r\n          throw new Error(\"Error parsing function args, zero tokens for arg\");\r\n        }\r\n        args.push(arg);\r\n        arg = [];\r\n        return;\r\n      }\r\n      if (token.type !== TokenType.WHITESPACE_TOKEN) {\r\n        arg.push(token);\r\n      }\r\n    });\r\n    if (arg.length) {\r\n      args.push(arg);\r\n    }\r\n    return args;\r\n  };\r\n  var isEndingTokenFor = function(token, type) {\r\n    if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {\r\n      return true;\r\n    }\r\n    if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {\r\n      return true;\r\n    }\r\n    return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;\r\n  };\r\n\r\n  var isLength = function(token) {\r\n    return token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;\r\n  };\r\n\r\n  var isLengthPercentage = function(token) {\r\n    return token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);\r\n  };\r\n  var parseLengthPercentageTuple = function(tokens) {\r\n    return tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\r\n  };\r\n  var ZERO_LENGTH = {\r\n    type: TokenType.NUMBER_TOKEN,\r\n    number: 0,\r\n    flags: FLAG_INTEGER\r\n  };\r\n  var FIFTY_PERCENT = {\r\n    type: TokenType.PERCENTAGE_TOKEN,\r\n    number: 50,\r\n    flags: FLAG_INTEGER\r\n  };\r\n  var HUNDRED_PERCENT = {\r\n    type: TokenType.PERCENTAGE_TOKEN,\r\n    number: 100,\r\n    flags: FLAG_INTEGER\r\n  };\r\n  var getAbsoluteValueForTuple = function(tuple, width, height) {\r\n    var x = tuple[0],\r\n      y = tuple[1];\r\n    return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\r\n  };\r\n  var getAbsoluteValue = function(token, parent) {\r\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n      return (token.number / 100) * parent;\r\n    }\r\n    if (isDimensionToken(token)) {\r\n      switch (token.unit) {\r\n        case 'rem':\r\n        case 'em':\r\n          return 16 * token.number; // TODO use correct font-size\r\n        case 'px':\r\n        default:\r\n          return token.number;\r\n      }\r\n    }\r\n    return token.number;\r\n  };\r\n\r\n  var DEG = 'deg';\r\n  var GRAD = 'grad';\r\n  var RAD = 'rad';\r\n  var TURN = 'turn';\r\n  var angle = {\r\n    name: 'angle',\r\n    parse: function(value) {\r\n      if (value.type === TokenType.DIMENSION_TOKEN) {\r\n        switch (value.unit) {\r\n          case DEG:\r\n            return (Math.PI * value.number) / 180;\r\n          case GRAD:\r\n            return (Math.PI / 200) * value.number;\r\n          case RAD:\r\n            return value.number;\r\n          case TURN:\r\n            return Math.PI * 2 * value.number;\r\n        }\r\n      }\r\n      throw new Error(\"Unsupported angle type\");\r\n    }\r\n  };\r\n  var isAngle = function(value) {\r\n    if (value.type === TokenType.DIMENSION_TOKEN) {\r\n      if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n  var parseNamedSide = function(tokens) {\r\n    var sideOrCorner = tokens\r\n      .filter(isIdentToken)\r\n      .map(function(ident) {\r\n        return ident.value;\r\n      })\r\n      .join(' ');\r\n    switch (sideOrCorner) {\r\n      case 'to bottom right':\r\n      case 'to right bottom':\r\n      case 'left top':\r\n      case 'top left':\r\n        return [ZERO_LENGTH, ZERO_LENGTH];\r\n      case 'to top':\r\n      case 'bottom':\r\n        return deg(0);\r\n      case 'to bottom left':\r\n      case 'to left bottom':\r\n      case 'right top':\r\n      case 'top right':\r\n        return [ZERO_LENGTH, HUNDRED_PERCENT];\r\n      case 'to right':\r\n      case 'left':\r\n        return deg(90);\r\n      case 'to top left':\r\n      case 'to left top':\r\n      case 'right bottom':\r\n      case 'bottom right':\r\n        return [HUNDRED_PERCENT, HUNDRED_PERCENT];\r\n      case 'to bottom':\r\n      case 'top':\r\n        return deg(180);\r\n      case 'to top right':\r\n      case 'to right top':\r\n      case 'left bottom':\r\n      case 'bottom left':\r\n        return [HUNDRED_PERCENT, ZERO_LENGTH];\r\n      case 'to left':\r\n      case 'right':\r\n        return deg(270);\r\n    }\r\n    return 0;\r\n  };\r\n  var deg = function(deg) {\r\n    return (Math.PI * deg) / 180;\r\n  };\r\n\r\n  var color = {\r\n    name: 'color',\r\n    parse: function(value) {\r\n      if (value.type === TokenType.FUNCTION) {\r\n        var colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\r\n        if (typeof colorFunction === 'undefined') {\r\n          throw new Error(\"Attempting to parse an unsupported color function \\\"\" + value.name + \"\\\"\");\r\n        }\r\n        return colorFunction(value.values);\r\n      }\r\n      if (value.type === TokenType.HASH_TOKEN) {\r\n        if (value.value.length === 3) {\r\n          var r = value.value.substring(0, 1);\r\n          var g = value.value.substring(1, 2);\r\n          var b = value.value.substring(2, 3);\r\n          return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\r\n        }\r\n        if (value.value.length === 4) {\r\n          var r = value.value.substring(0, 1);\r\n          var g = value.value.substring(1, 2);\r\n          var b = value.value.substring(2, 3);\r\n          var a = value.value.substring(3, 4);\r\n          return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\r\n        }\r\n        if (value.value.length === 6) {\r\n          var r = value.value.substring(0, 2);\r\n          var g = value.value.substring(2, 4);\r\n          var b = value.value.substring(4, 6);\r\n          return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\r\n        }\r\n        if (value.value.length === 8) {\r\n          var r = value.value.substring(0, 2);\r\n          var g = value.value.substring(2, 4);\r\n          var b = value.value.substring(4, 6);\r\n          var a = value.value.substring(6, 8);\r\n          return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\r\n        }\r\n      }\r\n      if (value.type === TokenType.IDENT_TOKEN) {\r\n        var namedColor = COLORS[value.value.toUpperCase()];\r\n        if (typeof namedColor !== 'undefined') {\r\n          return namedColor;\r\n        }\r\n      }\r\n      return COLORS.TRANSPARENT;\r\n    }\r\n  };\r\n  var isTransparent = function(color) {\r\n    return (0xff & color) === 0;\r\n  };\r\n  var asString = function(color) {\r\n    var alpha = 0xff & color;\r\n    var blue = 0xff & (color >> 8);\r\n    var green = 0xff & (color >> 16);\r\n    var red = 0xff & (color >> 24);\r\n    return alpha < 255 ? \"rgba(\" + red + \",\" + green + \",\" + blue + \",\" + alpha / 255 + \")\" : \"rgb(\" + red + \",\" + green + \",\" + blue + \")\";\r\n  };\r\n  var pack = function(r, g, b, a) {\r\n    return ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\r\n  };\r\n  var getTokenColorValue = function(token, i) {\r\n    if (token.type === TokenType.NUMBER_TOKEN) {\r\n      return token.number;\r\n    }\r\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n      var max = i === 3 ? 1 : 255;\r\n      return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\r\n    }\r\n    return 0;\r\n  };\r\n  var rgb = function(args) {\r\n    var tokens = args.filter(nonFunctionArgSeparator);\r\n    if (tokens.length === 3) {\r\n      var _a = tokens.map(getTokenColorValue),\r\n        r = _a[0],\r\n        g = _a[1],\r\n        b = _a[2];\r\n      return pack(r, g, b, 1);\r\n    }\r\n    if (tokens.length === 4) {\r\n      var _b = tokens.map(getTokenColorValue),\r\n        r = _b[0],\r\n        g = _b[1],\r\n        b = _b[2],\r\n        a = _b[3];\r\n      return pack(r, g, b, a);\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  function hue2rgb(t1, t2, hue) {\r\n    if (hue < 0) {\r\n      hue += 1;\r\n    }\r\n    if (hue >= 1) {\r\n      hue -= 1;\r\n    }\r\n    if (hue < 1 / 6) {\r\n      return (t2 - t1) * hue * 6 + t1;\r\n    } else if (hue < 1 / 2) {\r\n      return t2;\r\n    } else if (hue < 2 / 3) {\r\n      return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\r\n    } else {\r\n      return t1;\r\n    }\r\n  }\r\n  var hsl = function(args) {\r\n    var tokens = args.filter(nonFunctionArgSeparator);\r\n    var hue = tokens[0],\r\n      saturation = tokens[1],\r\n      lightness = tokens[2],\r\n      alpha = tokens[3];\r\n    var h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(hue)) / (Math.PI * 2);\r\n    var s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\r\n    var l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\r\n    var a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\r\n    if (s === 0) {\r\n      return pack(l * 255, l * 255, l * 255, 1);\r\n    }\r\n    var t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\r\n    var t1 = l * 2 - t2;\r\n    var r = hue2rgb(t1, t2, h + 1 / 3);\r\n    var g = hue2rgb(t1, t2, h);\r\n    var b = hue2rgb(t1, t2, h - 1 / 3);\r\n    return pack(r * 255, g * 255, b * 255, a);\r\n  };\r\n  var SUPPORTED_COLOR_FUNCTIONS = {\r\n    hsl: hsl,\r\n    hsla: hsl,\r\n    rgb: rgb,\r\n    rgba: rgb\r\n  };\r\n  var COLORS = {\r\n    ALICEBLUE: 0xf0f8ffff,\r\n    ANTIQUEWHITE: 0xfaebd7ff,\r\n    AQUA: 0x00ffffff,\r\n    AQUAMARINE: 0x7fffd4ff,\r\n    AZURE: 0xf0ffffff,\r\n    BEIGE: 0xf5f5dcff,\r\n    BISQUE: 0xffe4c4ff,\r\n    BLACK: 0x000000ff,\r\n    BLANCHEDALMOND: 0xffebcdff,\r\n    BLUE: 0x0000ffff,\r\n    BLUEVIOLET: 0x8a2be2ff,\r\n    BROWN: 0xa52a2aff,\r\n    BURLYWOOD: 0xdeb887ff,\r\n    CADETBLUE: 0x5f9ea0ff,\r\n    CHARTREUSE: 0x7fff00ff,\r\n    CHOCOLATE: 0xd2691eff,\r\n    CORAL: 0xff7f50ff,\r\n    CORNFLOWERBLUE: 0x6495edff,\r\n    CORNSILK: 0xfff8dcff,\r\n    CRIMSON: 0xdc143cff,\r\n    CYAN: 0x00ffffff,\r\n    DARKBLUE: 0x00008bff,\r\n    DARKCYAN: 0x008b8bff,\r\n    DARKGOLDENROD: 0xb886bbff,\r\n    DARKGRAY: 0xa9a9a9ff,\r\n    DARKGREEN: 0x006400ff,\r\n    DARKGREY: 0xa9a9a9ff,\r\n    DARKKHAKI: 0xbdb76bff,\r\n    DARKMAGENTA: 0x8b008bff,\r\n    DARKOLIVEGREEN: 0x556b2fff,\r\n    DARKORANGE: 0xff8c00ff,\r\n    DARKORCHID: 0x9932ccff,\r\n    DARKRED: 0x8b0000ff,\r\n    DARKSALMON: 0xe9967aff,\r\n    DARKSEAGREEN: 0x8fbc8fff,\r\n    DARKSLATEBLUE: 0x483d8bff,\r\n    DARKSLATEGRAY: 0x2f4f4fff,\r\n    DARKSLATEGREY: 0x2f4f4fff,\r\n    DARKTURQUOISE: 0x00ced1ff,\r\n    DARKVIOLET: 0x9400d3ff,\r\n    DEEPPINK: 0xff1493ff,\r\n    DEEPSKYBLUE: 0x00bfffff,\r\n    DIMGRAY: 0x696969ff,\r\n    DIMGREY: 0x696969ff,\r\n    DODGERBLUE: 0x1e90ffff,\r\n    FIREBRICK: 0xb22222ff,\r\n    FLORALWHITE: 0xfffaf0ff,\r\n    FORESTGREEN: 0x228b22ff,\r\n    FUCHSIA: 0xff00ffff,\r\n    GAINSBORO: 0xdcdcdcff,\r\n    GHOSTWHITE: 0xf8f8ffff,\r\n    GOLD: 0xffd700ff,\r\n    GOLDENROD: 0xdaa520ff,\r\n    GRAY: 0x808080ff,\r\n    GREEN: 0x008000ff,\r\n    GREENYELLOW: 0xadff2fff,\r\n    GREY: 0x808080ff,\r\n    HONEYDEW: 0xf0fff0ff,\r\n    HOTPINK: 0xff69b4ff,\r\n    INDIANRED: 0xcd5c5cff,\r\n    INDIGO: 0x4b0082ff,\r\n    IVORY: 0xfffff0ff,\r\n    KHAKI: 0xf0e68cff,\r\n    LAVENDER: 0xe6e6faff,\r\n    LAVENDERBLUSH: 0xfff0f5ff,\r\n    LAWNGREEN: 0x7cfc00ff,\r\n    LEMONCHIFFON: 0xfffacdff,\r\n    LIGHTBLUE: 0xadd8e6ff,\r\n    LIGHTCORAL: 0xf08080ff,\r\n    LIGHTCYAN: 0xe0ffffff,\r\n    LIGHTGOLDENRODYELLOW: 0xfafad2ff,\r\n    LIGHTGRAY: 0xd3d3d3ff,\r\n    LIGHTGREEN: 0x90ee90ff,\r\n    LIGHTGREY: 0xd3d3d3ff,\r\n    LIGHTPINK: 0xffb6c1ff,\r\n    LIGHTSALMON: 0xffa07aff,\r\n    LIGHTSEAGREEN: 0x20b2aaff,\r\n    LIGHTSKYBLUE: 0x87cefaff,\r\n    LIGHTSLATEGRAY: 0x778899ff,\r\n    LIGHTSLATEGREY: 0x778899ff,\r\n    LIGHTSTEELBLUE: 0xb0c4deff,\r\n    LIGHTYELLOW: 0xffffe0ff,\r\n    LIME: 0x00ff00ff,\r\n    LIMEGREEN: 0x32cd32ff,\r\n    LINEN: 0xfaf0e6ff,\r\n    MAGENTA: 0xff00ffff,\r\n    MAROON: 0x800000ff,\r\n    MEDIUMAQUAMARINE: 0x66cdaaff,\r\n    MEDIUMBLUE: 0x0000cdff,\r\n    MEDIUMORCHID: 0xba55d3ff,\r\n    MEDIUMPURPLE: 0x9370dbff,\r\n    MEDIUMSEAGREEN: 0x3cb371ff,\r\n    MEDIUMSLATEBLUE: 0x7b68eeff,\r\n    MEDIUMSPRINGGREEN: 0x00fa9aff,\r\n    MEDIUMTURQUOISE: 0x48d1ccff,\r\n    MEDIUMVIOLETRED: 0xc71585ff,\r\n    MIDNIGHTBLUE: 0x191970ff,\r\n    MINTCREAM: 0xf5fffaff,\r\n    MISTYROSE: 0xffe4e1ff,\r\n    MOCCASIN: 0xffe4b5ff,\r\n    NAVAJOWHITE: 0xffdeadff,\r\n    NAVY: 0x000080ff,\r\n    OLDLACE: 0xfdf5e6ff,\r\n    OLIVE: 0x808000ff,\r\n    OLIVEDRAB: 0x6b8e23ff,\r\n    ORANGE: 0xffa500ff,\r\n    ORANGERED: 0xff4500ff,\r\n    ORCHID: 0xda70d6ff,\r\n    PALEGOLDENROD: 0xeee8aaff,\r\n    PALEGREEN: 0x98fb98ff,\r\n    PALETURQUOISE: 0xafeeeeff,\r\n    PALEVIOLETRED: 0xdb7093ff,\r\n    PAPAYAWHIP: 0xffefd5ff,\r\n    PEACHPUFF: 0xffdab9ff,\r\n    PERU: 0xcd853fff,\r\n    PINK: 0xffc0cbff,\r\n    PLUM: 0xdda0ddff,\r\n    POWDERBLUE: 0xb0e0e6ff,\r\n    PURPLE: 0x800080ff,\r\n    REBECCAPURPLE: 0x663399ff,\r\n    RED: 0xff0000ff,\r\n    ROSYBROWN: 0xbc8f8fff,\r\n    ROYALBLUE: 0x4169e1ff,\r\n    SADDLEBROWN: 0x8b4513ff,\r\n    SALMON: 0xfa8072ff,\r\n    SANDYBROWN: 0xf4a460ff,\r\n    SEAGREEN: 0x2e8b57ff,\r\n    SEASHELL: 0xfff5eeff,\r\n    SIENNA: 0xa0522dff,\r\n    SILVER: 0xc0c0c0ff,\r\n    SKYBLUE: 0x87ceebff,\r\n    SLATEBLUE: 0x6a5acdff,\r\n    SLATEGRAY: 0x708090ff,\r\n    SLATEGREY: 0x708090ff,\r\n    SNOW: 0xfffafaff,\r\n    SPRINGGREEN: 0x00ff7fff,\r\n    STEELBLUE: 0x4682b4ff,\r\n    TAN: 0xd2b48cff,\r\n    TEAL: 0x008080ff,\r\n    THISTLE: 0xd8bfd8ff,\r\n    TOMATO: 0xff6347ff,\r\n    TRANSPARENT: 0x00000000,\r\n    TURQUOISE: 0x40e0d0ff,\r\n    VIOLET: 0xee82eeff,\r\n    WHEAT: 0xf5deb3ff,\r\n    WHITE: 0xffffffff,\r\n    WHITESMOKE: 0xf5f5f5ff,\r\n    YELLOW: 0xffff00ff,\r\n    YELLOWGREEN: 0x9acd32ff\r\n  };\r\n\r\n  var PropertyDescriptorParsingType;\r\n  (function(PropertyDescriptorParsingType) {\r\n    PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"VALUE\"] = 0] = \"VALUE\";\r\n    PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"LIST\"] = 1] = \"LIST\";\r\n    PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"IDENT_VALUE\"] = 2] = \"IDENT_VALUE\";\r\n    PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TYPE_VALUE\"] = 3] = \"TYPE_VALUE\";\r\n    PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TOKEN_VALUE\"] = 4] = \"TOKEN_VALUE\";\r\n  })(PropertyDescriptorParsingType || (PropertyDescriptorParsingType = {}));\r\n\r\n  var BACKGROUND_CLIP;\r\n  (function(BACKGROUND_CLIP) {\r\n    BACKGROUND_CLIP[BACKGROUND_CLIP[\"BORDER_BOX\"] = 0] = \"BORDER_BOX\";\r\n    BACKGROUND_CLIP[BACKGROUND_CLIP[\"PADDING_BOX\"] = 1] = \"PADDING_BOX\";\r\n    BACKGROUND_CLIP[BACKGROUND_CLIP[\"CONTENT_BOX\"] = 2] = \"CONTENT_BOX\";\r\n  })(BACKGROUND_CLIP || (BACKGROUND_CLIP = {}));\r\n  var backgroundClip = {\r\n    name: 'background-clip',\r\n    initialValue: 'border-box',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      return tokens.map(function(token) {\r\n        if (isIdentToken(token)) {\r\n          switch (token.value) {\r\n            case 'padding-box':\r\n              return BACKGROUND_CLIP.PADDING_BOX;\r\n            case 'content-box':\r\n              return BACKGROUND_CLIP.CONTENT_BOX;\r\n          }\r\n        }\r\n        return BACKGROUND_CLIP.BORDER_BOX;\r\n      });\r\n    }\r\n  };\r\n\r\n  var backgroundColor = {\r\n    name: \"background-color\",\r\n    initialValue: 'transparent',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n    format: 'color'\r\n  };\r\n\r\n  var parseColorStop = function(args) {\r\n    var color$1 = color.parse(args[0]);\r\n    var stop = args[1];\r\n    return stop && isLengthPercentage(stop) ? {\r\n      color: color$1,\r\n      stop: stop\r\n    } : {\r\n      color: color$1,\r\n      stop: null\r\n    };\r\n  };\r\n  var processColorStops = function(stops, lineLength) {\r\n    var first = stops[0];\r\n    var last = stops[stops.length - 1];\r\n    if (first.stop === null) {\r\n      first.stop = ZERO_LENGTH;\r\n    }\r\n    if (last.stop === null) {\r\n      last.stop = HUNDRED_PERCENT;\r\n    }\r\n    var processStops = [];\r\n    var previous = 0;\r\n    for (var i = 0; i < stops.length; i++) {\r\n      var stop_1 = stops[i].stop;\r\n      if (stop_1 !== null) {\r\n        var absoluteValue = getAbsoluteValue(stop_1, lineLength);\r\n        if (absoluteValue > previous) {\r\n          processStops.push(absoluteValue);\r\n        } else {\r\n          processStops.push(previous);\r\n        }\r\n        previous = absoluteValue;\r\n      } else {\r\n        processStops.push(null);\r\n      }\r\n    }\r\n    var gapBegin = null;\r\n    for (var i = 0; i < processStops.length; i++) {\r\n      var stop_2 = processStops[i];\r\n      if (stop_2 === null) {\r\n        if (gapBegin === null) {\r\n          gapBegin = i;\r\n        }\r\n      } else if (gapBegin !== null) {\r\n        var gapLength = i - gapBegin;\r\n        var beforeGap = processStops[gapBegin - 1];\r\n        var gapValue = (stop_2 - beforeGap) / (gapLength + 1);\r\n        for (var g = 1; g <= gapLength; g++) {\r\n          processStops[gapBegin + g - 1] = gapValue * g;\r\n        }\r\n        gapBegin = null;\r\n      }\r\n    }\r\n    return stops.map(function(_a, i) {\r\n      var color = _a.color;\r\n      return {\r\n        color: color,\r\n        stop: Math.max(Math.min(1, processStops[i] / lineLength), 0)\r\n      };\r\n    });\r\n  };\r\n  var getAngleFromCorner = function(corner, width, height) {\r\n    var centerX = width / 2;\r\n    var centerY = height / 2;\r\n    var x = getAbsoluteValue(corner[0], width) - centerX;\r\n    var y = centerY - getAbsoluteValue(corner[1], height);\r\n    return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\r\n  };\r\n  var calculateGradientDirection = function(angle, width, height) {\r\n    var radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\r\n    var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\r\n    var halfWidth = width / 2;\r\n    var halfHeight = height / 2;\r\n    var halfLineLength = lineLength / 2;\r\n    var yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\r\n    var xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\r\n    return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\r\n  };\r\n  var distance = function(a, b) {\r\n    return Math.sqrt(a * a + b * b);\r\n  };\r\n  var findCorner = function(width, height, x, y, closest) {\r\n    var corners = [\r\n      [0, 0],\r\n      [0, height],\r\n      [width, 0],\r\n      [width, height]\r\n    ];\r\n    return corners.reduce(function(stat, corner) {\r\n      var cx = corner[0],\r\n        cy = corner[1];\r\n      var d = distance(x - cx, y - cy);\r\n      if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\r\n        return {\r\n          optimumCorner: corner,\r\n          optimumDistance: d\r\n        };\r\n      }\r\n      return stat;\r\n    }, {\r\n      optimumDistance: closest ? Infinity : -Infinity,\r\n      optimumCorner: null\r\n    }).optimumCorner;\r\n  };\r\n  var calculateRadius = function(gradient, x, y, width, height) {\r\n    var rx = 0;\r\n    var ry = 0;\r\n    switch (gradient.size) {\r\n      case CSSRadialExtent.CLOSEST_SIDE:\r\n        // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradient’s center.\r\n        // If the shape is an ellipse, it exactly meets the closest side in each dimension.\r\n        if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n          rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n        } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n          rx = Math.min(Math.abs(x), Math.abs(x - width));\r\n          ry = Math.min(Math.abs(y), Math.abs(y - height));\r\n        }\r\n        break;\r\n      case CSSRadialExtent.CLOSEST_CORNER:\r\n        // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradient’s center.\r\n        // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\r\n        if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n          rx = ry = Math.min(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n        } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n          // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\r\n          var c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\r\n          var _a = findCorner(width, height, x, y, true),\r\n            cx = _a[0],\r\n            cy = _a[1];\r\n          rx = distance(cx - x, (cy - y) / c);\r\n          ry = c * rx;\r\n        }\r\n        break;\r\n      case CSSRadialExtent.FARTHEST_SIDE:\r\n        // Same as closest-side, except the ending shape is sized based on the farthest side(s)\r\n        if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n          rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n        } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n          rx = Math.max(Math.abs(x), Math.abs(x - width));\r\n          ry = Math.max(Math.abs(y), Math.abs(y - height));\r\n        }\r\n        break;\r\n      case CSSRadialExtent.FARTHEST_CORNER:\r\n        // Same as closest-corner, except the ending shape is sized based on the farthest corner.\r\n        // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\r\n        if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n          rx = ry = Math.max(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n        } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n          // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\r\n          var c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\r\n          var _b = findCorner(width, height, x, y, false),\r\n            cx = _b[0],\r\n            cy = _b[1];\r\n          rx = distance(cx - x, (cy - y) / c);\r\n          ry = c * rx;\r\n        }\r\n        break;\r\n    }\r\n    if (Array.isArray(gradient.size)) {\r\n      rx = getAbsoluteValue(gradient.size[0], width);\r\n      ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\r\n    }\r\n    return [rx, ry];\r\n  };\r\n\r\n  var linearGradient = function(tokens) {\r\n    var angle$1 = deg(180);\r\n    var stops = [];\r\n    parseFunctionArgs(tokens).forEach(function(arg, i) {\r\n      if (i === 0) {\r\n        var firstToken = arg[0];\r\n        if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {\r\n          angle$1 = parseNamedSide(arg);\r\n          return;\r\n        } else if (isAngle(firstToken)) {\r\n          angle$1 = angle.parse(firstToken);\r\n          return;\r\n        }\r\n      }\r\n      var colorStop = parseColorStop(arg);\r\n      stops.push(colorStop);\r\n    });\r\n    return {\r\n      angle: angle$1,\r\n      stops: stops,\r\n      type: CSSImageType.LINEAR_GRADIENT\r\n    };\r\n  };\r\n\r\n  var prefixLinearGradient = function(tokens) {\r\n    var angle$1 = deg(180);\r\n    var stops = [];\r\n    parseFunctionArgs(tokens).forEach(function(arg, i) {\r\n      if (i === 0) {\r\n        var firstToken = arg[0];\r\n        if (firstToken.type === TokenType.IDENT_TOKEN && ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1) {\r\n          angle$1 = parseNamedSide(arg);\r\n          return;\r\n        } else if (isAngle(firstToken)) {\r\n          angle$1 = (angle.parse(firstToken) + deg(270)) % deg(360);\r\n          return;\r\n        }\r\n      }\r\n      var colorStop = parseColorStop(arg);\r\n      stops.push(colorStop);\r\n    });\r\n    return {\r\n      angle: angle$1,\r\n      stops: stops,\r\n      type: CSSImageType.LINEAR_GRADIENT\r\n    };\r\n  };\r\n\r\n  var testRangeBounds = function(document) {\r\n    var TEST_HEIGHT = 123;\r\n    if (document.createRange) {\r\n      var range = document.createRange();\r\n      if (range.getBoundingClientRect) {\r\n        var testElement = document.createElement('boundtest');\r\n        testElement.style.height = TEST_HEIGHT + \"px\";\r\n        testElement.style.display = 'block';\r\n        document.body.appendChild(testElement);\r\n        range.selectNode(testElement);\r\n        var rangeBounds = range.getBoundingClientRect();\r\n        var rangeHeight = Math.round(rangeBounds.height);\r\n        document.body.removeChild(testElement);\r\n        if (rangeHeight === TEST_HEIGHT) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n  var testCORS = function() {\r\n    return typeof new Image().crossOrigin !== 'undefined';\r\n  };\r\n  var testResponseType = function() {\r\n    return typeof new XMLHttpRequest().responseType === 'string';\r\n  };\r\n  var testSVG = function(document) {\r\n    var img = new Image();\r\n    var canvas = document.createElement('canvas');\r\n    var ctx = canvas.getContext('2d');\r\n    if (!ctx) {\r\n      return false;\r\n    }\r\n    img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\r\n    try {\r\n      ctx.drawImage(img, 0, 0);\r\n      canvas.toDataURL();\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n  var isGreenPixel = function(data) {\r\n    return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\r\n  };\r\n  var testForeignObject = function(document) {\r\n    var canvas = document.createElement('canvas');\r\n    var size = 100;\r\n    canvas.width = size;\r\n    canvas.height = size;\r\n    var ctx = canvas.getContext('2d');\r\n    if (!ctx) {\r\n      return Promise.reject(false);\r\n    }\r\n    ctx.fillStyle = 'rgb(0, 255, 0)';\r\n    ctx.fillRect(0, 0, size, size);\r\n    var img = new Image();\r\n    var greenImageSrc = canvas.toDataURL();\r\n    img.src = greenImageSrc;\r\n    var svg = createForeignObjectSVG(size, size, 0, 0, img);\r\n    ctx.fillStyle = 'red';\r\n    ctx.fillRect(0, 0, size, size);\r\n    return loadSerializedSVG(svg)\r\n      .then(function(img) {\r\n        ctx.drawImage(img, 0, 0);\r\n        var data = ctx.getImageData(0, 0, size, size).data;\r\n        ctx.fillStyle = 'red';\r\n        ctx.fillRect(0, 0, size, size);\r\n        var node = document.createElement('div');\r\n        node.style.backgroundImage = \"url(\" + greenImageSrc + \")\";\r\n        node.style.height = size + \"px\";\r\n        // Firefox 55 does not render inline <img /> tags\r\n        return isGreenPixel(data) ?\r\n          loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node)) :\r\n          Promise.reject(false);\r\n      })\r\n      .then(function(img) {\r\n        ctx.drawImage(img, 0, 0);\r\n        // Edge does not render background-images\r\n        return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\r\n      })\r\n      .catch(function() {\r\n        return false;\r\n      });\r\n  };\r\n  var createForeignObjectSVG = function(width, height, x, y, node) {\r\n    var xmlns = 'http://www.w3.org/2000/svg';\r\n    var svg = document.createElementNS(xmlns, 'svg');\r\n    var foreignObject = document.createElementNS(xmlns, 'foreignObject');\r\n    svg.setAttributeNS(null, 'width', width.toString());\r\n    svg.setAttributeNS(null, 'height', height.toString());\r\n    foreignObject.setAttributeNS(null, 'width', '100%');\r\n    foreignObject.setAttributeNS(null, 'height', '100%');\r\n    foreignObject.setAttributeNS(null, 'x', x.toString());\r\n    foreignObject.setAttributeNS(null, 'y', y.toString());\r\n    foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\r\n    svg.appendChild(foreignObject);\r\n    foreignObject.appendChild(node);\r\n    return svg;\r\n  };\r\n  var loadSerializedSVG = function(svg) {\r\n    return new Promise(function(resolve, reject) {\r\n      var img = new Image();\r\n      img.onload = function() {\r\n        return resolve(img);\r\n      };\r\n      img.onerror = reject;\r\n      img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n    });\r\n  };\r\n  var FEATURES = {\r\n    get SUPPORT_RANGE_BOUNDS() {\r\n      var value = testRangeBounds(document);\r\n      Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', {\r\n        value: value\r\n      });\r\n      return value;\r\n    },\r\n    get SUPPORT_SVG_DRAWING() {\r\n      var value = testSVG(document);\r\n      Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', {\r\n        value: value\r\n      });\r\n      return value;\r\n    },\r\n    get SUPPORT_FOREIGNOBJECT_DRAWING() {\r\n      var value = typeof Array.from === 'function' && typeof window.fetch === 'function' ?\r\n        testForeignObject(document) :\r\n        Promise.resolve(false);\r\n      Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', {\r\n        value: value\r\n      });\r\n      return value;\r\n    },\r\n    get SUPPORT_CORS_IMAGES() {\r\n      var value = testCORS();\r\n      Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', {\r\n        value: value\r\n      });\r\n      return value;\r\n    },\r\n    get SUPPORT_RESPONSE_TYPE() {\r\n      var value = testResponseType();\r\n      Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', {\r\n        value: value\r\n      });\r\n      return value;\r\n    },\r\n    get SUPPORT_CORS_XHR() {\r\n      var value = 'withCredentials' in new XMLHttpRequest();\r\n      Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', {\r\n        value: value\r\n      });\r\n      return value;\r\n    }\r\n  };\r\n\r\n  var Logger = /** @class */ (function() {\r\n    function Logger(_a) {\r\n      var id = _a.id,\r\n        enabled = _a.enabled;\r\n      this.id = id;\r\n      this.enabled = enabled;\r\n      this.start = Date.now();\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    Logger.prototype.debug = function() {\r\n      var args = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n      }\r\n      if (this.enabled) {\r\n        // eslint-disable-next-line no-console\r\n        if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\r\n          // eslint-disable-next-line no-console\r\n          console.debug.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n        } else {\r\n          this.info.apply(this, args);\r\n        }\r\n      }\r\n    };\r\n    Logger.prototype.getTime = function() {\r\n      return Date.now() - this.start;\r\n    };\r\n    Logger.create = function(options) {\r\n      Logger.instances[options.id] = new Logger(options);\r\n    };\r\n    Logger.destroy = function(id) {\r\n      delete Logger.instances[id];\r\n    };\r\n    Logger.getInstance = function(id) {\r\n      var instance = Logger.instances[id];\r\n      if (typeof instance === 'undefined') {\r\n        throw new Error(\"No logger instance found with id \" + id);\r\n      }\r\n      return instance;\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    Logger.prototype.info = function() {\r\n      var args = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n      }\r\n      if (this.enabled) {\r\n        // eslint-disable-next-line no-console\r\n        if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\r\n          // eslint-disable-next-line no-console\r\n          console.info.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n        }\r\n      }\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    Logger.prototype.error = function() {\r\n      var args = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n      }\r\n      if (this.enabled) {\r\n        // eslint-disable-next-line no-console\r\n        if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\r\n          // eslint-disable-next-line no-console\r\n          console.error.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n        } else {\r\n          this.info.apply(this, args);\r\n        }\r\n      }\r\n    };\r\n    Logger.instances = {};\r\n    return Logger;\r\n  }());\r\n\r\n  var CacheStorage = /** @class */ (function() {\r\n    function CacheStorage() {}\r\n    CacheStorage.create = function(name, options) {\r\n      return (CacheStorage._caches[name] = new Cache(name, options));\r\n    };\r\n    CacheStorage.destroy = function(name) {\r\n      delete CacheStorage._caches[name];\r\n    };\r\n    CacheStorage.open = function(name) {\r\n      var cache = CacheStorage._caches[name];\r\n      if (typeof cache !== 'undefined') {\r\n        return cache;\r\n      }\r\n      throw new Error(\"Cache with key \\\"\" + name + \"\\\" not found\");\r\n    };\r\n    CacheStorage.getOrigin = function(url) {\r\n      var link = CacheStorage._link;\r\n      if (!link) {\r\n        return 'about:blank';\r\n      }\r\n      link.href = url;\r\n      link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\r\n      return link.protocol + link.hostname + link.port;\r\n    };\r\n    CacheStorage.isSameOrigin = function(src) {\r\n      return CacheStorage.getOrigin(src) === CacheStorage._origin;\r\n    };\r\n    CacheStorage.setContext = function(window) {\r\n      CacheStorage._link = window.document.createElement('a');\r\n      CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\r\n    };\r\n    CacheStorage.getInstance = function() {\r\n      var current = CacheStorage._current;\r\n      if (current === null) {\r\n        throw new Error(\"No cache instance attached\");\r\n      }\r\n      return current;\r\n    };\r\n    CacheStorage.attachInstance = function(cache) {\r\n      CacheStorage._current = cache;\r\n    };\r\n    CacheStorage.detachInstance = function() {\r\n      CacheStorage._current = null;\r\n    };\r\n    CacheStorage._caches = {};\r\n    CacheStorage._origin = 'about:blank';\r\n    CacheStorage._current = null;\r\n    return CacheStorage;\r\n  }());\r\n  var Cache = /** @class */ (function() {\r\n    function Cache(id, options) {\r\n      this.id = id;\r\n      this._options = options;\r\n      this._cache = {};\r\n    }\r\n    Cache.prototype.addImage = function(src) {\r\n      var result = Promise.resolve();\r\n      if (this.has(src)) {\r\n        return result;\r\n      }\r\n      if (isBlobImage(src) || isRenderable(src)) {\r\n        this._cache[src] = this.loadImage(src);\r\n        return result;\r\n      }\r\n      return result;\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    Cache.prototype.match = function(src) {\r\n      return this._cache[src];\r\n    };\r\n    Cache.prototype.loadImage = function(key) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        var isSameOrigin, useCORS, useProxy, src;\r\n        var _this = this;\r\n        return __generator(this, function(_a) {\r\n          switch (_a.label) {\r\n            case 0:\r\n              isSameOrigin = CacheStorage.isSameOrigin(key);\r\n              useCORS = !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\r\n              useProxy = !isInlineImage(key) &&\r\n                !isSameOrigin &&\r\n                typeof this._options.proxy === 'string' &&\r\n                FEATURES.SUPPORT_CORS_XHR &&\r\n                !useCORS;\r\n              if (!isSameOrigin && this._options.allowTaint === false && !isInlineImage(key) && !useProxy && !useCORS) {\r\n                return [2 /*return*/ ];\r\n              }\r\n              src = key;\r\n              if (!useProxy) return [3 /*break*/ , 2];\r\n              return [4 /*yield*/ , this.proxy(src)];\r\n            case 1:\r\n              src = _a.sent();\r\n              _a.label = 2;\r\n            case 2:\r\n              Logger.getInstance(this.id).debug(\"Added image \" + key.substring(0, 256));\r\n              return [4 /*yield*/ , new Promise(function(resolve, reject) {\r\n                var img = new Image();\r\n                img.onload = function() {\r\n                  return resolve(img);\r\n                };\r\n                img.onerror = reject;\r\n                //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\r\n                if (isInlineBase64Image(src) || useCORS) {\r\n                  img.crossOrigin = 'anonymous';\r\n                }\r\n                img.src = src;\r\n                if (img.complete === true) {\r\n                  // Inline XML images may fail to parse, throwing an Error later on\r\n                  setTimeout(function() {\r\n                    return resolve(img);\r\n                  }, 500);\r\n                }\r\n                if (_this._options.imageTimeout > 0) {\r\n                  setTimeout(function() {\r\n                    return reject(\"Timed out (\" + _this._options.imageTimeout + \"ms) loading image\");\r\n                  }, _this._options.imageTimeout);\r\n                }\r\n              })];\r\n            case 3:\r\n              return [2 /*return*/ , _a.sent()];\r\n          }\r\n        });\r\n      });\r\n    };\r\n    Cache.prototype.has = function(key) {\r\n      return typeof this._cache[key] !== 'undefined';\r\n    };\r\n    Cache.prototype.keys = function() {\r\n      return Promise.resolve(Object.keys(this._cache));\r\n    };\r\n    Cache.prototype.proxy = function(src) {\r\n      var _this = this;\r\n      var proxy = this._options.proxy;\r\n      if (!proxy) {\r\n        throw new Error('No proxy defined');\r\n      }\r\n      var key = src.substring(0, 256);\r\n      return new Promise(function(resolve, reject) {\r\n        var responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onload = function() {\r\n          if (xhr.status === 200) {\r\n            if (responseType === 'text') {\r\n              resolve(xhr.response);\r\n            } else {\r\n              var reader_1 = new FileReader();\r\n              reader_1.addEventListener('load', function() {\r\n                return resolve(reader_1.result);\r\n              }, false);\r\n              reader_1.addEventListener('error', function(e) {\r\n                return reject(e);\r\n              }, false);\r\n              reader_1.readAsDataURL(xhr.response);\r\n            }\r\n          } else {\r\n            reject(\"Failed to proxy resource \" + key + \" with status code \" + xhr.status);\r\n          }\r\n        };\r\n        xhr.onerror = reject;\r\n        xhr.open('GET', proxy + \"?url=\" + encodeURIComponent(src) + \"&responseType=\" + responseType);\r\n        if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\r\n          xhr.responseType = responseType;\r\n        }\r\n        if (_this._options.imageTimeout) {\r\n          var timeout_1 = _this._options.imageTimeout;\r\n          xhr.timeout = timeout_1;\r\n          xhr.ontimeout = function() {\r\n            return reject(\"Timed out (\" + timeout_1 + \"ms) proxying \" + key);\r\n          };\r\n        }\r\n        xhr.send();\r\n      });\r\n    };\r\n    return Cache;\r\n  }());\r\n  var INLINE_SVG = /^data:image\\/svg\\+xml/i;\r\n  var INLINE_BASE64 = /^data:image\\/.*;base64,/i;\r\n  var INLINE_IMG = /^data:image\\/.*/i;\r\n  var isRenderable = function(src) {\r\n    return FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src);\r\n  };\r\n  var isInlineImage = function(src) {\r\n    return INLINE_IMG.test(src);\r\n  };\r\n  var isInlineBase64Image = function(src) {\r\n    return INLINE_BASE64.test(src);\r\n  };\r\n  var isBlobImage = function(src) {\r\n    return src.substr(0, 4) === 'blob';\r\n  };\r\n  var isSVG = function(src) {\r\n    return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src);\r\n  };\r\n\r\n  var webkitGradient = function(tokens) {\r\n    var angle = deg(180);\r\n    var stops = [];\r\n    var type = CSSImageType.LINEAR_GRADIENT;\r\n    var shape = CSSRadialShape.CIRCLE;\r\n    var size = CSSRadialExtent.FARTHEST_CORNER;\r\n    var position = [];\r\n    parseFunctionArgs(tokens).forEach(function(arg, i) {\r\n      var firstToken = arg[0];\r\n      if (i === 0) {\r\n        if (isIdentToken(firstToken) && firstToken.value === 'linear') {\r\n          type = CSSImageType.LINEAR_GRADIENT;\r\n          return;\r\n        } else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\r\n          type = CSSImageType.RADIAL_GRADIENT;\r\n          return;\r\n        }\r\n      }\r\n      if (firstToken.type === TokenType.FUNCTION) {\r\n        if (firstToken.name === 'from') {\r\n          var color$1 = color.parse(firstToken.values[0]);\r\n          stops.push({\r\n            stop: ZERO_LENGTH,\r\n            color: color$1\r\n          });\r\n        } else if (firstToken.name === 'to') {\r\n          var color$1 = color.parse(firstToken.values[0]);\r\n          stops.push({\r\n            stop: HUNDRED_PERCENT,\r\n            color: color$1\r\n          });\r\n        } else if (firstToken.name === 'color-stop') {\r\n          var values = firstToken.values.filter(nonFunctionArgSeparator);\r\n          if (values.length === 2) {\r\n            var color$1 = color.parse(values[1]);\r\n            var stop_1 = values[0];\r\n            if (isNumberToken(stop_1)) {\r\n              stops.push({\r\n                stop: {\r\n                  type: TokenType.PERCENTAGE_TOKEN,\r\n                  number: stop_1.number * 100,\r\n                  flags: stop_1.flags\r\n                },\r\n                color: color$1\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n    return type === CSSImageType.LINEAR_GRADIENT ? {\r\n      angle: (angle + deg(180)) % deg(360),\r\n      stops: stops,\r\n      type: type\r\n    } : {\r\n      size: size,\r\n      shape: shape,\r\n      stops: stops,\r\n      position: position,\r\n      type: type\r\n    };\r\n  };\r\n\r\n  var CLOSEST_SIDE = 'closest-side';\r\n  var FARTHEST_SIDE = 'farthest-side';\r\n  var CLOSEST_CORNER = 'closest-corner';\r\n  var FARTHEST_CORNER = 'farthest-corner';\r\n  var CIRCLE = 'circle';\r\n  var ELLIPSE = 'ellipse';\r\n  var COVER = 'cover';\r\n  var CONTAIN = 'contain';\r\n  var radialGradient = function(tokens) {\r\n    var shape = CSSRadialShape.CIRCLE;\r\n    var size = CSSRadialExtent.FARTHEST_CORNER;\r\n    var stops = [];\r\n    var position = [];\r\n    parseFunctionArgs(tokens).forEach(function(arg, i) {\r\n      var isColorStop = true;\r\n      if (i === 0) {\r\n        var isAtPosition_1 = false;\r\n        isColorStop = arg.reduce(function(acc, token) {\r\n          if (isAtPosition_1) {\r\n            if (isIdentToken(token)) {\r\n              switch (token.value) {\r\n                case 'center':\r\n                  position.push(FIFTY_PERCENT);\r\n                  return acc;\r\n                case 'top':\r\n                case 'left':\r\n                  position.push(ZERO_LENGTH);\r\n                  return acc;\r\n                case 'right':\r\n                case 'bottom':\r\n                  position.push(HUNDRED_PERCENT);\r\n                  return acc;\r\n              }\r\n            } else if (isLengthPercentage(token) || isLength(token)) {\r\n              position.push(token);\r\n            }\r\n          } else if (isIdentToken(token)) {\r\n            switch (token.value) {\r\n              case CIRCLE:\r\n                shape = CSSRadialShape.CIRCLE;\r\n                return false;\r\n              case ELLIPSE:\r\n                shape = CSSRadialShape.ELLIPSE;\r\n                return false;\r\n              case 'at':\r\n                isAtPosition_1 = true;\r\n                return false;\r\n              case CLOSEST_SIDE:\r\n                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                return false;\r\n              case COVER:\r\n              case FARTHEST_SIDE:\r\n                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                return false;\r\n              case CONTAIN:\r\n              case CLOSEST_CORNER:\r\n                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                return false;\r\n              case FARTHEST_CORNER:\r\n                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                return false;\r\n            }\r\n          } else if (isLength(token) || isLengthPercentage(token)) {\r\n            if (!Array.isArray(size)) {\r\n              size = [];\r\n            }\r\n            size.push(token);\r\n            return false;\r\n          }\r\n          return acc;\r\n        }, isColorStop);\r\n      }\r\n      if (isColorStop) {\r\n        var colorStop = parseColorStop(arg);\r\n        stops.push(colorStop);\r\n      }\r\n    });\r\n    return {\r\n      size: size,\r\n      shape: shape,\r\n      stops: stops,\r\n      position: position,\r\n      type: CSSImageType.RADIAL_GRADIENT\r\n    };\r\n  };\r\n\r\n  var prefixRadialGradient = function(tokens) {\r\n    var shape = CSSRadialShape.CIRCLE;\r\n    var size = CSSRadialExtent.FARTHEST_CORNER;\r\n    var stops = [];\r\n    var position = [];\r\n    parseFunctionArgs(tokens).forEach(function(arg, i) {\r\n      var isColorStop = true;\r\n      if (i === 0) {\r\n        isColorStop = arg.reduce(function(acc, token) {\r\n          if (isIdentToken(token)) {\r\n            switch (token.value) {\r\n              case 'center':\r\n                position.push(FIFTY_PERCENT);\r\n                return false;\r\n              case 'top':\r\n              case 'left':\r\n                position.push(ZERO_LENGTH);\r\n                return false;\r\n              case 'right':\r\n              case 'bottom':\r\n                position.push(HUNDRED_PERCENT);\r\n                return false;\r\n            }\r\n          } else if (isLengthPercentage(token) || isLength(token)) {\r\n            position.push(token);\r\n            return false;\r\n          }\r\n          return acc;\r\n        }, isColorStop);\r\n      } else if (i === 1) {\r\n        isColorStop = arg.reduce(function(acc, token) {\r\n          if (isIdentToken(token)) {\r\n            switch (token.value) {\r\n              case CIRCLE:\r\n                shape = CSSRadialShape.CIRCLE;\r\n                return false;\r\n              case ELLIPSE:\r\n                shape = CSSRadialShape.ELLIPSE;\r\n                return false;\r\n              case CONTAIN:\r\n              case CLOSEST_SIDE:\r\n                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                return false;\r\n              case FARTHEST_SIDE:\r\n                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                return false;\r\n              case CLOSEST_CORNER:\r\n                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                return false;\r\n              case COVER:\r\n              case FARTHEST_CORNER:\r\n                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                return false;\r\n            }\r\n          } else if (isLength(token) || isLengthPercentage(token)) {\r\n            if (!Array.isArray(size)) {\r\n              size = [];\r\n            }\r\n            size.push(token);\r\n            return false;\r\n          }\r\n          return acc;\r\n        }, isColorStop);\r\n      }\r\n      if (isColorStop) {\r\n        var colorStop = parseColorStop(arg);\r\n        stops.push(colorStop);\r\n      }\r\n    });\r\n    return {\r\n      size: size,\r\n      shape: shape,\r\n      stops: stops,\r\n      position: position,\r\n      type: CSSImageType.RADIAL_GRADIENT\r\n    };\r\n  };\r\n\r\n  var CSSImageType;\r\n  (function(CSSImageType) {\r\n    CSSImageType[CSSImageType[\"URL\"] = 0] = \"URL\";\r\n    CSSImageType[CSSImageType[\"LINEAR_GRADIENT\"] = 1] = \"LINEAR_GRADIENT\";\r\n    CSSImageType[CSSImageType[\"RADIAL_GRADIENT\"] = 2] = \"RADIAL_GRADIENT\";\r\n  })(CSSImageType || (CSSImageType = {}));\r\n  var isLinearGradient = function(background) {\r\n    return background.type === CSSImageType.LINEAR_GRADIENT;\r\n  };\r\n  var isRadialGradient = function(background) {\r\n    return background.type === CSSImageType.RADIAL_GRADIENT;\r\n  };\r\n  var CSSRadialShape;\r\n  (function(CSSRadialShape) {\r\n    CSSRadialShape[CSSRadialShape[\"CIRCLE\"] = 0] = \"CIRCLE\";\r\n    CSSRadialShape[CSSRadialShape[\"ELLIPSE\"] = 1] = \"ELLIPSE\";\r\n  })(CSSRadialShape || (CSSRadialShape = {}));\r\n  var CSSRadialExtent;\r\n  (function(CSSRadialExtent) {\r\n    CSSRadialExtent[CSSRadialExtent[\"CLOSEST_SIDE\"] = 0] = \"CLOSEST_SIDE\";\r\n    CSSRadialExtent[CSSRadialExtent[\"FARTHEST_SIDE\"] = 1] = \"FARTHEST_SIDE\";\r\n    CSSRadialExtent[CSSRadialExtent[\"CLOSEST_CORNER\"] = 2] = \"CLOSEST_CORNER\";\r\n    CSSRadialExtent[CSSRadialExtent[\"FARTHEST_CORNER\"] = 3] = \"FARTHEST_CORNER\";\r\n  })(CSSRadialExtent || (CSSRadialExtent = {}));\r\n  var image = {\r\n    name: 'image',\r\n    parse: function(value) {\r\n      if (value.type === TokenType.URL_TOKEN) {\r\n        var image_1 = {\r\n          url: value.value,\r\n          type: CSSImageType.URL\r\n        };\r\n        CacheStorage.getInstance().addImage(value.value);\r\n        return image_1;\r\n      }\r\n      if (value.type === TokenType.FUNCTION) {\r\n        var imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n        if (typeof imageFunction === 'undefined') {\r\n          throw new Error(\"Attempting to parse an unsupported image function \\\"\" + value.name + \"\\\"\");\r\n        }\r\n        return imageFunction(value.values);\r\n      }\r\n      throw new Error(\"Unsupported image type\");\r\n    }\r\n  };\r\n\r\n  function isSupportedImage(value) {\r\n    return value.type !== TokenType.FUNCTION || SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n  }\r\n  var SUPPORTED_IMAGE_FUNCTIONS = {\r\n    'linear-gradient': linearGradient,\r\n    '-moz-linear-gradient': prefixLinearGradient,\r\n    '-ms-linear-gradient': prefixLinearGradient,\r\n    '-o-linear-gradient': prefixLinearGradient,\r\n    '-webkit-linear-gradient': prefixLinearGradient,\r\n    'radial-gradient': radialGradient,\r\n    '-moz-radial-gradient': prefixRadialGradient,\r\n    '-ms-radial-gradient': prefixRadialGradient,\r\n    '-o-radial-gradient': prefixRadialGradient,\r\n    '-webkit-radial-gradient': prefixRadialGradient,\r\n    '-webkit-gradient': webkitGradient\r\n  };\r\n\r\n  var backgroundImage = {\r\n    name: 'background-image',\r\n    initialValue: 'none',\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    prefix: false,\r\n    parse: function(tokens) {\r\n      if (tokens.length === 0) {\r\n        return [];\r\n      }\r\n      var first = tokens[0];\r\n      if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n        return [];\r\n      }\r\n      return tokens.filter(function(value) {\r\n        return nonFunctionArgSeparator(value) && isSupportedImage(value);\r\n      }).map(image.parse);\r\n    }\r\n  };\r\n\r\n  var backgroundOrigin = {\r\n    name: 'background-origin',\r\n    initialValue: 'border-box',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      return tokens.map(function(token) {\r\n        if (isIdentToken(token)) {\r\n          switch (token.value) {\r\n            case 'padding-box':\r\n              return 1 /* PADDING_BOX */ ;\r\n            case 'content-box':\r\n              return 2 /* CONTENT_BOX */ ;\r\n          }\r\n        }\r\n        return 0 /* BORDER_BOX */ ;\r\n      });\r\n    }\r\n  };\r\n\r\n  var backgroundPosition = {\r\n    name: 'background-position',\r\n    initialValue: '0% 0%',\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    prefix: false,\r\n    parse: function(tokens) {\r\n      return parseFunctionArgs(tokens)\r\n        .map(function(values) {\r\n          return values.filter(isLengthPercentage);\r\n        })\r\n        .map(parseLengthPercentageTuple);\r\n    }\r\n  };\r\n\r\n  var BACKGROUND_REPEAT;\r\n  (function(BACKGROUND_REPEAT) {\r\n    BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT\"] = 0] = \"REPEAT\";\r\n    BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"NO_REPEAT\"] = 1] = \"NO_REPEAT\";\r\n    BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_X\"] = 2] = \"REPEAT_X\";\r\n    BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_Y\"] = 3] = \"REPEAT_Y\";\r\n  })(BACKGROUND_REPEAT || (BACKGROUND_REPEAT = {}));\r\n  var backgroundRepeat = {\r\n    name: 'background-repeat',\r\n    initialValue: 'repeat',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      return parseFunctionArgs(tokens)\r\n        .map(function(values) {\r\n          return values\r\n            .filter(isIdentToken)\r\n            .map(function(token) {\r\n              return token.value;\r\n            })\r\n            .join(' ');\r\n        })\r\n        .map(parseBackgroundRepeat);\r\n    }\r\n  };\r\n  var parseBackgroundRepeat = function(value) {\r\n    switch (value) {\r\n      case 'no-repeat':\r\n        return BACKGROUND_REPEAT.NO_REPEAT;\r\n      case 'repeat-x':\r\n      case 'repeat no-repeat':\r\n        return BACKGROUND_REPEAT.REPEAT_X;\r\n      case 'repeat-y':\r\n      case 'no-repeat repeat':\r\n        return BACKGROUND_REPEAT.REPEAT_Y;\r\n      case 'repeat':\r\n      default:\r\n        return BACKGROUND_REPEAT.REPEAT;\r\n    }\r\n  };\r\n\r\n  var BACKGROUND_SIZE;\r\n  (function(BACKGROUND_SIZE) {\r\n    BACKGROUND_SIZE[\"AUTO\"] = \"auto\";\r\n    BACKGROUND_SIZE[\"CONTAIN\"] = \"contain\";\r\n    BACKGROUND_SIZE[\"COVER\"] = \"cover\";\r\n  })(BACKGROUND_SIZE || (BACKGROUND_SIZE = {}));\r\n  var backgroundSize = {\r\n    name: 'background-size',\r\n    initialValue: '0',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      return parseFunctionArgs(tokens).map(function(values) {\r\n        return values.filter(isBackgroundSizeInfoToken);\r\n      });\r\n    }\r\n  };\r\n  var isBackgroundSizeInfoToken = function(value) {\r\n    return isIdentToken(value) || isLengthPercentage(value);\r\n  };\r\n\r\n  var borderColorForSide = function(side) {\r\n    return ({\r\n      name: \"border-\" + side + \"-color\",\r\n      initialValue: 'transparent',\r\n      prefix: false,\r\n      type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n      format: 'color'\r\n    });\r\n  };\r\n  var borderTopColor = borderColorForSide('top');\r\n  var borderRightColor = borderColorForSide('right');\r\n  var borderBottomColor = borderColorForSide('bottom');\r\n  var borderLeftColor = borderColorForSide('left');\r\n\r\n  var borderRadiusForSide = function(side) {\r\n    return ({\r\n      name: \"border-radius-\" + side,\r\n      initialValue: '0 0',\r\n      prefix: false,\r\n      type: PropertyDescriptorParsingType.LIST,\r\n      parse: function(tokens) {\r\n        return parseLengthPercentageTuple(tokens.filter(isLengthPercentage));\r\n      }\r\n    });\r\n  };\r\n  var borderTopLeftRadius = borderRadiusForSide('top-left');\r\n  var borderTopRightRadius = borderRadiusForSide('top-right');\r\n  var borderBottomRightRadius = borderRadiusForSide('bottom-right');\r\n  var borderBottomLeftRadius = borderRadiusForSide('bottom-left');\r\n\r\n  var BORDER_STYLE;\r\n  (function(BORDER_STYLE) {\r\n    BORDER_STYLE[BORDER_STYLE[\"NONE\"] = 0] = \"NONE\";\r\n    BORDER_STYLE[BORDER_STYLE[\"SOLID\"] = 1] = \"SOLID\";\r\n  })(BORDER_STYLE || (BORDER_STYLE = {}));\r\n  var borderStyleForSide = function(side) {\r\n    return ({\r\n      name: \"border-\" + side + \"-style\",\r\n      initialValue: 'solid',\r\n      prefix: false,\r\n      type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n      parse: function(style) {\r\n        switch (style) {\r\n          case 'none':\r\n            return BORDER_STYLE.NONE;\r\n        }\r\n        return BORDER_STYLE.SOLID;\r\n      }\r\n    });\r\n  };\r\n  var borderTopStyle = borderStyleForSide('top');\r\n  var borderRightStyle = borderStyleForSide('right');\r\n  var borderBottomStyle = borderStyleForSide('bottom');\r\n  var borderLeftStyle = borderStyleForSide('left');\r\n\r\n  var borderWidthForSide = function(side) {\r\n    return ({\r\n      name: \"border-\" + side + \"-width\",\r\n      initialValue: '0',\r\n      type: PropertyDescriptorParsingType.VALUE,\r\n      prefix: false,\r\n      parse: function(token) {\r\n        if (isDimensionToken(token)) {\r\n          return token.number;\r\n        }\r\n        return 0;\r\n      }\r\n    });\r\n  };\r\n  var borderTopWidth = borderWidthForSide('top');\r\n  var borderRightWidth = borderWidthForSide('right');\r\n  var borderBottomWidth = borderWidthForSide('bottom');\r\n  var borderLeftWidth = borderWidthForSide('left');\r\n\r\n  var color$1 = {\r\n    name: \"color\",\r\n    initialValue: 'transparent',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n    format: 'color'\r\n  };\r\n\r\n  var display = {\r\n    name: 'display',\r\n    initialValue: 'inline-block',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      return tokens.filter(isIdentToken).reduce(function(bit, token) {\r\n        return bit | parseDisplayValue(token.value);\r\n      }, 0 /* NONE */ );\r\n    }\r\n  };\r\n  var parseDisplayValue = function(display) {\r\n    switch (display) {\r\n      case 'block':\r\n        return 2 /* BLOCK */ ;\r\n      case 'inline':\r\n        return 4 /* INLINE */ ;\r\n      case 'run-in':\r\n        return 8 /* RUN_IN */ ;\r\n      case 'flow':\r\n        return 16 /* FLOW */ ;\r\n      case 'flow-root':\r\n        return 32 /* FLOW_ROOT */ ;\r\n      case 'table':\r\n        return 64 /* TABLE */ ;\r\n      case 'flex':\r\n      case '-webkit-flex':\r\n        return 128 /* FLEX */ ;\r\n      case 'grid':\r\n      case '-ms-grid':\r\n        return 256 /* GRID */ ;\r\n      case 'ruby':\r\n        return 512 /* RUBY */ ;\r\n      case 'subgrid':\r\n        return 1024 /* SUBGRID */ ;\r\n      case 'list-item':\r\n        return 2048 /* LIST_ITEM */ ;\r\n      case 'table-row-group':\r\n        return 4096 /* TABLE_ROW_GROUP */ ;\r\n      case 'table-header-group':\r\n        return 8192 /* TABLE_HEADER_GROUP */ ;\r\n      case 'table-footer-group':\r\n        return 16384 /* TABLE_FOOTER_GROUP */ ;\r\n      case 'table-row':\r\n        return 32768 /* TABLE_ROW */ ;\r\n      case 'table-cell':\r\n        return 65536 /* TABLE_CELL */ ;\r\n      case 'table-column-group':\r\n        return 131072 /* TABLE_COLUMN_GROUP */ ;\r\n      case 'table-column':\r\n        return 262144 /* TABLE_COLUMN */ ;\r\n      case 'table-caption':\r\n        return 524288 /* TABLE_CAPTION */ ;\r\n      case 'ruby-base':\r\n        return 1048576 /* RUBY_BASE */ ;\r\n      case 'ruby-text':\r\n        return 2097152 /* RUBY_TEXT */ ;\r\n      case 'ruby-base-container':\r\n        return 4194304 /* RUBY_BASE_CONTAINER */ ;\r\n      case 'ruby-text-container':\r\n        return 8388608 /* RUBY_TEXT_CONTAINER */ ;\r\n      case 'contents':\r\n        return 16777216 /* CONTENTS */ ;\r\n      case 'inline-block':\r\n        return 33554432 /* INLINE_BLOCK */ ;\r\n      case 'inline-list-item':\r\n        return 67108864 /* INLINE_LIST_ITEM */ ;\r\n      case 'inline-table':\r\n        return 134217728 /* INLINE_TABLE */ ;\r\n      case 'inline-flex':\r\n        return 268435456 /* INLINE_FLEX */ ;\r\n      case 'inline-grid':\r\n        return 536870912 /* INLINE_GRID */ ;\r\n    }\r\n    return 0 /* NONE */ ;\r\n  };\r\n\r\n  var FLOAT;\r\n  (function(FLOAT) {\r\n    FLOAT[FLOAT[\"NONE\"] = 0] = \"NONE\";\r\n    FLOAT[FLOAT[\"LEFT\"] = 1] = \"LEFT\";\r\n    FLOAT[FLOAT[\"RIGHT\"] = 2] = \"RIGHT\";\r\n    FLOAT[FLOAT[\"INLINE_START\"] = 3] = \"INLINE_START\";\r\n    FLOAT[FLOAT[\"INLINE_END\"] = 4] = \"INLINE_END\";\r\n  })(FLOAT || (FLOAT = {}));\r\n  var float = {\r\n    name: 'float',\r\n    initialValue: 'none',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(float) {\r\n      switch (float) {\r\n        case 'left':\r\n          return FLOAT.LEFT;\r\n        case 'right':\r\n          return FLOAT.RIGHT;\r\n        case 'inline-start':\r\n          return FLOAT.INLINE_START;\r\n        case 'inline-end':\r\n          return FLOAT.INLINE_END;\r\n      }\r\n      return FLOAT.NONE;\r\n    }\r\n  };\r\n\r\n  var letterSpacing = {\r\n    name: 'letter-spacing',\r\n    initialValue: '0',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.VALUE,\r\n    parse: function(token) {\r\n      if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {\r\n        return 0;\r\n      }\r\n      if (token.type === TokenType.NUMBER_TOKEN) {\r\n        return token.number;\r\n      }\r\n      if (token.type === TokenType.DIMENSION_TOKEN) {\r\n        return token.number;\r\n      }\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  var LINE_BREAK;\r\n  (function(LINE_BREAK) {\r\n    LINE_BREAK[\"NORMAL\"] = \"normal\";\r\n    LINE_BREAK[\"STRICT\"] = \"strict\";\r\n  })(LINE_BREAK || (LINE_BREAK = {}));\r\n  var lineBreak = {\r\n    name: 'line-break',\r\n    initialValue: 'normal',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(lineBreak) {\r\n      switch (lineBreak) {\r\n        case 'strict':\r\n          return LINE_BREAK.STRICT;\r\n        case 'normal':\r\n        default:\r\n          return LINE_BREAK.NORMAL;\r\n      }\r\n    }\r\n  };\r\n\r\n  var lineHeight = {\r\n    name: 'line-height',\r\n    initialValue: 'normal',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n  };\r\n  var computeLineHeight = function(token, fontSize) {\r\n    if (isIdentToken(token) && token.value === 'normal') {\r\n      return 1.2 * fontSize;\r\n    } else if (token.type === TokenType.NUMBER_TOKEN) {\r\n      return fontSize * token.number;\r\n    } else if (isLengthPercentage(token)) {\r\n      return getAbsoluteValue(token, fontSize);\r\n    }\r\n    return fontSize;\r\n  };\r\n\r\n  var listStyleImage = {\r\n    name: 'list-style-image',\r\n    initialValue: 'none',\r\n    type: PropertyDescriptorParsingType.VALUE,\r\n    prefix: false,\r\n    parse: function(token) {\r\n      if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n        return null;\r\n      }\r\n      return image.parse(token);\r\n    }\r\n  };\r\n\r\n  var LIST_STYLE_POSITION;\r\n  (function(LIST_STYLE_POSITION) {\r\n    LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"INSIDE\"] = 0] = \"INSIDE\";\r\n    LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"OUTSIDE\"] = 1] = \"OUTSIDE\";\r\n  })(LIST_STYLE_POSITION || (LIST_STYLE_POSITION = {}));\r\n  var listStylePosition = {\r\n    name: 'list-style-position',\r\n    initialValue: 'outside',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(position) {\r\n      switch (position) {\r\n        case 'inside':\r\n          return LIST_STYLE_POSITION.INSIDE;\r\n        case 'outside':\r\n        default:\r\n          return LIST_STYLE_POSITION.OUTSIDE;\r\n      }\r\n    }\r\n  };\r\n\r\n  var LIST_STYLE_TYPE;\r\n  (function(LIST_STYLE_TYPE) {\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"NONE\"] = -1] = \"NONE\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISC\"] = 0] = \"DISC\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CIRCLE\"] = 1] = \"CIRCLE\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SQUARE\"] = 2] = \"SQUARE\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL\"] = 3] = \"DECIMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_DECIMAL\"] = 4] = \"CJK_DECIMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL_LEADING_ZERO\"] = 5] = \"DECIMAL_LEADING_ZERO\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ROMAN\"] = 6] = \"LOWER_ROMAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ROMAN\"] = 7] = \"UPPER_ROMAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_GREEK\"] = 8] = \"LOWER_GREEK\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ALPHA\"] = 9] = \"LOWER_ALPHA\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ALPHA\"] = 10] = \"UPPER_ALPHA\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARABIC_INDIC\"] = 11] = \"ARABIC_INDIC\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARMENIAN\"] = 12] = \"ARMENIAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"BENGALI\"] = 13] = \"BENGALI\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CAMBODIAN\"] = 14] = \"CAMBODIAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_EARTHLY_BRANCH\"] = 15] = \"CJK_EARTHLY_BRANCH\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_HEAVENLY_STEM\"] = 16] = \"CJK_HEAVENLY_STEM\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_IDEOGRAPHIC\"] = 17] = \"CJK_IDEOGRAPHIC\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DEVANAGARI\"] = 18] = \"DEVANAGARI\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ETHIOPIC_NUMERIC\"] = 19] = \"ETHIOPIC_NUMERIC\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GEORGIAN\"] = 20] = \"GEORGIAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GUJARATI\"] = 21] = \"GUJARATI\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GURMUKHI\"] = 22] = \"GURMUKHI\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HEBREW\"] = 22] = \"HEBREW\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA\"] = 23] = \"HIRAGANA\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA_IROHA\"] = 24] = \"HIRAGANA_IROHA\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_FORMAL\"] = 25] = \"JAPANESE_FORMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_INFORMAL\"] = 26] = \"JAPANESE_INFORMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KANNADA\"] = 27] = \"KANNADA\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA\"] = 28] = \"KATAKANA\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA_IROHA\"] = 29] = \"KATAKANA_IROHA\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KHMER\"] = 30] = \"KHMER\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANGUL_FORMAL\"] = 31] = \"KOREAN_HANGUL_FORMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_FORMAL\"] = 32] = \"KOREAN_HANJA_FORMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_INFORMAL\"] = 33] = \"KOREAN_HANJA_INFORMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LAO\"] = 34] = \"LAO\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ARMENIAN\"] = 35] = \"LOWER_ARMENIAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MALAYALAM\"] = 36] = \"MALAYALAM\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MONGOLIAN\"] = 37] = \"MONGOLIAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MYANMAR\"] = 38] = \"MYANMAR\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ORIYA\"] = 39] = \"ORIYA\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"PERSIAN\"] = 40] = \"PERSIAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_FORMAL\"] = 41] = \"SIMP_CHINESE_FORMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_INFORMAL\"] = 42] = \"SIMP_CHINESE_INFORMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TAMIL\"] = 43] = \"TAMIL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TELUGU\"] = 44] = \"TELUGU\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"THAI\"] = 45] = \"THAI\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TIBETAN\"] = 46] = \"TIBETAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_FORMAL\"] = 47] = \"TRAD_CHINESE_FORMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_INFORMAL\"] = 48] = \"TRAD_CHINESE_INFORMAL\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ARMENIAN\"] = 49] = \"UPPER_ARMENIAN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_OPEN\"] = 50] = \"DISCLOSURE_OPEN\";\r\n    LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_CLOSED\"] = 51] = \"DISCLOSURE_CLOSED\";\r\n  })(LIST_STYLE_TYPE || (LIST_STYLE_TYPE = {}));\r\n  var listStyleType = {\r\n    name: 'list-style-type',\r\n    initialValue: 'none',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(type) {\r\n      switch (type) {\r\n        case 'disc':\r\n          return LIST_STYLE_TYPE.DISC;\r\n        case 'circle':\r\n          return LIST_STYLE_TYPE.CIRCLE;\r\n        case 'square':\r\n          return LIST_STYLE_TYPE.SQUARE;\r\n        case 'decimal':\r\n          return LIST_STYLE_TYPE.DECIMAL;\r\n        case 'cjk-decimal':\r\n          return LIST_STYLE_TYPE.CJK_DECIMAL;\r\n        case 'decimal-leading-zero':\r\n          return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\r\n        case 'lower-roman':\r\n          return LIST_STYLE_TYPE.LOWER_ROMAN;\r\n        case 'upper-roman':\r\n          return LIST_STYLE_TYPE.UPPER_ROMAN;\r\n        case 'lower-greek':\r\n          return LIST_STYLE_TYPE.LOWER_GREEK;\r\n        case 'lower-alpha':\r\n          return LIST_STYLE_TYPE.LOWER_ALPHA;\r\n        case 'upper-alpha':\r\n          return LIST_STYLE_TYPE.UPPER_ALPHA;\r\n        case 'arabic-indic':\r\n          return LIST_STYLE_TYPE.ARABIC_INDIC;\r\n        case 'armenian':\r\n          return LIST_STYLE_TYPE.ARMENIAN;\r\n        case 'bengali':\r\n          return LIST_STYLE_TYPE.BENGALI;\r\n        case 'cambodian':\r\n          return LIST_STYLE_TYPE.CAMBODIAN;\r\n        case 'cjk-earthly-branch':\r\n          return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\r\n        case 'cjk-heavenly-stem':\r\n          return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\r\n        case 'cjk-ideographic':\r\n          return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\r\n        case 'devanagari':\r\n          return LIST_STYLE_TYPE.DEVANAGARI;\r\n        case 'ethiopic-numeric':\r\n          return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\r\n        case 'georgian':\r\n          return LIST_STYLE_TYPE.GEORGIAN;\r\n        case 'gujarati':\r\n          return LIST_STYLE_TYPE.GUJARATI;\r\n        case 'gurmukhi':\r\n          return LIST_STYLE_TYPE.GURMUKHI;\r\n        case 'hebrew':\r\n          return LIST_STYLE_TYPE.HEBREW;\r\n        case 'hiragana':\r\n          return LIST_STYLE_TYPE.HIRAGANA;\r\n        case 'hiragana-iroha':\r\n          return LIST_STYLE_TYPE.HIRAGANA_IROHA;\r\n        case 'japanese-formal':\r\n          return LIST_STYLE_TYPE.JAPANESE_FORMAL;\r\n        case 'japanese-informal':\r\n          return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\r\n        case 'kannada':\r\n          return LIST_STYLE_TYPE.KANNADA;\r\n        case 'katakana':\r\n          return LIST_STYLE_TYPE.KATAKANA;\r\n        case 'katakana-iroha':\r\n          return LIST_STYLE_TYPE.KATAKANA_IROHA;\r\n        case 'khmer':\r\n          return LIST_STYLE_TYPE.KHMER;\r\n        case 'korean-hangul-formal':\r\n          return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\r\n        case 'korean-hanja-formal':\r\n          return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\r\n        case 'korean-hanja-informal':\r\n          return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\r\n        case 'lao':\r\n          return LIST_STYLE_TYPE.LAO;\r\n        case 'lower-armenian':\r\n          return LIST_STYLE_TYPE.LOWER_ARMENIAN;\r\n        case 'malayalam':\r\n          return LIST_STYLE_TYPE.MALAYALAM;\r\n        case 'mongolian':\r\n          return LIST_STYLE_TYPE.MONGOLIAN;\r\n        case 'myanmar':\r\n          return LIST_STYLE_TYPE.MYANMAR;\r\n        case 'oriya':\r\n          return LIST_STYLE_TYPE.ORIYA;\r\n        case 'persian':\r\n          return LIST_STYLE_TYPE.PERSIAN;\r\n        case 'simp-chinese-formal':\r\n          return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\r\n        case 'simp-chinese-informal':\r\n          return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\r\n        case 'tamil':\r\n          return LIST_STYLE_TYPE.TAMIL;\r\n        case 'telugu':\r\n          return LIST_STYLE_TYPE.TELUGU;\r\n        case 'thai':\r\n          return LIST_STYLE_TYPE.THAI;\r\n        case 'tibetan':\r\n          return LIST_STYLE_TYPE.TIBETAN;\r\n        case 'trad-chinese-formal':\r\n          return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\r\n        case 'trad-chinese-informal':\r\n          return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\r\n        case 'upper-armenian':\r\n          return LIST_STYLE_TYPE.UPPER_ARMENIAN;\r\n        case 'disclosure-open':\r\n          return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\r\n        case 'disclosure-closed':\r\n          return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\r\n        case 'none':\r\n        default:\r\n          return LIST_STYLE_TYPE.NONE;\r\n      }\r\n    }\r\n  };\r\n\r\n  var marginForSide = function(side) {\r\n    return ({\r\n      name: \"margin-\" + side,\r\n      initialValue: '0',\r\n      prefix: false,\r\n      type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n    });\r\n  };\r\n  var marginTop = marginForSide('top');\r\n  var marginRight = marginForSide('right');\r\n  var marginBottom = marginForSide('bottom');\r\n  var marginLeft = marginForSide('left');\r\n\r\n  var OVERFLOW;\r\n  (function(OVERFLOW) {\r\n    OVERFLOW[OVERFLOW[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n    OVERFLOW[OVERFLOW[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n    OVERFLOW[OVERFLOW[\"SCROLL\"] = 2] = \"SCROLL\";\r\n    OVERFLOW[OVERFLOW[\"AUTO\"] = 3] = \"AUTO\";\r\n  })(OVERFLOW || (OVERFLOW = {}));\r\n  var overflow = {\r\n    name: 'overflow',\r\n    initialValue: 'visible',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      return tokens.filter(isIdentToken).map(function(overflow) {\r\n        switch (overflow.value) {\r\n          case 'hidden':\r\n            return OVERFLOW.HIDDEN;\r\n          case 'scroll':\r\n            return OVERFLOW.SCROLL;\r\n          case 'auto':\r\n            return OVERFLOW.AUTO;\r\n          case 'visible':\r\n          default:\r\n            return OVERFLOW.VISIBLE;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  var OVERFLOW_WRAP;\r\n  (function(OVERFLOW_WRAP) {\r\n    OVERFLOW_WRAP[\"NORMAL\"] = \"normal\";\r\n    OVERFLOW_WRAP[\"BREAK_WORD\"] = \"break-word\";\r\n  })(OVERFLOW_WRAP || (OVERFLOW_WRAP = {}));\r\n  var overflowWrap = {\r\n    name: 'overflow-wrap',\r\n    initialValue: 'normal',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(overflow) {\r\n      switch (overflow) {\r\n        case 'break-word':\r\n          return OVERFLOW_WRAP.BREAK_WORD;\r\n        case 'normal':\r\n        default:\r\n          return OVERFLOW_WRAP.NORMAL;\r\n      }\r\n    }\r\n  };\r\n\r\n  var paddingForSide = function(side) {\r\n    return ({\r\n      name: \"padding-\" + side,\r\n      initialValue: '0',\r\n      prefix: false,\r\n      type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n      format: 'length-percentage'\r\n    });\r\n  };\r\n  var paddingTop = paddingForSide('top');\r\n  var paddingRight = paddingForSide('right');\r\n  var paddingBottom = paddingForSide('bottom');\r\n  var paddingLeft = paddingForSide('left');\r\n\r\n  var TEXT_ALIGN;\r\n  (function(TEXT_ALIGN) {\r\n    TEXT_ALIGN[TEXT_ALIGN[\"LEFT\"] = 0] = \"LEFT\";\r\n    TEXT_ALIGN[TEXT_ALIGN[\"CENTER\"] = 1] = \"CENTER\";\r\n    TEXT_ALIGN[TEXT_ALIGN[\"RIGHT\"] = 2] = \"RIGHT\";\r\n  })(TEXT_ALIGN || (TEXT_ALIGN = {}));\r\n  var textAlign = {\r\n    name: 'text-align',\r\n    initialValue: 'left',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(textAlign) {\r\n      switch (textAlign) {\r\n        case 'right':\r\n          return TEXT_ALIGN.RIGHT;\r\n        case 'center':\r\n        case 'justify':\r\n          return TEXT_ALIGN.CENTER;\r\n        case 'left':\r\n        default:\r\n          return TEXT_ALIGN.LEFT;\r\n      }\r\n    }\r\n  };\r\n\r\n  var POSITION;\r\n  (function(POSITION) {\r\n    POSITION[POSITION[\"STATIC\"] = 0] = \"STATIC\";\r\n    POSITION[POSITION[\"RELATIVE\"] = 1] = \"RELATIVE\";\r\n    POSITION[POSITION[\"ABSOLUTE\"] = 2] = \"ABSOLUTE\";\r\n    POSITION[POSITION[\"FIXED\"] = 3] = \"FIXED\";\r\n    POSITION[POSITION[\"STICKY\"] = 4] = \"STICKY\";\r\n  })(POSITION || (POSITION = {}));\r\n  var position = {\r\n    name: 'position',\r\n    initialValue: 'static',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(position) {\r\n      switch (position) {\r\n        case 'relative':\r\n          return POSITION.RELATIVE;\r\n        case 'absolute':\r\n          return POSITION.ABSOLUTE;\r\n        case 'fixed':\r\n          return POSITION.FIXED;\r\n        case 'sticky':\r\n          return POSITION.STICKY;\r\n      }\r\n      return POSITION.STATIC;\r\n    }\r\n  };\r\n\r\n  var textShadow = {\r\n    name: 'text-shadow',\r\n    initialValue: 'none',\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    prefix: false,\r\n    parse: function(tokens) {\r\n      if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n        return [];\r\n      }\r\n      return parseFunctionArgs(tokens).map(function(values) {\r\n        var shadow = {\r\n          color: COLORS.TRANSPARENT,\r\n          offsetX: ZERO_LENGTH,\r\n          offsetY: ZERO_LENGTH,\r\n          blur: ZERO_LENGTH\r\n        };\r\n        var c = 0;\r\n        for (var i = 0; i < values.length; i++) {\r\n          var token = values[i];\r\n          if (isLength(token)) {\r\n            if (c === 0) {\r\n              shadow.offsetX = token;\r\n            } else if (c === 1) {\r\n              shadow.offsetY = token;\r\n            } else {\r\n              shadow.blur = token;\r\n            }\r\n            c++;\r\n          } else {\r\n            shadow.color = color.parse(token);\r\n          }\r\n        }\r\n        return shadow;\r\n      });\r\n    }\r\n  };\r\n\r\n  var TEXT_TRANSFORM;\r\n  (function(TEXT_TRANSFORM) {\r\n    TEXT_TRANSFORM[TEXT_TRANSFORM[\"NONE\"] = 0] = \"NONE\";\r\n    TEXT_TRANSFORM[TEXT_TRANSFORM[\"LOWERCASE\"] = 1] = \"LOWERCASE\";\r\n    TEXT_TRANSFORM[TEXT_TRANSFORM[\"UPPERCASE\"] = 2] = \"UPPERCASE\";\r\n    TEXT_TRANSFORM[TEXT_TRANSFORM[\"CAPITALIZE\"] = 3] = \"CAPITALIZE\";\r\n  })(TEXT_TRANSFORM || (TEXT_TRANSFORM = {}));\r\n  var textTransform = {\r\n    name: 'text-transform',\r\n    initialValue: 'none',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(textTransform) {\r\n      switch (textTransform) {\r\n        case 'uppercase':\r\n          return TEXT_TRANSFORM.UPPERCASE;\r\n        case 'lowercase':\r\n          return TEXT_TRANSFORM.LOWERCASE;\r\n        case 'capitalize':\r\n          return TEXT_TRANSFORM.CAPITALIZE;\r\n      }\r\n      return TEXT_TRANSFORM.NONE;\r\n    }\r\n  };\r\n\r\n  var transform = {\r\n    name: 'transform',\r\n    initialValue: 'none',\r\n    prefix: true,\r\n    type: PropertyDescriptorParsingType.VALUE,\r\n    parse: function(token) {\r\n      if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n        return null;\r\n      }\r\n      if (token.type === TokenType.FUNCTION) {\r\n        var transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\r\n        if (typeof transformFunction === 'undefined') {\r\n          throw new Error(\"Attempting to parse an unsupported transform function \\\"\" + token.name + \"\\\"\");\r\n        }\r\n        return transformFunction(token.values);\r\n      }\r\n      return null;\r\n    }\r\n  };\r\n  var matrix = function(args) {\r\n    var values = args.filter(function(arg) {\r\n      return arg.type === TokenType.NUMBER_TOKEN;\r\n    }).map(function(arg) {\r\n      return arg.number;\r\n    });\r\n    return values.length === 6 ? values : null;\r\n  };\r\n  // doesn't support 3D transforms at the moment\r\n  var matrix3d = function(args) {\r\n    var values = args.filter(function(arg) {\r\n      return arg.type === TokenType.NUMBER_TOKEN;\r\n    }).map(function(arg) {\r\n      return arg.number;\r\n    });\r\n    var a1 = values[0],\r\n      b1 = values[1],\r\n      _a = values[2],\r\n      _b = values[3],\r\n      a2 = values[4],\r\n      b2 = values[5],\r\n      _c = values[6],\r\n      _d = values[7],\r\n      _e = values[8],\r\n      _f = values[9],\r\n      _g = values[10],\r\n      _h = values[11],\r\n      a4 = values[12],\r\n      b4 = values[13],\r\n      _j = values[14],\r\n      _k = values[15];\r\n    return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\r\n  };\r\n  var SUPPORTED_TRANSFORM_FUNCTIONS = {\r\n    matrix: matrix,\r\n    matrix3d: matrix3d\r\n  };\r\n\r\n  var DEFAULT_VALUE = {\r\n    type: TokenType.PERCENTAGE_TOKEN,\r\n    number: 50,\r\n    flags: FLAG_INTEGER\r\n  };\r\n  var DEFAULT = [DEFAULT_VALUE, DEFAULT_VALUE];\r\n  var transformOrigin = {\r\n    name: 'transform-origin',\r\n    initialValue: '50% 50%',\r\n    prefix: true,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      var origins = tokens.filter(isLengthPercentage);\r\n      if (origins.length !== 2) {\r\n        return DEFAULT;\r\n      }\r\n      return [origins[0], origins[1]];\r\n    }\r\n  };\r\n\r\n  var VISIBILITY;\r\n  (function(VISIBILITY) {\r\n    VISIBILITY[VISIBILITY[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n    VISIBILITY[VISIBILITY[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n    VISIBILITY[VISIBILITY[\"COLLAPSE\"] = 2] = \"COLLAPSE\";\r\n  })(VISIBILITY || (VISIBILITY = {}));\r\n  var visibility = {\r\n    name: 'visible',\r\n    initialValue: 'none',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(visibility) {\r\n      switch (visibility) {\r\n        case 'hidden':\r\n          return VISIBILITY.HIDDEN;\r\n        case 'collapse':\r\n          return VISIBILITY.COLLAPSE;\r\n        case 'visible':\r\n        default:\r\n          return VISIBILITY.VISIBLE;\r\n      }\r\n    }\r\n  };\r\n\r\n  var WORD_BREAK;\r\n  (function(WORD_BREAK) {\r\n    WORD_BREAK[\"NORMAL\"] = \"normal\";\r\n    WORD_BREAK[\"BREAK_ALL\"] = \"break-all\";\r\n    WORD_BREAK[\"KEEP_ALL\"] = \"keep-all\";\r\n  })(WORD_BREAK || (WORD_BREAK = {}));\r\n  var wordBreak = {\r\n    name: 'word-break',\r\n    initialValue: 'normal',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(wordBreak) {\r\n      switch (wordBreak) {\r\n        case 'break-all':\r\n          return WORD_BREAK.BREAK_ALL;\r\n        case 'keep-all':\r\n          return WORD_BREAK.KEEP_ALL;\r\n        case 'normal':\r\n        default:\r\n          return WORD_BREAK.NORMAL;\r\n      }\r\n    }\r\n  };\r\n\r\n  var zIndex = {\r\n    name: 'z-index',\r\n    initialValue: 'auto',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.VALUE,\r\n    parse: function(token) {\r\n      if (token.type === TokenType.IDENT_TOKEN) {\r\n        return {\r\n          auto: true,\r\n          order: 0\r\n        };\r\n      }\r\n      if (isNumberToken(token)) {\r\n        return {\r\n          auto: false,\r\n          order: token.number\r\n        };\r\n      }\r\n      throw new Error(\"Invalid z-index number parsed\");\r\n    }\r\n  };\r\n\r\n  var opacity = {\r\n    name: 'opacity',\r\n    initialValue: '1',\r\n    type: PropertyDescriptorParsingType.VALUE,\r\n    prefix: false,\r\n    parse: function(token) {\r\n      if (isNumberToken(token)) {\r\n        return token.number;\r\n      }\r\n      return 1;\r\n    }\r\n  };\r\n\r\n  var textDecorationColor = {\r\n    name: \"text-decoration-color\",\r\n    initialValue: 'transparent',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n    format: 'color'\r\n  };\r\n\r\n  var textDecorationLine = {\r\n    name: 'text-decoration-line',\r\n    initialValue: 'none',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      return tokens\r\n        .filter(isIdentToken)\r\n        .map(function(token) {\r\n          switch (token.value) {\r\n            case 'underline':\r\n              return 1 /* UNDERLINE */ ;\r\n            case 'overline':\r\n              return 2 /* OVERLINE */ ;\r\n            case 'line-through':\r\n              return 3 /* LINE_THROUGH */ ;\r\n            case 'none':\r\n              return 4 /* BLINK */ ;\r\n          }\r\n          return 0 /* NONE */ ;\r\n        })\r\n        .filter(function(line) {\r\n          return line !== 0 /* NONE */ ;\r\n        });\r\n    }\r\n  };\r\n\r\n  var fontFamily = {\r\n    name: \"font-family\",\r\n    initialValue: '',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      var accumulator = [];\r\n      var results = [];\r\n      tokens.forEach(function(token) {\r\n        switch (token.type) {\r\n          case TokenType.IDENT_TOKEN:\r\n          case TokenType.STRING_TOKEN:\r\n            accumulator.push(token.value);\r\n            break;\r\n          case TokenType.NUMBER_TOKEN:\r\n            accumulator.push(token.number.toString());\r\n            break;\r\n          case TokenType.COMMA_TOKEN:\r\n            results.push(accumulator.join(' '));\r\n            accumulator.length = 0;\r\n            break;\r\n        }\r\n      });\r\n      if (accumulator.length) {\r\n        results.push(accumulator.join(' '));\r\n      }\r\n      return results.map(function(result) {\r\n        return (result.indexOf(' ') === -1 ? result : \"'\" + result + \"'\");\r\n      });\r\n    }\r\n  };\r\n\r\n  var fontSize = {\r\n    name: \"font-size\",\r\n    initialValue: '0',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n    format: 'length'\r\n  };\r\n\r\n  var fontWeight = {\r\n    name: 'font-weight',\r\n    initialValue: 'normal',\r\n    type: PropertyDescriptorParsingType.VALUE,\r\n    prefix: false,\r\n    parse: function(token) {\r\n      if (isNumberToken(token)) {\r\n        return token.number;\r\n      }\r\n      if (isIdentToken(token)) {\r\n        switch (token.value) {\r\n          case 'bold':\r\n            return 700;\r\n          case 'normal':\r\n          default:\r\n            return 400;\r\n        }\r\n      }\r\n      return 400;\r\n    }\r\n  };\r\n\r\n  var fontVariant = {\r\n    name: 'font-variant',\r\n    initialValue: 'none',\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    prefix: false,\r\n    parse: function(tokens) {\r\n      return tokens.filter(isIdentToken).map(function(token) {\r\n        return token.value;\r\n      });\r\n    }\r\n  };\r\n\r\n  var FONT_STYLE;\r\n  (function(FONT_STYLE) {\r\n    FONT_STYLE[\"NORMAL\"] = \"normal\";\r\n    FONT_STYLE[\"ITALIC\"] = \"italic\";\r\n    FONT_STYLE[\"OBLIQUE\"] = \"oblique\";\r\n  })(FONT_STYLE || (FONT_STYLE = {}));\r\n  var fontStyle = {\r\n    name: 'font-style',\r\n    initialValue: 'normal',\r\n    prefix: false,\r\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n    parse: function(overflow) {\r\n      switch (overflow) {\r\n        case 'oblique':\r\n          return FONT_STYLE.OBLIQUE;\r\n        case 'italic':\r\n          return FONT_STYLE.ITALIC;\r\n        case 'normal':\r\n        default:\r\n          return FONT_STYLE.NORMAL;\r\n      }\r\n    }\r\n  };\r\n\r\n  var contains = function(bit, value) {\r\n    return (bit & value) !== 0;\r\n  };\r\n\r\n  var content = {\r\n    name: 'content',\r\n    initialValue: 'none',\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    prefix: false,\r\n    parse: function(tokens) {\r\n      if (tokens.length === 0) {\r\n        return [];\r\n      }\r\n      var first = tokens[0];\r\n      if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n        return [];\r\n      }\r\n      return tokens;\r\n    }\r\n  };\r\n\r\n  var counterIncrement = {\r\n    name: 'counter-increment',\r\n    initialValue: 'none',\r\n    prefix: true,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      if (tokens.length === 0) {\r\n        return null;\r\n      }\r\n      var first = tokens[0];\r\n      if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n        return null;\r\n      }\r\n      var increments = [];\r\n      var filtered = tokens.filter(nonWhiteSpace);\r\n      for (var i = 0; i < filtered.length; i++) {\r\n        var counter = filtered[i];\r\n        var next = filtered[i + 1];\r\n        if (counter.type === TokenType.IDENT_TOKEN) {\r\n          var increment = next && isNumberToken(next) ? next.number : 1;\r\n          increments.push({\r\n            counter: counter.value,\r\n            increment: increment\r\n          });\r\n        }\r\n      }\r\n      return increments;\r\n    }\r\n  };\r\n\r\n  var counterReset = {\r\n    name: 'counter-reset',\r\n    initialValue: 'none',\r\n    prefix: true,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      if (tokens.length === 0) {\r\n        return [];\r\n      }\r\n      var resets = [];\r\n      var filtered = tokens.filter(nonWhiteSpace);\r\n      for (var i = 0; i < filtered.length; i++) {\r\n        var counter = filtered[i];\r\n        var next = filtered[i + 1];\r\n        if (isIdentToken(counter) && counter.value !== 'none') {\r\n          var reset = next && isNumberToken(next) ? next.number : 0;\r\n          resets.push({\r\n            counter: counter.value,\r\n            reset: reset\r\n          });\r\n        }\r\n      }\r\n      return resets;\r\n    }\r\n  };\r\n\r\n  var quotes = {\r\n    name: 'quotes',\r\n    initialValue: 'none',\r\n    prefix: true,\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    parse: function(tokens) {\r\n      if (tokens.length === 0) {\r\n        return null;\r\n      }\r\n      var first = tokens[0];\r\n      if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n        return null;\r\n      }\r\n      var quotes = [];\r\n      var filtered = tokens.filter(isStringToken);\r\n      if (filtered.length % 2 !== 0) {\r\n        return null;\r\n      }\r\n      for (var i = 0; i < filtered.length; i += 2) {\r\n        var open_1 = filtered[i].value;\r\n        var close_1 = filtered[i + 1].value;\r\n        quotes.push({\r\n          open: open_1,\r\n          close: close_1\r\n        });\r\n      }\r\n      return quotes;\r\n    }\r\n  };\r\n  var getQuote = function(quotes, depth, open) {\r\n    if (!quotes) {\r\n      return '';\r\n    }\r\n    var quote = quotes[Math.min(depth, quotes.length - 1)];\r\n    if (!quote) {\r\n      return '';\r\n    }\r\n    return open ? quote.open : quote.close;\r\n  };\r\n\r\n  var boxShadow = {\r\n    name: 'box-shadow',\r\n    initialValue: 'none',\r\n    type: PropertyDescriptorParsingType.LIST,\r\n    prefix: false,\r\n    parse: function(tokens) {\r\n      if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n        return [];\r\n      }\r\n      return parseFunctionArgs(tokens).map(function(values) {\r\n        var shadow = {\r\n          color: 0x000000ff,\r\n          offsetX: ZERO_LENGTH,\r\n          offsetY: ZERO_LENGTH,\r\n          blur: ZERO_LENGTH,\r\n          spread: ZERO_LENGTH,\r\n          inset: false\r\n        };\r\n        var c = 0;\r\n        for (var i = 0; i < values.length; i++) {\r\n          var token = values[i];\r\n          if (isIdentWithValue(token, 'inset')) {\r\n            shadow.inset = true;\r\n          } else if (isLength(token)) {\r\n            if (c === 0) {\r\n              shadow.offsetX = token;\r\n            } else if (c === 1) {\r\n              shadow.offsetY = token;\r\n            } else if (c === 2) {\r\n              shadow.blur = token;\r\n            } else {\r\n              shadow.spread = token;\r\n            }\r\n            c++;\r\n          } else {\r\n            shadow.color = color.parse(token);\r\n          }\r\n        }\r\n        return shadow;\r\n      });\r\n    }\r\n  };\r\n\r\n  var CSSParsedDeclaration = /** @class */ (function() {\r\n    function CSSParsedDeclaration(declaration) {\r\n      this.backgroundClip = parse(backgroundClip, declaration.backgroundClip);\r\n      this.backgroundColor = parse(backgroundColor, declaration.backgroundColor);\r\n      this.backgroundImage = parse(backgroundImage, declaration.backgroundImage);\r\n      this.backgroundOrigin = parse(backgroundOrigin, declaration.backgroundOrigin);\r\n      this.backgroundPosition = parse(backgroundPosition, declaration.backgroundPosition);\r\n      this.backgroundRepeat = parse(backgroundRepeat, declaration.backgroundRepeat);\r\n      this.backgroundSize = parse(backgroundSize, declaration.backgroundSize);\r\n      this.borderTopColor = parse(borderTopColor, declaration.borderTopColor);\r\n      this.borderRightColor = parse(borderRightColor, declaration.borderRightColor);\r\n      this.borderBottomColor = parse(borderBottomColor, declaration.borderBottomColor);\r\n      this.borderLeftColor = parse(borderLeftColor, declaration.borderLeftColor);\r\n      this.borderTopLeftRadius = parse(borderTopLeftRadius, declaration.borderTopLeftRadius);\r\n      this.borderTopRightRadius = parse(borderTopRightRadius, declaration.borderTopRightRadius);\r\n      this.borderBottomRightRadius = parse(borderBottomRightRadius, declaration.borderBottomRightRadius);\r\n      this.borderBottomLeftRadius = parse(borderBottomLeftRadius, declaration.borderBottomLeftRadius);\r\n      this.borderTopStyle = parse(borderTopStyle, declaration.borderTopStyle);\r\n      this.borderRightStyle = parse(borderRightStyle, declaration.borderRightStyle);\r\n      this.borderBottomStyle = parse(borderBottomStyle, declaration.borderBottomStyle);\r\n      this.borderLeftStyle = parse(borderLeftStyle, declaration.borderLeftStyle);\r\n      this.borderTopWidth = parse(borderTopWidth, declaration.borderTopWidth);\r\n      this.borderRightWidth = parse(borderRightWidth, declaration.borderRightWidth);\r\n      this.borderBottomWidth = parse(borderBottomWidth, declaration.borderBottomWidth);\r\n      this.borderLeftWidth = parse(borderLeftWidth, declaration.borderLeftWidth);\r\n      this.boxShadow = parse(boxShadow, declaration.boxShadow);\r\n      this.color = parse(color$1, declaration.color);\r\n      this.display = parse(display, declaration.display);\r\n      this.float = parse(float, declaration.cssFloat);\r\n      this.fontFamily = parse(fontFamily, declaration.fontFamily);\r\n      this.fontSize = parse(fontSize, declaration.fontSize);\r\n      this.fontStyle = parse(fontStyle, declaration.fontStyle);\r\n      this.fontVariant = parse(fontVariant, declaration.fontVariant);\r\n      this.fontWeight = parse(fontWeight, declaration.fontWeight);\r\n      this.letterSpacing = parse(letterSpacing, declaration.letterSpacing);\r\n      this.lineBreak = parse(lineBreak, declaration.lineBreak);\r\n      this.lineHeight = parse(lineHeight, declaration.lineHeight);\r\n      this.listStyleImage = parse(listStyleImage, declaration.listStyleImage);\r\n      this.listStylePosition = parse(listStylePosition, declaration.listStylePosition);\r\n      this.listStyleType = parse(listStyleType, declaration.listStyleType);\r\n      this.marginTop = parse(marginTop, declaration.marginTop);\r\n      this.marginRight = parse(marginRight, declaration.marginRight);\r\n      this.marginBottom = parse(marginBottom, declaration.marginBottom);\r\n      this.marginLeft = parse(marginLeft, declaration.marginLeft);\r\n      this.opacity = parse(opacity, declaration.opacity);\r\n      var overflowTuple = parse(overflow, declaration.overflow);\r\n      this.overflowX = overflowTuple[0];\r\n      this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\r\n      this.overflowWrap = parse(overflowWrap, declaration.overflowWrap);\r\n      this.paddingTop = parse(paddingTop, declaration.paddingTop);\r\n      this.paddingRight = parse(paddingRight, declaration.paddingRight);\r\n      this.paddingBottom = parse(paddingBottom, declaration.paddingBottom);\r\n      this.paddingLeft = parse(paddingLeft, declaration.paddingLeft);\r\n      this.position = parse(position, declaration.position);\r\n      this.textAlign = parse(textAlign, declaration.textAlign);\r\n      this.textDecorationColor = parse(textDecorationColor, declaration.textDecorationColor || declaration.color);\r\n      this.textDecorationLine = parse(textDecorationLine, declaration.textDecorationLine);\r\n      this.textShadow = parse(textShadow, declaration.textShadow);\r\n      this.textTransform = parse(textTransform, declaration.textTransform);\r\n      this.transform = parse(transform, declaration.transform);\r\n      this.transformOrigin = parse(transformOrigin, declaration.transformOrigin);\r\n      this.visibility = parse(visibility, declaration.visibility);\r\n      this.wordBreak = parse(wordBreak, declaration.wordBreak);\r\n      this.zIndex = parse(zIndex, declaration.zIndex);\r\n    }\r\n    CSSParsedDeclaration.prototype.isVisible = function() {\r\n      return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;\r\n    };\r\n    CSSParsedDeclaration.prototype.isTransparent = function() {\r\n      return isTransparent(this.backgroundColor);\r\n    };\r\n    CSSParsedDeclaration.prototype.isTransformed = function() {\r\n      return this.transform !== null;\r\n    };\r\n    CSSParsedDeclaration.prototype.isPositioned = function() {\r\n      return this.position !== POSITION.STATIC;\r\n    };\r\n    CSSParsedDeclaration.prototype.isPositionedWithZIndex = function() {\r\n      return this.isPositioned() && !this.zIndex.auto;\r\n    };\r\n    CSSParsedDeclaration.prototype.isFloating = function() {\r\n      return this.float !== FLOAT.NONE;\r\n    };\r\n    CSSParsedDeclaration.prototype.isInlineLevel = function() {\r\n      return (contains(this.display, 4 /* INLINE */ ) ||\r\n        contains(this.display, 33554432 /* INLINE_BLOCK */ ) ||\r\n        contains(this.display, 268435456 /* INLINE_FLEX */ ) ||\r\n        contains(this.display, 536870912 /* INLINE_GRID */ ) ||\r\n        contains(this.display, 67108864 /* INLINE_LIST_ITEM */ ) ||\r\n        contains(this.display, 134217728 /* INLINE_TABLE */ ));\r\n    };\r\n    return CSSParsedDeclaration;\r\n  }());\r\n  var CSSParsedPseudoDeclaration = /** @class */ (function() {\r\n    function CSSParsedPseudoDeclaration(declaration) {\r\n      this.content = parse(content, declaration.content);\r\n      this.quotes = parse(quotes, declaration.quotes);\r\n    }\r\n    return CSSParsedPseudoDeclaration;\r\n  }());\r\n  var CSSParsedCounterDeclaration = /** @class */ (function() {\r\n    function CSSParsedCounterDeclaration(declaration) {\r\n      this.counterIncrement = parse(counterIncrement, declaration.counterIncrement);\r\n      this.counterReset = parse(counterReset, declaration.counterReset);\r\n    }\r\n    return CSSParsedCounterDeclaration;\r\n  }());\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  var parse = function(descriptor, style) {\r\n    var tokenizer = new Tokenizer();\r\n    var value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\r\n    tokenizer.write(value);\r\n    var parser = new Parser(tokenizer.read());\r\n    switch (descriptor.type) {\r\n      case PropertyDescriptorParsingType.IDENT_VALUE:\r\n        var token = parser.parseComponentValue();\r\n        return descriptor.parse(isIdentToken(token) ? token.value : descriptor.initialValue);\r\n      case PropertyDescriptorParsingType.VALUE:\r\n        return descriptor.parse(parser.parseComponentValue());\r\n      case PropertyDescriptorParsingType.LIST:\r\n        return descriptor.parse(parser.parseComponentValues());\r\n      case PropertyDescriptorParsingType.TOKEN_VALUE:\r\n        return parser.parseComponentValue();\r\n      case PropertyDescriptorParsingType.TYPE_VALUE:\r\n        switch (descriptor.format) {\r\n          case 'angle':\r\n            return angle.parse(parser.parseComponentValue());\r\n          case 'color':\r\n            return color.parse(parser.parseComponentValue());\r\n          case 'image':\r\n            return image.parse(parser.parseComponentValue());\r\n          case 'length':\r\n            var length_1 = parser.parseComponentValue();\r\n            return isLength(length_1) ? length_1 : ZERO_LENGTH;\r\n          case 'length-percentage':\r\n            var value_1 = parser.parseComponentValue();\r\n            return isLengthPercentage(value_1) ? value_1 : ZERO_LENGTH;\r\n        }\r\n    }\r\n    throw new Error(\"Attempting to parse unsupported css format type \" + descriptor.format);\r\n  };\r\n\r\n  var ElementContainer = /** @class */ (function() {\r\n    function ElementContainer(element) {\r\n      this.styles = new CSSParsedDeclaration(window.getComputedStyle(element, null));\r\n      this.textNodes = [];\r\n      this.elements = [];\r\n      if (this.styles.transform !== null && isHTMLElementNode(element)) {\r\n        // getBoundingClientRect takes transforms into account\r\n        element.style.transform = 'none';\r\n      }\r\n      this.bounds = parseBounds(element);\r\n      this.flags = 0;\r\n    }\r\n    return ElementContainer;\r\n  }());\r\n\r\n  var TextBounds = /** @class */ (function() {\r\n    function TextBounds(text, bounds) {\r\n      this.text = text;\r\n      this.bounds = bounds;\r\n    }\r\n    return TextBounds;\r\n  }());\r\n  var parseTextBounds = function(value, styles, node) {\r\n    var textList = breakText(value, styles);\r\n    var textBounds = [];\r\n    var offset = 0;\r\n    textList.forEach(function(text) {\r\n      if (styles.textDecorationLine.length || text.trim().length > 0) {\r\n        if (FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n          textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length)));\r\n        } else {\r\n          var replacementNode = node.splitText(text.length);\r\n          textBounds.push(new TextBounds(text, getWrapperBounds(node)));\r\n          node = replacementNode;\r\n        }\r\n      } else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n        node = node.splitText(text.length);\r\n      }\r\n      offset += text.length;\r\n    });\r\n    return textBounds;\r\n  };\r\n  var getWrapperBounds = function(node) {\r\n    var ownerDocument = node.ownerDocument;\r\n    if (ownerDocument) {\r\n      var wrapper = ownerDocument.createElement('html2canvaswrapper');\r\n      wrapper.appendChild(node.cloneNode(true));\r\n      var parentNode = node.parentNode;\r\n      if (parentNode) {\r\n        parentNode.replaceChild(wrapper, node);\r\n        var bounds = parseBounds(wrapper);\r\n        if (wrapper.firstChild) {\r\n          parentNode.replaceChild(wrapper.firstChild, wrapper);\r\n        }\r\n        return bounds;\r\n      }\r\n    }\r\n    return new Bounds(0, 0, 0, 0);\r\n  };\r\n  var getRangeBounds = function(node, offset, length) {\r\n    var ownerDocument = node.ownerDocument;\r\n    if (!ownerDocument) {\r\n      throw new Error('Node has no owner document');\r\n    }\r\n    var range = ownerDocument.createRange();\r\n    range.setStart(node, offset);\r\n    range.setEnd(node, offset + length);\r\n    return Bounds.fromClientRect(range.getBoundingClientRect());\r\n  };\r\n  var breakText = function(value, styles) {\r\n    return styles.letterSpacing !== 0 ? toCodePoints(value).map(function(i) {\r\n      return fromCodePoint(i);\r\n    }) : breakWords(value, styles);\r\n  };\r\n  var breakWords = function(str, styles) {\r\n    var breaker = LineBreaker(str, {\r\n      lineBreak: styles.lineBreak,\r\n      wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak\r\n    });\r\n    var words = [];\r\n    var bk;\r\n    while (!(bk = breaker.next()).done) {\r\n      if (bk.value) {\r\n        words.push(bk.value.slice());\r\n      }\r\n    }\r\n    return words;\r\n  };\r\n\r\n  var TextContainer = /** @class */ (function() {\r\n    function TextContainer(node, styles) {\r\n      this.text = transform$1(node.data, styles.textTransform);\r\n      this.textBounds = parseTextBounds(this.text, styles, node);\r\n    }\r\n    return TextContainer;\r\n  }());\r\n  var transform$1 = function(text, transform) {\r\n    switch (transform) {\r\n      case TEXT_TRANSFORM.LOWERCASE:\r\n        return text.toLowerCase();\r\n      case TEXT_TRANSFORM.CAPITALIZE:\r\n        return text.replace(CAPITALIZE, capitalize);\r\n      case TEXT_TRANSFORM.UPPERCASE:\r\n        return text.toUpperCase();\r\n      default:\r\n        return text;\r\n    }\r\n  };\r\n  var CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\r\n  var capitalize = function(m, p1, p2) {\r\n    if (m.length > 0) {\r\n      return p1 + p2.toUpperCase();\r\n    }\r\n    return m;\r\n  };\r\n\r\n  var ImageElementContainer = /** @class */ (function(_super) {\r\n    __extends(ImageElementContainer, _super);\r\n\r\n    function ImageElementContainer(img) {\r\n      var _this = _super.call(this, img) || this;\r\n      _this.src = img.currentSrc || img.src;\r\n      _this.intrinsicWidth = img.naturalWidth;\r\n      _this.intrinsicHeight = img.naturalHeight;\r\n      CacheStorage.getInstance().addImage(_this.src);\r\n      return _this;\r\n    }\r\n    return ImageElementContainer;\r\n  }(ElementContainer));\r\n\r\n  var CanvasElementContainer = /** @class */ (function(_super) {\r\n    __extends(CanvasElementContainer, _super);\r\n\r\n    function CanvasElementContainer(canvas) {\r\n      var _this = _super.call(this, canvas) || this;\r\n      _this.canvas = canvas;\r\n      _this.intrinsicWidth = canvas.width;\r\n      _this.intrinsicHeight = canvas.height;\r\n      return _this;\r\n    }\r\n    return CanvasElementContainer;\r\n  }(ElementContainer));\r\n\r\n  var SVGElementContainer = /** @class */ (function(_super) {\r\n    __extends(SVGElementContainer, _super);\r\n\r\n    function SVGElementContainer(img) {\r\n      var _this = _super.call(this, img) || this;\r\n      var s = new XMLSerializer();\r\n      _this.svg = \"data:image/svg+xml,\" + encodeURIComponent(s.serializeToString(img));\r\n      _this.intrinsicWidth = img.width.baseVal.value;\r\n      _this.intrinsicHeight = img.height.baseVal.value;\r\n      CacheStorage.getInstance().addImage(_this.svg);\r\n      return _this;\r\n    }\r\n    return SVGElementContainer;\r\n  }(ElementContainer));\r\n\r\n  var LIElementContainer = /** @class */ (function(_super) {\r\n    __extends(LIElementContainer, _super);\r\n\r\n    function LIElementContainer(element) {\r\n      var _this = _super.call(this, element) || this;\r\n      _this.value = element.value;\r\n      return _this;\r\n    }\r\n    return LIElementContainer;\r\n  }(ElementContainer));\r\n\r\n  var OLElementContainer = /** @class */ (function(_super) {\r\n    __extends(OLElementContainer, _super);\r\n\r\n    function OLElementContainer(element) {\r\n      var _this = _super.call(this, element) || this;\r\n      _this.start = element.start;\r\n      _this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\r\n      return _this;\r\n    }\r\n    return OLElementContainer;\r\n  }(ElementContainer));\r\n\r\n  var CHECKBOX_BORDER_RADIUS = [{\r\n    type: TokenType.DIMENSION_TOKEN,\r\n    flags: 0,\r\n    unit: 'px',\r\n    number: 3\r\n  }];\r\n  var RADIO_BORDER_RADIUS = [{\r\n    type: TokenType.PERCENTAGE_TOKEN,\r\n    flags: 0,\r\n    number: 50\r\n  }];\r\n  var reformatInputBounds = function(bounds) {\r\n    if (bounds.width > bounds.height) {\r\n      return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\r\n    } else if (bounds.width < bounds.height) {\r\n      return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\r\n    }\r\n    return bounds;\r\n  };\r\n  var getInputValue = function(node) {\r\n    var value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\r\n    return value.length === 0 ? node.placeholder || '' : value;\r\n  };\r\n  var CHECKBOX = 'checkbox';\r\n  var RADIO = 'radio';\r\n  var PASSWORD = 'password';\r\n  var INPUT_COLOR = 0x2a2a2aff;\r\n  var InputElementContainer = /** @class */ (function(_super) {\r\n    __extends(InputElementContainer, _super);\r\n\r\n    function InputElementContainer(input) {\r\n      var _this = _super.call(this, input) || this;\r\n      _this.type = input.type.toLowerCase();\r\n      _this.checked = input.checked;\r\n      _this.value = getInputValue(input);\r\n      if (_this.type === CHECKBOX || _this.type === RADIO) {\r\n        _this.styles.backgroundColor = 0xdededeff;\r\n        _this.styles.borderTopColor = _this.styles.borderRightColor = _this.styles.borderBottomColor = _this.styles.borderLeftColor = 0xa5a5a5ff;\r\n        _this.styles.borderTopWidth = _this.styles.borderRightWidth = _this.styles.borderBottomWidth = _this.styles.borderLeftWidth = 1;\r\n        _this.styles.borderTopStyle = _this.styles.borderRightStyle = _this.styles.borderBottomStyle = _this.styles.borderLeftStyle =\r\n          BORDER_STYLE.SOLID;\r\n        _this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];\r\n        _this.styles.backgroundOrigin = [0 /* BORDER_BOX */ ];\r\n        _this.bounds = reformatInputBounds(_this.bounds);\r\n      }\r\n      switch (_this.type) {\r\n        case CHECKBOX:\r\n          _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = CHECKBOX_BORDER_RADIUS;\r\n          break;\r\n        case RADIO:\r\n          _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = RADIO_BORDER_RADIUS;\r\n          break;\r\n      }\r\n      return _this;\r\n    }\r\n    return InputElementContainer;\r\n  }(ElementContainer));\r\n\r\n  var SelectElementContainer = /** @class */ (function(_super) {\r\n    __extends(SelectElementContainer, _super);\r\n\r\n    function SelectElementContainer(element) {\r\n      var _this = _super.call(this, element) || this;\r\n      var option = element.options[element.selectedIndex || 0];\r\n      _this.value = option ? option.text || '' : '';\r\n      return _this;\r\n    }\r\n    return SelectElementContainer;\r\n  }(ElementContainer));\r\n\r\n  var TextareaElementContainer = /** @class */ (function(_super) {\r\n    __extends(TextareaElementContainer, _super);\r\n\r\n    function TextareaElementContainer(element) {\r\n      var _this = _super.call(this, element) || this;\r\n      _this.value = element.value;\r\n      return _this;\r\n    }\r\n    return TextareaElementContainer;\r\n  }(ElementContainer));\r\n\r\n  var parseColor = function(value) {\r\n    return color.parse(Parser.create(value).parseComponentValue());\r\n  };\r\n  var IFrameElementContainer = /** @class */ (function(_super) {\r\n    __extends(IFrameElementContainer, _super);\r\n\r\n    function IFrameElementContainer(iframe) {\r\n      var _this = _super.call(this, iframe) || this;\r\n      _this.src = iframe.src;\r\n      _this.width = parseInt(iframe.width, 10) || 0;\r\n      _this.height = parseInt(iframe.height, 10) || 0;\r\n      _this.backgroundColor = _this.styles.backgroundColor;\r\n      try {\r\n        if (iframe.contentWindow &&\r\n          iframe.contentWindow.document &&\r\n          iframe.contentWindow.document.documentElement) {\r\n          _this.tree = parseTree(iframe.contentWindow.document.documentElement);\r\n          // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n          var documentBackgroundColor = iframe.contentWindow.document.documentElement ?\r\n            parseColor(getComputedStyle(iframe.contentWindow.document.documentElement)\r\n              .backgroundColor) :\r\n            COLORS.TRANSPARENT;\r\n          var bodyBackgroundColor = iframe.contentWindow.document.body ?\r\n            parseColor(getComputedStyle(iframe.contentWindow.document.body).backgroundColor) :\r\n            COLORS.TRANSPARENT;\r\n          _this.backgroundColor = isTransparent(documentBackgroundColor) ?\r\n            isTransparent(bodyBackgroundColor) ?\r\n            _this.styles.backgroundColor :\r\n            bodyBackgroundColor :\r\n            documentBackgroundColor;\r\n        }\r\n      } catch (e) {}\r\n      return _this;\r\n    }\r\n    return IFrameElementContainer;\r\n  }(ElementContainer));\r\n\r\n  var LIST_OWNERS = ['OL', 'UL', 'MENU'];\r\n  var parseNodeTree = function(node, parent, root) {\r\n    for (var childNode = node.firstChild, nextNode = void 0; childNode; childNode = nextNode) {\r\n      nextNode = childNode.nextSibling;\r\n      if (isTextNode(childNode) && childNode.data.trim().length > 0) {\r\n        parent.textNodes.push(new TextContainer(childNode, parent.styles));\r\n      } else if (isElementNode(childNode)) {\r\n        var container = createContainer(childNode);\r\n        if (container.styles.isVisible()) {\r\n          if (createsRealStackingContext(childNode, container, root)) {\r\n            container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */ ;\r\n          } else if (createsStackingContext(container.styles)) {\r\n            container.flags |= 2 /* CREATES_STACKING_CONTEXT */ ;\r\n          }\r\n          if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\r\n            container.flags |= 8 /* IS_LIST_OWNER */ ;\r\n          }\r\n          parent.elements.push(container);\r\n          if (!isTextareaElement(childNode) && !isSVGElement(childNode) && !isSelectElement(childNode)) {\r\n            parseNodeTree(childNode, container, root);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  var createContainer = function(element) {\r\n    if (isImageElement(element)) {\r\n      return new ImageElementContainer(element);\r\n    }\r\n    if (isCanvasElement(element)) {\r\n      return new CanvasElementContainer(element);\r\n    }\r\n    if (isSVGElement(element)) {\r\n      return new SVGElementContainer(element);\r\n    }\r\n    if (isLIElement(element)) {\r\n      return new LIElementContainer(element);\r\n    }\r\n    if (isOLElement(element)) {\r\n      return new OLElementContainer(element);\r\n    }\r\n    if (isInputElement(element)) {\r\n      return new InputElementContainer(element);\r\n    }\r\n    if (isSelectElement(element)) {\r\n      return new SelectElementContainer(element);\r\n    }\r\n    if (isTextareaElement(element)) {\r\n      return new TextareaElementContainer(element);\r\n    }\r\n    if (isIFrameElement(element)) {\r\n      return new IFrameElementContainer(element);\r\n    }\r\n    return new ElementContainer(element);\r\n  };\r\n  var parseTree = function(element) {\r\n    var container = createContainer(element);\r\n    container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */ ;\r\n    parseNodeTree(element, container, container);\r\n    return container;\r\n  };\r\n  var createsRealStackingContext = function(node, container, root) {\r\n    return (container.styles.isPositionedWithZIndex() ||\r\n      container.styles.opacity < 1 ||\r\n      container.styles.isTransformed() ||\r\n      (isBodyElement(node) && root.styles.isTransparent()));\r\n  };\r\n  var createsStackingContext = function(styles) {\r\n    return styles.isPositioned() || styles.isFloating();\r\n  };\r\n  var isTextNode = function(node) {\r\n    return node.nodeType === Node.TEXT_NODE;\r\n  };\r\n  var isElementNode = function(node) {\r\n    return node.nodeType === Node.ELEMENT_NODE;\r\n  };\r\n  var isHTMLElementNode = function(node) {\r\n    return isElementNode(node) && typeof node.style !== 'undefined' && !isSVGElementNode(node);\r\n  };\r\n  var isSVGElementNode = function(element) {\r\n    return typeof element.className === 'object';\r\n  };\r\n  var isLIElement = function(node) {\r\n    return node.tagName === 'LI';\r\n  };\r\n  var isOLElement = function(node) {\r\n    return node.tagName === 'OL';\r\n  };\r\n  var isInputElement = function(node) {\r\n    return node.tagName === 'INPUT';\r\n  };\r\n  var isHTMLElement = function(node) {\r\n    return node.tagName === 'HTML';\r\n  };\r\n  var isSVGElement = function(node) {\r\n    return node.tagName === 'svg';\r\n  };\r\n  var isBodyElement = function(node) {\r\n    return node.tagName === 'BODY';\r\n  };\r\n  var isCanvasElement = function(node) {\r\n    return node.tagName === 'CANVAS';\r\n  };\r\n  var isImageElement = function(node) {\r\n    return node.tagName === 'IMG';\r\n  };\r\n  var isIFrameElement = function(node) {\r\n    return node.tagName === 'IFRAME';\r\n  };\r\n  var isStyleElement = function(node) {\r\n    return node.tagName === 'STYLE';\r\n  };\r\n  var isScriptElement = function(node) {\r\n    return node.tagName === 'SCRIPT';\r\n  };\r\n  var isTextareaElement = function(node) {\r\n    return node.tagName === 'TEXTAREA';\r\n  };\r\n  var isSelectElement = function(node) {\r\n    return node.tagName === 'SELECT';\r\n  };\r\n\r\n  var CounterState = /** @class */ (function() {\r\n    function CounterState() {\r\n      this.counters = {};\r\n    }\r\n    CounterState.prototype.getCounterValue = function(name) {\r\n      var counter = this.counters[name];\r\n      if (counter && counter.length) {\r\n        return counter[counter.length - 1];\r\n      }\r\n      return 1;\r\n    };\r\n    CounterState.prototype.getCounterValues = function(name) {\r\n      var counter = this.counters[name];\r\n      return counter ? counter : [];\r\n    };\r\n    CounterState.prototype.pop = function(counters) {\r\n      var _this = this;\r\n      counters.forEach(function(counter) {\r\n        return _this.counters[counter].pop();\r\n      });\r\n    };\r\n    CounterState.prototype.parse = function(style) {\r\n      var _this = this;\r\n      var counterIncrement = style.counterIncrement;\r\n      var counterReset = style.counterReset;\r\n      var canReset = true;\r\n      if (counterIncrement !== null) {\r\n        counterIncrement.forEach(function(entry) {\r\n          var counter = _this.counters[entry.counter];\r\n          if (counter && entry.increment !== 0) {\r\n            canReset = false;\r\n            counter[Math.max(0, counter.length - 1)] += entry.increment;\r\n          }\r\n        });\r\n      }\r\n      var counterNames = [];\r\n      if (canReset) {\r\n        counterReset.forEach(function(entry) {\r\n          var counter = _this.counters[entry.counter];\r\n          counterNames.push(entry.counter);\r\n          if (!counter) {\r\n            counter = _this.counters[entry.counter] = [];\r\n          }\r\n          counter.push(entry.reset);\r\n        });\r\n      }\r\n      return counterNames;\r\n    };\r\n    return CounterState;\r\n  }());\r\n  var ROMAN_UPPER = {\r\n    integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\r\n    values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\r\n  };\r\n  var ARMENIAN = {\r\n    integers: [\r\n      9000,\r\n      8000,\r\n      7000,\r\n      6000,\r\n      5000,\r\n      4000,\r\n      3000,\r\n      2000,\r\n      1000,\r\n      900,\r\n      800,\r\n      700,\r\n      600,\r\n      500,\r\n      400,\r\n      300,\r\n      200,\r\n      100,\r\n      90,\r\n      80,\r\n      70,\r\n      60,\r\n      50,\r\n      40,\r\n      30,\r\n      20,\r\n      10,\r\n      9,\r\n      8,\r\n      7,\r\n      6,\r\n      5,\r\n      4,\r\n      3,\r\n      2,\r\n      1\r\n    ],\r\n    values: [\r\n      'Ք',\r\n      'Փ',\r\n      'Ւ',\r\n      'Ց',\r\n      'Ր',\r\n      'Տ',\r\n      'Վ',\r\n      'Ս',\r\n      'Ռ',\r\n      'Ջ',\r\n      'Պ',\r\n      'Չ',\r\n      'Ո',\r\n      'Շ',\r\n      'Ն',\r\n      'Յ',\r\n      'Մ',\r\n      'Ճ',\r\n      'Ղ',\r\n      'Ձ',\r\n      'Հ',\r\n      'Կ',\r\n      'Ծ',\r\n      'Խ',\r\n      'Լ',\r\n      'Ի',\r\n      'Ժ',\r\n      'Թ',\r\n      'Ը',\r\n      'Է',\r\n      'Զ',\r\n      'Ե',\r\n      'Դ',\r\n      'Գ',\r\n      'Բ',\r\n      'Ա'\r\n    ]\r\n  };\r\n  var HEBREW = {\r\n    integers: [\r\n      10000,\r\n      9000,\r\n      8000,\r\n      7000,\r\n      6000,\r\n      5000,\r\n      4000,\r\n      3000,\r\n      2000,\r\n      1000,\r\n      400,\r\n      300,\r\n      200,\r\n      100,\r\n      90,\r\n      80,\r\n      70,\r\n      60,\r\n      50,\r\n      40,\r\n      30,\r\n      20,\r\n      19,\r\n      18,\r\n      17,\r\n      16,\r\n      15,\r\n      10,\r\n      9,\r\n      8,\r\n      7,\r\n      6,\r\n      5,\r\n      4,\r\n      3,\r\n      2,\r\n      1\r\n    ],\r\n    values: [\r\n      'י׳',\r\n      'ט׳',\r\n      'ח׳',\r\n      'ז׳',\r\n      'ו׳',\r\n      'ה׳',\r\n      'ד׳',\r\n      'ג׳',\r\n      'ב׳',\r\n      'א׳',\r\n      'ת',\r\n      'ש',\r\n      'ר',\r\n      'ק',\r\n      'צ',\r\n      'פ',\r\n      'ע',\r\n      'ס',\r\n      'נ',\r\n      'מ',\r\n      'ל',\r\n      'כ',\r\n      'יט',\r\n      'יח',\r\n      'יז',\r\n      'טז',\r\n      'טו',\r\n      'י',\r\n      'ט',\r\n      'ח',\r\n      'ז',\r\n      'ו',\r\n      'ה',\r\n      'ד',\r\n      'ג',\r\n      'ב',\r\n      'א'\r\n    ]\r\n  };\r\n  var GEORGIAN = {\r\n    integers: [\r\n      10000,\r\n      9000,\r\n      8000,\r\n      7000,\r\n      6000,\r\n      5000,\r\n      4000,\r\n      3000,\r\n      2000,\r\n      1000,\r\n      900,\r\n      800,\r\n      700,\r\n      600,\r\n      500,\r\n      400,\r\n      300,\r\n      200,\r\n      100,\r\n      90,\r\n      80,\r\n      70,\r\n      60,\r\n      50,\r\n      40,\r\n      30,\r\n      20,\r\n      10,\r\n      9,\r\n      8,\r\n      7,\r\n      6,\r\n      5,\r\n      4,\r\n      3,\r\n      2,\r\n      1\r\n    ],\r\n    values: [\r\n      'ჵ',\r\n      'ჰ',\r\n      'ჯ',\r\n      'ჴ',\r\n      'ხ',\r\n      'ჭ',\r\n      'წ',\r\n      'ძ',\r\n      'ც',\r\n      'ჩ',\r\n      'შ',\r\n      'ყ',\r\n      'ღ',\r\n      'ქ',\r\n      'ფ',\r\n      'ჳ',\r\n      'ტ',\r\n      'ს',\r\n      'რ',\r\n      'ჟ',\r\n      'პ',\r\n      'ო',\r\n      'ჲ',\r\n      'ნ',\r\n      'მ',\r\n      'ლ',\r\n      'კ',\r\n      'ი',\r\n      'თ',\r\n      'ჱ',\r\n      'ზ',\r\n      'ვ',\r\n      'ე',\r\n      'დ',\r\n      'გ',\r\n      'ბ',\r\n      'ა'\r\n    ]\r\n  };\r\n  var createAdditiveCounter = function(value, min, max, symbols, fallback, suffix) {\r\n    if (value < min || value > max) {\r\n      return createCounterText(value, fallback, suffix.length > 0);\r\n    }\r\n    return (symbols.integers.reduce(function(string, integer, index) {\r\n      while (value >= integer) {\r\n        value -= integer;\r\n        string += symbols.values[index];\r\n      }\r\n      return string;\r\n    }, '') + suffix);\r\n  };\r\n  var createCounterStyleWithSymbolResolver = function(value, codePointRangeLength, isNumeric, resolver) {\r\n    var string = '';\r\n    do {\r\n      if (!isNumeric) {\r\n        value--;\r\n      }\r\n      string = resolver(value) + string;\r\n      value /= codePointRangeLength;\r\n    } while (value * codePointRangeLength >= codePointRangeLength);\r\n    return string;\r\n  };\r\n  var createCounterStyleFromRange = function(value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\r\n    var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\r\n    return ((value < 0 ? '-' : '') +\r\n      (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function(codePoint) {\r\n          return fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\r\n        }) +\r\n        suffix));\r\n  };\r\n  var createCounterStyleFromSymbols = function(value, symbols, suffix) {\r\n    if (suffix === void 0) {\r\n      suffix = '. ';\r\n    }\r\n    var codePointRangeLength = symbols.length;\r\n    return (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function(codePoint) {\r\n      return symbols[Math.floor(codePoint % codePointRangeLength)];\r\n    }) + suffix);\r\n  };\r\n  var CJK_ZEROS = 1 << 0;\r\n  var CJK_TEN_COEFFICIENTS = 1 << 1;\r\n  var CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\r\n  var CJK_HUNDRED_COEFFICIENTS = 1 << 3;\r\n  var createCJKCounter = function(value, numbers, multipliers, negativeSign, suffix, flags) {\r\n    if (value < -9999 || value > 9999) {\r\n      return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\r\n    }\r\n    var tmp = Math.abs(value);\r\n    var string = suffix;\r\n    if (tmp === 0) {\r\n      return numbers[0] + string;\r\n    }\r\n    for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\r\n      var coefficient = tmp % 10;\r\n      if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\r\n        string = numbers[coefficient] + string;\r\n      } else if (coefficient > 1 ||\r\n        (coefficient === 1 && digit === 0) ||\r\n        (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\r\n        (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\r\n        (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))) {\r\n        string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\r\n      } else if (coefficient === 1 && digit > 0) {\r\n        string = multipliers[digit - 1] + string;\r\n      }\r\n      tmp = Math.floor(tmp / 10);\r\n    }\r\n    return (value < 0 ? negativeSign : '') + string;\r\n  };\r\n  var CHINESE_INFORMAL_MULTIPLIERS = '十百千萬';\r\n  var CHINESE_FORMAL_MULTIPLIERS = '拾佰仟萬';\r\n  var JAPANESE_NEGATIVE = 'マイナス';\r\n  var KOREAN_NEGATIVE = '마이너스';\r\n  var createCounterText = function(value, type, appendSuffix) {\r\n    var defaultSuffix = appendSuffix ? '. ' : '';\r\n    var cjkSuffix = appendSuffix ? '、' : '';\r\n    var koreanSuffix = appendSuffix ? ', ' : '';\r\n    var spaceSuffix = appendSuffix ? ' ' : '';\r\n    switch (type) {\r\n      case LIST_STYLE_TYPE.DISC:\r\n        return '•' + spaceSuffix;\r\n      case LIST_STYLE_TYPE.CIRCLE:\r\n        return '◦' + spaceSuffix;\r\n      case LIST_STYLE_TYPE.SQUARE:\r\n        return '◾' + spaceSuffix;\r\n      case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\r\n        var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n        return string.length < 4 ? \"0\" + string : string;\r\n      case LIST_STYLE_TYPE.CJK_DECIMAL:\r\n        return createCounterStyleFromSymbols(value, '〇一二三四五六七八九', cjkSuffix);\r\n      case LIST_STYLE_TYPE.LOWER_ROMAN:\r\n        return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n      case LIST_STYLE_TYPE.UPPER_ROMAN:\r\n        return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n      case LIST_STYLE_TYPE.LOWER_GREEK:\r\n        return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\r\n      case LIST_STYLE_TYPE.LOWER_ALPHA:\r\n        return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\r\n      case LIST_STYLE_TYPE.UPPER_ALPHA:\r\n        return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\r\n      case LIST_STYLE_TYPE.ARABIC_INDIC:\r\n        return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.ARMENIAN:\r\n      case LIST_STYLE_TYPE.UPPER_ARMENIAN:\r\n        return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n      case LIST_STYLE_TYPE.LOWER_ARMENIAN:\r\n        return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n      case LIST_STYLE_TYPE.BENGALI:\r\n        return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.CAMBODIAN:\r\n      case LIST_STYLE_TYPE.KHMER:\r\n        return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\r\n        return createCounterStyleFromSymbols(value, '子丑寅卯辰巳午未申酉戌亥', cjkSuffix);\r\n      case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\r\n        return createCounterStyleFromSymbols(value, '甲乙丙丁戊己庚辛壬癸', cjkSuffix);\r\n      case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\r\n      case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\r\n        return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n      case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\r\n        return createCJKCounter(value, '零壹貳參肆伍陸柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n      case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\r\n        return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n      case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\r\n        return createCJKCounter(value, '零壹贰叁肆伍陆柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n      case LIST_STYLE_TYPE.JAPANESE_INFORMAL:\r\n        return createCJKCounter(value, '〇一二三四五六七八九', '十百千万', JAPANESE_NEGATIVE, cjkSuffix, 0);\r\n      case LIST_STYLE_TYPE.JAPANESE_FORMAL:\r\n        return createCJKCounter(value, '零壱弐参四伍六七八九', '拾百千万', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n      case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\r\n        return createCJKCounter(value, '영일이삼사오육칠팔구', '십백천만', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n      case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\r\n        return createCJKCounter(value, '零一二三四五六七八九', '十百千萬', KOREAN_NEGATIVE, koreanSuffix, 0);\r\n      case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\r\n        return createCJKCounter(value, '零壹貳參四五六七八九', '拾百千', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n      case LIST_STYLE_TYPE.DEVANAGARI:\r\n        return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.GEORGIAN:\r\n        return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n      case LIST_STYLE_TYPE.GUJARATI:\r\n        return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.GURMUKHI:\r\n        return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.HEBREW:\r\n        return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n      case LIST_STYLE_TYPE.HIRAGANA:\r\n        return createCounterStyleFromSymbols(value, 'あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん');\r\n      case LIST_STYLE_TYPE.HIRAGANA_IROHA:\r\n        return createCounterStyleFromSymbols(value, 'いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす');\r\n      case LIST_STYLE_TYPE.KANNADA:\r\n        return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.KATAKANA:\r\n        return createCounterStyleFromSymbols(value, 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン', cjkSuffix);\r\n      case LIST_STYLE_TYPE.KATAKANA_IROHA:\r\n        return createCounterStyleFromSymbols(value, 'イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス', cjkSuffix);\r\n      case LIST_STYLE_TYPE.LAO:\r\n        return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.MONGOLIAN:\r\n        return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.MYANMAR:\r\n        return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.ORIYA:\r\n        return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.PERSIAN:\r\n        return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.TAMIL:\r\n        return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.TELUGU:\r\n        return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.THAI:\r\n        return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.TIBETAN:\r\n        return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\r\n      case LIST_STYLE_TYPE.DECIMAL:\r\n      default:\r\n        return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n    }\r\n  };\r\n\r\n  var IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\r\n  var DocumentCloner = /** @class */ (function() {\r\n    function DocumentCloner(element, options) {\r\n      this.options = options;\r\n      this.scrolledElements = [];\r\n      this.referenceElement = element;\r\n      this.counters = new CounterState();\r\n      this.quoteDepth = 0;\r\n      if (!element.ownerDocument) {\r\n        throw new Error('Cloned element does not have an owner document');\r\n      }\r\n      this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\r\n    }\r\n    DocumentCloner.prototype.toIFrame = function(ownerDocument, windowSize) {\r\n      var _this = this;\r\n      var iframe = createIFrameContainer(ownerDocument, windowSize);\r\n      if (!iframe.contentWindow) {\r\n        return Promise.reject(\"Unable to find iframe window\");\r\n      }\r\n      var scrollX = ownerDocument.defaultView.pageXOffset;\r\n      var scrollY = ownerDocument.defaultView.pageYOffset;\r\n      var cloneWindow = iframe.contentWindow;\r\n      var documentClone = cloneWindow.document;\r\n      /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\r\n       if window url is about:blank, we can assign the url to current by writing onto the document\r\n       */\r\n      var iframeLoad = iframeLoader(iframe).then(function() {\r\n        return __awaiter(_this, void 0, void 0, function() {\r\n          var onclone;\r\n          return __generator(this, function(_a) {\r\n            switch (_a.label) {\r\n              case 0:\r\n                this.scrolledElements.forEach(restoreNodeScroll);\r\n                if (cloneWindow) {\r\n                  cloneWindow.scrollTo(windowSize.left, windowSize.top);\r\n                  if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\r\n                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)) {\r\n                    documentClone.documentElement.style.top = -windowSize.top + 'px';\r\n                    documentClone.documentElement.style.left = -windowSize.left + 'px';\r\n                    documentClone.documentElement.style.position = 'absolute';\r\n                  }\r\n                }\r\n                onclone = this.options.onclone;\r\n                if (typeof this.clonedReferenceElement === 'undefined') {\r\n                  return [2 /*return*/ , Promise.reject(\"Error finding the \" + this.referenceElement.nodeName + \" in the cloned document\")];\r\n                }\r\n                if (!(documentClone.fonts && documentClone.fonts.ready)) return [3 /*break*/ , 2];\r\n                return [4 /*yield*/ , documentClone.fonts.ready];\r\n              case 1:\r\n                _a.sent();\r\n                _a.label = 2;\r\n              case 2:\r\n                if (typeof onclone === 'function') {\r\n                  return [2 /*return*/ , Promise.resolve()\r\n                    .then(function() {\r\n                      return onclone(documentClone);\r\n                    })\r\n                    .then(function() {\r\n                      return iframe;\r\n                    })\r\n                  ];\r\n                }\r\n                return [2 /*return*/ , iframe];\r\n            }\r\n          });\r\n        });\r\n      });\r\n      documentClone.open();\r\n      documentClone.write(serializeDoctype(document.doctype) + \"<html></html>\");\r\n      // Chrome scrolls the parent document for some reason after the write to the cloned window???\r\n      restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\r\n      documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\r\n      documentClone.close();\r\n      return iframeLoad;\r\n    };\r\n    DocumentCloner.prototype.createElementClone = function(node) {\r\n      if (isCanvasElement(node)) {\r\n        return this.createCanvasClone(node);\r\n      }\r\n      /*\r\n            if (isIFrameElement(node)) {\r\n                return this.createIFrameClone(node);\r\n            }\r\n    */\r\n      if (isStyleElement(node)) {\r\n        return this.createStyleClone(node);\r\n      }\r\n      var clone = node.cloneNode(false);\r\n      // @ts-ignore\r\n      if (isImageElement(clone) && clone.loading === 'lazy') {\r\n        // @ts-ignore\r\n        clone.loading = 'eager';\r\n      }\r\n      return clone;\r\n    };\r\n    DocumentCloner.prototype.createStyleClone = function(node) {\r\n      try {\r\n        var sheet = node.sheet;\r\n        if (sheet && sheet.cssRules) {\r\n          var css = [].slice.call(sheet.cssRules, 0).reduce(function(css, rule) {\r\n            if (rule && typeof rule.cssText === 'string') {\r\n              return css + rule.cssText;\r\n            }\r\n            return css;\r\n          }, '');\r\n          var style = node.cloneNode(false);\r\n          style.textContent = css;\r\n          return style;\r\n        }\r\n      } catch (e) {\r\n        // accessing node.sheet.cssRules throws a DOMException\r\n        Logger.getInstance(this.options.id).error('Unable to access cssRules property', e);\r\n        if (e.name !== 'SecurityError') {\r\n          throw e;\r\n        }\r\n      }\r\n      return node.cloneNode(false);\r\n    };\r\n    DocumentCloner.prototype.createCanvasClone = function(canvas) {\r\n      if (this.options.inlineImages && canvas.ownerDocument) {\r\n        var img = canvas.ownerDocument.createElement('img');\r\n        try {\r\n          img.src = canvas.toDataURL();\r\n          return img;\r\n        } catch (e) {\r\n          Logger.getInstance(this.options.id).info(\"Unable to clone canvas contents, canvas is tainted\");\r\n        }\r\n      }\r\n      var clonedCanvas = canvas.cloneNode(false);\r\n      try {\r\n        clonedCanvas.width = canvas.width;\r\n        clonedCanvas.height = canvas.height;\r\n        var ctx = canvas.getContext('2d');\r\n        var clonedCtx = clonedCanvas.getContext('2d');\r\n        if (clonedCtx) {\r\n          if (ctx) {\r\n            clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\r\n          } else {\r\n            clonedCtx.drawImage(canvas, 0, 0);\r\n          }\r\n        }\r\n        return clonedCanvas;\r\n      } catch (e) {}\r\n      return clonedCanvas;\r\n    };\r\n    /*\r\n        createIFrameClone(iframe: HTMLIFrameElement) {\r\n            const tempIframe = <HTMLIFrameElement>iframe.cloneNode(false);\r\n            const iframeKey = generateIframeKey();\r\n            tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);\r\n\r\n            const {width, height} = parseBounds(iframe);\r\n\r\n            this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(iframe, this.options)\r\n                .then(documentElement => {\r\n                    return this.renderer(\r\n                        documentElement,\r\n                        {\r\n                            allowTaint: this.options.allowTaint,\r\n                            backgroundColor: '#ffffff',\r\n                            canvas: null,\r\n                            imageTimeout: this.options.imageTimeout,\r\n                            logging: this.options.logging,\r\n                            proxy: this.options.proxy,\r\n                            removeContainer: this.options.removeContainer,\r\n                            scale: this.options.scale,\r\n                            foreignObjectRendering: this.options.foreignObjectRendering,\r\n                            useCORS: this.options.useCORS,\r\n                            target: new CanvasRenderer(),\r\n                            width,\r\n                            height,\r\n                            x: 0,\r\n                            y: 0,\r\n                            windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\r\n                            windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\r\n                            scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\r\n                            scrollY: documentElement.ownerDocument.defaultView.pageYOffset\r\n                        },\r\n                    );\r\n                })\r\n                .then(\r\n                    (canvas: HTMLCanvasElement) =>\r\n                        new Promise((resolve, reject) => {\r\n                            const iframeCanvas = document.createElement('img');\r\n                            iframeCanvas.onload = () => resolve(canvas);\r\n                            iframeCanvas.onerror = (event) => {\r\n                                // Empty iframes may result in empty \"data:,\" URLs, which are invalid from the <img>'s point of view\r\n                                // and instead of `onload` cause `onerror` and unhandled rejection warnings\r\n                                // https://github.com/niklasvh/html2canvas/issues/1502\r\n                                iframeCanvas.src == 'data:,' ? resolve(canvas) : reject(event);\r\n                            };\r\n                            iframeCanvas.src = canvas.toDataURL();\r\n                            if (tempIframe.parentNode && iframe.ownerDocument && iframe.ownerDocument.defaultView) {\r\n                                tempIframe.parentNode.replaceChild(\r\n                                    copyCSSStyles(\r\n                                        iframe.ownerDocument.defaultView.getComputedStyle(iframe),\r\n                                        iframeCanvas\r\n                                    ),\r\n                                    tempIframe\r\n                                );\r\n                            }\r\n                        })\r\n                );\r\n            return tempIframe;\r\n        }\r\n    */\r\n    DocumentCloner.prototype.cloneNode = function(node) {\r\n      if (isTextNode(node)) {\r\n        return document.createTextNode(node.data);\r\n      }\r\n      if (!node.ownerDocument) {\r\n        return node.cloneNode(false);\r\n      }\r\n      var window = node.ownerDocument.defaultView;\r\n      if (window && isElementNode(node) && (isHTMLElementNode(node) || isSVGElementNode(node))) {\r\n        var clone = this.createElementClone(node);\r\n        var style = window.getComputedStyle(node);\r\n        var styleBefore = window.getComputedStyle(node, ':before');\r\n        var styleAfter = window.getComputedStyle(node, ':after');\r\n        if (this.referenceElement === node && isHTMLElementNode(clone)) {\r\n          this.clonedReferenceElement = clone;\r\n        }\r\n        if (isBodyElement(clone)) {\r\n          createPseudoHideStyles(clone);\r\n        }\r\n        var counters = this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n        var before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\r\n        for (var child = node.firstChild; child; child = child.nextSibling) {\r\n          if (!isElementNode(child) ||\r\n            (!isScriptElement(child) &&\r\n              !child.hasAttribute(IGNORE_ATTRIBUTE) &&\r\n              (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))) {\r\n            if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\r\n              clone.appendChild(this.cloneNode(child));\r\n            }\r\n          }\r\n        }\r\n        if (before) {\r\n          clone.insertBefore(before, clone.firstChild);\r\n        }\r\n        var after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\r\n        if (after) {\r\n          clone.appendChild(after);\r\n        }\r\n        this.counters.pop(counters);\r\n        if (style && (this.options.copyStyles || isSVGElementNode(node)) && !isIFrameElement(node)) {\r\n          copyCSSStyles(style, clone);\r\n        }\r\n        //this.inlineAllImages(clone);\r\n        if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\r\n          this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\r\n        }\r\n        if ((isTextareaElement(node) || isSelectElement(node)) &&\r\n          (isTextareaElement(clone) || isSelectElement(clone))) {\r\n          clone.value = node.value;\r\n        }\r\n        return clone;\r\n      }\r\n      return node.cloneNode(false);\r\n    };\r\n    DocumentCloner.prototype.resolvePseudoContent = function(node, clone, style, pseudoElt) {\r\n      var _this = this;\r\n      if (!style) {\r\n        return;\r\n      }\r\n      var value = style.content;\r\n      var document = clone.ownerDocument;\r\n      if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\r\n        return;\r\n      }\r\n      this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n      var declaration = new CSSParsedPseudoDeclaration(style);\r\n      var anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\r\n      copyCSSStyles(style, anonymousReplacedElement);\r\n      declaration.content.forEach(function(token) {\r\n        if (token.type === TokenType.STRING_TOKEN) {\r\n          anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n        } else if (token.type === TokenType.URL_TOKEN) {\r\n          var img = document.createElement('img');\r\n          img.src = token.value;\r\n          img.style.opacity = '1';\r\n          anonymousReplacedElement.appendChild(img);\r\n        } else if (token.type === TokenType.FUNCTION) {\r\n          if (token.name === 'attr') {\r\n            var attr = token.values.filter(isIdentToken);\r\n            if (attr.length) {\r\n              anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value) || ''));\r\n            }\r\n          } else if (token.name === 'counter') {\r\n            var _a = token.values.filter(nonFunctionArgSeparator),\r\n              counter = _a[0],\r\n              counterStyle = _a[1];\r\n            if (counter && isIdentToken(counter)) {\r\n              var counterState = _this.counters.getCounterValue(counter.value);\r\n              var counterType = counterStyle && isIdentToken(counterStyle) ?\r\n                listStyleType.parse(counterStyle.value) :\r\n                LIST_STYLE_TYPE.DECIMAL;\r\n              anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState, counterType, false)));\r\n            }\r\n          } else if (token.name === 'counters') {\r\n            var _b = token.values.filter(nonFunctionArgSeparator),\r\n              counter = _b[0],\r\n              delim = _b[1],\r\n              counterStyle = _b[2];\r\n            if (counter && isIdentToken(counter)) {\r\n              var counterStates = _this.counters.getCounterValues(counter.value);\r\n              var counterType_1 = counterStyle && isIdentToken(counterStyle) ?\r\n                listStyleType.parse(counterStyle.value) :\r\n                LIST_STYLE_TYPE.DECIMAL;\r\n              var separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';\r\n              var text = counterStates\r\n                .map(function(value) {\r\n                  return createCounterText(value, counterType_1, false);\r\n                })\r\n                .join(separator);\r\n              anonymousReplacedElement.appendChild(document.createTextNode(text));\r\n            }\r\n          }\r\n        } else if (token.type === TokenType.IDENT_TOKEN) {\r\n          switch (token.value) {\r\n            case 'open-quote':\r\n              anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, _this.quoteDepth++, true)));\r\n              break;\r\n            case 'close-quote':\r\n              anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, --_this.quoteDepth, false)));\r\n              break;\r\n            default:\r\n              // safari doesn't parse string tokens correctly because of lack of quotes\r\n              anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n          }\r\n        }\r\n      });\r\n      anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n      var newClassName = pseudoElt === PseudoElementType.BEFORE ?\r\n        \" \" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE :\r\n        \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n      if (isSVGElementNode(clone)) {\r\n        clone.className.baseValue += newClassName;\r\n      } else {\r\n        clone.className += newClassName;\r\n      }\r\n      return anonymousReplacedElement;\r\n    };\r\n    DocumentCloner.destroy = function(container) {\r\n      if (container.parentNode) {\r\n        container.parentNode.removeChild(container);\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n    return DocumentCloner;\r\n  }());\r\n  var PseudoElementType;\r\n  (function(PseudoElementType) {\r\n    PseudoElementType[PseudoElementType[\"BEFORE\"] = 0] = \"BEFORE\";\r\n    PseudoElementType[PseudoElementType[\"AFTER\"] = 1] = \"AFTER\";\r\n  })(PseudoElementType || (PseudoElementType = {}));\r\n  var createIFrameContainer = function(ownerDocument, bounds) {\r\n    var cloneIframeContainer = ownerDocument.createElement('iframe');\r\n    cloneIframeContainer.className = 'html2canvas-container';\r\n    cloneIframeContainer.style.visibility = 'hidden';\r\n    cloneIframeContainer.style.position = 'fixed';\r\n    cloneIframeContainer.style.left = '-10000px';\r\n    cloneIframeContainer.style.top = '0px';\r\n    cloneIframeContainer.style.border = '0';\r\n    cloneIframeContainer.width = bounds.width.toString();\r\n    cloneIframeContainer.height = bounds.height.toString();\r\n    cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\r\n    cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\r\n    ownerDocument.body.appendChild(cloneIframeContainer);\r\n    return cloneIframeContainer;\r\n  };\r\n  var iframeLoader = function(iframe) {\r\n    return new Promise(function(resolve, reject) {\r\n      var cloneWindow = iframe.contentWindow;\r\n      if (!cloneWindow) {\r\n        return reject(\"No window assigned for iframe\");\r\n      }\r\n      var documentClone = cloneWindow.document;\r\n      cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = function() {\r\n        cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = null;\r\n        var interval = setInterval(function() {\r\n          if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\r\n            clearInterval(interval);\r\n            resolve(iframe);\r\n          }\r\n        }, 50);\r\n      };\r\n    });\r\n  };\r\n  var copyCSSStyles = function(style, target) {\r\n    // Edge does not provide value for cssText\r\n    for (var i = style.length - 1; i >= 0; i--) {\r\n      var property = style.item(i);\r\n      // Safari shows pseudoelements if content is set\r\n      if (property !== 'content') {\r\n        target.style.setProperty(property, style.getPropertyValue(property));\r\n      }\r\n    }\r\n    return target;\r\n  };\r\n  var serializeDoctype = function(doctype) {\r\n    var str = '';\r\n    if (doctype) {\r\n      str += '<!DOCTYPE ';\r\n      if (doctype.name) {\r\n        str += doctype.name;\r\n      }\r\n      if (doctype.internalSubset) {\r\n        str += doctype.internalSubset;\r\n      }\r\n      if (doctype.publicId) {\r\n        str += \"\\\"\" + doctype.publicId + \"\\\"\";\r\n      }\r\n      if (doctype.systemId) {\r\n        str += \"\\\"\" + doctype.systemId + \"\\\"\";\r\n      }\r\n      str += '>';\r\n    }\r\n    return str;\r\n  };\r\n  var restoreOwnerScroll = function(ownerDocument, x, y) {\r\n    if (ownerDocument &&\r\n      ownerDocument.defaultView &&\r\n      (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\r\n      ownerDocument.defaultView.scrollTo(x, y);\r\n    }\r\n  };\r\n  var restoreNodeScroll = function(_a) {\r\n    var element = _a[0],\r\n      x = _a[1],\r\n      y = _a[2];\r\n    element.scrollLeft = x;\r\n    element.scrollTop = y;\r\n  };\r\n  var PSEUDO_BEFORE = ':before';\r\n  var PSEUDO_AFTER = ':after';\r\n  var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\r\n  var PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\r\n  var PSEUDO_HIDE_ELEMENT_STYLE = \"{\\n    content: \\\"\\\" !important;\\n    display: none !important;\\n}\";\r\n  var createPseudoHideStyles = function(body) {\r\n    createStyles(body, \".\" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + \"\\n         .\" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);\r\n  };\r\n  var createStyles = function(body, styles) {\r\n    var document = body.ownerDocument;\r\n    if (document) {\r\n      var style = document.createElement('style');\r\n      style.textContent = styles;\r\n      body.appendChild(style);\r\n    }\r\n  };\r\n\r\n  var PathType;\r\n  (function(PathType) {\r\n    PathType[PathType[\"VECTOR\"] = 0] = \"VECTOR\";\r\n    PathType[PathType[\"BEZIER_CURVE\"] = 1] = \"BEZIER_CURVE\";\r\n  })(PathType || (PathType = {}));\r\n  var equalPath = function(a, b) {\r\n    if (a.length === b.length) {\r\n      return a.some(function(v, i) {\r\n        return v === b[i];\r\n      });\r\n    }\r\n    return false;\r\n  };\r\n  var transformPath = function(path, deltaX, deltaY, deltaW, deltaH) {\r\n    return path.map(function(point, index) {\r\n      switch (index) {\r\n        case 0:\r\n          return point.add(deltaX, deltaY);\r\n        case 1:\r\n          return point.add(deltaX + deltaW, deltaY);\r\n        case 2:\r\n          return point.add(deltaX + deltaW, deltaY + deltaH);\r\n        case 3:\r\n          return point.add(deltaX, deltaY + deltaH);\r\n      }\r\n      return point;\r\n    });\r\n  };\r\n\r\n  var Vector = /** @class */ (function() {\r\n    function Vector(x, y) {\r\n      this.type = PathType.VECTOR;\r\n      this.x = x;\r\n      this.y = y;\r\n    }\r\n    Vector.prototype.add = function(deltaX, deltaY) {\r\n      return new Vector(this.x + deltaX, this.y + deltaY);\r\n    };\r\n    return Vector;\r\n  }());\r\n\r\n  var lerp = function(a, b, t) {\r\n    return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\r\n  };\r\n  var BezierCurve = /** @class */ (function() {\r\n    function BezierCurve(start, startControl, endControl, end) {\r\n      this.type = PathType.BEZIER_CURVE;\r\n      this.start = start;\r\n      this.startControl = startControl;\r\n      this.endControl = endControl;\r\n      this.end = end;\r\n    }\r\n    BezierCurve.prototype.subdivide = function(t, firstHalf) {\r\n      var ab = lerp(this.start, this.startControl, t);\r\n      var bc = lerp(this.startControl, this.endControl, t);\r\n      var cd = lerp(this.endControl, this.end, t);\r\n      var abbc = lerp(ab, bc, t);\r\n      var bccd = lerp(bc, cd, t);\r\n      var dest = lerp(abbc, bccd, t);\r\n      return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\r\n    };\r\n    BezierCurve.prototype.add = function(deltaX, deltaY) {\r\n      return new BezierCurve(this.start.add(deltaX, deltaY), this.startControl.add(deltaX, deltaY), this.endControl.add(deltaX, deltaY), this.end.add(deltaX, deltaY));\r\n    };\r\n    BezierCurve.prototype.reverse = function() {\r\n      return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\r\n    };\r\n    return BezierCurve;\r\n  }());\r\n  var isBezierCurve = function(path) {\r\n    return path.type === PathType.BEZIER_CURVE;\r\n  };\r\n\r\n  var BoundCurves = /** @class */ (function() {\r\n    function BoundCurves(element) {\r\n      var styles = element.styles;\r\n      var bounds = element.bounds;\r\n      var _a = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height),\r\n        tlh = _a[0],\r\n        tlv = _a[1];\r\n      var _b = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height),\r\n        trh = _b[0],\r\n        trv = _b[1];\r\n      var _c = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height),\r\n        brh = _c[0],\r\n        brv = _c[1];\r\n      var _d = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height),\r\n        blh = _d[0],\r\n        blv = _d[1];\r\n      var factors = [];\r\n      factors.push((tlh + trh) / bounds.width);\r\n      factors.push((blh + brh) / bounds.width);\r\n      factors.push((tlv + blv) / bounds.height);\r\n      factors.push((trv + brv) / bounds.height);\r\n      var maxFactor = Math.max.apply(Math, factors);\r\n      if (maxFactor > 1) {\r\n        tlh /= maxFactor;\r\n        tlv /= maxFactor;\r\n        trh /= maxFactor;\r\n        trv /= maxFactor;\r\n        brh /= maxFactor;\r\n        brv /= maxFactor;\r\n        blh /= maxFactor;\r\n        blv /= maxFactor;\r\n      }\r\n      var topWidth = bounds.width - trh;\r\n      var rightHeight = bounds.height - brv;\r\n      var bottomWidth = bounds.width - brh;\r\n      var leftHeight = bounds.height - blv;\r\n      var borderTopWidth = styles.borderTopWidth;\r\n      var borderRightWidth = styles.borderRightWidth;\r\n      var borderBottomWidth = styles.borderBottomWidth;\r\n      var borderLeftWidth = styles.borderLeftWidth;\r\n      var paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\r\n      var paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\r\n      var paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\r\n      var paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\r\n      this.topLeftBorderBox =\r\n        tlh > 0 || tlv > 0 ?\r\n        getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT) :\r\n        new Vector(bounds.left, bounds.top);\r\n      this.topRightBorderBox =\r\n        trh > 0 || trv > 0 ?\r\n        getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT) :\r\n        new Vector(bounds.left + bounds.width, bounds.top);\r\n      this.bottomRightBorderBox =\r\n        brh > 0 || brv > 0 ?\r\n        getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT) :\r\n        new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\r\n      this.bottomLeftBorderBox =\r\n        blh > 0 || blv > 0 ?\r\n        getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT) :\r\n        new Vector(bounds.left, bounds.top + bounds.height);\r\n      this.topLeftPaddingBox =\r\n        tlh > 0 || tlv > 0 ?\r\n        getCurvePoints(bounds.left + borderLeftWidth, bounds.top + borderTopWidth, Math.max(0, tlh - borderLeftWidth), Math.max(0, tlv - borderTopWidth), CORNER.TOP_LEFT) :\r\n        new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\r\n      this.topRightPaddingBox =\r\n        trh > 0 || trv > 0 ?\r\n        getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth), bounds.top + borderTopWidth, topWidth > bounds.width + borderLeftWidth ? 0 : trh - borderLeftWidth, trv - borderTopWidth, CORNER.TOP_RIGHT) :\r\n        new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\r\n      this.bottomRightPaddingBox =\r\n        brh > 0 || brv > 0 ?\r\n        getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth), Math.max(0, brh - borderRightWidth), brv - borderBottomWidth, CORNER.BOTTOM_RIGHT) :\r\n        new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + bounds.height - borderBottomWidth);\r\n      this.bottomLeftPaddingBox =\r\n        blh > 0 || blv > 0 ?\r\n        getCurvePoints(bounds.left + borderLeftWidth, bounds.top + leftHeight, Math.max(0, blh - borderLeftWidth), blv - borderBottomWidth, CORNER.BOTTOM_LEFT) :\r\n        new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\r\n      this.topLeftContentBox =\r\n        tlh > 0 || tlv > 0 ?\r\n        getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop, Math.max(0, tlh - (borderLeftWidth + paddingLeft)), Math.max(0, tlv - (borderTopWidth + paddingTop)), CORNER.TOP_LEFT) :\r\n        new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\r\n      this.topRightContentBox =\r\n        trh > 0 || trv > 0 ?\r\n        getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft), bounds.top + borderTopWidth + paddingTop, topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft, trv - (borderTopWidth + paddingTop), CORNER.TOP_RIGHT) :\r\n        new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + borderTopWidth + paddingTop);\r\n      this.bottomRightContentBox =\r\n        brh > 0 || brv > 0 ?\r\n        getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop), Math.max(0, brh - (borderRightWidth + paddingRight)), brv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_RIGHT) :\r\n        new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n      this.bottomLeftContentBox =\r\n        blh > 0 || blv > 0 ?\r\n        getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + leftHeight, Math.max(0, blh - (borderLeftWidth + paddingLeft)), blv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_LEFT) :\r\n        new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n    }\r\n    return BoundCurves;\r\n  }());\r\n  var CORNER;\r\n  (function(CORNER) {\r\n    CORNER[CORNER[\"TOP_LEFT\"] = 0] = \"TOP_LEFT\";\r\n    CORNER[CORNER[\"TOP_RIGHT\"] = 1] = \"TOP_RIGHT\";\r\n    CORNER[CORNER[\"BOTTOM_RIGHT\"] = 2] = \"BOTTOM_RIGHT\";\r\n    CORNER[CORNER[\"BOTTOM_LEFT\"] = 3] = \"BOTTOM_LEFT\";\r\n  })(CORNER || (CORNER = {}));\r\n  var getCurvePoints = function(x, y, r1, r2, position) {\r\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\r\n    var ox = r1 * kappa; // control point offset horizontal\r\n    var oy = r2 * kappa; // control point offset vertical\r\n    var xm = x + r1; // x-middle\r\n    var ym = y + r2; // y-middle\r\n    switch (position) {\r\n      case CORNER.TOP_LEFT:\r\n        return new BezierCurve(new Vector(x, ym), new Vector(x, ym - oy), new Vector(xm - ox, y), new Vector(xm, y));\r\n      case CORNER.TOP_RIGHT:\r\n        return new BezierCurve(new Vector(x, y), new Vector(x + ox, y), new Vector(xm, ym - oy), new Vector(xm, ym));\r\n      case CORNER.BOTTOM_RIGHT:\r\n        return new BezierCurve(new Vector(xm, y), new Vector(xm, y + oy), new Vector(x + ox, ym), new Vector(x, ym));\r\n      case CORNER.BOTTOM_LEFT:\r\n      default:\r\n        return new BezierCurve(new Vector(xm, ym), new Vector(xm - ox, ym), new Vector(x, y + oy), new Vector(x, y));\r\n    }\r\n  };\r\n  var calculateBorderBoxPath = function(curves) {\r\n    return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\r\n  };\r\n  var calculateContentBoxPath = function(curves) {\r\n    return [\r\n      curves.topLeftContentBox,\r\n      curves.topRightContentBox,\r\n      curves.bottomRightContentBox,\r\n      curves.bottomLeftContentBox\r\n    ];\r\n  };\r\n  var calculatePaddingBoxPath = function(curves) {\r\n    return [\r\n      curves.topLeftPaddingBox,\r\n      curves.topRightPaddingBox,\r\n      curves.bottomRightPaddingBox,\r\n      curves.bottomLeftPaddingBox\r\n    ];\r\n  };\r\n\r\n  var TransformEffect = /** @class */ (function() {\r\n    function TransformEffect(offsetX, offsetY, matrix) {\r\n      this.type = 0 /* TRANSFORM */ ;\r\n      this.offsetX = offsetX;\r\n      this.offsetY = offsetY;\r\n      this.matrix = matrix;\r\n      this.target = 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */ ;\r\n    }\r\n    return TransformEffect;\r\n  }());\r\n  var ClipEffect = /** @class */ (function() {\r\n    function ClipEffect(path, target) {\r\n      this.type = 1 /* CLIP */ ;\r\n      this.target = target;\r\n      this.path = path;\r\n    }\r\n    return ClipEffect;\r\n  }());\r\n  var isTransformEffect = function(effect) {\r\n    return effect.type === 0 /* TRANSFORM */ ;\r\n  };\r\n  var isClipEffect = function(effect) {\r\n    return effect.type === 1 /* CLIP */ ;\r\n  };\r\n\r\n  var StackingContext = /** @class */ (function() {\r\n    function StackingContext(container) {\r\n      this.element = container;\r\n      this.inlineLevel = [];\r\n      this.nonInlineLevel = [];\r\n      this.negativeZIndex = [];\r\n      this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\r\n      this.positiveZIndex = [];\r\n      this.nonPositionedFloats = [];\r\n      this.nonPositionedInlineLevel = [];\r\n    }\r\n    return StackingContext;\r\n  }());\r\n  var ElementPaint = /** @class */ (function() {\r\n    function ElementPaint(element, parentStack) {\r\n      this.container = element;\r\n      this.effects = parentStack.slice(0);\r\n      this.curves = new BoundCurves(element);\r\n      if (element.styles.transform !== null) {\r\n        var offsetX = element.bounds.left + element.styles.transformOrigin[0].number;\r\n        var offsetY = element.bounds.top + element.styles.transformOrigin[1].number;\r\n        var matrix = element.styles.transform;\r\n        this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\r\n      }\r\n      if (element.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n        var borderBox = calculateBorderBoxPath(this.curves);\r\n        var paddingBox = calculatePaddingBoxPath(this.curves);\r\n        if (equalPath(borderBox, paddingBox)) {\r\n          this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */ ));\r\n        } else {\r\n          this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */ ));\r\n          this.effects.push(new ClipEffect(paddingBox, 4 /* CONTENT */ ));\r\n        }\r\n      }\r\n    }\r\n    ElementPaint.prototype.getParentEffects = function() {\r\n      var effects = this.effects.slice(0);\r\n      if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n        var borderBox = calculateBorderBoxPath(this.curves);\r\n        var paddingBox = calculatePaddingBoxPath(this.curves);\r\n        if (!equalPath(borderBox, paddingBox)) {\r\n          effects.push(new ClipEffect(paddingBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */ ));\r\n        }\r\n      }\r\n      return effects;\r\n    };\r\n    return ElementPaint;\r\n  }());\r\n  var parseStackTree = function(parent, stackingContext, realStackingContext, listItems) {\r\n    parent.container.elements.forEach(function(child) {\r\n      var treatAsRealStackingContext = contains(child.flags, 4 /* CREATES_REAL_STACKING_CONTEXT */ );\r\n      var createsStackingContext = contains(child.flags, 2 /* CREATES_STACKING_CONTEXT */ );\r\n      var paintContainer = new ElementPaint(child, parent.getParentEffects());\r\n      if (contains(child.styles.display, 2048 /* LIST_ITEM */ )) {\r\n        listItems.push(paintContainer);\r\n      }\r\n      var listOwnerItems = contains(child.flags, 8 /* IS_LIST_OWNER */ ) ? [] : listItems;\r\n      if (treatAsRealStackingContext || createsStackingContext) {\r\n        var parentStack = treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\r\n        var stack = new StackingContext(paintContainer);\r\n        if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\r\n          var order_1 = child.styles.zIndex.order;\r\n          if (order_1 < 0) {\r\n            var index_1 = 0;\r\n            parentStack.negativeZIndex.some(function(current, i) {\r\n              if (order_1 > current.element.container.styles.zIndex.order) {\r\n                index_1 = i;\r\n                return false;\r\n              } else if (index_1 > 0) {\r\n                return true;\r\n              }\r\n              return false;\r\n            });\r\n            parentStack.negativeZIndex.splice(index_1, 0, stack);\r\n          } else if (order_1 > 0) {\r\n            var index_2 = 0;\r\n            parentStack.positiveZIndex.some(function(current, i) {\r\n              if (order_1 >= current.element.container.styles.zIndex.order) {\r\n                index_2 = i + 1;\r\n                return false;\r\n              } else if (index_2 > 0) {\r\n                return true;\r\n              }\r\n              return false;\r\n            });\r\n            parentStack.positiveZIndex.splice(index_2, 0, stack);\r\n          } else {\r\n            parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\r\n          }\r\n        } else {\r\n          if (child.styles.isFloating()) {\r\n            parentStack.nonPositionedFloats.push(stack);\r\n          } else {\r\n            parentStack.nonPositionedInlineLevel.push(stack);\r\n          }\r\n        }\r\n        parseStackTree(paintContainer, stack, treatAsRealStackingContext ? stack : realStackingContext, listOwnerItems);\r\n      } else {\r\n        if (child.styles.isInlineLevel()) {\r\n          stackingContext.inlineLevel.push(paintContainer);\r\n        } else {\r\n          stackingContext.nonInlineLevel.push(paintContainer);\r\n        }\r\n        parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\r\n      }\r\n      if (contains(child.flags, 8 /* IS_LIST_OWNER */ )) {\r\n        processListItems(child, listOwnerItems);\r\n      }\r\n    });\r\n  };\r\n  var processListItems = function(owner, elements) {\r\n    var numbering = owner instanceof OLElementContainer ? owner.start : 1;\r\n    var reversed = owner instanceof OLElementContainer ? owner.reversed : false;\r\n    for (var i = 0; i < elements.length; i++) {\r\n      var item = elements[i];\r\n      if (item.container instanceof LIElementContainer &&\r\n        typeof item.container.value === 'number' &&\r\n        item.container.value !== 0) {\r\n        numbering = item.container.value;\r\n      }\r\n      item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\r\n      numbering += reversed ? -1 : 1;\r\n    }\r\n  };\r\n  var parseStackingContexts = function(container) {\r\n    var paintContainer = new ElementPaint(container, []);\r\n    var root = new StackingContext(paintContainer);\r\n    var listItems = [];\r\n    parseStackTree(paintContainer, root, root, listItems);\r\n    processListItems(paintContainer.container, listItems);\r\n    return root;\r\n  };\r\n\r\n  var parsePathForBorder = function(curves, borderSide) {\r\n    switch (borderSide) {\r\n      case 0:\r\n        return createPathFromCurves(curves.topLeftBorderBox, curves.topLeftPaddingBox, curves.topRightBorderBox, curves.topRightPaddingBox);\r\n      case 1:\r\n        return createPathFromCurves(curves.topRightBorderBox, curves.topRightPaddingBox, curves.bottomRightBorderBox, curves.bottomRightPaddingBox);\r\n      case 2:\r\n        return createPathFromCurves(curves.bottomRightBorderBox, curves.bottomRightPaddingBox, curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox);\r\n      case 3:\r\n      default:\r\n        return createPathFromCurves(curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox, curves.topLeftBorderBox, curves.topLeftPaddingBox);\r\n    }\r\n  };\r\n  var createPathFromCurves = function(outer1, inner1, outer2, inner2) {\r\n    var path = [];\r\n    if (isBezierCurve(outer1)) {\r\n      path.push(outer1.subdivide(0.5, false));\r\n    } else {\r\n      path.push(outer1);\r\n    }\r\n    if (isBezierCurve(outer2)) {\r\n      path.push(outer2.subdivide(0.5, true));\r\n    } else {\r\n      path.push(outer2);\r\n    }\r\n    if (isBezierCurve(inner2)) {\r\n      path.push(inner2.subdivide(0.5, true).reverse());\r\n    } else {\r\n      path.push(inner2);\r\n    }\r\n    if (isBezierCurve(inner1)) {\r\n      path.push(inner1.subdivide(0.5, false).reverse());\r\n    } else {\r\n      path.push(inner1);\r\n    }\r\n    return path;\r\n  };\r\n\r\n  var paddingBox = function(element) {\r\n    var bounds = element.bounds;\r\n    var styles = element.styles;\r\n    return bounds.add(styles.borderLeftWidth, styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth), -(styles.borderTopWidth + styles.borderBottomWidth));\r\n  };\r\n  var contentBox = function(element) {\r\n    var styles = element.styles;\r\n    var bounds = element.bounds;\r\n    var paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\r\n    var paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\r\n    var paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\r\n    var paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\r\n    return bounds.add(paddingLeft + styles.borderLeftWidth, paddingTop + styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight), -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom));\r\n  };\r\n\r\n  var calculateBackgroundPositioningArea = function(backgroundOrigin, element) {\r\n    if (backgroundOrigin === 0 /* BORDER_BOX */ ) {\r\n      return element.bounds;\r\n    }\r\n    if (backgroundOrigin === 2 /* CONTENT_BOX */ ) {\r\n      return contentBox(element);\r\n    }\r\n    return paddingBox(element);\r\n  };\r\n  var calculateBackgroundPaintingArea = function(backgroundClip, element) {\r\n    if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {\r\n      return element.bounds;\r\n    }\r\n    if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {\r\n      return contentBox(element);\r\n    }\r\n    return paddingBox(element);\r\n  };\r\n  var calculateBackgroundRendering = function(container, index, intrinsicSize) {\r\n    var backgroundPositioningArea = calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin, index), container);\r\n    var backgroundPaintingArea = calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip, index), container);\r\n    var backgroundImageSize = calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize, index), intrinsicSize, backgroundPositioningArea);\r\n    var sizeWidth = backgroundImageSize[0],\r\n      sizeHeight = backgroundImageSize[1];\r\n    var position = getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition, index), backgroundPositioningArea.width - sizeWidth, backgroundPositioningArea.height - sizeHeight);\r\n    var path = calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat, index), position, backgroundImageSize, backgroundPositioningArea, backgroundPaintingArea);\r\n    var offsetX = Math.round(backgroundPositioningArea.left + position[0]);\r\n    var offsetY = Math.round(backgroundPositioningArea.top + position[1]);\r\n    return [path, offsetX, offsetY, sizeWidth, sizeHeight];\r\n  };\r\n  var isAuto = function(token) {\r\n    return isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO;\r\n  };\r\n  var hasIntrinsicValue = function(value) {\r\n    return typeof value === 'number';\r\n  };\r\n  var calculateBackgroundSize = function(size, _a, bounds) {\r\n    var intrinsicWidth = _a[0],\r\n      intrinsicHeight = _a[1],\r\n      intrinsicProportion = _a[2];\r\n    var first = size[0],\r\n      second = size[1];\r\n    if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\r\n      return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\r\n    }\r\n    var hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\r\n    if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\r\n      if (hasIntrinsicValue(intrinsicProportion)) {\r\n        var targetRatio = bounds.width / bounds.height;\r\n        return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER) ? [bounds.width, bounds.width / intrinsicProportion] : [bounds.height * intrinsicProportion, bounds.height];\r\n      }\r\n      return [bounds.width, bounds.height];\r\n    }\r\n    var hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\r\n    var hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\r\n    var hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\r\n    // If the background-size is auto or auto auto:\r\n    if (isAuto(first) && (!second || isAuto(second))) {\r\n      // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\r\n      if (hasIntrinsicWidth && hasIntrinsicHeight) {\r\n        return [intrinsicWidth, intrinsicHeight];\r\n      }\r\n      // If the image has no intrinsic dimensions and has no intrinsic proportions,\r\n      // it's rendered at the size of the background positioning area.\r\n      if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\r\n        return [bounds.width, bounds.height];\r\n      }\r\n      // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\r\n      // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\r\n      // The other dimension is computed using the specified dimension and the intrinsic proportions.\r\n      if (hasIntrinsicDimensions && hasIntrinsicProportion) {\r\n        var width_1 = hasIntrinsicWidth ?\r\n          intrinsicWidth :\r\n          intrinsicHeight * intrinsicProportion;\r\n        var height_1 = hasIntrinsicHeight ?\r\n          intrinsicHeight :\r\n          intrinsicWidth / intrinsicProportion;\r\n        return [width_1, height_1];\r\n      }\r\n      // If the image has only one intrinsic dimension but has no intrinsic proportions,\r\n      // it's rendered using the specified dimension and the other dimension of the background positioning area.\r\n      var width_2 = hasIntrinsicWidth ? intrinsicWidth : bounds.width;\r\n      var height_2 = hasIntrinsicHeight ? intrinsicHeight : bounds.height;\r\n      return [width_2, height_2];\r\n    }\r\n    // If the image has intrinsic proportions, it's stretched to the specified dimension.\r\n    // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\r\n    if (hasIntrinsicProportion) {\r\n      var width_3 = 0;\r\n      var height_3 = 0;\r\n      if (isLengthPercentage(first)) {\r\n        width_3 = getAbsoluteValue(first, bounds.width);\r\n      } else if (isLengthPercentage(second)) {\r\n        height_3 = getAbsoluteValue(second, bounds.height);\r\n      }\r\n      if (isAuto(first)) {\r\n        width_3 = height_3 * intrinsicProportion;\r\n      } else if (!second || isAuto(second)) {\r\n        height_3 = width_3 / intrinsicProportion;\r\n      }\r\n      return [width_3, height_3];\r\n    }\r\n    // If the image has no intrinsic proportions, it's stretched to the specified dimension.\r\n    // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\r\n    // if there is one. If there is no such intrinsic dimension,\r\n    // it becomes the corresponding dimension of the background positioning area.\r\n    var width = null;\r\n    var height = null;\r\n    if (isLengthPercentage(first)) {\r\n      width = getAbsoluteValue(first, bounds.width);\r\n    } else if (second && isLengthPercentage(second)) {\r\n      height = getAbsoluteValue(second, bounds.height);\r\n    }\r\n    if (width !== null && (!second || isAuto(second))) {\r\n      height =\r\n        hasIntrinsicWidth && hasIntrinsicHeight ?\r\n        (width / intrinsicWidth) * intrinsicHeight :\r\n        bounds.height;\r\n    }\r\n    if (height !== null && isAuto(first)) {\r\n      width =\r\n        hasIntrinsicWidth && hasIntrinsicHeight ?\r\n        (height / intrinsicHeight) * intrinsicWidth :\r\n        bounds.width;\r\n    }\r\n    if (width !== null && height !== null) {\r\n      return [width, height];\r\n    }\r\n    throw new Error(\"Unable to calculate background-size for element\");\r\n  };\r\n  var getBackgroundValueForIndex = function(values, index) {\r\n    var value = values[index];\r\n    if (typeof value === 'undefined') {\r\n      return values[0];\r\n    }\r\n    return value;\r\n  };\r\n  var calculateBackgroundRepeatPath = function(repeat, _a, _b, backgroundPositioningArea, backgroundPaintingArea) {\r\n    var x = _a[0],\r\n      y = _a[1];\r\n    var width = _b[0],\r\n      height = _b[1];\r\n    switch (repeat) {\r\n      case BACKGROUND_REPEAT.REPEAT_X:\r\n        return [\r\n          new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\r\n          new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(backgroundPositioningArea.top + y)),\r\n          new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(height + backgroundPositioningArea.top + y)),\r\n          new Vector(Math.round(backgroundPositioningArea.left), Math.round(height + backgroundPositioningArea.top + y))\r\n        ];\r\n      case BACKGROUND_REPEAT.REPEAT_Y:\r\n        return [\r\n          new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\r\n          new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top)),\r\n          new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)),\r\n          new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top))\r\n        ];\r\n      case BACKGROUND_REPEAT.NO_REPEAT:\r\n        return [\r\n          new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y)),\r\n          new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y)),\r\n          new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y + height)),\r\n          new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y + height))\r\n        ];\r\n      default:\r\n        return [\r\n          new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\r\n          new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.top)),\r\n          new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)),\r\n          new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top))\r\n        ];\r\n    }\r\n  };\r\n\r\n  var SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\r\n\r\n  var SAMPLE_TEXT = 'Hidden Text';\r\n  var FontMetrics = /** @class */ (function() {\r\n    function FontMetrics(document) {\r\n      this._data = {};\r\n      this._document = document;\r\n    }\r\n    FontMetrics.prototype.parseMetrics = function(fontFamily, fontSize) {\r\n      var container = this._document.createElement('div');\r\n      var img = this._document.createElement('img');\r\n      var span = this._document.createElement('span');\r\n      var body = this._document.body;\r\n      container.style.visibility = 'hidden';\r\n      container.style.fontFamily = fontFamily;\r\n      container.style.fontSize = fontSize;\r\n      container.style.margin = '0';\r\n      container.style.padding = '0';\r\n      body.appendChild(container);\r\n      img.src = SMALL_IMAGE;\r\n      img.width = 1;\r\n      img.height = 1;\r\n      img.style.margin = '0';\r\n      img.style.padding = '0';\r\n      img.style.verticalAlign = 'baseline';\r\n      span.style.fontFamily = fontFamily;\r\n      span.style.fontSize = fontSize;\r\n      span.style.margin = '0';\r\n      span.style.padding = '0';\r\n      span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n      container.appendChild(span);\r\n      container.appendChild(img);\r\n      var baseline = img.offsetTop - span.offsetTop + 2;\r\n      container.removeChild(span);\r\n      container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n      container.style.lineHeight = 'normal';\r\n      img.style.verticalAlign = 'super';\r\n      var middle = img.offsetTop - container.offsetTop + 2;\r\n      body.removeChild(container);\r\n      return {\r\n        baseline: baseline,\r\n        middle: middle\r\n      };\r\n    };\r\n    FontMetrics.prototype.getMetrics = function(fontFamily, fontSize) {\r\n      var key = fontFamily + \" \" + fontSize;\r\n      if (typeof this._data[key] === 'undefined') {\r\n        this._data[key] = this.parseMetrics(fontFamily, fontSize);\r\n      }\r\n      return this._data[key];\r\n    };\r\n    return FontMetrics;\r\n  }());\r\n\r\n  var MASK_OFFSET = 10000;\r\n  var CanvasRenderer = /** @class */ (function() {\r\n    function CanvasRenderer(options) {\r\n      this._activeEffects = [];\r\n      this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n      this.ctx = this.canvas.getContext('2d');\r\n      this.options = options;\r\n      if (!options.canvas) {\r\n        this.canvas.width = Math.floor(options.width * options.scale);\r\n        this.canvas.height = Math.floor(options.height * options.scale);\r\n        this.canvas.style.width = options.width + \"px\";\r\n        this.canvas.style.height = options.height + \"px\";\r\n      }\r\n      this.fontMetrics = new FontMetrics(document);\r\n      this.ctx.scale(this.options.scale, this.options.scale);\r\n      this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n      this.ctx.textBaseline = 'bottom';\r\n      this._activeEffects = [];\r\n      Logger.getInstance(options.id).debug(\"Canvas renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n    }\r\n    CanvasRenderer.prototype.applyEffects = function(effects, target) {\r\n      var _this = this;\r\n      while (this._activeEffects.length) {\r\n        this.popEffect();\r\n      }\r\n      effects.filter(function(effect) {\r\n        return contains(effect.target, target);\r\n      }).forEach(function(effect) {\r\n        return _this.applyEffect(effect);\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.applyEffect = function(effect) {\r\n      this.ctx.save();\r\n      if (isTransformEffect(effect)) {\r\n        this.ctx.translate(effect.offsetX, effect.offsetY);\r\n        this.ctx.transform(effect.matrix[0], effect.matrix[1], effect.matrix[2], effect.matrix[3], effect.matrix[4], effect.matrix[5]);\r\n        this.ctx.translate(-effect.offsetX, -effect.offsetY);\r\n      }\r\n      if (isClipEffect(effect)) {\r\n        this.path(effect.path);\r\n        this.ctx.clip();\r\n      }\r\n      this._activeEffects.push(effect);\r\n    };\r\n    CanvasRenderer.prototype.popEffect = function() {\r\n      this._activeEffects.pop();\r\n      this.ctx.restore();\r\n    };\r\n    CanvasRenderer.prototype.renderStack = function(stack) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        var styles;\r\n        return __generator(this, function(_a) {\r\n          switch (_a.label) {\r\n            case 0:\r\n              styles = stack.element.container.styles;\r\n              if (!styles.isVisible()) return [3 /*break*/ , 2];\r\n              this.ctx.globalAlpha = styles.opacity;\r\n              return [4 /*yield*/ , this.renderStackContent(stack)];\r\n            case 1:\r\n              _a.sent();\r\n              _a.label = 2;\r\n            case 2:\r\n              return [2 /*return*/ ];\r\n          }\r\n        });\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.renderNode = function(paint) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        return __generator(this, function(_a) {\r\n          switch (_a.label) {\r\n            case 0:\r\n              if (!paint.container.styles.isVisible()) return [3 /*break*/ , 3];\r\n              return [4 /*yield*/ , this.renderNodeBackgroundAndBorders(paint)];\r\n            case 1:\r\n              _a.sent();\r\n              return [4 /*yield*/ , this.renderNodeContent(paint)];\r\n            case 2:\r\n              _a.sent();\r\n              _a.label = 3;\r\n            case 3:\r\n              return [2 /*return*/ ];\r\n          }\r\n        });\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.renderTextWithLetterSpacing = function(text, letterSpacing) {\r\n      var _this = this;\r\n      if (letterSpacing === 0) {\r\n        this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n      } else {\r\n        var letters = toCodePoints(text.text).map(function(i) {\r\n          return fromCodePoint(i);\r\n        });\r\n        letters.reduce(function(left, letter) {\r\n          _this.ctx.fillText(letter, left, text.bounds.top + text.bounds.height);\r\n          return left + _this.ctx.measureText(letter).width;\r\n        }, text.bounds.left);\r\n      }\r\n    };\r\n    CanvasRenderer.prototype.createFontStyle = function(styles) {\r\n      var fontVariant = styles.fontVariant\r\n        .filter(function(variant) {\r\n          return variant === 'normal' || variant === 'small-caps';\r\n        })\r\n        .join('');\r\n      var fontFamily = styles.fontFamily.join(', ');\r\n      var fontSize = isDimensionToken(styles.fontSize) ?\r\n        \"\" + styles.fontSize.number + styles.fontSize.unit :\r\n        styles.fontSize.number + \"px\";\r\n      return [\r\n        [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\r\n        fontFamily,\r\n        fontSize\r\n      ];\r\n    };\r\n    CanvasRenderer.prototype.renderTextNode = function(text, styles) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        var _a, font, fontFamily, fontSize;\r\n        var _this = this;\r\n        return __generator(this, function(_b) {\r\n          _a = this.createFontStyle(styles), font = _a[0], fontFamily = _a[1], fontSize = _a[2];\r\n          this.ctx.font = font;\r\n          text.textBounds.forEach(function(text) {\r\n            _this.ctx.fillStyle = asString(styles.color);\r\n            _this.renderTextWithLetterSpacing(text, styles.letterSpacing);\r\n            var textShadows = styles.textShadow;\r\n            if (textShadows.length && text.text.trim().length) {\r\n              textShadows\r\n                .slice(0)\r\n                .reverse()\r\n                .forEach(function(textShadow) {\r\n                  _this.ctx.shadowColor = asString(textShadow.color);\r\n                  _this.ctx.shadowOffsetX = textShadow.offsetX.number * _this.options.scale;\r\n                  _this.ctx.shadowOffsetY = textShadow.offsetY.number * _this.options.scale;\r\n                  _this.ctx.shadowBlur = textShadow.blur.number;\r\n                  _this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n                });\r\n              _this.ctx.shadowColor = '';\r\n              _this.ctx.shadowOffsetX = 0;\r\n              _this.ctx.shadowOffsetY = 0;\r\n              _this.ctx.shadowBlur = 0;\r\n            }\r\n            if (styles.textDecorationLine.length) {\r\n              _this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\r\n              styles.textDecorationLine.forEach(function(textDecorationLine) {\r\n                switch (textDecorationLine) {\r\n                  case 1 /* UNDERLINE */ :\r\n                    // Draws a line at the baseline of the font\r\n                    // TODO As some browsers display the line as more than 1px if the font-size is big,\r\n                    // need to take that into account both in position and size\r\n                    var baseline = _this.fontMetrics.getMetrics(fontFamily, fontSize).baseline;\r\n                    _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1);\r\n                    break;\r\n                  case 2 /* OVERLINE */ :\r\n                    _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1);\r\n                    break;\r\n                  case 3 /* LINE_THROUGH */ :\r\n                    // TODO try and find exact position for line-through\r\n                    var middle = _this.fontMetrics.getMetrics(fontFamily, fontSize).middle;\r\n                    _this.ctx.fillRect(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1);\r\n                    break;\r\n                }\r\n              });\r\n            }\r\n          });\r\n          return [2 /*return*/ ];\r\n        });\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.renderReplacedElement = function(container, curves, image) {\r\n      if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\r\n        var box = contentBox(container);\r\n        var path = calculatePaddingBoxPath(curves);\r\n        this.path(path);\r\n        this.ctx.save();\r\n        this.ctx.clip();\r\n        this.ctx.drawImage(image, 0, 0, container.intrinsicWidth, container.intrinsicHeight, box.left, box.top, box.width, box.height);\r\n        this.ctx.restore();\r\n      }\r\n    };\r\n    CanvasRenderer.prototype.renderNodeContent = function(paint) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        var container, curves, styles, _i, _a, child, image, e_1, image, e_2, iframeRenderer, canvas, size, bounds, x, textBounds, img, image, url, e_3, bounds;\r\n        return __generator(this, function(_b) {\r\n          switch (_b.label) {\r\n            case 0:\r\n              this.applyEffects(paint.effects, 4 /* CONTENT */ );\r\n              container = paint.container;\r\n              curves = paint.curves;\r\n              styles = container.styles;\r\n              _i = 0, _a = container.textNodes;\r\n              _b.label = 1;\r\n            case 1:\r\n              if (!(_i < _a.length)) return [3 /*break*/ , 4];\r\n              child = _a[_i];\r\n              return [4 /*yield*/ , this.renderTextNode(child, styles)];\r\n            case 2:\r\n              _b.sent();\r\n              _b.label = 3;\r\n            case 3:\r\n              _i++;\r\n              return [3 /*break*/ , 1];\r\n            case 4:\r\n              if (!(container instanceof ImageElementContainer)) return [3 /*break*/ , 8];\r\n              _b.label = 5;\r\n            case 5:\r\n              _b.trys.push([5, 7, , 8]);\r\n              return [4 /*yield*/ , this.options.cache.match(container.src)];\r\n            case 6:\r\n              image = _b.sent();\r\n              this.renderReplacedElement(container, curves, image);\r\n              return [3 /*break*/ , 8];\r\n            case 7:\r\n              e_1 = _b.sent();\r\n              Logger.getInstance(this.options.id).error(\"Error loading image \" + container.src);\r\n              return [3 /*break*/ , 8];\r\n            case 8:\r\n              if (container instanceof CanvasElementContainer) {\r\n                this.renderReplacedElement(container, curves, container.canvas);\r\n              }\r\n              if (!(container instanceof SVGElementContainer)) return [3 /*break*/ , 12];\r\n              _b.label = 9;\r\n            case 9:\r\n              _b.trys.push([9, 11, , 12]);\r\n              return [4 /*yield*/ , this.options.cache.match(container.svg)];\r\n            case 10:\r\n              image = _b.sent();\r\n              this.renderReplacedElement(container, curves, image);\r\n              return [3 /*break*/ , 12];\r\n            case 11:\r\n              e_2 = _b.sent();\r\n              Logger.getInstance(this.options.id).error(\"Error loading svg \" + container.svg.substring(0, 255));\r\n              return [3 /*break*/ , 12];\r\n            case 12:\r\n              if (!(container instanceof IFrameElementContainer && container.tree)) return [3 /*break*/ , 14];\r\n              iframeRenderer = new CanvasRenderer({\r\n                id: this.options.id,\r\n                scale: this.options.scale,\r\n                backgroundColor: container.backgroundColor,\r\n                x: 0,\r\n                y: 0,\r\n                scrollX: 0,\r\n                scrollY: 0,\r\n                width: container.width,\r\n                height: container.height,\r\n                cache: this.options.cache,\r\n                windowWidth: container.width,\r\n                windowHeight: container.height\r\n              });\r\n              return [4 /*yield*/ , iframeRenderer.render(container.tree)];\r\n            case 13:\r\n              canvas = _b.sent();\r\n              if (container.width && container.height) {\r\n                this.ctx.drawImage(canvas, 0, 0, container.width, container.height, container.bounds.left, container.bounds.top, container.bounds.width, container.bounds.height);\r\n              }\r\n              _b.label = 14;\r\n            case 14:\r\n              if (container instanceof InputElementContainer) {\r\n                size = Math.min(container.bounds.width, container.bounds.height);\r\n                if (container.type === CHECKBOX) {\r\n                  if (container.checked) {\r\n                    this.ctx.save();\r\n                    this.path([\r\n                      new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\r\n                      new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\r\n                      new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\r\n                      new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\r\n                      new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\r\n                      new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\r\n                      new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\r\n                    ]);\r\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                    this.ctx.fill();\r\n                    this.ctx.restore();\r\n                  }\r\n                } else if (container.type === RADIO) {\r\n                  if (container.checked) {\r\n                    this.ctx.save();\r\n                    this.ctx.beginPath();\r\n                    this.ctx.arc(container.bounds.left + size / 2, container.bounds.top + size / 2, size / 4, 0, Math.PI * 2, true);\r\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                    this.ctx.fill();\r\n                    this.ctx.restore();\r\n                  }\r\n                }\r\n              }\r\n              if (isTextInputElement(container) && container.value.length) {\r\n                this.ctx.font = this.createFontStyle(styles)[0];\r\n                this.ctx.fillStyle = asString(styles.color);\r\n                this.ctx.textBaseline = 'middle';\r\n                this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\r\n                bounds = contentBox(container);\r\n                x = 0;\r\n                switch (container.styles.textAlign) {\r\n                  case TEXT_ALIGN.CENTER:\r\n                    x += bounds.width / 2;\r\n                    break;\r\n                  case TEXT_ALIGN.RIGHT:\r\n                    x += bounds.width;\r\n                    break;\r\n                }\r\n                textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\r\n                this.ctx.save();\r\n                this.path([\r\n                  new Vector(bounds.left, bounds.top),\r\n                  new Vector(bounds.left + bounds.width, bounds.top),\r\n                  new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\r\n                  new Vector(bounds.left, bounds.top + bounds.height)\r\n                ]);\r\n                this.ctx.clip();\r\n                this.renderTextWithLetterSpacing(new TextBounds(container.value, textBounds), styles.letterSpacing);\r\n                this.ctx.restore();\r\n                this.ctx.textBaseline = 'bottom';\r\n                this.ctx.textAlign = 'left';\r\n              }\r\n              if (!contains(container.styles.display, 2048 /* LIST_ITEM */ )) return [3 /*break*/ , 20];\r\n              if (!(container.styles.listStyleImage !== null)) return [3 /*break*/ , 19];\r\n              img = container.styles.listStyleImage;\r\n              if (!(img.type === CSSImageType.URL)) return [3 /*break*/ , 18];\r\n              image = void 0;\r\n              url = img.url;\r\n              _b.label = 15;\r\n            case 15:\r\n              _b.trys.push([15, 17, , 18]);\r\n              return [4 /*yield*/ , this.options.cache.match(url)];\r\n            case 16:\r\n              image = _b.sent();\r\n              this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\r\n              return [3 /*break*/ , 18];\r\n            case 17:\r\n              e_3 = _b.sent();\r\n              Logger.getInstance(this.options.id).error(\"Error loading list-style-image \" + url);\r\n              return [3 /*break*/ , 18];\r\n            case 18:\r\n              return [3 /*break*/ , 20];\r\n            case 19:\r\n              if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {\r\n                this.ctx.font = this.createFontStyle(styles)[0];\r\n                this.ctx.fillStyle = asString(styles.color);\r\n                this.ctx.textBaseline = 'middle';\r\n                this.ctx.textAlign = 'right';\r\n                bounds = new Bounds(container.bounds.left, container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width), container.bounds.width, computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1);\r\n                this.renderTextWithLetterSpacing(new TextBounds(paint.listValue, bounds), styles.letterSpacing);\r\n                this.ctx.textBaseline = 'bottom';\r\n                this.ctx.textAlign = 'left';\r\n              }\r\n              _b.label = 20;\r\n            case 20:\r\n              return [2 /*return*/ ];\r\n          }\r\n        });\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.renderStackContent = function(stack) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        var _i, _a, child, _b, _c, child, _d, _e, child, _f, _g, child, _h, _j, child, _k, _l, child, _m, _o, child;\r\n        return __generator(this, function(_p) {\r\n          switch (_p.label) {\r\n            case 0:\r\n              // https://www.w3.org/TR/css-position-3/#painting-order\r\n              // 1. the background and borders of the element forming the stacking context.\r\n              return [4 /*yield*/ , this.renderNodeBackgroundAndBorders(stack.element)];\r\n            case 1:\r\n              // https://www.w3.org/TR/css-position-3/#painting-order\r\n              // 1. the background and borders of the element forming the stacking context.\r\n              _p.sent();\r\n              _i = 0, _a = stack.negativeZIndex;\r\n              _p.label = 2;\r\n            case 2:\r\n              if (!(_i < _a.length)) return [3 /*break*/ , 5];\r\n              child = _a[_i];\r\n              return [4 /*yield*/ , this.renderStack(child)];\r\n            case 3:\r\n              _p.sent();\r\n              _p.label = 4;\r\n            case 4:\r\n              _i++;\r\n              return [3 /*break*/ , 2];\r\n            case 5:\r\n              // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n              return [4 /*yield*/ , this.renderNodeContent(stack.element)];\r\n            case 6:\r\n              // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n              _p.sent();\r\n              _b = 0, _c = stack.nonInlineLevel;\r\n              _p.label = 7;\r\n            case 7:\r\n              if (!(_b < _c.length)) return [3 /*break*/ , 10];\r\n              child = _c[_b];\r\n              return [4 /*yield*/ , this.renderNode(child)];\r\n            case 8:\r\n              _p.sent();\r\n              _p.label = 9;\r\n            case 9:\r\n              _b++;\r\n              return [3 /*break*/ , 7];\r\n            case 10:\r\n              _d = 0, _e = stack.nonPositionedFloats;\r\n              _p.label = 11;\r\n            case 11:\r\n              if (!(_d < _e.length)) return [3 /*break*/ , 14];\r\n              child = _e[_d];\r\n              return [4 /*yield*/ , this.renderStack(child)];\r\n            case 12:\r\n              _p.sent();\r\n              _p.label = 13;\r\n            case 13:\r\n              _d++;\r\n              return [3 /*break*/ , 11];\r\n            case 14:\r\n              _f = 0, _g = stack.nonPositionedInlineLevel;\r\n              _p.label = 15;\r\n            case 15:\r\n              if (!(_f < _g.length)) return [3 /*break*/ , 18];\r\n              child = _g[_f];\r\n              return [4 /*yield*/ , this.renderStack(child)];\r\n            case 16:\r\n              _p.sent();\r\n              _p.label = 17;\r\n            case 17:\r\n              _f++;\r\n              return [3 /*break*/ , 15];\r\n            case 18:\r\n              _h = 0, _j = stack.inlineLevel;\r\n              _p.label = 19;\r\n            case 19:\r\n              if (!(_h < _j.length)) return [3 /*break*/ , 22];\r\n              child = _j[_h];\r\n              return [4 /*yield*/ , this.renderNode(child)];\r\n            case 20:\r\n              _p.sent();\r\n              _p.label = 21;\r\n            case 21:\r\n              _h++;\r\n              return [3 /*break*/ , 19];\r\n            case 22:\r\n              _k = 0, _l = stack.zeroOrAutoZIndexOrTransformedOrOpacity;\r\n              _p.label = 23;\r\n            case 23:\r\n              if (!(_k < _l.length)) return [3 /*break*/ , 26];\r\n              child = _l[_k];\r\n              return [4 /*yield*/ , this.renderStack(child)];\r\n            case 24:\r\n              _p.sent();\r\n              _p.label = 25;\r\n            case 25:\r\n              _k++;\r\n              return [3 /*break*/ , 23];\r\n            case 26:\r\n              _m = 0, _o = stack.positiveZIndex;\r\n              _p.label = 27;\r\n            case 27:\r\n              if (!(_m < _o.length)) return [3 /*break*/ , 30];\r\n              child = _o[_m];\r\n              return [4 /*yield*/ , this.renderStack(child)];\r\n            case 28:\r\n              _p.sent();\r\n              _p.label = 29;\r\n            case 29:\r\n              _m++;\r\n              return [3 /*break*/ , 27];\r\n            case 30:\r\n              return [2 /*return*/ ];\r\n          }\r\n        });\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.mask = function(paths) {\r\n      this.ctx.beginPath();\r\n      this.ctx.moveTo(0, 0);\r\n      this.ctx.lineTo(this.canvas.width, 0);\r\n      this.ctx.lineTo(this.canvas.width, this.canvas.height);\r\n      this.ctx.lineTo(0, this.canvas.height);\r\n      this.ctx.lineTo(0, 0);\r\n      this.formatPath(paths.slice(0).reverse());\r\n      this.ctx.closePath();\r\n    };\r\n    CanvasRenderer.prototype.path = function(paths) {\r\n      this.ctx.beginPath();\r\n      this.formatPath(paths);\r\n      this.ctx.closePath();\r\n    };\r\n    CanvasRenderer.prototype.formatPath = function(paths) {\r\n      var _this = this;\r\n      paths.forEach(function(point, index) {\r\n        var start = isBezierCurve(point) ? point.start : point;\r\n        if (index === 0) {\r\n          _this.ctx.moveTo(start.x, start.y);\r\n        } else {\r\n          _this.ctx.lineTo(start.x, start.y);\r\n        }\r\n        if (isBezierCurve(point)) {\r\n          _this.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\r\n        }\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.renderRepeat = function(path, pattern, offsetX, offsetY) {\r\n      this.path(path);\r\n      this.ctx.fillStyle = pattern;\r\n      this.ctx.translate(offsetX, offsetY);\r\n      this.ctx.fill();\r\n      this.ctx.translate(-offsetX, -offsetY);\r\n    };\r\n    CanvasRenderer.prototype.resizeImage = function(image, width, height) {\r\n      if (image.width === width && image.height === height) {\r\n        return image;\r\n      }\r\n      var canvas = this.canvas.ownerDocument.createElement('canvas');\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      var ctx = canvas.getContext('2d');\r\n      ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\r\n      return canvas;\r\n    };\r\n    CanvasRenderer.prototype.renderBackgroundImage = function(container) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        var index, _loop_1, this_1, _i, _a, backgroundImage;\r\n        return __generator(this, function(_b) {\r\n          switch (_b.label) {\r\n            case 0:\r\n              index = container.styles.backgroundImage.length - 1;\r\n              _loop_1 = function(backgroundImage) {\r\n                var image, url, e_4, _a, path, x, y, width, height, pattern, _b, path, x, y, width, height, _c, lineLength, x0, x1, y0, y1, canvas, ctx, gradient_1, pattern, _d, path, left, top_1, width, height, position, x, y, _e, rx, ry, radialGradient_1, midX, midY, f, invF;\r\n                return __generator(this, function(_f) {\r\n                  switch (_f.label) {\r\n                    case 0:\r\n                      if (!(backgroundImage.type === CSSImageType.URL)) return [3 /*break*/ , 5];\r\n                      image = void 0;\r\n                      url = backgroundImage.url;\r\n                      _f.label = 1;\r\n                    case 1:\r\n                      _f.trys.push([1, 3, , 4]);\r\n                      return [4 /*yield*/ , this_1.options.cache.match(url)];\r\n                    case 2:\r\n                      image = _f.sent();\r\n                      return [3 /*break*/ , 4];\r\n                    case 3:\r\n                      e_4 = _f.sent();\r\n                      Logger.getInstance(this_1.options.id).error(\"Error loading background-image \" + url);\r\n                      return [3 /*break*/ , 4];\r\n                    case 4:\r\n                      if (image) {\r\n                        _a = calculateBackgroundRendering(container, index, [\r\n                          image.width,\r\n                          image.height,\r\n                          image.width / image.height\r\n                        ]), path = _a[0], x = _a[1], y = _a[2], width = _a[3], height = _a[4];\r\n                        pattern = this_1.ctx.createPattern(this_1.resizeImage(image, width, height), 'repeat');\r\n                        this_1.renderRepeat(path, pattern, x, y);\r\n                      }\r\n                      return [3 /*break*/ , 6];\r\n                    case 5:\r\n                      if (isLinearGradient(backgroundImage)) {\r\n                        _b = calculateBackgroundRendering(container, index, [null, null, null]), path = _b[0], x = _b[1], y = _b[2], width = _b[3], height = _b[4];\r\n                        _c = calculateGradientDirection(backgroundImage.angle, width, height), lineLength = _c[0], x0 = _c[1], x1 = _c[2], y0 = _c[3], y1 = _c[4];\r\n                        canvas = document.createElement('canvas');\r\n                        canvas.width = width;\r\n                        canvas.height = height;\r\n                        ctx = canvas.getContext('2d');\r\n                        gradient_1 = ctx.createLinearGradient(x0, y0, x1, y1);\r\n                        processColorStops(backgroundImage.stops, lineLength).forEach(function(colorStop) {\r\n                          return gradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                        });\r\n                        ctx.fillStyle = gradient_1;\r\n                        ctx.fillRect(0, 0, width, height);\r\n                        if (width > 0 && height > 0) {\r\n                          pattern = this_1.ctx.createPattern(canvas, 'repeat');\r\n                          this_1.renderRepeat(path, pattern, x, y);\r\n                        }\r\n                      } else if (isRadialGradient(backgroundImage)) {\r\n                        _d = calculateBackgroundRendering(container, index, [\r\n                          null,\r\n                          null,\r\n                          null\r\n                        ]), path = _d[0], left = _d[1], top_1 = _d[2], width = _d[3], height = _d[4];\r\n                        position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\r\n                        x = getAbsoluteValue(position[0], width);\r\n                        y = getAbsoluteValue(position[position.length - 1], height);\r\n                        _e = calculateRadius(backgroundImage, x, y, width, height), rx = _e[0], ry = _e[1];\r\n                        if (rx > 0 && rx > 0) {\r\n                          radialGradient_1 = this_1.ctx.createRadialGradient(left + x, top_1 + y, 0, left + x, top_1 + y, rx);\r\n                          processColorStops(backgroundImage.stops, rx * 2).forEach(function(colorStop) {\r\n                            return radialGradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                          });\r\n                          this_1.path(path);\r\n                          this_1.ctx.fillStyle = radialGradient_1;\r\n                          if (rx !== ry) {\r\n                            midX = container.bounds.left + 0.5 * container.bounds.width;\r\n                            midY = container.bounds.top + 0.5 * container.bounds.height;\r\n                            f = ry / rx;\r\n                            invF = 1 / f;\r\n                            this_1.ctx.save();\r\n                            this_1.ctx.translate(midX, midY);\r\n                            this_1.ctx.transform(1, 0, 0, f, 0, 0);\r\n                            this_1.ctx.translate(-midX, -midY);\r\n                            this_1.ctx.fillRect(left, invF * (top_1 - midY) + midY, width, height * invF);\r\n                            this_1.ctx.restore();\r\n                          } else {\r\n                            this_1.ctx.fill();\r\n                          }\r\n                        }\r\n                      }\r\n                      _f.label = 6;\r\n                    case 6:\r\n                      index--;\r\n                      return [2 /*return*/ ];\r\n                  }\r\n                });\r\n              };\r\n              this_1 = this;\r\n              _i = 0, _a = container.styles.backgroundImage.slice(0).reverse();\r\n              _b.label = 1;\r\n            case 1:\r\n              if (!(_i < _a.length)) return [3 /*break*/ , 4];\r\n              backgroundImage = _a[_i];\r\n              return [5 /*yield**/ , _loop_1(backgroundImage)];\r\n            case 2:\r\n              _b.sent();\r\n              _b.label = 3;\r\n            case 3:\r\n              _i++;\r\n              return [3 /*break*/ , 1];\r\n            case 4:\r\n              return [2 /*return*/ ];\r\n          }\r\n        });\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.renderBorder = function(color, side, curvePoints) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        return __generator(this, function(_a) {\r\n          this.path(parsePathForBorder(curvePoints, side));\r\n          this.ctx.fillStyle = asString(color);\r\n          this.ctx.fill();\r\n          return [2 /*return*/ ];\r\n        });\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.renderNodeBackgroundAndBorders = function(paint) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        var styles, hasBackground, borders, backgroundPaintingArea, side, _i, borders_1, border;\r\n        var _this = this;\r\n        return __generator(this, function(_a) {\r\n          switch (_a.label) {\r\n            case 0:\r\n              this.applyEffects(paint.effects, 2 /* BACKGROUND_BORDERS */ );\r\n              styles = paint.container.styles;\r\n              hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\r\n              borders = [{\r\n                  style: styles.borderTopStyle,\r\n                  color: styles.borderTopColor\r\n                },\r\n                {\r\n                  style: styles.borderRightStyle,\r\n                  color: styles.borderRightColor\r\n                },\r\n                {\r\n                  style: styles.borderBottomStyle,\r\n                  color: styles.borderBottomColor\r\n                },\r\n                {\r\n                  style: styles.borderLeftStyle,\r\n                  color: styles.borderLeftColor\r\n                }\r\n              ];\r\n              backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip, 0), paint.curves);\r\n              if (!(hasBackground || styles.boxShadow.length)) return [3 /*break*/ , 2];\r\n              this.ctx.save();\r\n              this.path(backgroundPaintingArea);\r\n              this.ctx.clip();\r\n              if (!isTransparent(styles.backgroundColor)) {\r\n                this.ctx.fillStyle = asString(styles.backgroundColor);\r\n                this.ctx.fill();\r\n              }\r\n              return [4 /*yield*/ , this.renderBackgroundImage(paint.container)];\r\n            case 1:\r\n              _a.sent();\r\n              this.ctx.restore();\r\n              styles.boxShadow\r\n                .slice(0)\r\n                .reverse()\r\n                .forEach(function(shadow) {\r\n                  _this.ctx.save();\r\n                  var borderBoxArea = calculateBorderBoxPath(paint.curves);\r\n                  var maskOffset = shadow.inset ? 0 : MASK_OFFSET;\r\n                  var shadowPaintingArea = transformPath(borderBoxArea, -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number, (shadow.inset ? 1 : -1) * shadow.spread.number, shadow.spread.number * (shadow.inset ? -2 : 2), shadow.spread.number * (shadow.inset ? -2 : 2));\r\n                  if (shadow.inset) {\r\n                    _this.path(borderBoxArea);\r\n                    _this.ctx.clip();\r\n                    _this.mask(shadowPaintingArea);\r\n                  } else {\r\n                    _this.mask(borderBoxArea);\r\n                    _this.ctx.clip();\r\n                    _this.path(shadowPaintingArea);\r\n                  }\r\n                  _this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\r\n                  _this.ctx.shadowOffsetY = shadow.offsetY.number;\r\n                  _this.ctx.shadowColor = asString(shadow.color);\r\n                  _this.ctx.shadowBlur = shadow.blur.number;\r\n                  _this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\r\n                  _this.ctx.fill();\r\n                  _this.ctx.restore();\r\n                });\r\n              _a.label = 2;\r\n            case 2:\r\n              side = 0;\r\n              _i = 0, borders_1 = borders;\r\n              _a.label = 3;\r\n            case 3:\r\n              if (!(_i < borders_1.length)) return [3 /*break*/ , 7];\r\n              border = borders_1[_i];\r\n              if (!(border.style !== BORDER_STYLE.NONE && !isTransparent(border.color))) return [3 /*break*/ , 5];\r\n              return [4 /*yield*/ , this.renderBorder(border.color, side, paint.curves)];\r\n            case 4:\r\n              _a.sent();\r\n              _a.label = 5;\r\n            case 5:\r\n              side++;\r\n              _a.label = 6;\r\n            case 6:\r\n              _i++;\r\n              return [3 /*break*/ , 3];\r\n            case 7:\r\n              return [2 /*return*/ ];\r\n          }\r\n        });\r\n      });\r\n    };\r\n    CanvasRenderer.prototype.render = function(element) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        var stack;\r\n        return __generator(this, function(_a) {\r\n          switch (_a.label) {\r\n            case 0:\r\n              if (this.options.backgroundColor) {\r\n                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                this.ctx.fillRect(this.options.x - this.options.scrollX, this.options.y - this.options.scrollY, this.options.width, this.options.height);\r\n              }\r\n              stack = parseStackingContexts(element);\r\n              return [4 /*yield*/ , this.renderStack(stack)];\r\n            case 1:\r\n              _a.sent();\r\n              this.applyEffects([], 2 /* BACKGROUND_BORDERS */ );\r\n              return [2 /*return*/ , this.canvas];\r\n          }\r\n        });\r\n      });\r\n    };\r\n    return CanvasRenderer;\r\n  }());\r\n  var isTextInputElement = function(container) {\r\n    if (container instanceof TextareaElementContainer) {\r\n      return true;\r\n    } else if (container instanceof SelectElementContainer) {\r\n      return true;\r\n    } else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  var calculateBackgroundCurvedPaintingArea = function(clip, curves) {\r\n    switch (clip) {\r\n      case BACKGROUND_CLIP.BORDER_BOX:\r\n        return calculateBorderBoxPath(curves);\r\n      case BACKGROUND_CLIP.CONTENT_BOX:\r\n        return calculateContentBoxPath(curves);\r\n      case BACKGROUND_CLIP.PADDING_BOX:\r\n      default:\r\n        return calculatePaddingBoxPath(curves);\r\n    }\r\n  };\r\n  var canvasTextAlign = function(textAlign) {\r\n    switch (textAlign) {\r\n      case TEXT_ALIGN.CENTER:\r\n        return 'center';\r\n      case TEXT_ALIGN.RIGHT:\r\n        return 'right';\r\n      case TEXT_ALIGN.LEFT:\r\n      default:\r\n        return 'left';\r\n    }\r\n  };\r\n\r\n  var ForeignObjectRenderer = /** @class */ (function() {\r\n    function ForeignObjectRenderer(options) {\r\n      this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n      this.ctx = this.canvas.getContext('2d');\r\n      this.options = options;\r\n      this.canvas.width = Math.floor(options.width * options.scale);\r\n      this.canvas.height = Math.floor(options.height * options.scale);\r\n      this.canvas.style.width = options.width + \"px\";\r\n      this.canvas.style.height = options.height + \"px\";\r\n      this.ctx.scale(this.options.scale, this.options.scale);\r\n      this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n      Logger.getInstance(options.id).debug(\"EXPERIMENTAL ForeignObject renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n    }\r\n    ForeignObjectRenderer.prototype.render = function(element) {\r\n      return __awaiter(this, void 0, void 0, function() {\r\n        var svg, img;\r\n        return __generator(this, function(_a) {\r\n          switch (_a.label) {\r\n            case 0:\r\n              svg = createForeignObjectSVG(Math.max(this.options.windowWidth, this.options.width) * this.options.scale, Math.max(this.options.windowHeight, this.options.height) * this.options.scale, this.options.scrollX * this.options.scale, this.options.scrollY * this.options.scale, element);\r\n              return [4 /*yield*/ , loadSerializedSVG$1(svg)];\r\n            case 1:\r\n              img = _a.sent();\r\n              if (this.options.backgroundColor) {\r\n                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\r\n              }\r\n              this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\r\n              return [2 /*return*/ , this.canvas];\r\n          }\r\n        });\r\n      });\r\n    };\r\n    return ForeignObjectRenderer;\r\n  }());\r\n  var loadSerializedSVG$1 = function(svg) {\r\n    return new Promise(function(resolve, reject) {\r\n      var img = new Image();\r\n      img.onload = function() {\r\n        resolve(img);\r\n      };\r\n      img.onerror = reject;\r\n      img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n    });\r\n  };\r\n\r\n  var _this = undefined;\r\n  var parseColor$1 = function(value) {\r\n    return color.parse(Parser.create(value).parseComponentValue());\r\n  };\r\n  var html2canvas = function(element, options) {\r\n    if (options === void 0) {\r\n      options = {};\r\n    }\r\n    return renderElement(element, options);\r\n  };\r\n  if (typeof window !== 'undefined') {\r\n    CacheStorage.setContext(window);\r\n  }\r\n  var renderElement = function(element, opts) {\r\n    return __awaiter(_this, void 0, void 0, function() {\r\n      var ownerDocument, defaultView, instanceName, _a, width, height, left, top, defaultResourceOptions, resourceOptions, defaultOptions, options, windowBounds, documentCloner, clonedElement, container, documentBackgroundColor, bodyBackgroundColor, bgColor, defaultBackgroundColor, backgroundColor, renderOptions, canvas, renderer, root, renderer;\r\n      return __generator(this, function(_b) {\r\n        switch (_b.label) {\r\n          case 0:\r\n            ownerDocument = element.ownerDocument;\r\n            if (!ownerDocument) {\r\n              throw new Error(\"Element is not attached to a Document\");\r\n            }\r\n            defaultView = ownerDocument.defaultView;\r\n            if (!defaultView) {\r\n              throw new Error(\"Document is not attached to a Window\");\r\n            }\r\n            instanceName = (Math.round(Math.random() * 1000) + Date.now()).toString(16);\r\n            _a = isBodyElement(element) || isHTMLElement(element) ? parseDocumentSize(ownerDocument) : parseBounds(element), width = _a.width, height = _a.height, left = _a.left, top = _a.top;\r\n            defaultResourceOptions = {\r\n              allowTaint: false,\r\n              imageTimeout: 15000,\r\n              proxy: undefined,\r\n              useCORS: false\r\n            };\r\n            resourceOptions = __assign({}, defaultResourceOptions, opts);\r\n            defaultOptions = {\r\n              backgroundColor: '#ffffff',\r\n              cache: opts.cache ? opts.cache : CacheStorage.create(instanceName, resourceOptions),\r\n              logging: true,\r\n              removeContainer: true,\r\n              foreignObjectRendering: false,\r\n              scale: defaultView.devicePixelRatio || 1,\r\n              windowWidth: defaultView.innerWidth,\r\n              windowHeight: defaultView.innerHeight,\r\n              scrollX: defaultView.pageXOffset,\r\n              scrollY: defaultView.pageYOffset,\r\n              x: left,\r\n              y: top,\r\n              width: Math.ceil(width),\r\n              height: Math.ceil(height),\r\n              id: instanceName\r\n            };\r\n            options = __assign({}, defaultOptions, resourceOptions, opts);\r\n            windowBounds = new Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);\r\n            Logger.create({\r\n              id: instanceName,\r\n              enabled: options.logging\r\n            });\r\n            Logger.getInstance(instanceName).debug(\"Starting document clone\");\r\n            documentCloner = new DocumentCloner(element, {\r\n              id: instanceName,\r\n              onclone: options.onclone,\r\n              ignoreElements: options.ignoreElements,\r\n              inlineImages: options.foreignObjectRendering,\r\n              copyStyles: options.foreignObjectRendering\r\n            });\r\n            clonedElement = documentCloner.clonedReferenceElement;\r\n            if (!clonedElement) {\r\n              return [2 /*return*/ , Promise.reject(\"Unable to find element in cloned iframe\")];\r\n            }\r\n            return [4 /*yield*/ , documentCloner.toIFrame(ownerDocument, windowBounds)];\r\n          case 1:\r\n            container = _b.sent();\r\n            documentBackgroundColor = ownerDocument.documentElement ?\r\n              parseColor$1(getComputedStyle(ownerDocument.documentElement).backgroundColor) :\r\n              COLORS.TRANSPARENT;\r\n            bodyBackgroundColor = ownerDocument.body ?\r\n              parseColor$1(getComputedStyle(ownerDocument.body).backgroundColor) :\r\n              COLORS.TRANSPARENT;\r\n            bgColor = opts.backgroundColor;\r\n            defaultBackgroundColor = typeof bgColor === 'string' ? parseColor$1(bgColor) : bgColor === null ? COLORS.TRANSPARENT : 0xffffffff;\r\n            backgroundColor = element === ownerDocument.documentElement ?\r\n              isTransparent(documentBackgroundColor) ?\r\n              isTransparent(bodyBackgroundColor) ?\r\n              defaultBackgroundColor :\r\n              bodyBackgroundColor :\r\n              documentBackgroundColor :\r\n              defaultBackgroundColor;\r\n            renderOptions = {\r\n              id: instanceName,\r\n              cache: options.cache,\r\n              canvas: options.canvas,\r\n              backgroundColor: backgroundColor,\r\n              scale: options.scale,\r\n              x: options.x,\r\n              y: options.y,\r\n              scrollX: options.scrollX,\r\n              scrollY: options.scrollY,\r\n              width: options.width,\r\n              height: options.height,\r\n              windowWidth: options.windowWidth,\r\n              windowHeight: options.windowHeight\r\n            };\r\n            if (!options.foreignObjectRendering) return [3 /*break*/ , 3];\r\n            Logger.getInstance(instanceName).debug(\"Document cloned, using foreign object rendering\");\r\n            renderer = new ForeignObjectRenderer(renderOptions);\r\n            return [4 /*yield*/ , renderer.render(clonedElement)];\r\n          case 2:\r\n            canvas = _b.sent();\r\n            return [3 /*break*/ , 5];\r\n          case 3:\r\n            Logger.getInstance(instanceName).debug(\"Document cloned, using computed rendering\");\r\n            CacheStorage.attachInstance(options.cache);\r\n            Logger.getInstance(instanceName).debug(\"Starting DOM parsing\");\r\n            root = parseTree(clonedElement);\r\n            CacheStorage.detachInstance();\r\n            if (backgroundColor === root.styles.backgroundColor) {\r\n              root.styles.backgroundColor = COLORS.TRANSPARENT;\r\n            }\r\n            Logger.getInstance(instanceName).debug(\"Starting renderer\");\r\n            renderer = new CanvasRenderer(renderOptions);\r\n            return [4 /*yield*/ , renderer.render(root)];\r\n          case 4:\r\n            canvas = _b.sent();\r\n            _b.label = 5;\r\n          case 5:\r\n            if (options.removeContainer === true) {\r\n              if (!DocumentCloner.destroy(container)) {\r\n                Logger.getInstance(instanceName).error(\"Cannot detach cloned iframe as it is not in the DOM anymore\");\r\n              }\r\n            }\r\n            Logger.getInstance(instanceName).debug(\"Finished rendering\");\r\n            Logger.destroy(instanceName);\r\n            CacheStorage.destroy(instanceName);\r\n            return [2 /*return*/ , canvas];\r\n        }\r\n      });\r\n    });\r\n  };\r\n  html2canvas_default = html2canvas;\r\n  return html2canvas;\r\n\r\n}));\r\nexport default html2canvas_default;\r\n//# sourceMappingURL=html2canvas.js.map\r\n","var bitsToNum = function (ba) {\n    return ba.reduce(function (s, n) {\n        return s * 2 + n;\n    }, 0);\n};\n\nvar byteToBitArr = function (bite) {\n    var a = [];\n    for (var i = 7; i >= 0; i--) {\n        a.push( !! (bite & (1 << i)));\n    }\n    return a;\n};\n\n// Stream\n/**\n * @constructor\n */\n// Make compiler happy.\nvar Stream = function (data) {\n    this.data = data;\n    this.len = this.data.length;\n    this.pos = 0;\n\n    this.readByte = function () {\n        if (this.pos >= this.data.length) {\n            throw new Error('Attempted to read past end of stream.');\n        }\n        if (data instanceof Uint8Array)\n            return data[this.pos++];\n        else\n            return data.charCodeAt(this.pos++) & 0xFF;\n    };\n\n    this.readBytes = function (n) {\n        var bytes = [];\n        for (var i = 0; i < n; i++) {\n            bytes.push(this.readByte());\n        }\n        return bytes;\n    };\n\n    this.read = function (n) {\n        var s = '';\n        for (var i = 0; i < n; i++) {\n            s += String.fromCharCode(this.readByte());\n        }\n        return s;\n    };\n\n    this.readUnsigned = function () { // Little-endian.\n        var a = this.readBytes(2);\n        return (a[1] << 8) + a[0];\n    };\n};\n\nvar lzwDecode = function (minCodeSize, data) {\n    // TODO: Now that the GIF parser is a bit different, maybe this should get an array of bytes instead of a String?\n    var pos = 0; // Maybe this streaming thing should be merged with the Stream?\n    var readCode = function (size) {\n        var code = 0;\n        for (var i = 0; i < size; i++) {\n            if (data.charCodeAt(pos >> 3) & (1 << (pos & 7))) {\n                code |= 1 << i;\n            }\n            pos++;\n        }\n        return code;\n    };\n\n    var output = [];\n\n    var clearCode = 1 << minCodeSize;\n    var eoiCode = clearCode + 1;\n\n    var codeSize = minCodeSize + 1;\n\n    var dict = [];\n\n    var clear = function () {\n        dict = [];\n        codeSize = minCodeSize + 1;\n        for (var i = 0; i < clearCode; i++) {\n            dict[i] = [i];\n        }\n        dict[clearCode] = [];\n        dict[eoiCode] = null;\n\n    };\n\n    var code;\n    var last;\n\n    while (true) {\n        last = code;\n        code = readCode(codeSize);\n\n        if (code === clearCode) {\n            clear();\n            continue;\n        }\n        if (code === eoiCode) break;\n\n        if (code < dict.length) {\n            if (last !== clearCode) {\n                dict.push(dict[last].concat(dict[code][0]));\n            }\n        }\n        else {\n            if (code !== dict.length) throw new Error('Invalid LZW code.');\n            dict.push(dict[last].concat(dict[last][0]));\n        }\n        output.push.apply(output, dict[code]);\n\n        if (dict.length === (1 << codeSize) && codeSize < 12) {\n            // If we're at the last code and codeSize is 12, the next code will be a clearCode, and it'll be 12 bits long.\n            codeSize++;\n        }\n    }\n\n    // I don't know if this is technically an error, but some GIFs do it.\n    //if (Math.ceil(pos / 8) !== data.length) throw new Error('Extraneous LZW bytes.');\n    return output;\n};\n\n\n// The actual parsing; returns an object with properties.\nvar parseGIF = function (st, handler) {\n    handler || (handler = {});\n\n    // LZW (GIF-specific)\n    var parseCT = function (entries) { // Each entry is 3 bytes, for RGB.\n        var ct = [];\n        for (var i = 0; i < entries; i++) {\n            ct.push(st.readBytes(3));\n        }\n        return ct;\n    };\n\n    var readSubBlocks = function () {\n        var size, data;\n        data = '';\n        do {\n            size = st.readByte();\n            data += st.read(size);\n        } while (size !== 0);\n        return data;\n    };\n\n    var parseHeader = function () {\n        var hdr = {};\n        hdr.sig = st.read(3);\n        hdr.ver = st.read(3);\n        if (hdr.sig !== 'GIF') throw new Error('Not a GIF file.'); // XXX: This should probably be handled more nicely.\n        hdr.width = st.readUnsigned();\n        hdr.height = st.readUnsigned();\n\n        var bits = byteToBitArr(st.readByte());\n        hdr.gctFlag = bits.shift();\n        hdr.colorRes = bitsToNum(bits.splice(0, 3));\n        hdr.sorted = bits.shift();\n        hdr.gctSize = bitsToNum(bits.splice(0, 3));\n\n        hdr.bgColor = st.readByte();\n        hdr.pixelAspectRatio = st.readByte(); // if not 0, aspectRatio = (pixelAspectRatio + 15) / 64\n        if (hdr.gctFlag) {\n            hdr.gct = parseCT(1 << (hdr.gctSize + 1));\n        }\n        handler.hdr && handler.hdr(hdr);\n    };\n\n    var parseExt = function (block) {\n        var parseGCExt = function (block) {\n            var blockSize = st.readByte(); // Always 4\n            var bits = byteToBitArr(st.readByte());\n            block.reserved = bits.splice(0, 3); // Reserved; should be 000.\n            block.disposalMethod = bitsToNum(bits.splice(0, 3));\n            block.userInput = bits.shift();\n            block.transparencyGiven = bits.shift();\n\n            block.delayTime = st.readUnsigned();\n\n            block.transparencyIndex = st.readByte();\n\n            block.terminator = st.readByte();\n\n            handler.gce && handler.gce(block);\n        };\n\n        var parseComExt = function (block) {\n            block.comment = readSubBlocks();\n            handler.com && handler.com(block);\n        };\n\n        var parsePTExt = function (block) {\n            // No one *ever* uses this. If you use it, deal with parsing it yourself.\n            var blockSize = st.readByte(); // Always 12\n            block.ptHeader = st.readBytes(12);\n            block.ptData = readSubBlocks();\n            handler.pte && handler.pte(block);\n        };\n\n        var parseAppExt = function (block) {\n            var parseNetscapeExt = function (block) {\n                var blockSize = st.readByte(); // Always 3\n                block.unknown = st.readByte(); // ??? Always 1? What is this?\n                block.iterations = st.readUnsigned();\n                block.terminator = st.readByte();\n                handler.app && handler.app.NETSCAPE && handler.app.NETSCAPE(block);\n            };\n\n            var parseUnknownAppExt = function (block) {\n                block.appData = readSubBlocks();\n                // FIXME: This won't work if a handler wants to match on any identifier.\n                handler.app && handler.app[block.identifier] && handler.app[block.identifier](block);\n            };\n\n            var blockSize = st.readByte(); // Always 11\n            block.identifier = st.read(8);\n            block.authCode = st.read(3);\n            switch (block.identifier) {\n                case 'NETSCAPE':\n                    parseNetscapeExt(block);\n                    break;\n                default:\n                    parseUnknownAppExt(block);\n                    break;\n            }\n        };\n\n        var parseUnknownExt = function (block) {\n            block.data = readSubBlocks();\n            handler.unknown && handler.unknown(block);\n        };\n\n        block.label = st.readByte();\n        switch (block.label) {\n            case 0xF9:\n                block.extType = 'gce';\n                parseGCExt(block);\n                break;\n            case 0xFE:\n                block.extType = 'com';\n                parseComExt(block);\n                break;\n            case 0x01:\n                block.extType = 'pte';\n                parsePTExt(block);\n                break;\n            case 0xFF:\n                block.extType = 'app';\n                parseAppExt(block);\n                break;\n            default:\n                block.extType = 'unknown';\n                parseUnknownExt(block);\n                break;\n        }\n    };\n\n    var parseImg = function (img) {\n        var deinterlace = function (pixels, width) {\n            // Of course this defeats the purpose of interlacing. And it's *probably*\n            // the least efficient way it's ever been implemented. But nevertheless...\n            var newPixels = new Array(pixels.length);\n            var rows = pixels.length / width;\n            var cpRow = function (toRow, fromRow) {\n                var fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n                newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n            };\n\n            // See appendix E.\n            var offsets = [0, 4, 2, 1];\n            var steps = [8, 8, 4, 2];\n\n            var fromRow = 0;\n            for (var pass = 0; pass < 4; pass++) {\n                for (var toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n                    cpRow(toRow, fromRow)\n                    fromRow++;\n                }\n            }\n\n            return newPixels;\n        };\n\n        img.leftPos = st.readUnsigned();\n        img.topPos = st.readUnsigned();\n        img.width = st.readUnsigned();\n        img.height = st.readUnsigned();\n\n        var bits = byteToBitArr(st.readByte());\n        img.lctFlag = bits.shift();\n        img.interlaced = bits.shift();\n        img.sorted = bits.shift();\n        img.reserved = bits.splice(0, 2);\n        img.lctSize = bitsToNum(bits.splice(0, 3));\n\n        if (img.lctFlag) {\n            img.lct = parseCT(1 << (img.lctSize + 1));\n        }\n\n        img.lzwMinCodeSize = st.readByte();\n\n        var lzwData = readSubBlocks();\n\n        img.pixels = lzwDecode(img.lzwMinCodeSize, lzwData);\n\n        if (img.interlaced) { // Move\n            img.pixels = deinterlace(img.pixels, img.width);\n        }\n\n        handler.img && handler.img(img);\n    };\n\n    var parseBlock = function () {\n        var block = {};\n        block.sentinel = st.readByte();\n\n        switch (String.fromCharCode(block.sentinel)) { // For ease of matching\n            case '!':\n                block.type = 'ext';\n                parseExt(block);\n                break;\n            case ',':\n                block.type = 'img';\n                parseImg(block);\n                break;\n            case ';':\n                block.type = 'eof';\n                handler.eof && handler.eof(block);\n                break;\n            default:\n                throw new Error('Unknown block: 0x' + block.sentinel.toString(16)); // TODO: Pad this with a 0.\n        }\n\n        if (block.type !== 'eof') setTimeout(parseBlock, 0);\n    };\n\n    var parse = function () {\n        parseHeader();\n        setTimeout(parseBlock, 0);\n    };\n\n    parse();\n};\n\nvar SuperGif = function ( opts ) {\n    var options = {\n        //viewport position\n        vp_l: 0,\n        vp_t: 0,\n        vp_w: null,\n        vp_h: null,\n        //canvas sizes\n        c_w: null,\n        c_h: null\n    };\n    for (var i in opts ) { options[i] = opts[i] }\n    if (options.vp_w && options.vp_h) options.is_vp = true;\n\n    var stream;\n    var hdr;\n\n    var loadError = null;\n    var loading = false;\n\n    var transparency = null;\n    var delay = null;\n    var disposalMethod = null;\n    var disposalRestoreFromIdx = null;\n    var lastDisposalMethod = null;\n    var frame = null;\n    var lastImg = null;\n\n    var playing = true;\n    var forward = true;\n\n    var ctx_scaled = false;\n\n    var frames = [];\n    var frameOffsets = []; // elements have .x and .y properties\n\n    var gif = options.gif;\n    if (typeof options.auto_play == 'undefined')\n        options.auto_play = (!gif.getAttribute('rel:auto_play') || gif.getAttribute('rel:auto_play') == '1');\n\n    var onEndListener = (options.hasOwnProperty('on_end') ? options.on_end : null);\n    var loopDelay = (options.hasOwnProperty('loop_delay') ? options.loop_delay : 0);\n    var overrideLoopMode = (options.hasOwnProperty('loop_mode') ? options.loop_mode : 'auto');\n    var drawWhileLoading = (options.hasOwnProperty('draw_while_loading') ? options.draw_while_loading : true);\n    var showProgressBar = drawWhileLoading ? (options.hasOwnProperty('show_progress_bar') ? options.show_progress_bar : true) : false;\n    var progressBarHeight = (options.hasOwnProperty('progressbar_height') ? options.progressbar_height : 25);\n    var progressBarBackgroundColor = (options.hasOwnProperty('progressbar_background_color') ? options.progressbar_background_color : 'rgba(255,255,255,0.4)');\n    var progressBarForegroundColor = (options.hasOwnProperty('progressbar_foreground_color') ? options.progressbar_foreground_color : 'rgba(255,0,22,.8)');\n\n    var clear = function () {\n        transparency = null;\n        delay = null;\n        lastDisposalMethod = disposalMethod;\n        disposalMethod = null;\n        frame = null;\n    };\n\n    // XXX: There's probably a better way to handle catching exceptions when\n    // callbacks are involved.\n    var doParse = function () {\n        try {\n            parseGIF(stream, handler);\n        }\n        catch (err) {\n            doLoadError('parse');\n        }\n    };\n\n    var doText = function (text) {\n        toolbar.innerHTML = text; // innerText? Escaping? Whatever.\n        toolbar.style.visibility = 'visible';\n    };\n\n    var setSizes = function(w, h) {\n        canvas.width = w * get_canvas_scale();\n        canvas.height = h * get_canvas_scale();\n        toolbar.style.minWidth = ( w * get_canvas_scale() ) + 'px';\n\n        tmpCanvas.width = w;\n        tmpCanvas.height = h;\n        tmpCanvas.style.width = w + 'px';\n        tmpCanvas.style.height = h + 'px';\n        tmpCanvas.getContext('2d').setTransform(1, 0, 0, 1, 0, 0);\n    };\n\n    var setFrameOffset = function(frame, offset) {\n        if (!frameOffsets[frame]) {\n            frameOffsets[frame] = offset;\n            return;\n        }\n        if (typeof offset.x !== 'undefined') {\n            frameOffsets[frame].x = offset.x;\n        }\n        if (typeof offset.y !== 'undefined') {\n            frameOffsets[frame].y = offset.y;\n        }\n    };\n\n    var doShowProgress = function (pos, length, draw) {\n        if (draw && showProgressBar) {\n            var height = progressBarHeight;\n            var left, mid, top, width;\n            if (options.is_vp) {\n                if (!ctx_scaled) {\n                    top = (options.vp_t + options.vp_h - height);\n                    height = height;\n                    left = options.vp_l;\n                    mid = left + (pos / length) * options.vp_w;\n                    width = canvas.width;\n                } else {\n                    top = (options.vp_t + options.vp_h - height) / get_canvas_scale();\n                    height = height / get_canvas_scale();\n                    left = (options.vp_l / get_canvas_scale() );\n                    mid = left + (pos / length) * (options.vp_w / get_canvas_scale());\n                    width = canvas.width / get_canvas_scale();\n                }\n                //some debugging, draw rect around viewport\n                if (false) {\n                    if (!ctx_scaled) {\n                        var l = options.vp_l, t = options.vp_t;\n                        var w = options.vp_w, h = options.vp_h;\n                    } else {\n                        var l = options.vp_l/get_canvas_scale(), t = options.vp_t/get_canvas_scale();\n                        var w = options.vp_w/get_canvas_scale(), h = options.vp_h/get_canvas_scale();\n                    }\n                    ctx.rect(l,t,w,h);\n                    ctx.stroke();\n                }\n            }\n            else {\n                top = (canvas.height - height) / (ctx_scaled ? get_canvas_scale() : 1);\n                mid = ((pos / length) * canvas.width) / (ctx_scaled ? get_canvas_scale() : 1);\n                width = canvas.width / (ctx_scaled ? get_canvas_scale() : 1 );\n                height /= ctx_scaled ? get_canvas_scale() : 1;\n            }\n\n            ctx.fillStyle = progressBarBackgroundColor;\n            ctx.fillRect(mid, top, width - mid, height);\n\n            ctx.fillStyle = progressBarForegroundColor;\n            ctx.fillRect(0, top, mid, height);\n        }\n    };\n\n    var doLoadError = function (originOfError) {\n        var drawError = function () {\n            ctx.fillStyle = 'black';\n            ctx.fillRect(0, 0, options.c_w ? options.c_w : hdr.width, options.c_h ? options.c_h : hdr.height);\n            ctx.strokeStyle = 'red';\n            ctx.lineWidth = 3;\n            ctx.moveTo(0, 0);\n            ctx.lineTo(options.c_w ? options.c_w : hdr.width, options.c_h ? options.c_h : hdr.height);\n            ctx.moveTo(0, options.c_h ? options.c_h : hdr.height);\n            ctx.lineTo(options.c_w ? options.c_w : hdr.width, 0);\n            ctx.stroke();\n        };\n\n        loadError = originOfError;\n        hdr = {\n            width: gif.width,\n            height: gif.height\n        }; // Fake header.\n        frames = [];\n        drawError();\n    };\n\n    var doHdr = function (_hdr) {\n        hdr = _hdr;\n        setSizes(hdr.width, hdr.height)\n    };\n\n    var doGCE = function (gce) {\n        pushFrame();\n        clear();\n        transparency = gce.transparencyGiven ? gce.transparencyIndex : null;\n        delay = gce.delayTime;\n        disposalMethod = gce.disposalMethod;\n        // We don't have much to do with the rest of GCE.\n    };\n\n    var pushFrame = function () {\n        if (!frame) return;\n        frames.push({\n                        data: frame.getImageData(0, 0, hdr.width, hdr.height),\n                        delay: delay\n                    });\n        frameOffsets.push({ x: 0, y: 0 });\n    };\n\n    var doImg = function (img) {\n        if (!frame) frame = tmpCanvas.getContext('2d');\n\n        var currIdx = frames.length;\n\n        //ct = color table, gct = global color table\n        var ct = img.lctFlag ? img.lct : hdr.gct; // TODO: What if neither exists?\n\n        /*\n        Disposal method indicates the way in which the graphic is to\n        be treated after being displayed.\n\n        Values :    0 - No disposal specified. The decoder is\n                        not required to take any action.\n                    1 - Do not dispose. The graphic is to be left\n                        in place.\n                    2 - Restore to background color. The area used by the\n                        graphic must be restored to the background color.\n                    3 - Restore to previous. The decoder is required to\n                        restore the area overwritten by the graphic with\n                        what was there prior to rendering the graphic.\n\n                        Importantly, \"previous\" means the frame state\n                        after the last disposal of method 0, 1, or 2.\n        */\n        if (currIdx > 0) {\n            if (lastDisposalMethod === 3) {\n                // Restore to previous\n                // If we disposed every frame including first frame up to this point, then we have\n                // no composited frame to restore to. In this case, restore to background instead.\n                if (disposalRestoreFromIdx !== null) {\n                    frame.putImageData(frames[disposalRestoreFromIdx].data, 0, 0);\n                } else {\n                    frame.clearRect(lastImg.leftPos, lastImg.topPos, lastImg.width, lastImg.height);\n                }\n            } else {\n                disposalRestoreFromIdx = currIdx - 1;\n            }\n\n            if (lastDisposalMethod === 2) {\n                // Restore to background color\n                // Browser implementations historically restore to transparent; we do the same.\n                // http://www.wizards-toolkit.org/discourse-server/viewtopic.php?f=1&t=21172#p86079\n                frame.clearRect(lastImg.leftPos, lastImg.topPos, lastImg.width, lastImg.height);\n            }\n        }\n        // else, Undefined/Do not dispose.\n        // frame contains final pixel data from the last frame; do nothing\n\n        //Get existing pixels for img region after applying disposal method\n        var imgData = frame.getImageData(img.leftPos, img.topPos, img.width, img.height);\n\n        //apply color table colors\n        img.pixels.forEach(function (pixel, i) {\n            // imgData.data === [R,G,B,A,R,G,B,A,...]\n            if (pixel !== transparency) {\n                imgData.data[i * 4 + 0] = ct[pixel][0];\n                imgData.data[i * 4 + 1] = ct[pixel][1];\n                imgData.data[i * 4 + 2] = ct[pixel][2];\n                imgData.data[i * 4 + 3] = 255; // Opaque.\n            }\n        });\n\n        frame.putImageData(imgData, img.leftPos, img.topPos);\n\n        if (!ctx_scaled) {\n            ctx.scale(get_canvas_scale(),get_canvas_scale());\n            ctx_scaled = true;\n        }\n\n        // We could use the on-page canvas directly, except that we draw a progress\n        // bar for each image chunk (not just the final image).\n        if (drawWhileLoading) {\n            ctx.drawImage(tmpCanvas, 0, 0);\n            drawWhileLoading = options.auto_play;\n        }\n\n        lastImg = img;\n    };\n\n    var player = (function () {\n        var i = -1;\n        var iterationCount = 0;\n\n        var showingInfo = false;\n        var pinned = false;\n\n        /**\n         * Gets the index of the frame \"up next\".\n         * @returns {number}\n         */\n        var getNextFrameNo = function () {\n            var delta = (forward ? 1 : -1);\n            return (i + delta + frames.length) % frames.length;\n        };\n\n        var stepFrame = function (amount) { // XXX: Name is confusing.\n            i = i + amount;\n\n            putFrame();\n        };\n\n        var step = (function () {\n            var stepping = false;\n\n            var completeLoop = function () {\n                if (onEndListener !== null)\n                    onEndListener(gif);\n                iterationCount++;\n\n                if (overrideLoopMode !== false || iterationCount < 0) {\n                    doStep();\n                } else {\n                    stepping = false;\n                    playing = false;\n                }\n            };\n\n            var doStep = function () {\n                stepping = playing;\n                if (!stepping) return;\n\n                stepFrame(1);\n                var delay = frames[i].delay * 10;\n                if (!delay) delay = 100; // FIXME: Should this even default at all? What should it be?\n\n                var nextFrameNo = getNextFrameNo();\n                if (nextFrameNo === 0) {\n                    delay += loopDelay;\n                    setTimeout(completeLoop, delay);\n                } else {\n                    setTimeout(doStep, delay);\n                }\n            };\n\n            return function () {\n                if (!stepping) setTimeout(doStep, 0);\n            };\n        }());\n\n        var putFrame = function () {\n            var offset;\n            i = parseInt(i, 10);\n\n            if (i > frames.length - 1){\n                i = 0;\n            }\n\n            if (i < 0){\n                i = 0;\n            }\n\n            offset = frameOffsets[i];\n\n            tmpCanvas.getContext(\"2d\").putImageData(frames[i].data, offset.x, offset.y);\n            ctx.globalCompositeOperation = \"copy\";\n            ctx.drawImage(tmpCanvas, 0, 0);\n        };\n\n        var play = function () {\n            playing = true;\n            step();\n        };\n\n        var pause = function () {\n            playing = false;\n        };\n\n\n        return {\n            init: function () {\n                if (loadError) return;\n\n                if ( ! (options.c_w && options.c_h) ) {\n                    ctx.scale(get_canvas_scale(),get_canvas_scale());\n                }\n\n                if (options.auto_play) {\n                    step();\n                }\n                else {\n                    i = 0;\n                    putFrame();\n                }\n            },\n            step: step,\n            play: play,\n            pause: pause,\n            playing: playing,\n            move_relative: stepFrame,\n            current_frame: function() { return i; },\n            length: function() { return frames.length },\n            move_to: function ( frame_idx ) {\n                i = frame_idx;\n                putFrame();\n            }\n        }\n    }());\n\n    var doDecodeProgress = function (draw) {\n        doShowProgress(stream.pos, stream.data.length, draw);\n    };\n\n    var doNothing = function () {};\n    /**\n     * @param{boolean=} draw Whether to draw progress bar or not; this is not idempotent because of translucency.\n     *                       Note that this means that the text will be unsynchronized with the progress bar on non-frames;\n     *                       but those are typically so small (GCE etc.) that it doesn't really matter. TODO: Do this properly.\n     */\n    var withProgress = function (fn, draw) {\n        return function (block) {\n            fn(block);\n            doDecodeProgress(draw);\n        };\n    };\n\n\n    var handler = {\n        hdr: withProgress(doHdr),\n        gce: withProgress(doGCE),\n        com: withProgress(doNothing),\n        // I guess that's all for now.\n        app: {\n            // TODO: Is there much point in actually supporting iterations?\n            NETSCAPE: withProgress(doNothing)\n        },\n        img: withProgress(doImg, true),\n        eof: function (block) {\n            //toolbar.style.display = '';\n            pushFrame();\n            doDecodeProgress(false);\n            if ( ! (options.c_w && options.c_h) ) {\n                canvas.width = hdr.width * get_canvas_scale();\n                canvas.height = hdr.height * get_canvas_scale();\n            }\n            player.init();\n            loading = false;\n            if (load_callback) {\n                load_callback(gif);\n            }\n\n        }\n    };\n\n    var init = function () {\n        var parent = gif.parentNode;\n\n        var div = document.createElement('div');\n        canvas = document.createElement('canvas');\n        ctx = canvas.getContext('2d');\n        toolbar = document.createElement('div');\n\n        tmpCanvas = document.createElement('canvas');\n\n        div.width = canvas.width = gif.width;\n        div.height = canvas.height = gif.height;\n        toolbar.style.minWidth = gif.width + 'px';\n\n        div.className = 'jsgif';\n        toolbar.className = 'jsgif_toolbar';\n        div.appendChild(canvas);\n        div.appendChild(toolbar);\n\n        parent.insertBefore(div, gif);\n        parent.removeChild(gif);\n\n        if (options.c_w && options.c_h) setSizes(options.c_w, options.c_h);\n        initialized=true;\n    };\n\n    var get_canvas_scale = function() {\n        var scale;\n        if (options.max_width && hdr && hdr.width > options.max_width) {\n            scale = options.max_width / hdr.width;\n        }\n        else {\n            scale = 1;\n        }\n        return scale;\n    }\n\n    var canvas, ctx, toolbar, tmpCanvas;\n    var initialized = false;\n    var load_callback = false;\n\n    var load_setup = function(callback) {\n        if (loading) return false;\n        if (callback) load_callback = callback;\n        else load_callback = false;\n\n        loading = true;\n        frames = [];\n        clear();\n        disposalRestoreFromIdx = null;\n        lastDisposalMethod = null;\n        frame = null;\n        lastImg = null;\n\n        return true;\n    }\n\n    var calculateDuration = function() {\n        return frames.reduce(function(duration, frame) {\n            return duration + frame.delay;\n        }, 0);\n    }\n\n    return {\n        // play controls\n        play: player.play,\n        pause: player.pause,\n        move_relative: player.move_relative,\n        move_to: player.move_to,\n\n        // getters for instance vars\n        get_playing      : function() { return playing },\n        get_canvas       : function() { return canvas },\n        get_canvas_scale : function() { return get_canvas_scale() },\n        get_loading      : function() { return loading },\n        get_auto_play    : function() { return options.auto_play },\n        get_length       : function() { return player.length() },\n        get_frames       : function() { return frames },\n        get_duration     : function() { return calculateDuration() },\n        get_duration_ms  : function() { return calculateDuration() * 10 },\n        get_current_frame: function() { return player.current_frame() },\n        load_url: function(src,callback){\n            if (!load_setup(callback)) return;\n\n            var h = new XMLHttpRequest();\n            // new browsers (XMLHttpRequest2-compliant)\n            h.open('GET', src, true);\n\n            if ('overrideMimeType' in h) {\n                h.overrideMimeType('text/plain; charset=x-user-defined');\n            }\n\n            // old browsers (XMLHttpRequest-compliant)\n            else if ('responseType' in h) {\n                h.responseType = 'arraybuffer';\n            }\n\n            // IE9 (Microsoft.XMLHTTP-compliant)\n            else {\n                h.setRequestHeader('Accept-Charset', 'x-user-defined');\n            }\n\n            h.onloadstart = function() {\n                // Wait until connection is opened to replace the gif element with a canvas to avoid a blank img\n                if (!initialized) init();\n            };\n            h.onload = function(e) {\n                if (this.status != 200) {\n                    doLoadError('xhr - response');\n                }\n                // emulating response field for IE9\n                if (!('response' in this)) {\n                    this.response = new VBArray(this.responseText).toArray().map(String.fromCharCode).join('');\n                }\n                var data = this.response;\n                if (data.toString().indexOf(\"ArrayBuffer\") > 0) {\n                    data = new Uint8Array(data);\n                }\n\n                stream = new Stream(data);\n                setTimeout(doParse, 0);\n            };\n            h.onprogress = function (e) {\n                if (e.lengthComputable) doShowProgress(e.loaded, e.total, true);\n            };\n            h.onerror = function() { doLoadError('xhr'); };\n            h.send();\n        },\n        load: function (callback) {\n            this.load_url(gif.getAttribute('rel:animated_src') || gif.src,callback);\n        },\n        load_raw: function(arr, callback) {\n            if (!load_setup(callback)) return;\n            if (!initialized) init();\n            stream = new Stream(arr);\n            setTimeout(doParse, 0);\n        },\n        set_frame_offset: setFrameOffset\n    };\n};\n\nexport default SuperGif;","/**\r\n * netcdfjs - Read and explore NetCDF files\r\n * @version v1.0.0\r\n * @link https://github.com/cheminfo-js/netcdfjs\r\n * @license MIT\r\n */\r\nvar NetCDFReaderExport;\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n  if (typeof exports === 'object' && typeof module === 'object')\r\n    module.exports = factory();\r\n  else if (typeof define === 'function' && define.amd)\r\n    define([], factory);\r\n  else if (typeof exports === 'object')\r\n    exports[\"netcdfjs\"] = factory();\r\n  else\r\n    root[\"netcdfjs\"] = factory();\r\n})(typeof self !== 'undefined' ? self : this, function() {\r\n  return /******/ (function(modules) { // webpackBootstrap\r\n    /******/ // The module cache\r\n    /******/\r\n    var installedModules = {};\r\n    /******/\r\n    /******/ // The require function\r\n    /******/\r\n    function __webpack_require__(moduleId) {\r\n      /******/\r\n      /******/ // Check if module is in cache\r\n      /******/\r\n      if (installedModules[moduleId]) {\r\n        /******/\r\n        return installedModules[moduleId].exports;\r\n        /******/\r\n      }\r\n      /******/ // Create a new module (and put it into the cache)\r\n      /******/\r\n      var module = installedModules[moduleId] = {\r\n        /******/\r\n        i: moduleId,\r\n        /******/\r\n        l: false,\r\n        /******/\r\n        exports: {}\r\n        /******/\r\n      };\r\n      /******/\r\n      /******/ // Execute the module function\r\n      /******/\r\n      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n      /******/\r\n      /******/ // Flag the module as loaded\r\n      /******/\r\n      module.l = true;\r\n      /******/\r\n      /******/ // Return the exports of the module\r\n      /******/\r\n      return module.exports;\r\n      /******/\r\n    }\r\n    /******/\r\n    /******/\r\n    /******/ // expose the modules object (__webpack_modules__)\r\n    /******/\r\n    __webpack_require__.m = modules;\r\n    /******/\r\n    /******/ // expose the module cache\r\n    /******/\r\n    __webpack_require__.c = installedModules;\r\n    /******/\r\n    /******/ // define getter function for harmony exports\r\n    /******/\r\n    __webpack_require__.d = function(exports, name, getter) {\r\n      /******/\r\n      if (!__webpack_require__.o(exports, name)) {\r\n        /******/\r\n        Object.defineProperty(exports, name, {\r\n          enumerable: true,\r\n          get: getter\r\n        });\r\n        /******/\r\n      }\r\n      /******/\r\n    };\r\n    /******/\r\n    /******/ // define __esModule on exports\r\n    /******/\r\n    __webpack_require__.r = function(exports) {\r\n      /******/\r\n      if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n        /******/\r\n        Object.defineProperty(exports, Symbol.toStringTag, {\r\n          value: 'Module'\r\n        });\r\n        /******/\r\n      }\r\n      /******/\r\n      Object.defineProperty(exports, '__esModule', {\r\n        value: true\r\n      });\r\n      /******/\r\n    };\r\n    /******/\r\n    /******/ // create a fake namespace object\r\n    /******/ // mode & 1: value is a module id, require it\r\n    /******/ // mode & 2: merge all properties of value into the ns\r\n    /******/ // mode & 4: return value when already ns object\r\n    /******/ // mode & 8|1: behave like require\r\n    /******/\r\n    __webpack_require__.t = function(value, mode) {\r\n      /******/\r\n      if (mode & 1) value = __webpack_require__(value);\r\n      /******/\r\n      if (mode & 8) return value;\r\n      /******/\r\n      if ((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n      /******/\r\n      var ns = Object.create(null);\r\n      /******/\r\n      __webpack_require__.r(ns);\r\n      /******/\r\n      Object.defineProperty(ns, 'default', {\r\n        enumerable: true,\r\n        value: value\r\n      });\r\n      /******/\r\n      if (mode & 2 && typeof value != 'string')\r\n        for (var key in value) __webpack_require__.d(ns, key, function(key) {\r\n          return value[key];\r\n        }.bind(null, key));\r\n      /******/\r\n      return ns;\r\n      /******/\r\n    };\r\n    /******/\r\n    /******/ // getDefaultExport function for compatibility with non-harmony modules\r\n    /******/\r\n    __webpack_require__.n = function(module) {\r\n      /******/\r\n      var getter = module && module.__esModule ?\r\n        /******/\r\n        function getDefault() {\r\n          return module['default'];\r\n        } :\r\n        /******/\r\n        function getModuleExports() {\r\n          return module;\r\n        };\r\n      /******/\r\n      __webpack_require__.d(getter, 'a', getter);\r\n      /******/\r\n      return getter;\r\n      /******/\r\n    };\r\n    /******/\r\n    /******/ // Object.prototype.hasOwnProperty.call\r\n    /******/\r\n    __webpack_require__.o = function(object, property) {\r\n      return Object.prototype.hasOwnProperty.call(object, property);\r\n    };\r\n    /******/\r\n    /******/ // __webpack_public_path__\r\n    /******/\r\n    __webpack_require__.p = \"\";\r\n    /******/\r\n    /******/\r\n    /******/ // Load entry module and return exports\r\n    /******/\r\n    return __webpack_require__(__webpack_require__.s = 3);\r\n    /******/\r\n  })\r\n  /************************************************************************/\r\n  /******/\r\n  ([\r\n    /* 0 */\r\n    /***/\r\n    (function(module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n      /**\r\n       * Throws a non-valid NetCDF exception if the statement it's true\r\n       * @ignore\r\n       * @param {boolean} statement - Throws if true\r\n       * @param {string} reason - Reason to throw\r\n       */\r\n\r\n      function notNetcdf(statement, reason) {\r\n        if (statement) {\r\n          throw new TypeError(\"Not a valid NetCDF v3.x file: \".concat(reason));\r\n        }\r\n      }\r\n      /**\r\n       * Moves 1, 2, or 3 bytes to next 4-byte boundary\r\n       * @ignore\r\n       * @param {IOBuffer} buffer - Buffer for the file data\r\n       */\r\n\r\n\r\n      function padding(buffer) {\r\n        if (buffer.offset % 4 !== 0) {\r\n          buffer.skip(4 - buffer.offset % 4);\r\n        }\r\n      }\r\n      /**\r\n       * Reads the name\r\n       * @ignore\r\n       * @param {IOBuffer} buffer - Buffer for the file data\r\n       * @return {string} - Name\r\n       */\r\n\r\n\r\n      function readName(buffer) {\r\n        // Read name\r\n        var nameLength = buffer.readUint32();\r\n        var name = buffer.readChars(nameLength); // validate name\r\n        // TODO\r\n        // Apply padding\r\n\r\n        padding(buffer);\r\n        return name;\r\n      }\r\n\r\n      module.exports.notNetcdf = notNetcdf;\r\n      module.exports.padding = padding;\r\n      module.exports.readName = readName;\r\n\r\n      /***/\r\n    }),\r\n    /* 1 */\r\n    /***/\r\n    (function(module, exports, __webpack_require__) {\r\n\r\n      /*! https://mths.be/utf8js v3.0.0 by @mathias */\r\n      ;\r\n\r\n      (function(root) {\r\n        var stringFromCharCode = String.fromCharCode; // Taken from https://mths.be/punycode\r\n\r\n        function ucs2decode(string) {\r\n          var output = [];\r\n          var counter = 0;\r\n          var length = string.length;\r\n          var value;\r\n          var extra;\r\n\r\n          while (counter < length) {\r\n            value = string.charCodeAt(counter++);\r\n\r\n            if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\r\n              // high surrogate, and there is a next character\r\n              extra = string.charCodeAt(counter++);\r\n\r\n              if ((extra & 0xFC00) == 0xDC00) {\r\n                // low surrogate\r\n                output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\r\n              } else {\r\n                // unmatched surrogate; only append this code unit, in case the next\r\n                // code unit is the high surrogate of a surrogate pair\r\n                output.push(value);\r\n                counter--;\r\n              }\r\n            } else {\r\n              output.push(value);\r\n            }\r\n          }\r\n\r\n          return output;\r\n        } // Taken from https://mths.be/punycode\r\n\r\n\r\n        function ucs2encode(array) {\r\n          var length = array.length;\r\n          var index = -1;\r\n          var value;\r\n          var output = '';\r\n\r\n          while (++index < length) {\r\n            value = array[index];\r\n\r\n            if (value > 0xFFFF) {\r\n              value -= 0x10000;\r\n              output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\r\n              value = 0xDC00 | value & 0x3FF;\r\n            }\r\n\r\n            output += stringFromCharCode(value);\r\n          }\r\n\r\n          return output;\r\n        }\r\n\r\n        function checkScalarValue(codePoint) {\r\n          if (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\r\n            throw Error('Lone surrogate U+' + codePoint.toString(16).toUpperCase() + ' is not a scalar value');\r\n          }\r\n        }\r\n        /*--------------------------------------------------------------------------*/\r\n\r\n\r\n        function createByte(codePoint, shift) {\r\n          return stringFromCharCode(codePoint >> shift & 0x3F | 0x80);\r\n        }\r\n\r\n        function encodeCodePoint(codePoint) {\r\n          if ((codePoint & 0xFFFFFF80) == 0) {\r\n            // 1-byte sequence\r\n            return stringFromCharCode(codePoint);\r\n          }\r\n\r\n          var symbol = '';\r\n\r\n          if ((codePoint & 0xFFFFF800) == 0) {\r\n            // 2-byte sequence\r\n            symbol = stringFromCharCode(codePoint >> 6 & 0x1F | 0xC0);\r\n          } else if ((codePoint & 0xFFFF0000) == 0) {\r\n            // 3-byte sequence\r\n            checkScalarValue(codePoint);\r\n            symbol = stringFromCharCode(codePoint >> 12 & 0x0F | 0xE0);\r\n            symbol += createByte(codePoint, 6);\r\n          } else if ((codePoint & 0xFFE00000) == 0) {\r\n            // 4-byte sequence\r\n            symbol = stringFromCharCode(codePoint >> 18 & 0x07 | 0xF0);\r\n            symbol += createByte(codePoint, 12);\r\n            symbol += createByte(codePoint, 6);\r\n          }\r\n\r\n          symbol += stringFromCharCode(codePoint & 0x3F | 0x80);\r\n          return symbol;\r\n        }\r\n\r\n        function utf8encode(string) {\r\n          var codePoints = ucs2decode(string);\r\n          var length = codePoints.length;\r\n          var index = -1;\r\n          var codePoint;\r\n          var byteString = '';\r\n\r\n          while (++index < length) {\r\n            codePoint = codePoints[index];\r\n            byteString += encodeCodePoint(codePoint);\r\n          }\r\n\r\n          return byteString;\r\n        }\r\n        /*--------------------------------------------------------------------------*/\r\n\r\n\r\n        function readContinuationByte() {\r\n          if (byteIndex >= byteCount) {\r\n            throw Error('Invalid byte index');\r\n          }\r\n\r\n          var continuationByte = byteArray[byteIndex] & 0xFF;\r\n          byteIndex++;\r\n\r\n          if ((continuationByte & 0xC0) == 0x80) {\r\n            return continuationByte & 0x3F;\r\n          } // If we end up here, it’s not a continuation byte\r\n\r\n\r\n          throw Error('Invalid continuation byte');\r\n        }\r\n\r\n        function decodeSymbol() {\r\n          var byte1;\r\n          var byte2;\r\n          var byte3;\r\n          var byte4;\r\n          var codePoint;\r\n\r\n          if (byteIndex > byteCount) {\r\n            throw Error('Invalid byte index');\r\n          }\r\n\r\n          if (byteIndex == byteCount) {\r\n            return false;\r\n          } // Read first byte\r\n\r\n\r\n          byte1 = byteArray[byteIndex] & 0xFF;\r\n          byteIndex++; // 1-byte sequence (no continuation bytes)\r\n\r\n          if ((byte1 & 0x80) == 0) {\r\n            return byte1;\r\n          } // 2-byte sequence\r\n\r\n\r\n          if ((byte1 & 0xE0) == 0xC0) {\r\n            byte2 = readContinuationByte();\r\n            codePoint = (byte1 & 0x1F) << 6 | byte2;\r\n\r\n            if (codePoint >= 0x80) {\r\n              return codePoint;\r\n            } else {\r\n              throw Error('Invalid continuation byte');\r\n            }\r\n          } // 3-byte sequence (may include unpaired surrogates)\r\n\r\n\r\n          if ((byte1 & 0xF0) == 0xE0) {\r\n            byte2 = readContinuationByte();\r\n            byte3 = readContinuationByte();\r\n            codePoint = (byte1 & 0x0F) << 12 | byte2 << 6 | byte3;\r\n\r\n            if (codePoint >= 0x0800) {\r\n              checkScalarValue(codePoint);\r\n              return codePoint;\r\n            } else {\r\n              throw Error('Invalid continuation byte');\r\n            }\r\n          } // 4-byte sequence\r\n\r\n\r\n          if ((byte1 & 0xF8) == 0xF0) {\r\n            byte2 = readContinuationByte();\r\n            byte3 = readContinuationByte();\r\n            byte4 = readContinuationByte();\r\n            codePoint = (byte1 & 0x07) << 0x12 | byte2 << 0x0C | byte3 << 0x06 | byte4;\r\n\r\n            if (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\r\n              return codePoint;\r\n            }\r\n          }\r\n\r\n          throw Error('Invalid UTF-8 detected');\r\n        }\r\n\r\n        var byteArray;\r\n        var byteCount;\r\n        var byteIndex;\r\n\r\n        function utf8decode(byteString) {\r\n          byteArray = ucs2decode(byteString);\r\n          byteCount = byteArray.length;\r\n          byteIndex = 0;\r\n          var codePoints = [];\r\n          var tmp;\r\n\r\n          while ((tmp = decodeSymbol()) !== false) {\r\n            codePoints.push(tmp);\r\n          }\r\n\r\n          return ucs2encode(codePoints);\r\n        }\r\n        /*--------------------------------------------------------------------------*/\r\n\r\n\r\n        root.version = '3.0.0';\r\n        root.encode = utf8encode;\r\n        root.decode = utf8decode;\r\n      })(false ? undefined : exports);\r\n\r\n      /***/\r\n    }),\r\n    /* 2 */\r\n    /***/\r\n    (function(module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n\r\n      const notNetcdf = __webpack_require__(0).notNetcdf;\r\n\r\n      const types = {\r\n        BYTE: 1,\r\n        CHAR: 2,\r\n        SHORT: 3,\r\n        INT: 4,\r\n        FLOAT: 5,\r\n        DOUBLE: 6\r\n      };\r\n      /**\r\n       * Parse a number into their respective type\r\n       * @ignore\r\n       * @param {number} type - integer that represents the type\r\n       * @return {string} - parsed value of the type\r\n       */\r\n\r\n      function num2str(type) {\r\n        switch (Number(type)) {\r\n          case types.BYTE:\r\n            return 'byte';\r\n\r\n          case types.CHAR:\r\n            return 'char';\r\n\r\n          case types.SHORT:\r\n            return 'short';\r\n\r\n          case types.INT:\r\n            return 'int';\r\n\r\n          case types.FLOAT:\r\n            return 'float';\r\n\r\n          case types.DOUBLE:\r\n            return 'double';\r\n\r\n            /* istanbul ignore next */\r\n\r\n          default:\r\n            return 'undefined';\r\n        }\r\n      }\r\n      /**\r\n       * Parse a number type identifier to his size in bytes\r\n       * @ignore\r\n       * @param {number} type - integer that represents the type\r\n       * @return {number} -size of the type\r\n       */\r\n\r\n\r\n      function num2bytes(type) {\r\n        switch (Number(type)) {\r\n          case types.BYTE:\r\n            return 1;\r\n\r\n          case types.CHAR:\r\n            return 1;\r\n\r\n          case types.SHORT:\r\n            return 2;\r\n\r\n          case types.INT:\r\n            return 4;\r\n\r\n          case types.FLOAT:\r\n            return 4;\r\n\r\n          case types.DOUBLE:\r\n            return 8;\r\n\r\n            /* istanbul ignore next */\r\n\r\n          default:\r\n            return -1;\r\n        }\r\n      }\r\n      /**\r\n       * Reverse search of num2str\r\n       * @ignore\r\n       * @param {string} type - string that represents the type\r\n       * @return {number} - parsed value of the type\r\n       */\r\n\r\n\r\n      function str2num(type) {\r\n        switch (String(type)) {\r\n          case 'byte':\r\n            return types.BYTE;\r\n\r\n          case 'char':\r\n            return types.CHAR;\r\n\r\n          case 'short':\r\n            return types.SHORT;\r\n\r\n          case 'int':\r\n            return types.INT;\r\n\r\n          case 'float':\r\n            return types.FLOAT;\r\n\r\n          case 'double':\r\n            return types.DOUBLE;\r\n\r\n            /* istanbul ignore next */\r\n\r\n          default:\r\n            return -1;\r\n        }\r\n      }\r\n      /**\r\n       * Auxiliary function to read numeric data\r\n       * @ignore\r\n       * @param {number} size - Size of the element to read\r\n       * @param {function} bufferReader - Function to read next value\r\n       * @return {Array<number>|number}\r\n       */\r\n\r\n\r\n      function readNumber(size, bufferReader) {\r\n        if (size !== 1) {\r\n          var numbers = new Array(size);\r\n\r\n          for (var i = 0; i < size; i++) {\r\n            numbers[i] = bufferReader();\r\n          }\r\n\r\n          return numbers;\r\n        } else {\r\n          return bufferReader();\r\n        }\r\n      }\r\n      /**\r\n       * Given a type and a size reads the next element\r\n       * @ignore\r\n       * @param {IOBuffer} buffer - Buffer for the file data\r\n       * @param {number} type - Type of the data to read\r\n       * @param {number} size - Size of the element to read\r\n       * @return {string|Array<number>|number}\r\n       */\r\n\r\n\r\n      function readType(buffer, type, size) {\r\n        switch (type) {\r\n          case types.BYTE:\r\n            return buffer.readBytes(size);\r\n\r\n          case types.CHAR:\r\n            return trimNull(buffer.readChars(size));\r\n\r\n          case types.SHORT:\r\n            return readNumber(size, buffer.readInt16.bind(buffer));\r\n\r\n          case types.INT:\r\n            return readNumber(size, buffer.readInt32.bind(buffer));\r\n\r\n          case types.FLOAT:\r\n            return readNumber(size, buffer.readFloat32.bind(buffer));\r\n\r\n          case types.DOUBLE:\r\n            return readNumber(size, buffer.readFloat64.bind(buffer));\r\n\r\n            /* istanbul ignore next */\r\n\r\n          default:\r\n            notNetcdf(true, \"non valid type \".concat(type));\r\n            return undefined;\r\n        }\r\n      }\r\n      /**\r\n       * Removes null terminate value\r\n       * @ignore\r\n       * @param {string} value - String to trim\r\n       * @return {string} - Trimmed string\r\n       */\r\n\r\n\r\n      function trimNull(value) {\r\n        if (value.charCodeAt(value.length - 1) === 0) {\r\n          return value.substring(0, value.length - 1);\r\n        }\r\n\r\n        return value;\r\n      }\r\n\r\n      module.exports = types;\r\n      module.exports.num2str = num2str;\r\n      module.exports.num2bytes = num2bytes;\r\n      module.exports.str2num = str2num;\r\n      module.exports.readType = readType;\r\n\r\n      /***/\r\n    }),\r\n    /* 3 */\r\n    /***/\r\n    (function(module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n\r\n      const {\r\n        IOBuffer\r\n      } = __webpack_require__(4);\r\n\r\n      const utils = __webpack_require__(0);\r\n\r\n      const data = __webpack_require__(5);\r\n\r\n      const readHeader = __webpack_require__(6);\r\n\r\n      const toString = __webpack_require__(7);\r\n      /**\r\n       * Reads a NetCDF v3.x file\r\n       * https://www.unidata.ucar.edu/software/netcdf/docs/file_format_specifications.html\r\n       * @param {ArrayBuffer} data - ArrayBuffer or any Typed Array (including Node.js' Buffer from v4) with the data\r\n       * @constructor\r\n       */\r\n\r\n\r\n      class NetCDFReader {\r\n        constructor(data) {\r\n          const buffer = new IOBuffer(data);\r\n          buffer.setBigEndian(); // Validate that it's a NetCDF file\r\n\r\n          utils.notNetcdf(buffer.readChars(3) !== 'CDF', 'should start with CDF'); // Check the NetCDF format\r\n\r\n          const version = buffer.readByte();\r\n          utils.notNetcdf(version > 2, 'unknown version'); // Read the header\r\n\r\n          this.header = readHeader(buffer, version);\r\n          this.buffer = buffer;\r\n        }\r\n        /**\r\n         * @return {string} - Version for the NetCDF format\r\n         */\r\n\r\n\r\n        get version() {\r\n          if (this.header.version === 1) {\r\n            return 'classic format';\r\n          } else {\r\n            return '64-bit offset format';\r\n          }\r\n        }\r\n        /**\r\n         * @return {object} - Metadata for the record dimension\r\n         *  * `length`: Number of elements in the record dimension\r\n         *  * `id`: Id number in the list of dimensions for the record dimension\r\n         *  * `name`: String with the name of the record dimension\r\n         *  * `recordStep`: Number with the record variables step size\r\n         */\r\n\r\n\r\n        get recordDimension() {\r\n          return this.header.recordDimension;\r\n        }\r\n        /**\r\n         * @return {Array<object>} - List of dimensions with:\r\n         *  * `name`: String with the name of the dimension\r\n         *  * `size`: Number with the size of the dimension\r\n         */\r\n\r\n\r\n        get dimensions() {\r\n          return this.header.dimensions;\r\n        }\r\n        /**\r\n         * @return {Array<object>} - List of global attributes with:\r\n         *  * `name`: String with the name of the attribute\r\n         *  * `type`: String with the type of the attribute\r\n         *  * `value`: A number or string with the value of the attribute\r\n         */\r\n\r\n\r\n        get globalAttributes() {\r\n          return this.header.globalAttributes;\r\n        }\r\n        /**\r\n         * Returns the value of an attribute\r\n         * @param {string} attributeName\r\n         * @return {string} Value of the attributeName or null\r\n         */\r\n\r\n\r\n        getAttribute(attributeName) {\r\n          const attribute = this.globalAttributes.find(val => val.name === attributeName);\r\n          if (attribute) return attribute.value;\r\n          return null;\r\n        }\r\n        /**\r\n         * Returns the value of a variable as a string\r\n         * @param {string} variableName\r\n         * @return {string} Value of the variable as a string or null\r\n         */\r\n\r\n\r\n        getDataVariableAsString(variableName) {\r\n          const variable = this.getDataVariable(variableName);\r\n          if (variable) return variable.join('');\r\n          return null;\r\n        }\r\n        /**\r\n         * @return {Array<object>} - List of variables with:\r\n         *  * `name`: String with the name of the variable\r\n         *  * `dimensions`: Array with the dimension IDs of the variable\r\n         *  * `attributes`: Array with the attributes of the variable\r\n         *  * `type`: String with the type of the variable\r\n         *  * `size`: Number with the size of the variable\r\n         *  * `offset`: Number with the offset where of the variable begins\r\n         *  * `record`: True if is a record variable, false otherwise\r\n         */\r\n\r\n\r\n        get variables() {\r\n          return this.header.variables;\r\n        }\r\n\r\n        toString() {\r\n          return toString.call(this);\r\n        }\r\n        /**\r\n         * Retrieves the data for a given variable\r\n         * @param {string|object} variableName - Name of the variable to search or variable object\r\n         * @return {Array} - List with the variable values\r\n         */\r\n\r\n\r\n        getDataVariable(variableName) {\r\n          let variable;\r\n\r\n          if (typeof variableName === 'string') {\r\n            // search the variable\r\n            variable = this.header.variables.find(function(val) {\r\n              return val.name === variableName;\r\n            });\r\n          } else {\r\n            variable = variableName;\r\n          } // throws if variable not found\r\n\r\n\r\n          utils.notNetcdf(variable === undefined, \"variable not found: \".concat(variableName)); // go to the offset position\r\n\r\n          this.buffer.seek(variable.offset);\r\n\r\n          if (variable.record) {\r\n            // record variable case\r\n            return data.record(this.buffer, variable, this.header.recordDimension);\r\n          } else {\r\n            // non-record variable case\r\n            return data.nonRecord(this.buffer, variable);\r\n          }\r\n        }\r\n        /**\r\n         * Check if a dataVariable exists\r\n         * @param {string} variableName - Name of the variable to find\r\n         * @return {boolean}\r\n         */\r\n\r\n\r\n        dataVariableExists(variableName) {\r\n          const variable = this.header.variables.find(function(val) {\r\n            return val.name === variableName;\r\n          });\r\n          return variable !== undefined;\r\n        }\r\n        /**\r\n         * Check if an attribute exists\r\n         * @param {string} attributeName - Name of the attribute to find\r\n         * @return {boolean}\r\n         */\r\n\r\n\r\n        attributeExists(attributeName) {\r\n          const attribute = this.globalAttributes.find(val => val.name === attributeName);\r\n          return attribute !== undefined;\r\n        }\r\n\r\n      }\r\n\r\n      module.exports = NetCDFReader;\r\n      NetCDFReaderExport = NetCDFReader\r\n\r\n      /***/\r\n    }),\r\n    /* 4 */\r\n    /***/\r\n    (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n      __webpack_require__.r(__webpack_exports__);\r\n      /* harmony export (binding) */\r\n      __webpack_require__.d(__webpack_exports__, \"IOBuffer\", function() {\r\n        return IOBuffer;\r\n      });\r\n      /* harmony import */\r\n      var utf8__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\r\n      /* harmony import */\r\n      var utf8__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/ __webpack_require__.n(utf8__WEBPACK_IMPORTED_MODULE_0__);\r\n\r\n      const defaultByteLength = 1024 * 8;\r\n      class IOBuffer {\r\n        /**\r\n         * @param data - The data to construct the IOBuffer with.\r\n         * If data is a number, it will be the new buffer's length<br>\r\n         * If data is `undefined`, the buffer will be initialized with a default length of 8Kb<br>\r\n         * If data is an ArrayBuffer, SharedArrayBuffer, an ArrayBufferView (Typed Array), an IOBuffer instance,\r\n         * or a Node.js Buffer, a view will be created over the underlying ArrayBuffer.\r\n         * @param options\r\n         */\r\n        constructor() {\r\n          let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultByteLength;\r\n          let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n          let dataIsGiven = false;\r\n\r\n          if (typeof data === 'number') {\r\n            data = new ArrayBuffer(data);\r\n          } else {\r\n            dataIsGiven = true;\r\n            this.lastWrittenByte = data.byteLength;\r\n          }\r\n\r\n          const offset = options.offset ? options.offset >>> 0 : 0;\r\n          const byteLength = data.byteLength - offset;\r\n          let dvOffset = offset;\r\n\r\n          if (ArrayBuffer.isView(data) || data instanceof IOBuffer) {\r\n            if (data.byteLength !== data.buffer.byteLength) {\r\n              dvOffset = data.byteOffset + offset;\r\n            }\r\n\r\n            data = data.buffer;\r\n          }\r\n\r\n          if (dataIsGiven) {\r\n            this.lastWrittenByte = byteLength;\r\n          } else {\r\n            this.lastWrittenByte = 0;\r\n          }\r\n\r\n          this.buffer = data;\r\n          this.length = byteLength;\r\n          this.byteLength = byteLength;\r\n          this.byteOffset = dvOffset;\r\n          this.offset = 0;\r\n          this.littleEndian = true;\r\n          this._data = new DataView(this.buffer, dvOffset, byteLength);\r\n          this._mark = 0;\r\n          this._marks = [];\r\n        }\r\n        /**\r\n         * Checks if the memory allocated to the buffer is sufficient to store more\r\n         * bytes after the offset.\r\n         * @param byteLength - The needed memory in bytes.\r\n         * @returns `true` if there is sufficient space and `false` otherwise.\r\n         */\r\n\r\n\r\n        available() {\r\n          let byteLength = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\r\n          return this.offset + byteLength <= this.length;\r\n        }\r\n        /**\r\n         * Check if little-endian mode is used for reading and writing multi-byte\r\n         * values.\r\n         * @returns `true` if little-endian mode is used, `false` otherwise.\r\n         */\r\n\r\n\r\n        isLittleEndian() {\r\n          return this.littleEndian;\r\n        }\r\n        /**\r\n         * Set little-endian mode for reading and writing multi-byte values.\r\n         */\r\n\r\n\r\n        setLittleEndian() {\r\n          this.littleEndian = true;\r\n          return this;\r\n        }\r\n        /**\r\n         * Check if big-endian mode is used for reading and writing multi-byte values.\r\n         * @returns `true` if big-endian mode is used, `false` otherwise.\r\n         */\r\n\r\n\r\n        isBigEndian() {\r\n          return !this.littleEndian;\r\n        }\r\n        /**\r\n         * Switches to big-endian mode for reading and writing multi-byte values.\r\n         */\r\n\r\n\r\n        setBigEndian() {\r\n          this.littleEndian = false;\r\n          return this;\r\n        }\r\n        /**\r\n         * Move the pointer n bytes forward.\r\n         * @param n - Number of bytes to skip.\r\n         */\r\n\r\n\r\n        skip() {\r\n          let n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\r\n          this.offset += n;\r\n          return this;\r\n        }\r\n        /**\r\n         * Move the pointer to the given offset.\r\n         * @param offset\r\n         */\r\n\r\n\r\n        seek(offset) {\r\n          this.offset = offset;\r\n          return this;\r\n        }\r\n        /**\r\n         * Store the current pointer offset.\r\n         * @see {@link IOBuffer#reset}\r\n         */\r\n\r\n\r\n        mark() {\r\n          this._mark = this.offset;\r\n          return this;\r\n        }\r\n        /**\r\n         * Move the pointer back to the last pointer offset set by mark.\r\n         * @see {@link IOBuffer#mark}\r\n         */\r\n\r\n\r\n        reset() {\r\n          this.offset = this._mark;\r\n          return this;\r\n        }\r\n        /**\r\n         * Push the current pointer offset to the mark stack.\r\n         * @see {@link IOBuffer#popMark}\r\n         */\r\n\r\n\r\n        pushMark() {\r\n          this._marks.push(this.offset);\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Pop the last pointer offset from the mark stack, and set the current\r\n         * pointer offset to the popped value.\r\n         * @see {@link IOBuffer#pushMark}\r\n         */\r\n\r\n\r\n        popMark() {\r\n          const offset = this._marks.pop();\r\n\r\n          if (offset === undefined) {\r\n            throw new Error('Mark stack empty');\r\n          }\r\n\r\n          this.seek(offset);\r\n          return this;\r\n        }\r\n        /**\r\n         * Move the pointer offset back to 0.\r\n         */\r\n\r\n\r\n        rewind() {\r\n          this.offset = 0;\r\n          return this;\r\n        }\r\n        /**\r\n         * Make sure the buffer has sufficient memory to write a given byteLength at\r\n         * the current pointer offset.\r\n         * If the buffer's memory is insufficient, this method will create a new\r\n         * buffer (a copy) with a length that is twice (byteLength + current offset).\r\n         * @param byteLength\r\n         */\r\n\r\n\r\n        ensureAvailable() {\r\n          let byteLength = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\r\n\r\n          if (!this.available(byteLength)) {\r\n            const lengthNeeded = this.offset + byteLength;\r\n            const newLength = lengthNeeded * 2;\r\n            const newArray = new Uint8Array(newLength);\r\n            newArray.set(new Uint8Array(this.buffer));\r\n            this.buffer = newArray.buffer;\r\n            this.length = this.byteLength = newLength;\r\n            this._data = new DataView(this.buffer);\r\n          }\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Read a byte and return false if the byte's value is 0, or true otherwise.\r\n         * Moves pointer forward by one byte.\r\n         */\r\n\r\n\r\n        readBoolean() {\r\n          return this.readUint8() !== 0;\r\n        }\r\n        /**\r\n         * Read a signed 8-bit integer and move pointer forward by 1 byte.\r\n         */\r\n\r\n\r\n        readInt8() {\r\n          return this._data.getInt8(this.offset++);\r\n        }\r\n        /**\r\n         * Read an unsigned 8-bit integer and move pointer forward by 1 byte.\r\n         */\r\n\r\n\r\n        readUint8() {\r\n          return this._data.getUint8(this.offset++);\r\n        }\r\n        /**\r\n         * Alias for {@link IOBuffer#readUint8}.\r\n         */\r\n\r\n\r\n        readByte() {\r\n          return this.readUint8();\r\n        }\r\n        /**\r\n         * Read `n` bytes and move pointer forward by `n` bytes.\r\n         */\r\n\r\n\r\n        readBytes() {\r\n          let n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\r\n          const bytes = new Uint8Array(n);\r\n\r\n          for (let i = 0; i < n; i++) {\r\n            bytes[i] = this.readByte();\r\n          }\r\n\r\n          return bytes;\r\n        }\r\n        /**\r\n         * Read a 16-bit signed integer and move pointer forward by 2 bytes.\r\n         */\r\n\r\n\r\n        readInt16() {\r\n          const value = this._data.getInt16(this.offset, this.littleEndian);\r\n\r\n          this.offset += 2;\r\n          return value;\r\n        }\r\n        /**\r\n         * Read a 16-bit unsigned integer and move pointer forward by 2 bytes.\r\n         */\r\n\r\n\r\n        readUint16() {\r\n          const value = this._data.getUint16(this.offset, this.littleEndian);\r\n\r\n          this.offset += 2;\r\n          return value;\r\n        }\r\n        /**\r\n         * Read a 32-bit signed integer and move pointer forward by 4 bytes.\r\n         */\r\n\r\n\r\n        readInt32() {\r\n          const value = this._data.getInt32(this.offset, this.littleEndian);\r\n\r\n          this.offset += 4;\r\n          return value;\r\n        }\r\n        /**\r\n         * Read a 32-bit unsigned integer and move pointer forward by 4 bytes.\r\n         */\r\n\r\n\r\n        readUint32() {\r\n          const value = this._data.getUint32(this.offset, this.littleEndian);\r\n\r\n          this.offset += 4;\r\n          return value;\r\n        }\r\n        /**\r\n         * Read a 32-bit floating number and move pointer forward by 4 bytes.\r\n         */\r\n\r\n\r\n        readFloat32() {\r\n          const value = this._data.getFloat32(this.offset, this.littleEndian);\r\n\r\n          this.offset += 4;\r\n          return value;\r\n        }\r\n        /**\r\n         * Read a 64-bit floating number and move pointer forward by 8 bytes.\r\n         */\r\n\r\n\r\n        readFloat64() {\r\n          const value = this._data.getFloat64(this.offset, this.littleEndian);\r\n\r\n          this.offset += 8;\r\n          return value;\r\n        }\r\n        /**\r\n         * Read a 1-byte ASCII character and move pointer forward by 1 byte.\r\n         */\r\n\r\n\r\n        readChar() {\r\n          return String.fromCharCode(this.readInt8());\r\n        }\r\n        /**\r\n         * Read `n` 1-byte ASCII characters and move pointer forward by `n` bytes.\r\n         */\r\n\r\n\r\n        readChars() {\r\n          let n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\r\n          let result = '';\r\n\r\n          for (let i = 0; i < n; i++) {\r\n            result += this.readChar();\r\n          }\r\n\r\n          return result;\r\n        }\r\n        /**\r\n         * Read the next `n` bytes, return a UTF-8 decoded string and move pointer\r\n         * forward by `n` bytes.\r\n         */\r\n\r\n\r\n        readUtf8() {\r\n          let n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\r\n          const bString = this.readChars(n);\r\n          return Object(utf8__WEBPACK_IMPORTED_MODULE_0__[\"decode\"])(bString);\r\n        }\r\n        /**\r\n         * Write 0xff if the passed value is truthy, 0x00 otherwise and move pointer\r\n         * forward by 1 byte.\r\n         */\r\n\r\n\r\n        writeBoolean(value) {\r\n          this.writeUint8(value ? 0xff : 0x00);\r\n          return this;\r\n        }\r\n        /**\r\n         * Write `value` as an 8-bit signed integer and move pointer forward by 1 byte.\r\n         */\r\n\r\n\r\n        writeInt8(value) {\r\n          this.ensureAvailable(1);\r\n\r\n          this._data.setInt8(this.offset++, value);\r\n\r\n          this._updateLastWrittenByte();\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Write `value` as an 8-bit unsigned integer and move pointer forward by 1\r\n         * byte.\r\n         */\r\n\r\n\r\n        writeUint8(value) {\r\n          this.ensureAvailable(1);\r\n\r\n          this._data.setUint8(this.offset++, value);\r\n\r\n          this._updateLastWrittenByte();\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * An alias for {@link IOBuffer#writeUint8}.\r\n         */\r\n\r\n\r\n        writeByte(value) {\r\n          return this.writeUint8(value);\r\n        }\r\n        /**\r\n         * Write all elements of `bytes` as uint8 values and move pointer forward by\r\n         * `bytes.length` bytes.\r\n         */\r\n\r\n\r\n        writeBytes(bytes) {\r\n          this.ensureAvailable(bytes.length);\r\n\r\n          for (let i = 0; i < bytes.length; i++) {\r\n            this._data.setUint8(this.offset++, bytes[i]);\r\n          }\r\n\r\n          this._updateLastWrittenByte();\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Write `value` as a 16-bit signed integer and move pointer forward by 2\r\n         * bytes.\r\n         */\r\n\r\n\r\n        writeInt16(value) {\r\n          this.ensureAvailable(2);\r\n\r\n          this._data.setInt16(this.offset, value, this.littleEndian);\r\n\r\n          this.offset += 2;\r\n\r\n          this._updateLastWrittenByte();\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Write `value` as a 16-bit unsigned integer and move pointer forward by 2\r\n         * bytes.\r\n         */\r\n\r\n\r\n        writeUint16(value) {\r\n          this.ensureAvailable(2);\r\n\r\n          this._data.setUint16(this.offset, value, this.littleEndian);\r\n\r\n          this.offset += 2;\r\n\r\n          this._updateLastWrittenByte();\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Write `value` as a 32-bit signed integer and move pointer forward by 4\r\n         * bytes.\r\n         */\r\n\r\n\r\n        writeInt32(value) {\r\n          this.ensureAvailable(4);\r\n\r\n          this._data.setInt32(this.offset, value, this.littleEndian);\r\n\r\n          this.offset += 4;\r\n\r\n          this._updateLastWrittenByte();\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Write `value` as a 32-bit unsigned integer and move pointer forward by 4\r\n         * bytes.\r\n         */\r\n\r\n\r\n        writeUint32(value) {\r\n          this.ensureAvailable(4);\r\n\r\n          this._data.setUint32(this.offset, value, this.littleEndian);\r\n\r\n          this.offset += 4;\r\n\r\n          this._updateLastWrittenByte();\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Write `value` as a 32-bit floating number and move pointer forward by 4\r\n         * bytes.\r\n         */\r\n\r\n\r\n        writeFloat32(value) {\r\n          this.ensureAvailable(4);\r\n\r\n          this._data.setFloat32(this.offset, value, this.littleEndian);\r\n\r\n          this.offset += 4;\r\n\r\n          this._updateLastWrittenByte();\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Write `value` as a 64-bit floating number and move pointer forward by 8\r\n         * bytes.\r\n         */\r\n\r\n\r\n        writeFloat64(value) {\r\n          this.ensureAvailable(8);\r\n\r\n          this._data.setFloat64(this.offset, value, this.littleEndian);\r\n\r\n          this.offset += 8;\r\n\r\n          this._updateLastWrittenByte();\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * Write the charCode of `str`'s first character as an 8-bit unsigned integer\r\n         * and move pointer forward by 1 byte.\r\n         */\r\n\r\n\r\n        writeChar(str) {\r\n          return this.writeUint8(str.charCodeAt(0));\r\n        }\r\n        /**\r\n         * Write the charCodes of all `str`'s characters as 8-bit unsigned integers\r\n         * and move pointer forward by `str.length` bytes.\r\n         */\r\n\r\n\r\n        writeChars(str) {\r\n          for (let i = 0; i < str.length; i++) {\r\n            this.writeUint8(str.charCodeAt(i));\r\n          }\r\n\r\n          return this;\r\n        }\r\n        /**\r\n         * UTF-8 encode and write `str` to the current pointer offset and move pointer\r\n         * forward according to the encoded length.\r\n         */\r\n\r\n\r\n        writeUtf8(str) {\r\n          const bString = Object(utf8__WEBPACK_IMPORTED_MODULE_0__[\"encode\"])(str);\r\n          return this.writeChars(bString);\r\n        }\r\n        /**\r\n         * Export a Uint8Array view of the internal buffer.\r\n         * The view starts at the byte offset and its length\r\n         * is calculated to stop at the last written byte or the original length.\r\n         */\r\n\r\n\r\n        toArray() {\r\n          return new Uint8Array(this.buffer, this.byteOffset, this.lastWrittenByte);\r\n        }\r\n        /**\r\n         * Update the last written byte offset\r\n         * @private\r\n         */\r\n\r\n\r\n        _updateLastWrittenByte() {\r\n          if (this.offset > this.lastWrittenByte) {\r\n            this.lastWrittenByte = this.offset;\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n      /***/\r\n    }),\r\n    /* 5 */\r\n    /***/\r\n    (function(module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n\r\n      const types = __webpack_require__(2); // const STREAMING = 4294967295;\r\n\r\n      /**\r\n       * Read data for the given non-record variable\r\n       * @ignore\r\n       * @param {IOBuffer} buffer - Buffer for the file data\r\n       * @param {object} variable - Variable metadata\r\n       * @return {Array} - Data of the element\r\n       */\r\n\r\n\r\n      function nonRecord(buffer, variable) {\r\n        // variable type\r\n        const type = types.str2num(variable.type); // size of the data\r\n\r\n        var size = variable.size / types.num2bytes(type); // iterates over the data\r\n\r\n        var data = new Array(size);\r\n\r\n        for (var i = 0; i < size; i++) {\r\n          data[i] = types.readType(buffer, type, 1);\r\n        }\r\n\r\n        return data;\r\n      }\r\n      /**\r\n       * Read data for the given record variable\r\n       * @ignore\r\n       * @param {IOBuffer} buffer - Buffer for the file data\r\n       * @param {object} variable - Variable metadata\r\n       * @param {object} recordDimension - Record dimension metadata\r\n       * @return {Array} - Data of the element\r\n       */\r\n\r\n\r\n      function record(buffer, variable, recordDimension) {\r\n        // variable type\r\n        const type = types.str2num(variable.type);\r\n        const width = variable.size ? variable.size / types.num2bytes(type) : 1; // size of the data\r\n        // TODO streaming data\r\n\r\n        var size = recordDimension.length; // iterates over the data\r\n\r\n        var data = new Array(size);\r\n        const step = recordDimension.recordStep;\r\n\r\n        for (var i = 0; i < size; i++) {\r\n          var currentOffset = buffer.offset;\r\n          data[i] = types.readType(buffer, type, width);\r\n          buffer.seek(currentOffset + step);\r\n        }\r\n\r\n        return data;\r\n      }\r\n\r\n      module.exports.nonRecord = nonRecord;\r\n      module.exports.record = record;\r\n\r\n      /***/\r\n    }),\r\n    /* 6 */\r\n    /***/\r\n    (function(module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n\r\n      const utils = __webpack_require__(0);\r\n\r\n      const types = __webpack_require__(2); // Grammar constants\r\n\r\n\r\n      const ZERO = 0;\r\n      const NC_DIMENSION = 10;\r\n      const NC_VARIABLE = 11;\r\n      const NC_ATTRIBUTE = 12;\r\n      /**\r\n       * Read the header of the file\r\n       * @ignore\r\n       * @param {IOBuffer} buffer - Buffer for the file data\r\n       * @param {number} version - Version of the file\r\n       * @return {object} - Object with the fields:\r\n       *  * `recordDimension`: Number with the length of record dimension\r\n       *  * `dimensions`: List of dimensions\r\n       *  * `globalAttributes`: List of global attributes\r\n       *  * `variables`: List of variables\r\n       */\r\n\r\n      function header(buffer, version) {\r\n        // Length of record dimension\r\n        // sum of the varSize's of all the record variables.\r\n        var header = {\r\n          recordDimension: {\r\n            length: buffer.readUint32()\r\n          }\r\n        }; // Version\r\n\r\n        header.version = version; // List of dimensions\r\n\r\n        var dimList = dimensionsList(buffer);\r\n        header.recordDimension.id = dimList.recordId; // id of the unlimited dimension\r\n\r\n        header.recordDimension.name = dimList.recordName; // name of the unlimited dimension\r\n\r\n        header.dimensions = dimList.dimensions; // List of global attributes\r\n\r\n        header.globalAttributes = attributesList(buffer); // List of variables\r\n\r\n        var variables = variablesList(buffer, dimList.recordId, version);\r\n        header.variables = variables.variables;\r\n        header.recordDimension.recordStep = variables.recordStep;\r\n        return header;\r\n      }\r\n\r\n      const NC_UNLIMITED = 0;\r\n      /**\r\n       * List of dimensions\r\n       * @ignore\r\n       * @param {IOBuffer} buffer - Buffer for the file data\r\n       * @return {object} - Ojbect containing the following properties:\r\n       *  * `dimensions` that is an array of dimension object:\r\n       *  * `name`: String with the name of the dimension\r\n       *  * `size`: Number with the size of the dimension dimensions: dimensions\r\n       *  * `recordId`: the id of the dimension that has unlimited size or undefined,\r\n       *  * `recordName`: name of the dimension that has unlimited size\r\n       */\r\n\r\n      function dimensionsList(buffer) {\r\n        var recordId, recordName;\r\n        const dimList = buffer.readUint32();\r\n\r\n        if (dimList === ZERO) {\r\n          utils.notNetcdf(buffer.readUint32() !== ZERO, 'wrong empty tag for list of dimensions');\r\n          return [];\r\n        } else {\r\n          utils.notNetcdf(dimList !== NC_DIMENSION, 'wrong tag for list of dimensions'); // Length of dimensions\r\n\r\n          const dimensionSize = buffer.readUint32();\r\n          var dimensions = new Array(dimensionSize);\r\n\r\n          for (var dim = 0; dim < dimensionSize; dim++) {\r\n            // Read name\r\n            var name = utils.readName(buffer); // Read dimension size\r\n\r\n            const size = buffer.readUint32();\r\n\r\n            if (size === NC_UNLIMITED) {\r\n              // in netcdf 3 one field can be of size unlimmited\r\n              recordId = dim;\r\n              recordName = name;\r\n            }\r\n\r\n            dimensions[dim] = {\r\n              name: name,\r\n              size: size\r\n            };\r\n          }\r\n        }\r\n\r\n        return {\r\n          dimensions: dimensions,\r\n          recordId: recordId,\r\n          recordName: recordName\r\n        };\r\n      }\r\n      /**\r\n       * List of attributes\r\n       * @ignore\r\n       * @param {IOBuffer} buffer - Buffer for the file data\r\n       * @return {Array<object>} - List of attributes with:\r\n       *  * `name`: String with the name of the attribute\r\n       *  * `type`: String with the type of the attribute\r\n       *  * `value`: A number or string with the value of the attribute\r\n       */\r\n\r\n\r\n      function attributesList(buffer) {\r\n        const gAttList = buffer.readUint32();\r\n\r\n        if (gAttList === ZERO) {\r\n          utils.notNetcdf(buffer.readUint32() !== ZERO, 'wrong empty tag for list of attributes');\r\n          return [];\r\n        } else {\r\n          utils.notNetcdf(gAttList !== NC_ATTRIBUTE, 'wrong tag for list of attributes'); // Length of attributes\r\n\r\n          const attributeSize = buffer.readUint32();\r\n          var attributes = new Array(attributeSize);\r\n\r\n          for (var gAtt = 0; gAtt < attributeSize; gAtt++) {\r\n            // Read name\r\n            var name = utils.readName(buffer); // Read type\r\n\r\n            var type = buffer.readUint32();\r\n            utils.notNetcdf(type < 1 || type > 6, \"non valid type \".concat(type)); // Read attribute\r\n\r\n            var size = buffer.readUint32();\r\n            var value = types.readType(buffer, type, size); // Apply padding\r\n\r\n            utils.padding(buffer);\r\n            attributes[gAtt] = {\r\n              name: name,\r\n              type: types.num2str(type),\r\n              value: value\r\n            };\r\n          }\r\n        }\r\n\r\n        return attributes;\r\n      }\r\n      /**\r\n       * List of variables\r\n       * @ignore\r\n       * @param {IOBuffer} buffer - Buffer for the file data\r\n       * @param {number} recordId - Id of the unlimited dimension (also called record dimension)\r\n       *                            This value may be undefined if there is no unlimited dimension\r\n       * @param {number} version - Version of the file\r\n       * @return {object} - Number of recordStep and list of variables with:\r\n       *  * `name`: String with the name of the variable\r\n       *  * `dimensions`: Array with the dimension IDs of the variable\r\n       *  * `attributes`: Array with the attributes of the variable\r\n       *  * `type`: String with the type of the variable\r\n       *  * `size`: Number with the size of the variable\r\n       *  * `offset`: Number with the offset where of the variable begins\r\n       *  * `record`: True if is a record variable, false otherwise (unlimited size)\r\n       */\r\n\r\n\r\n      function variablesList(buffer, recordId, version) {\r\n        const varList = buffer.readUint32();\r\n        var recordStep = 0;\r\n\r\n        if (varList === ZERO) {\r\n          utils.notNetcdf(buffer.readUint32() !== ZERO, 'wrong empty tag for list of variables');\r\n          return [];\r\n        } else {\r\n          utils.notNetcdf(varList !== NC_VARIABLE, 'wrong tag for list of variables'); // Length of variables\r\n\r\n          const variableSize = buffer.readUint32();\r\n          var variables = new Array(variableSize);\r\n\r\n          for (var v = 0; v < variableSize; v++) {\r\n            // Read name\r\n            var name = utils.readName(buffer); // Read dimensionality of the variable\r\n\r\n            const dimensionality = buffer.readUint32(); // Index into the list of dimensions\r\n\r\n            var dimensionsIds = new Array(dimensionality);\r\n\r\n            for (var dim = 0; dim < dimensionality; dim++) {\r\n              dimensionsIds[dim] = buffer.readUint32();\r\n            } // Read variables size\r\n\r\n\r\n            var attributes = attributesList(buffer); // Read type\r\n\r\n            var type = buffer.readUint32();\r\n            utils.notNetcdf(type < 1 && type > 6, \"non valid type \".concat(type)); // Read variable size\r\n            // The 32-bit varSize field is not large enough to contain the size of variables that require\r\n            // more than 2^32 - 4 bytes, so 2^32 - 1 is used in the varSize field for such variables.\r\n\r\n            const varSize = buffer.readUint32(); // Read offset\r\n\r\n            var offset = buffer.readUint32();\r\n\r\n            if (version === 2) {\r\n              utils.notNetcdf(offset > 0, 'offsets larger than 4GB not supported');\r\n              offset = buffer.readUint32();\r\n            }\r\n\r\n            let record = false; // Count amount of record variables\r\n\r\n            if (typeof recordId !== 'undefined' && dimensionsIds[0] === recordId) {\r\n              recordStep += varSize;\r\n              record = true;\r\n            }\r\n\r\n            variables[v] = {\r\n              name: name,\r\n              dimensions: dimensionsIds,\r\n              attributes,\r\n              type: types.num2str(type),\r\n              size: varSize,\r\n              offset,\r\n              record\r\n            };\r\n          }\r\n        }\r\n\r\n        return {\r\n          variables: variables,\r\n          recordStep: recordStep\r\n        };\r\n      }\r\n\r\n      module.exports = header;\r\n\r\n      /***/\r\n    }),\r\n    /* 7 */\r\n    /***/\r\n    (function(module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n\r\n      function toString() {\r\n        let result = [];\r\n        result.push('DIMENSIONS');\r\n\r\n        for (let dimension of this.dimensions) {\r\n          result.push(\"  \".concat(dimension.name.padEnd(30), \" = size: \").concat(dimension.size));\r\n        }\r\n\r\n        result.push('');\r\n        result.push('GLOBAL ATTRIBUTES');\r\n\r\n        for (let attribute of this.globalAttributes) {\r\n          result.push(\"  \".concat(attribute.name.padEnd(30), \" = \").concat(attribute.value));\r\n        }\r\n\r\n        let variables = JSON.parse(JSON.stringify(this.variables));\r\n        result.push('');\r\n        result.push('VARIABLES:');\r\n\r\n        for (let variable of variables) {\r\n          variable.value = this.getDataVariable(variable);\r\n          let stringify = JSON.stringify(variable.value);\r\n          if (stringify.length > 50) stringify = stringify.substring(0, 50);\r\n\r\n          if (!isNaN(variable.value.length)) {\r\n            stringify += \" (length: \".concat(variable.value.length, \")\");\r\n          }\r\n\r\n          result.push(\"  \".concat(variable.name.padEnd(30), \" = \").concat(stringify));\r\n        }\r\n\r\n        return result.join('\\n');\r\n      }\r\n\r\n      module.exports = toString;\r\n\r\n      /***/\r\n    })\r\n    /******/\r\n  ]);\r\n});\r\n//# sourceMappingURL=netcdfjs.js.map\r\nexport default NetCDFReaderExport;\r\n","let PBF;\r\n! function(t) {\r\n  if (\"object\" == typeof exports && \"undefined\" != typeof module) PBF = module.exports = t();\r\n  else if (\"function\" == typeof define && define.amd) define([], t);\r\n  else {\r\n    var i;\r\n    i = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this, i.Pbf = t()\r\n  }\r\n}(function() {\r\n  return function t(i, e, r) {\r\n    function s(o, h) {\r\n      if (!e[o]) {\r\n        if (!i[o]) {\r\n          var a = \"function\" == typeof require && require;\r\n          if (!h && a) return a(o, !0);\r\n          if (n) return n(o, !0);\r\n          var u = new Error(\"Cannot find module '\" + o + \"'\");\r\n          throw u.code = \"MODULE_NOT_FOUND\", u\r\n        }\r\n        var f = e[o] = {\r\n          exports: {}\r\n        };\r\n        i[o][0].call(f.exports, function(t) {\r\n          var e = i[o][1][t];\r\n          return s(e ? e : t)\r\n        }, f, f.exports, t, i, e, r)\r\n      }\r\n      return e[o].exports\r\n    }\r\n    for (var n = \"function\" == typeof require && require, o = 0; o < r.length; o++) s(r[o]);\r\n    return s\r\n  }({\r\n    1: [function(t, i, e) {\r\n      \"use strict\";\r\n\r\n      function r(t) {\r\n        this.buf = ArrayBuffer.isView && ArrayBuffer.isView(t) ? t : new Uint8Array(t || 0), this.pos = 0, this.type = 0, this.length = this.buf.length\r\n      }\r\n\r\n      function s(t, i, e) {\r\n        var r, s, n = e.buf;\r\n        if (s = n[e.pos++], r = (112 & s) >> 4, s < 128) return o(t, r, i);\r\n        if (s = n[e.pos++], r |= (127 & s) << 3, s < 128) return o(t, r, i);\r\n        if (s = n[e.pos++], r |= (127 & s) << 10, s < 128) return o(t, r, i);\r\n        if (s = n[e.pos++], r |= (127 & s) << 17, s < 128) return o(t, r, i);\r\n        if (s = n[e.pos++], r |= (127 & s) << 24, s < 128) return o(t, r, i);\r\n        if (s = n[e.pos++], r |= (1 & s) << 31, s < 128) return o(t, r, i);\r\n        throw new Error(\"Expected varint not more than 10 bytes\")\r\n      }\r\n\r\n      function n(t) {\r\n        return t.type === r.Bytes ? t.readVarint() + t.pos : t.pos + 1\r\n      }\r\n\r\n      function o(t, i, e) {\r\n        return e ? 4294967296 * i + (t >>> 0) : 4294967296 * (i >>> 0) + (t >>> 0)\r\n      }\r\n\r\n      function h(t, i) {\r\n        var e, r;\r\n        if (t >= 0 ? (e = t % 4294967296 | 0, r = t / 4294967296 | 0) : (e = ~(-t % 4294967296), r = ~(-t / 4294967296), 4294967295 ^ e ? e = e + 1 | 0 : (e = 0, r = r + 1 | 0)), t >= 0x10000000000000000 || t < -0x10000000000000000) throw new Error(\"Given varint doesn't fit into 10 bytes\");\r\n        i.realloc(10), a(e, r, i), u(r, i)\r\n      }\r\n\r\n      function a(t, i, e) {\r\n        e.buf[e.pos++] = 127 & t | 128, t >>>= 7, e.buf[e.pos++] = 127 & t | 128, t >>>= 7, e.buf[e.pos++] = 127 & t | 128, t >>>= 7, e.buf[e.pos++] = 127 & t | 128, t >>>= 7, e.buf[e.pos] = 127 & t\r\n      }\r\n\r\n      function u(t, i) {\r\n        var e = (7 & t) << 4;\r\n        i.buf[i.pos++] |= e | ((t >>>= 3) ? 128 : 0), t && (i.buf[i.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (i.buf[i.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (i.buf[i.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (i.buf[i.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (i.buf[i.pos++] = 127 & t)))))\r\n      }\r\n\r\n      function f(t, i, e) {\r\n        var r = i <= 16383 ? 1 : i <= 2097151 ? 2 : i <= 268435455 ? 3 : Math.ceil(Math.log(i) / (7 * Math.LN2));\r\n        e.realloc(r);\r\n        for (var s = e.pos - 1; s >= t; s--) e.buf[s + r] = e.buf[s]\r\n      }\r\n\r\n      function d(t, i) {\r\n        for (var e = 0; e < t.length; e++) i.writeVarint(t[e])\r\n      }\r\n\r\n      function p(t, i) {\r\n        for (var e = 0; e < t.length; e++) i.writeSVarint(t[e])\r\n      }\r\n\r\n      function c(t, i) {\r\n        for (var e = 0; e < t.length; e++) i.writeFloat(t[e])\r\n      }\r\n\r\n      function l(t, i) {\r\n        for (var e = 0; e < t.length; e++) i.writeDouble(t[e])\r\n      }\r\n\r\n      function w(t, i) {\r\n        for (var e = 0; e < t.length; e++) i.writeBoolean(t[e])\r\n      }\r\n\r\n      function F(t, i) {\r\n        for (var e = 0; e < t.length; e++) i.writeFixed32(t[e])\r\n      }\r\n\r\n      function b(t, i) {\r\n        for (var e = 0; e < t.length; e++) i.writeSFixed32(t[e])\r\n      }\r\n\r\n      function v(t, i) {\r\n        for (var e = 0; e < t.length; e++) i.writeFixed64(t[e])\r\n      }\r\n\r\n      function g(t, i) {\r\n        for (var e = 0; e < t.length; e++) i.writeSFixed64(t[e])\r\n      }\r\n\r\n      function x(t, i) {\r\n        return (t[i] | t[i + 1] << 8 | t[i + 2] << 16) + 16777216 * t[i + 3]\r\n      }\r\n\r\n      function V(t, i, e) {\r\n        t[e] = i, t[e + 1] = i >>> 8, t[e + 2] = i >>> 16, t[e + 3] = i >>> 24\r\n      }\r\n\r\n      function y(t, i) {\r\n        return (t[i] | t[i + 1] << 8 | t[i + 2] << 16) + (t[i + 3] << 24)\r\n      }\r\n\r\n      function M(t, i, e) {\r\n        for (var r = \"\", s = i; s < e;) {\r\n          var n = t[s],\r\n            o = null,\r\n            h = n > 239 ? 4 : n > 223 ? 3 : n > 191 ? 2 : 1;\r\n          if (s + h > e) break;\r\n          var a, u, f;\r\n          1 === h ? n < 128 && (o = n) : 2 === h ? (a = t[s + 1], 128 === (192 & a) && (o = (31 & n) << 6 | 63 & a, o <= 127 && (o = null))) : 3 === h ? (a = t[s + 1], u = t[s + 2], 128 === (192 & a) && 128 === (192 & u) && (o = (15 & n) << 12 | (63 & a) << 6 | 63 & u, (o <= 2047 || o >= 55296 && o <= 57343) && (o = null))) : 4 === h && (a = t[s + 1], u = t[s + 2], f = t[s + 3], 128 === (192 & a) && 128 === (192 & u) && 128 === (192 & f) && (o = (15 & n) << 18 | (63 & a) << 12 | (63 & u) << 6 | 63 & f, (o <= 65535 || o >= 1114112) && (o = null))), null === o ? (o = 65533, h = 1) : o > 65535 && (o -= 65536, r += String.fromCharCode(o >>> 10 & 1023 | 55296), o = 56320 | 1023 & o), r += String.fromCharCode(o), s += h\r\n        }\r\n        return r\r\n      }\r\n\r\n      function S(t, i, e) {\r\n        for (var r, s, n = 0; n < i.length; n++) {\r\n          if (r = i.charCodeAt(n), r > 55295 && r < 57344) {\r\n            if (!s) {\r\n              r > 56319 || n + 1 === i.length ? (t[e++] = 239, t[e++] = 191, t[e++] = 189) : s = r;\r\n              continue\r\n            }\r\n            if (r < 56320) {\r\n              t[e++] = 239, t[e++] = 191, t[e++] = 189, s = r;\r\n              continue\r\n            }\r\n            r = s - 55296 << 10 | r - 56320 | 65536, s = null\r\n          } else s && (t[e++] = 239, t[e++] = 191, t[e++] = 189, s = null);\r\n          r < 128 ? t[e++] = r : (r < 2048 ? t[e++] = r >> 6 | 192 : (r < 65536 ? t[e++] = r >> 12 | 224 : (t[e++] = r >> 18 | 240, t[e++] = r >> 12 & 63 | 128), t[e++] = r >> 6 & 63 | 128), t[e++] = 63 & r | 128)\r\n        }\r\n        return e\r\n      }\r\n      i.exports = r;\r\n      var B = t(\"ieee754\");\r\n      r.Varint = 0, r.Fixed64 = 1, r.Bytes = 2, r.Fixed32 = 5;\r\n      var k = 4294967296,\r\n        P = 1 / k;\r\n      r.prototype = {\r\n        destroy: function() {\r\n          this.buf = null\r\n        },\r\n        readFields: function(t, i, e) {\r\n          for (e = e || this.length; this.pos < e;) {\r\n            var r = this.readVarint(),\r\n              s = r >> 3,\r\n              n = this.pos;\r\n            this.type = 7 & r, t(s, i, this), this.pos === n && this.skip(r)\r\n          }\r\n          return i\r\n        },\r\n        readMessage: function(t, i) {\r\n          return this.readFields(t, i, this.readVarint() + this.pos)\r\n        },\r\n        readFixed32: function() {\r\n          var t = x(this.buf, this.pos);\r\n          return this.pos += 4, t\r\n        },\r\n        readSFixed32: function() {\r\n          var t = y(this.buf, this.pos);\r\n          return this.pos += 4, t\r\n        },\r\n        readFixed64: function() {\r\n          var t = x(this.buf, this.pos) + x(this.buf, this.pos + 4) * k;\r\n          return this.pos += 8, t\r\n        },\r\n        readSFixed64: function() {\r\n          var t = x(this.buf, this.pos) + y(this.buf, this.pos + 4) * k;\r\n          return this.pos += 8, t\r\n        },\r\n        readFloat: function() {\r\n          var t = B.read(this.buf, this.pos, !0, 23, 4);\r\n          return this.pos += 4, t\r\n        },\r\n        readDouble: function() {\r\n          var t = B.read(this.buf, this.pos, !0, 52, 8);\r\n          return this.pos += 8, t\r\n        },\r\n        readVarint: function(t) {\r\n          var i, e, r = this.buf;\r\n          return e = r[this.pos++], i = 127 & e, e < 128 ? i : (e = r[this.pos++], i |= (127 & e) << 7, e < 128 ? i : (e = r[this.pos++], i |= (127 & e) << 14, e < 128 ? i : (e = r[this.pos++], i |= (127 & e) << 21, e < 128 ? i : (e = r[this.pos], i |= (15 & e) << 28, s(i, t, this)))))\r\n        },\r\n        readVarint64: function() {\r\n          return this.readVarint(!0)\r\n        },\r\n        readSVarint: function() {\r\n          var t = this.readVarint();\r\n          return t % 2 === 1 ? (t + 1) / -2 : t / 2\r\n        },\r\n        readBoolean: function() {\r\n          return Boolean(this.readVarint())\r\n        },\r\n        readString: function() {\r\n          var t = this.readVarint() + this.pos,\r\n            i = M(this.buf, this.pos, t);\r\n          return this.pos = t, i\r\n        },\r\n        readBytes: function() {\r\n          var t = this.readVarint() + this.pos,\r\n            i = this.buf.subarray(this.pos, t);\r\n          return this.pos = t, i\r\n        },\r\n        readPackedVarint: function(t, i) {\r\n          var e = n(this);\r\n          for (t = t || []; this.pos < e;) t.push(this.readVarint(i));\r\n          return t\r\n        },\r\n        readPackedSVarint: function(t) {\r\n          var i = n(this);\r\n          for (t = t || []; this.pos < i;) t.push(this.readSVarint());\r\n          return t\r\n        },\r\n        readPackedBoolean: function(t) {\r\n          var i = n(this);\r\n          for (t = t || []; this.pos < i;) t.push(this.readBoolean());\r\n          return t\r\n        },\r\n        readPackedFloat: function(t) {\r\n          var i = n(this);\r\n          for (t = t || []; this.pos < i;) t.push(this.readFloat());\r\n          return t\r\n        },\r\n        readPackedDouble: function(t) {\r\n          var i = n(this);\r\n          for (t = t || []; this.pos < i;) t.push(this.readDouble());\r\n          return t\r\n        },\r\n        readPackedFixed32: function(t) {\r\n          var i = n(this);\r\n          for (t = t || []; this.pos < i;) t.push(this.readFixed32());\r\n          return t\r\n        },\r\n        readPackedSFixed32: function(t) {\r\n          var i = n(this);\r\n          for (t = t || []; this.pos < i;) t.push(this.readSFixed32());\r\n          return t\r\n        },\r\n        readPackedFixed64: function(t) {\r\n          var i = n(this);\r\n          for (t = t || []; this.pos < i;) t.push(this.readFixed64());\r\n          return t\r\n        },\r\n        readPackedSFixed64: function(t) {\r\n          var i = n(this);\r\n          for (t = t || []; this.pos < i;) t.push(this.readSFixed64());\r\n          return t\r\n        },\r\n        skip: function(t) {\r\n          var i = 7 & t;\r\n          if (i === r.Varint)\r\n            for (; this.buf[this.pos++] > 127;);\r\n          else if (i === r.Bytes) this.pos = this.readVarint() + this.pos;\r\n          else if (i === r.Fixed32) this.pos += 4;\r\n          else {\r\n            if (i !== r.Fixed64) throw new Error(\"Unimplemented type: \" + i);\r\n            this.pos += 8\r\n          }\r\n        },\r\n        writeTag: function(t, i) {\r\n          this.writeVarint(t << 3 | i)\r\n        },\r\n        realloc: function(t) {\r\n          for (var i = this.length || 16; i < this.pos + t;) i *= 2;\r\n          if (i !== this.length) {\r\n            var e = new Uint8Array(i);\r\n            e.set(this.buf), this.buf = e, this.length = i\r\n          }\r\n        },\r\n        finish: function() {\r\n          return this.length = this.pos, this.pos = 0, this.buf.subarray(0, this.length)\r\n        },\r\n        writeFixed32: function(t) {\r\n          this.realloc(4), V(this.buf, t, this.pos), this.pos += 4\r\n        },\r\n        writeSFixed32: function(t) {\r\n          this.realloc(4), V(this.buf, t, this.pos), this.pos += 4\r\n        },\r\n        writeFixed64: function(t) {\r\n          this.realloc(8), V(this.buf, t & -1, this.pos), V(this.buf, Math.floor(t * P), this.pos + 4), this.pos += 8\r\n        },\r\n        writeSFixed64: function(t) {\r\n          this.realloc(8), V(this.buf, t & -1, this.pos), V(this.buf, Math.floor(t * P), this.pos + 4), this.pos += 8\r\n        },\r\n        writeVarint: function(t) {\r\n          return t = +t || 0, t > 268435455 || t < 0 ? void h(t, this) : (this.realloc(4), this.buf[this.pos++] = 127 & t | (t > 127 ? 128 : 0), void(t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = t >>> 7 & 127)))))\r\n        },\r\n        writeSVarint: function(t) {\r\n          this.writeVarint(t < 0 ? 2 * -t - 1 : 2 * t)\r\n        },\r\n        writeBoolean: function(t) {\r\n          this.writeVarint(Boolean(t))\r\n        },\r\n        writeString: function(t) {\r\n          t = String(t), this.realloc(4 * t.length), this.pos++;\r\n          var i = this.pos;\r\n          this.pos = S(this.buf, t, this.pos);\r\n          var e = this.pos - i;\r\n          e >= 128 && f(i, e, this), this.pos = i - 1, this.writeVarint(e), this.pos += e\r\n        },\r\n        writeFloat: function(t) {\r\n          this.realloc(4), B.write(this.buf, t, this.pos, !0, 23, 4), this.pos += 4\r\n        },\r\n        writeDouble: function(t) {\r\n          this.realloc(8), B.write(this.buf, t, this.pos, !0, 52, 8), this.pos += 8\r\n        },\r\n        writeBytes: function(t) {\r\n          var i = t.length;\r\n          this.writeVarint(i), this.realloc(i);\r\n          for (var e = 0; e < i; e++) this.buf[this.pos++] = t[e]\r\n        },\r\n        writeRawMessage: function(t, i) {\r\n          this.pos++;\r\n          var e = this.pos;\r\n          t(i, this);\r\n          var r = this.pos - e;\r\n          r >= 128 && f(e, r, this), this.pos = e - 1, this.writeVarint(r), this.pos += r\r\n        },\r\n        writeMessage: function(t, i, e) {\r\n          this.writeTag(t, r.Bytes), this.writeRawMessage(i, e)\r\n        },\r\n        writePackedVarint: function(t, i) {\r\n          this.writeMessage(t, d, i)\r\n        },\r\n        writePackedSVarint: function(t, i) {\r\n          this.writeMessage(t, p, i)\r\n        },\r\n        writePackedBoolean: function(t, i) {\r\n          this.writeMessage(t, w, i)\r\n        },\r\n        writePackedFloat: function(t, i) {\r\n          this.writeMessage(t, c, i)\r\n        },\r\n        writePackedDouble: function(t, i) {\r\n          this.writeMessage(t, l, i)\r\n        },\r\n        writePackedFixed32: function(t, i) {\r\n          this.writeMessage(t, F, i)\r\n        },\r\n        writePackedSFixed32: function(t, i) {\r\n          this.writeMessage(t, b, i)\r\n        },\r\n        writePackedFixed64: function(t, i) {\r\n          this.writeMessage(t, v, i)\r\n        },\r\n        writePackedSFixed64: function(t, i) {\r\n          this.writeMessage(t, g, i)\r\n        },\r\n        writeBytesField: function(t, i) {\r\n          this.writeTag(t, r.Bytes), this.writeBytes(i)\r\n        },\r\n        writeFixed32Field: function(t, i) {\r\n          this.writeTag(t, r.Fixed32), this.writeFixed32(i)\r\n        },\r\n        writeSFixed32Field: function(t, i) {\r\n          this.writeTag(t, r.Fixed32), this.writeSFixed32(i)\r\n        },\r\n        writeFixed64Field: function(t, i) {\r\n          this.writeTag(t, r.Fixed64), this.writeFixed64(i)\r\n        },\r\n        writeSFixed64Field: function(t, i) {\r\n          this.writeTag(t, r.Fixed64), this.writeSFixed64(i)\r\n        },\r\n        writeVarintField: function(t, i) {\r\n          this.writeTag(t, r.Varint), this.writeVarint(i)\r\n        },\r\n        writeSVarintField: function(t, i) {\r\n          this.writeTag(t, r.Varint), this.writeSVarint(i)\r\n        },\r\n        writeStringField: function(t, i) {\r\n          this.writeTag(t, r.Bytes), this.writeString(i)\r\n        },\r\n        writeFloatField: function(t, i) {\r\n          this.writeTag(t, r.Fixed32), this.writeFloat(i)\r\n        },\r\n        writeDoubleField: function(t, i) {\r\n          this.writeTag(t, r.Fixed64), this.writeDouble(i)\r\n        },\r\n        writeBooleanField: function(t, i) {\r\n          this.writeVarintField(t, Boolean(i))\r\n        }\r\n      }\r\n    }, {\r\n      ieee754: 2\r\n    }],\r\n    2: [function(t, i, e) {\r\n      e.read = function(t, i, e, r, s) {\r\n        var n, o, h = 8 * s - r - 1,\r\n          a = (1 << h) - 1,\r\n          u = a >> 1,\r\n          f = -7,\r\n          d = e ? s - 1 : 0,\r\n          p = e ? -1 : 1,\r\n          c = t[i + d];\r\n        for (d += p, n = c & (1 << -f) - 1, c >>= -f, f += h; f > 0; n = 256 * n + t[i + d], d += p, f -= 8);\r\n        for (o = n & (1 << -f) - 1, n >>= -f, f += r; f > 0; o = 256 * o + t[i + d], d += p, f -= 8);\r\n        if (0 === n) n = 1 - u;\r\n        else {\r\n          if (n === a) return o ? NaN : (c ? -1 : 1) * (1 / 0);\r\n          o += Math.pow(2, r), n -= u\r\n        }\r\n        return (c ? -1 : 1) * o * Math.pow(2, n - r)\r\n      }, e.write = function(t, i, e, r, s, n) {\r\n        var o, h, a, u = 8 * n - s - 1,\r\n          f = (1 << u) - 1,\r\n          d = f >> 1,\r\n          p = 23 === s ? Math.pow(2, -24) - Math.pow(2, -77) : 0,\r\n          c = r ? 0 : n - 1,\r\n          l = r ? 1 : -1,\r\n          w = i < 0 || 0 === i && 1 / i < 0 ? 1 : 0;\r\n        for (i = Math.abs(i), isNaN(i) || i === 1 / 0 ? (h = isNaN(i) ? 1 : 0, o = f) : (o = Math.floor(Math.log(i) / Math.LN2), i * (a = Math.pow(2, -o)) < 1 && (o--, a *= 2), i += o + d >= 1 ? p / a : p * Math.pow(2, 1 - d), i * a >= 2 && (o++, a /= 2), o + d >= f ? (h = 0, o = f) : o + d >= 1 ? (h = (i * a - 1) * Math.pow(2, s), o += d) : (h = i * Math.pow(2, d - 1) * Math.pow(2, s), o = 0)); s >= 8; t[e + c] = 255 & h, c += l, h /= 256, s -= 8);\r\n        for (o = o << s | h, u += s; u > 0; t[e + c] = 255 & o, c += l, o /= 256, u -= 8);\r\n        t[e + c - l] |= 128 * w\r\n      }\r\n    }, {}]\r\n  }, {}, [1])(1)\r\n});\r\nexport default PBF;\r\n","// https://github.com/mbostock/shapefile Version 0.6.6. Copyright 2017 Mike Bostock.\nvar array_cancel = function () {\n  this._array = null;\n  return Promise.resolve();\n};\n\nvar array_read = function () {\n  var array = this._array;\n  this._array = null;\n  return Promise.resolve(array ? { done: false, value: array } : { done: true, value: undefined });\n};\n\nfunction array(array) {\n  return new ArraySource(array instanceof Uint8Array ? array : new Uint8Array(array));\n}\n\nfunction ArraySource(array) {\n  this._array = array;\n}\n\nArraySource.prototype.read = array_read;\nArraySource.prototype.cancel = array_cancel;\n\nvar fetchPath = function (url) {\n  return fetch(url).then(function (response) {\n    return response.body && response.body.getReader\n      ? response.body.getReader()\n      : response.arrayBuffer().then(array);\n  });\n};\n\nvar requestPath = function (url) {\n  return new Promise(function (resolve, reject) {\n    var request = new XMLHttpRequest;\n    request.responseType = \"arraybuffer\";\n    request.onload = function () { resolve(array(request.response)); };\n    request.onerror = reject;\n    request.ontimeout = reject;\n    request.open(\"GET\", url, true);\n    request.send();\n  });\n};\n\nfunction path(path) {\n  return (typeof fetch === \"function\" ? fetchPath : requestPath)(path);\n}\n\nfunction stream(source) {\n  return typeof source.read === \"function\" ? source : source.getReader();\n}\n\nvar empty = new Uint8Array(0);\n\nvar slice_cancel = function () {\n  return this._source.cancel();\n};\n\nfunction concat(a, b) {\n  if (!a.length) return b;\n  if (!b.length) return a;\n  var c = new Uint8Array(a.length + b.length);\n  c.set(a);\n  c.set(b, a.length);\n  return c;\n}\n\nvar slice_read = function () {\n  var that = this, array = that._array.subarray(that._index);\n  return that._source.read().then(function (result) {\n    that._array = empty;\n    that._index = 0;\n    return result.done ? (array.length > 0\n      ? { done: false, value: array }\n      : { done: true, value: undefined })\n      : { done: false, value: concat(array, result.value) };\n  });\n};\n\nvar slice_slice = function (length) {\n  if ((length |= 0) < 0) throw new Error(\"invalid length\");\n  var that = this, index = this._array.length - this._index;\n\n  // If the request fits within the remaining buffer, resolve it immediately.\n  if (this._index + length <= this._array.length) {\n    return Promise.resolve(this._array.subarray(this._index, this._index += length));\n  }\n\n  // Otherwise, read chunks repeatedly until the request is fulfilled.\n  var array = new Uint8Array(length);\n  array.set(this._array.subarray(this._index));\n  return (function read() {\n    return that._source.read().then(function (result) {\n\n      // When done, it’s possible the request wasn’t fully fullfilled!\n      // If so, the pre-allocated array is too big and needs slicing.\n      if (result.done) {\n        that._array = empty;\n        that._index = 0;\n        return index > 0 ? array.subarray(0, index) : null;\n      }\n\n      // If this chunk fulfills the request, return the resulting array.\n      if (index + result.value.length >= length) {\n        that._array = result.value;\n        that._index = length - index;\n        array.set(result.value.subarray(0, length - index), index);\n        return array;\n      }\n\n      // Otherwise copy this chunk into the array, then read the next chunk.\n      array.set(result.value, index);\n      index += result.value.length;\n      return read();\n    });\n  })();\n};\n\nfunction slice(source) {\n  return typeof source.slice === \"function\" ? source :\n    new SliceSource(typeof source.read === \"function\" ? source\n      : source.getReader());\n}\n\nfunction SliceSource(source) {\n  this._source = source;\n  this._array = empty;\n  this._index = 0;\n}\n\nSliceSource.prototype.read = slice_read;\nSliceSource.prototype.slice = slice_slice;\nSliceSource.prototype.cancel = slice_cancel;\n\nvar dbf_cancel = function () {\n  return this._source.cancel();\n};\n\nvar readBoolean = function (value) {\n  return /^[nf]$/i.test(value) ? false\n    : /^[yt]$/i.test(value) ? true\n      : null;\n};\n\nvar readDate = function (value) {\n  return new Date(+value.substring(0, 4), value.substring(4, 6) - 1, +value.substring(6, 8));\n};\n\nvar readNumber = function (value) {\n  return !(value = value.trim()) || isNaN(value = +value) ? null : value;\n};\n\nvar readString = function (value) {\n  return value.trim() || null;\n};\n\nvar types = {\n  B: readNumber,\n  C: readString,\n  D: readDate,\n  F: readNumber,\n  L: readBoolean,\n  M: readNumber,\n  N: readNumber\n};\n\nvar dbf_read = function () {\n  var that = this, i = 1;\n  return that._source.slice(that._recordLength).then(function (value) {\n    return value && (value[0] !== 0x1a) ? {\n      done: false, value: that._fields.reduce(function (p, f) {\n        p[f.name] = types[f.type](that._decode(value.subarray(i, i += f.length)));\n        return p;\n      }, {})\n    } : { done: true, value: undefined };\n  });\n};\n\nvar view = function (array) {\n  return new DataView(array.buffer, array.byteOffset, array.byteLength);\n};\n\nvar dbf = function (source, decoder) {\n  source = slice(source);\n  return source.slice(32).then(function (array) {\n    var head = view(array);\n    return source.slice(head.getUint16(8, true) - 32).then(function (array) {\n      return new Dbf(source, decoder, head, view(array));\n    });\n  });\n};\n\nfunction Dbf(source, decoder, head, body) {\n  this._source = source;\n  this._decode = decoder.decode.bind(decoder);\n  this._recordLength = head.getUint16(10, true);\n  this._fields = [];\n  for (var n = 0; body.getUint8(n) !== 0x0d; n += 32) {\n    for (var j = 0; j < 11; ++j) if (body.getUint8(n + j) === 0) break;\n    this._fields.push({\n      name: this._decode(new Uint8Array(body.buffer, body.byteOffset + n, j)),\n      type: String.fromCharCode(body.getUint8(n + 11)),\n      length: body.getUint8(n + 16)\n    });\n  }\n}\n\nvar prototype = Dbf.prototype;\nprototype.read = dbf_read;\nprototype.cancel = dbf_cancel;\n\nfunction cancel() {\n  return this._source.cancel();\n}\n\nvar parseMultiPoint = function (record) {\n  var i = 40, j, n = record.getInt32(36, true), coordinates = new Array(n);\n  for (j = 0; j < n; ++j, i += 16) coordinates[j] = [record.getFloat64(i, true), record.getFloat64(i + 8, true)];\n  return { type: \"MultiPoint\", coordinates: coordinates };\n};\n\nvar parseNull = function () {\n  return null;\n};\n\nvar parsePoint = function (record) {\n  return { type: \"Point\", coordinates: [record.getFloat64(4, true), record.getFloat64(12, true)] };\n};\n\nvar parsePolygon = function (record) {\n  var i = 44, j, n = record.getInt32(36, true), m = record.getInt32(40, true), parts = new Array(n), points = new Array(m), polygons = [], holes = [];\n  for (j = 0; j < n; ++j, i += 4) parts[j] = record.getInt32(i, true);\n  for (j = 0; j < m; ++j, i += 16) points[j] = [record.getFloat64(i, true), record.getFloat64(i + 8, true)];\n\n  parts.forEach(function (i, j) {\n    var ring = points.slice(i, parts[j + 1]);\n    if (ringClockwise(ring)) polygons.push([ring]);\n    else holes.push(ring);\n  });\n\n  holes.forEach(function (hole) {\n    polygons.some(function (polygon) {\n      if (ringContainsSome(polygon[0], hole)) {\n        polygon.push(hole);\n        return true;\n      }\n    }) || polygons.push([hole]);\n  });\n\n  return polygons.length === 1\n    ? { type: \"Polygon\", coordinates: polygons[0] }\n    : { type: \"MultiPolygon\", coordinates: polygons };\n};\n\nfunction ringClockwise(ring) {\n  if ((n = ring.length) < 4) return false;\n  var i = 0, n, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n  while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n  return area >= 0;\n}\n\nfunction ringContainsSome(ring, hole) {\n  var i = -1, n = hole.length, c;\n  while (++i < n) {\n    if (c = ringContains(ring, hole[i])) {\n      return c > 0;\n    }\n  }\n  return false;\n}\n\nfunction ringContains(ring, point) {\n  var x = point[0], y = point[1], contains = -1;\n  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n    var pi = ring[i], xi = pi[0], yi = pi[1],\n      pj = ring[j], xj = pj[0], yj = pj[1];\n    if (segmentContains(pi, pj, point)) {\n      return 0;\n    }\n    if (((yi > y) !== (yj > y)) && ((x < (xj - xi) * (y - yi) / (yj - yi) + xi))) {\n      contains = -contains;\n    }\n  }\n  return contains;\n}\n\nfunction segmentContains(p0, p1, p2) {\n  var x20 = p2[0] - p0[0], y20 = p2[1] - p0[1];\n  if (x20 === 0 && y20 === 0) return true;\n  var x10 = p1[0] - p0[0], y10 = p1[1] - p0[1];\n  if (x10 === 0 && y10 === 0) return false;\n  var t = (x20 * x10 + y20 * y10) / (x10 * x10 + y10 * y10);\n  return t < 0 || t > 1 ? false : t === 0 || t === 1 ? true : t * x10 === x20 && t * y10 === y20;\n}\n\nvar parsePolyLine = function (record) {\n  var i = 44, j, n = record.getInt32(36, true), m = record.getInt32(40, true), parts = new Array(n), points = new Array(m);\n  for (j = 0; j < n; ++j, i += 4) parts[j] = record.getInt32(i, true);\n  for (j = 0; j < m; ++j, i += 16) points[j] = [record.getFloat64(i, true), record.getFloat64(i + 8, true)];\n  return n === 1\n    ? { type: \"LineString\", coordinates: points }\n    : { type: \"MultiLineString\", coordinates: parts.map(function (i, j) { return points.slice(i, parts[j + 1]); }) };\n};\n\nvar concat$1 = function (a, b) {\n  var ab = new Uint8Array(a.length + b.length);\n  ab.set(a, 0);\n  ab.set(b, a.length);\n  return ab;\n};\n\nvar shp_read = function () {\n  var that = this;\n  ++that._index;\n  return that._source.slice(12).then(function (array) {\n    if (array == null) return { done: true, value: undefined };\n    var header = view(array);\n\n    // If the record starts with an invalid shape type (see #36), scan ahead in\n    // four-byte increments to find the next valid record, identified by the\n    // expected index, a non-empty content length and a valid shape type.\n    function skip() {\n      return that._source.slice(4).then(function (chunk) {\n        if (chunk == null) return { done: true, value: undefined };\n        header = view(array = concat$1(array.slice(4), chunk));\n        return header.getInt32(0, false) !== that._index ? skip() : read();\n      });\n    }\n\n    // All records should have at least four bytes (for the record shape type),\n    // so an invalid content length indicates corruption.\n    function read() {\n      var length = header.getInt32(4, false) * 2 - 4, type = header.getInt32(8, true);\n      return length < 0 || (type && type !== that._type) ? skip() : that._source.slice(length).then(function (chunk) {\n        return { done: false, value: type ? that._parse(view(concat$1(array.slice(8), chunk))) : null };\n      });\n    }\n\n    return read();\n  });\n};\n\nvar parsers = {\n  0: parseNull,\n  1: parsePoint,\n  3: parsePolyLine,\n  5: parsePolygon,\n  8: parseMultiPoint,\n  11: parsePoint, // PointZ\n  13: parsePolyLine, // PolyLineZ\n  15: parsePolygon, // PolygonZ\n  18: parseMultiPoint, // MultiPointZ\n  21: parsePoint, // PointM\n  23: parsePolyLine, // PolyLineM\n  25: parsePolygon, // PolygonM\n  28: parseMultiPoint // MultiPointM\n};\n\nvar shp = function (source) {\n  source = slice(source);\n  return source.slice(100).then(function (array) {\n    return new Shp(source, view(array));\n  });\n};\n\nfunction Shp(source, header) {\n  var type = header.getInt32(32, true);\n  if (!(type in parsers)) throw new Error(\"unsupported shape type: \" + type);\n  this._source = source;\n  this._type = type;\n  this._index = 0;\n  this._parse = parsers[type];\n  this.bbox = [header.getFloat64(36, true), header.getFloat64(44, true), header.getFloat64(52, true), header.getFloat64(60, true)];\n}\n\nvar prototype$2 = Shp.prototype;\nprototype$2.read = shp_read;\nprototype$2.cancel = cancel;\n\nfunction noop() { }\n\nvar shapefile_cancel = function () {\n  return Promise.all([\n    this._dbf && this._dbf.cancel(),\n    this._shp.cancel()\n  ]).then(noop);\n};\n\nvar shapefile_read = function () {\n  var that = this;\n  return Promise.all([\n    that._dbf ? that._dbf.read() : { value: {} },\n    that._shp.read()\n  ]).then(function (results) {\n    var dbf = results[0], shp = results[1];\n    return shp.done ? shp : {\n      done: false,\n      value: {\n        type: \"Feature\",\n        properties: dbf.value,\n        geometry: shp.value\n      }\n    };\n  });\n};\n\nvar shapefile = function (shpSource, dbfSource, decoder) {\n  return Promise.all([\n    shp(shpSource),\n    dbfSource && dbf(dbfSource, decoder)\n  ]).then(function (sources) {\n    return new Shapefile(sources[0], sources[1]);\n  });\n};\n\nfunction Shapefile(shp$$1, dbf$$1) {\n  this._shp = shp$$1;\n  this._dbf = dbf$$1;\n  this.bbox = shp$$1.bbox;\n}\n\nvar prototype$1 = Shapefile.prototype;\nprototype$1.read = shapefile_read;\nprototype$1.cancel = shapefile_cancel;\n\nfunction open(shp$$1, dbf$$1, options) {\n  if (typeof dbf$$1 === \"string\") {\n    if (!/\\.dbf$/.test(dbf$$1)) dbf$$1 += \".dbf\";\n    dbf$$1 = path(dbf$$1, options);\n  } else if (dbf$$1 instanceof ArrayBuffer || dbf$$1 instanceof Uint8Array) {\n    dbf$$1 = array(dbf$$1);\n  } else if (dbf$$1 != null) {\n    dbf$$1 = stream(dbf$$1);\n  }\n  if (typeof shp$$1 === \"string\") {\n    if (!/\\.shp$/.test(shp$$1)) shp$$1 += \".shp\";\n    if (dbf$$1 === undefined) dbf$$1 = path(shp$$1.substring(0, shp$$1.length - 4) + \".dbf\", options).catch(function () { });\n    shp$$1 = path(shp$$1, options);\n  } else if (shp$$1 instanceof ArrayBuffer || shp$$1 instanceof Uint8Array) {\n    shp$$1 = array(shp$$1);\n  } else {\n    shp$$1 = stream(shp$$1);\n  }\n  return Promise.all([shp$$1, dbf$$1]).then(function (sources) {\n    var shp$$1 = sources[0], dbf$$1 = sources[1], encoding = \"windows-1252\";\n    if (options && options.encoding != null) encoding = options.encoding;\n    return shapefile(shp$$1, dbf$$1, dbf$$1 && new TextDecoder(encoding));\n  });\n}\n\nfunction openShp(source, options) {\n  if (typeof source === \"string\") {\n    if (!/\\.shp$/.test(source)) source += \".shp\";\n    source = path(source, options);\n  } else if (source instanceof ArrayBuffer || source instanceof Uint8Array) {\n    source = array(source);\n  } else {\n    source = stream(source);\n  }\n  return Promise.resolve(source).then(shp);\n}\n\nfunction openDbf(source, options) {\n  var encoding = \"windows-1252\";\n  if (options && options.encoding != null) encoding = options.encoding;\n  encoding = new TextDecoder(encoding);\n  if (typeof source === \"string\") {\n    if (!/\\.dbf$/.test(source)) source += \".dbf\";\n    source = path(source, options);\n  } else if (source instanceof ArrayBuffer || source instanceof Uint8Array) {\n    source = array(source);\n  } else {\n    source = stream(source);\n  }\n  return Promise.resolve(source).then(function (source) {\n    return dbf(source, encoding);\n  });\n}\n\nfunction read(shp$$1, dbf$$1, options) {\n  return open(shp$$1, dbf$$1, options).then(function (source) {\n    var features = [], collection = { type: \"FeatureCollection\", features: features, bbox: source.bbox };\n    return source.read().then(function read(result) {\n      if (result.done) return collection;\n      features.push(result.value);\n      return source.read().then(read);\n    });\n  });\n}\nexport default {\n  open,\n  openShp,\n  openDbf,\n  read\n}","const shader = `\r\n#define NUM_MIPS 5\r\nvarying vec2 v_textureCoordinates;\r\nuniform sampler2D blurTexture1;\r\nuniform sampler2D blurTexture2;\r\nuniform sampler2D blurTexture3;\r\nuniform sampler2D blurTexture4;\r\nuniform sampler2D blurTexture5;\r\nuniform sampler2D colorTexture;\r\nuniform float bloomStrength;\r\nuniform float bloomRadius;\r\nuniform float bloomFactors[NUM_MIPS];\r\nuniform vec3 bloomTintColors[NUM_MIPS];\r\nfloat lerpBloomFactor(const in float factor){\r\n  float mirrorFactor=1.2-factor;\r\n  return mix(factor,mirrorFactor,bloomRadius);\r\n}\r\nvoid main(){\r\n  vec4 color=texture2D(colorTexture,v_textureCoordinates);\r\n  gl_FragColor=bloomStrength*(\r\n    lerpBloomFactor(bloomFactors[0])*vec4(bloomTintColors[0],1.0)*texture2D(blurTexture1,v_textureCoordinates)+\r\n    lerpBloomFactor(bloomFactors[1])*vec4(bloomTintColors[1],1.0)*texture2D(blurTexture2,v_textureCoordinates)+\r\n    lerpBloomFactor(bloomFactors[2])*vec4(bloomTintColors[2],1.0)*texture2D(blurTexture3,v_textureCoordinates)+\r\n    lerpBloomFactor(bloomFactors[3])*vec4(bloomTintColors[3],1.0)*texture2D(blurTexture4,v_textureCoordinates)+\r\n    lerpBloomFactor(bloomFactors[4])*vec4(bloomTintColors[4],1.0)*texture2D(blurTexture5,v_textureCoordinates)\r\n  )+color;\r\n}`\r\nexport default shader;\r\n","const shader = `\r\nuniform sampler2D colorTexture;\r\nvarying vec2 v_textureCoordinates;\r\nvoid main(){\r\n  vec4 color=texture2D(colorTexture,v_textureCoordinates);\r\n  if(czm_selected()){\r\n    gl_FragColor=color;\r\n  }else{\r\n    gl_FragColor=vec4(0.0);\r\n  }\r\n}\r\n`\r\nexport default shader;\r\n","const shader = `\r\nuniform sampler2D colorTexture;\r\nuniform vec2 direction;\r\nuniform float scale;\r\nuniform float bloomRadius;\r\nfloat gaussianPdf(in float x, in float sigma) {\r\n  return 0.39894 * exp(-0.5 * x * x/(sigma * sigma))/sigma;\r\n}\r\nvoid main(){\r\n  vec4 color=texture2D(colorTexture,v_textureCoordinates);\r\n  float fSigma=float(SIGMA);\r\n  vec2 size=vec2(czm_viewport.z,czm_viewport.w)*scale*fSigma*2.0;\r\n  vec2 invSize=(1.0+bloomRadius)/size;\r\n  float weightSum=gaussianPdf(0.0,fSigma);\r\n  vec3 diffuseSum=texture2D(colorTexture,v_textureCoordinates).rgb*weightSum;\r\n  bool selected=false;\r\n  for(int i=0;i<KERNEL_RADIUS;i++){\r\n    float x=float(i);\r\n    float w=gaussianPdf(x,fSigma);\r\n    vec2 uvOffset=direction*invSize*x;\r\n    vec3 sample1=texture2D(colorTexture,v_textureCoordinates+uvOffset).rgb;\r\n    vec3 sample2=texture2D(colorTexture,v_textureCoordinates-uvOffset).rgb;\r\n    diffuseSum+=(sample1+sample2)*w;\r\n    weightSum+=2.0*w;\r\n  }\r\n  gl_FragColor=vec4(diffuseSum/weightSum,2.0);\r\n}\r\n`\r\nexport default shader;\r\n","export const VERSION = '0.0.1';\nexport { default as abstract } from './core/abstract.js';\r\nexport { default as ajaxCatch } from './core/ajaxCatch.js';\r\nexport { default as ArrowPolyline } from './core/ArrowPolyline.js';\r\nexport { default as BillBoardGraphic } from './core/BillBoardGraphic.js';\r\nexport { default as Cartometry } from './core/Cartometry.js';\r\nexport { default as CartometryType } from './core/CartometryType.js';\r\nexport { default as CesiumProError } from './core/CesiumProError.js';\r\nexport { default as checkViewer } from './core/checkViewer.js';\r\nexport { default as clone } from './core/clone.js';\r\nexport { default as createTilesetShader } from './core/createTilesetShader.js';\r\nexport { default as createViewer } from './core/createViewer.js';\r\nexport { default as CursorTip } from './core/CursorTip.js';\r\nexport { default as CustomPrimitive } from './core/CustomPrimitive.js';\r\nexport { default as CustomShader } from './core/CustomShader.js';\r\nexport { default as CVT } from './core/CVT.js';\r\nexport { default as DataLoader } from './core/DataLoader.js';\r\nexport { default as dateFormat } from './core/dateFormat.js';\r\nexport { default as defaultValue } from './core/defaultValue.js';\r\nexport { default as defined } from './core/defined.js';\r\nexport { default as depthTest } from './core/depthTest.js';\r\nexport { default as destroyObject } from './core/destroyObject.js';\r\nexport { default as DraggableElement } from './core/DraggableElement.js';\r\nexport { default as Event } from './core/Event.js';\r\nexport { default as flyChinaHome } from './core/flyChinaHome.js';\r\nexport { default as flyTo } from './core/flyTo.js';\r\nexport { default as fxaa } from './core/fxaa.js';\r\nexport { default as Graphic } from './core/Graphic.js';\r\nexport { default as GraphicType } from './core/GraphicType.js';\r\nexport { default as GroundSkyBox } from './core/GroundSkyBox.js';\r\nexport { default as guid } from './core/guid.js';\r\nexport { default as logo } from './core/logo.js';\r\nexport { default as Model } from './core/Model.js';\r\nexport { default as ModelAttachVector } from './core/ModelAttachVector.js';\r\nexport { default as ModelGraphic } from './core/ModelGraphic.js';\r\nexport { default as pickPosition } from './core/pickPosition.js';\r\nexport { default as Plotting } from './core/Plotting.js';\r\nexport { default as PlotUtil } from './core/PlotUtil.js';\r\nexport { default as pointVisiblity } from './core/pointVisiblity.js';\r\nexport { default as PolygonPrimitive } from './core/PolygonPrimitive.js';\r\nexport { default as Properties } from './core/Properties.js';\r\nexport { default as randomPosition } from './core/randomPosition.js';\r\nexport { default as SectorGeoemetry } from './core/SectorGeoemetry.js';\r\nexport { default as StepFlyTo } from './core/StepFlyTo.js';\r\nexport { default as URL } from './core/URL.js';\r\nexport { default as ViewerParams } from './core/ViewerParams.js';\r\nexport { default as WaterFacePrimitive } from './core/WaterFacePrimitive.js';\r\nexport { default as VectorTileProvider } from './datasource/VectorTileProvider.js';\r\nexport { default as ArrowGraphic } from './graphic/ArrowGraphic.js';\r\nexport { default as NodeGraphic } from './graphic/NodeGraphic.js';\r\nexport { default as PointGraphic } from './graphic/PointGraphic.js';\r\nexport { default as PolygonGraphic } from './graphic/PolygonGraphic.js';\r\nexport { default as PolylineGraphic } from './graphic/PolylineGraphic.js';\r\nexport { default as CartometryManager } from './manager/CartometryManager.js';\r\nexport { default as DynamicFadeMaterialProperty } from './material/DynamicFadeMaterialProperty.js';\r\nexport { default as DynamicScanMaterialProperty } from './material/DynamicScanMaterialProperty.js';\r\nexport { default as DynamicSectorFadeMaterialProperty } from './material/DynamicSectorFadeMaterialProperty.js';\r\nexport { default as DynamicSpreadMaterialProperty } from './material/DynamicSpreadMaterialProperty.js';\r\nexport { default as DynamicSpreadWallMaterialProperty } from './material/DynamicSpreadWallMaterialProperty.js';\r\nexport { default as DynamicWareMaterialProperty } from './material/DynamicWareMaterialProperty.js';\r\nexport { default as PolylineFlowMaterialProperty } from './material/PolylineFlowMaterialProperty.js';\r\nexport { default as PolylineGlowMaterialProperty } from './material/PolylineGlowMaterialProperty.js';\r\nexport { default as PolylineTrailLinkMaterialProperty } from './material/PolylineTrailLinkMaterialProperty.js';\r\nexport { default as WaterFaceAppearance } from './material/WaterFaceAppearance.js';\r\nexport { default as BloomPass } from './postProcessStage/BloomPass.js';\r\nexport { default as CircleScan } from './postProcessStage/CircleScan.js';\r\nexport { default as PostProcessing } from './postProcessStage/PostProcessing.js';\r\nexport { default as RadarScan } from './postProcessStage/RadarScan.js';\r\nexport { default as SpecularReflection } from './postProcessStage/SpecularReflection.js';\r\nexport { default as UnrealBloomPass } from './postProcessStage/UnrealBloomPass.js';\r\nexport { default as _shaderdynamicFlowWallMaterial } from './shader/dynamicFlowWallMaterial.js';\r\nexport { default as _shaderdynamicScanMaterial } from './shader/dynamicScanMaterial.js';\r\nexport { default as _shaderdynamicSectorFadeMaterial } from './shader/dynamicSectorFadeMaterial.js';\r\nexport { default as _shaderdynamicSpreadMaterial } from './shader/dynamicSpreadMaterial.js';\r\nexport { default as _shaderdynamicSpreadWallMaterial } from './shader/dynamicSpreadWallMaterial.js';\r\nexport { default as _shaderdynamicWareMaterial } from './shader/dynamicWareMaterial.js';\r\nexport { default as _shaderdynamicWaterMaterial } from './shader/dynamicWaterMaterial.js';\r\nexport { default as _shaderGroundSkyBoxFS } from './shader/GroundSkyBoxFS.js';\r\nexport { default as _shaderGroundSkyBoxVS } from './shader/GroundSkyBoxVS.js';\r\nexport { default as _shaderpolylineFlowMaterial } from './shader/polylineFlowMaterial.js';\r\nexport { default as _shaderpolylineGlowMaterial } from './shader/polylineGlowMaterial.js';\r\nexport { default as _shaderpolylineTrackMaterial } from './shader/polylineTrackMaterial.js';\r\nexport { default as _shaderpolylineTrailLinkMaterial } from './shader/polylineTrailLinkMaterial.js';\r\nexport { default as _shaderwaterAppearanceFS } from './shader/waterAppearanceFS.js';\r\nexport { default as _shaderwaterAppearanceVS } from './shader/waterAppearanceVS.js';\r\nexport { default as _shaderwaterFaceFS } from './shader/waterFaceFS.js';\r\nexport { default as _shaderwaterFaceMaterial } from './shader/waterFaceMaterial.js';\r\nexport { default as _shaderwaterFaceVS } from './shader/waterFaceVS.js';\r\nexport { default as arrow } from './thirdParty/arrow.js';\r\nexport { default as filesaver } from './thirdParty/filesaver.js';\r\nexport { default as html2canvas } from './thirdParty/html2canvas.js';\r\nexport { default as jquery } from './thirdParty/jquery.js';\r\nexport { default as libgif } from './thirdParty/libgif.js';\r\nexport { default as netcdfjs } from './thirdParty/netcdfjs.js';\r\nexport { default as PBF } from './thirdParty/PBF.js';\r\nexport { default as shapefile } from './thirdParty/shapefile.js';\r\nexport { default as _shaderbloom } from './shader/postProcessStage/bloom.js';\r\nexport { default as _shadercircleScan } from './shader/postProcessStage/circleScan.js';\r\nexport { default as _shaderradarScan } from './shader/postProcessStage/radarScan.js';\r\nexport { default as _shaderselected } from './shader/postProcessStage/selected.js';\r\nexport { default as _shaderseperableBlur } from './shader/postProcessStage/seperableBlur.js';\r\nexport { default as _shaderspecularReflection } from './shader/postProcessStage/specularReflection.js';\r\nexport { default as turfArea } from './thirdParty/turf/turfArea.js';\r\nexport { default as turfHelpers } from './thirdParty/turf/turfHelpers.js';\r\nexport { default as turfMeta } from './thirdParty/turf/turfMeta.js';\r\n"],"names":["CesiumProError","message","name","Error","abstract","errorCatch","e","callback","console","error","response","status","data","request","statusText","guid","replace","c","r","Math","floor","random","v","toString","defaultValue","a","b","undefined","EMPTY_OBJECT","Object","freeze","ArrowPolyline","options","_color","color","Cesium","Color","RED","_width","width","_headWidth","headWidth","option","_length","length","_headLength","headLength","_inverse","inverse","position","id","line","CylinderGeometry","createGeometry","topRadius","bottomRadius","arrow","offset","translate","Primitive","modelMatrix","Transforms","eastNorthUpToFixedFrame","geometryInstances","GeometryInstance","geometry","appearance","MaterialAppearance","material","Material","fromType","scratchOffset","Cartesian3","isArray","x","y","z","clone","i","attributes","values","defined","value","compareNumber","Event","_listeners","_scopes","_toRemove","_insideRaiseEvent","listener","scope","push","event","removeEventListener","listeners","scopes","index","splice","apply","arguments","toRemove","sort","checkViewer","viewer","Viewer","type","createProperty","configurable","privateName","get","set","oldValue","_definitionChanged","raise","Properties","_definitionChange","_propertyNames","key","hasOwnProperty","defineProperty","propertyNames","includes","indexOf","slice","definitionChanged","json","toJson","JSON","stringify","property","CallbackProperty","ConstantPositionProperty","toCallbackProperty","Graphic","entityOptions","_viewer","_type","_properties","_show","_id","uuid","_dataSource","CustomDataSource","_root","entities","_node","_preEdit","_postEdit","_preCreate","_postCreate","_preRemove","_postRemove","preCreate","entity","add","postCreate","preRemove","remove","postRemove","_entity","_entityOptions","_positions","properties","destroy","flyTo","getValue","clock","currentTime","preEdit","callbackProperty","positions","polyline","_nodePositions","polygon","hierarchy","PolygonHierarchy","postEdit","createProperties","show","BillboardGraphic","image","verticalOrigin","VerticalOrigin","BASELINE","CVT","cartesian2Pixel","cartesian","SceneTransforms","wgs84ToWindowCoordinates","scene","pixel2Cartesian","pixel","ray","camera","getPickRay","globe","pick","pixel2Cartesian2D","ellipsoid","Ellipsoid","WGS84","pickEllipsoid","cartesian2Radians","cartographic","Cartographic","fromCartesian","lon","longitude","lat","latitude","height","cartesian2Degrees","coords","toDegrees","pixel2Degrees","pixel2Radians","Cartesian2","toRadians","toPixel","toCartesian","feature","isObject","bbox","constructor","validateBBox","validateId","feat","coordinates","Array","geom","point","lineString","multiPoint","multiLineString","multiPolygon","isNumber","points","featureCollection","map","ring","j","features","fc","num","isNaN","input","forEach","geomEach","geojson","g","stopG","geometryMaybeCollection","isGeometryCollection","featureProperties","featureBBox","featureId","featureIndex","isFeatureCollection","isFeature","stop","geometries","geomReduce","initialValue","previousValue","currentGeometry","flattenEach","geomType","coordinate","multiFeatureIndex","lineEach","geometryIndex","lineReduce","currentLine","RADIUS","area","calculateArea","total","polygonArea","abs","ringArea","p1","p2","p3","lowerIndex","middleIndex","upperIndex","coordsLength","rad","sin","PI","Cartometry","surfaceDistance","distance","point1cartographic","point2cartographic","geodesic","EllipsoidGeodesic","setEndPoints","s","spaceDistance","dis","angle","matrix","inverseMatrix","Matrix4","inverseTransformation","localp2","multiplyByPoint","localp3","normalizep2","normalize","normalizep3","cos","dot","acosClamped","angleBetweenNorth","center","localp","north","east","arceast","surfaceArea","res","k","totalAngle","distemp1","distemp2","spaceArea","coord","turfPolygon","turfArea","heightFromCartesianArray","rst","startC","endC","CartometryType","SURFACE_DISTANCE","SPACE_DISTANCE","SPACE_AREA","SURFACE_AREA","HEIGHT","ANGLE","validate","getKey","object","deep","result","propertyName","defaultShader","CustomShader","_key","_vertexShader","vertexShader","_fragmentShader","fragmentShader","_changed","_enabled","val","enabled","cachedShader","Map","createTilesetShader","tileset","shader","url","createViewer","container","defaultOption","animation","timeline","geocoder","homeButton","navigationHelpButton","baseLayerPicker","fullscreenElement","fullscreenButton","shouldAnimate","infoBox","selectionIndicator","sceneModePicker","shadows","imageryProvider","UrlTemplateImageryProvider","contextOptions","webgl","alpha","depth","stencil","antialias","premultipliedAlpha","preserveDrawingBuffer","failIfMajorPerformanceCaveat","allowTextureFilterAnisotropic","flyChinaHome","arr","window","document","getProto","getPrototypeOf","concat","class2type","hasOwn","fnToString","ObjectFunctionString","call","support","isFunction","obj","nodeType","isWindow","preservedScriptAttributes","src","nonce","noModule","DOMEval","code","node","doc","script","createElement","text","getAttribute","setAttribute","head","appendChild","parentNode","removeChild","toType","version","jQuery","selector","context","fn","init","rtrim","prototype","jquery","toArray","pushStack","elems","ret","merge","prevObject","each","elem","first","eq","last","len","end","extend","copy","copyIsArray","target","isPlainObject","expando","isReady","msg","noop","proto","Ctor","isEmptyObject","globalEval","isArrayLike","trim","makeArray","results","inArray","second","grep","invert","callbackInverse","matches","callbackExpect","arg","Symbol","iterator","split","toLowerCase","Sizzle","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains","Date","preferredDoc","dirruns","done","classCache","createCache","tokenCache","compilerCache","nonnativeSelectorCache","sortOrder","pop","push_native","list","booleans","whitespace","identifier","pseudos","rwhitespace","RegExp","rcomma","rcombinators","rdescend","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rhtml","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","_","escaped","escapedWhitespace","high","String","fromCharCode","rcssescape","fcssescape","ch","asCodePoint","charCodeAt","unloadHandler","inDisabledFieldset","addCombinator","disabled","nodeName","dir","next","childNodes","els","seed","m","nid","match","groups","newSelector","newContext","ownerDocument","exec","getElementById","getElementsByTagName","getElementsByClassName","qsa","test","toSelector","join","testContext","querySelectorAll","qsaError","removeAttribute","keys","cache","cacheLength","shift","markFunction","assert","el","addHandle","attrs","handler","attrHandle","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","namespace","namespaceURI","documentElement","hasCompare","subWindow","defaultView","top","addEventListener","attachEvent","className","createComment","getById","getElementsByName","filter","attrId","find","getAttributeNode","tag","tmp","innerHTML","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","unshift","expr","elements","attr","specified","escape","sel","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","firstChild","nodeValue","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","what","simple","forward","ofType","xml","uniqueCache","outerCache","nodeIndex","start","parent","useCache","lastChild","uniqueID","pseudo","args","setFilters","idx","matched","not","matcher","unmatched","has","lang","elemLang","hash","location","root","focus","activeElement","hasFocus","href","tabIndex","checked","selected","selectedIndex","empty","header","button","even","odd","lt","gt","nth","radio","checkbox","file","password","submit","reset","filters","parseOnly","tokens","soFar","preFilters","cached","combinator","base","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","token","compiled","unique","isXMLDoc","escapeSelector","until","truncate","is","siblings","n","rneedsContext","rsingleTag","winnow","qualifier","self","rootjQuery","parseHTML","ready","rparentsprev","guaranteedUnique","children","contents","prev","targets","l","closest","prevAll","addBack","sibling","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","content","reverse","rnothtmlwhite","createOptions","flag","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","disable","lock","fireWith","Identity","Thrower","ex","adoptValue","resolve","reject","noValue","method","promise","fail","then","Deferred","func","tuples","state","always","deferred","pipe","fns","newDefer","tuple","returned","progress","notify","onFulfilled","onRejected","onProgress","maxDepth","special","that","mightThrow","TypeError","notifyWith","resolveWith","process","exceptionHook","stackTrace","rejectWith","getStackHook","setTimeout","stateString","when","singleValue","remaining","resolveContexts","resolveValues","master","updateFunc","rerrorNames","stack","warn","readyException","readyList","readyWait","wait","completed","readyState","doScroll","access","chainable","emptyGet","raw","bulk","rmsPrefix","rdashAlpha","fcamelCase","all","letter","toUpperCase","camelCase","string","acceptData","owner","Data","uid","prop","hasData","dataPriv","dataUser","rbrace","rmultiDash","getData","parse","dataAttr","removeData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","setter","clearQueue","count","defer","pnum","source","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","style","display","css","swap","old","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","body","showHide","hide","toggle","rcheckableType","rtagName","rscriptType","wrapMap","thead","col","tr","td","_default","optgroup","tbody","tfoot","colgroup","caption","th","getAll","setGlobalEval","refElements","buildFragment","scripts","selection","ignored","wrap","attached","fragment","createDocumentFragment","nodes","createTextNode","htmlPrefilter","div","checkClone","cloneNode","noCloneChecked","rkeyEvent","rmouseEvent","rtypenamespace","returnTrue","returnFalse","expectSync","safeActiveElement","err","on","types","one","origFn","off","global","handleObjIn","eventHandle","events","t","handleObj","handlers","namespaces","origType","elemData","handle","triggered","dispatch","delegateType","bindType","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","fix","handlerQueue","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","preventDefault","stopPropagation","postDispatch","matchedHandlers","matchedSelectors","addProp","hook","enumerable","originalEvent","writable","load","noBubble","click","leverageNative","trigger","beforeunload","returnValue","notAsync","saved","isTrigger","stopImmediatePropagation","props","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","now","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which","blur","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rxhtmlTag","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","pdataOld","pdataCur","udataOld","udataCur","fixInput","domManip","collection","hasScripts","iNoClone","valueIsFunction","html","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","append","prepend","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","original","insert","rnumnonpx","getStyles","opener","getComputedStyle","rboxStyle","computeStyleTests","cssText","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","right","pixelBoxStylesVal","boxSizingReliableVal","scrollboxSizeVal","offsetWidth","measure","round","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelBoxStyles","pixelPosition","reliableMarginLeft","scrollboxSize","curCSS","computed","minWidth","maxWidth","getPropertyValue","addGetHookIf","conditionFn","hookFn","cssPrefixes","emptyStyle","vendorProps","vendorPropName","capName","finalPropName","final","cssProps","rdisplayswap","rcustomProp","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","subtract","max","boxModelAdjustment","dimension","box","isBorderBox","styles","computedVal","extra","delta","ceil","getWidthOrHeight","boxSizingNeeded","valueIsBorderBox","offsetProp","getClientRects","cssHooks","opacity","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","origName","isCustomProp","setProperty","isFinite","getBoundingClientRect","scrollboxSizeBuggy","left","margin","padding","border","prefix","suffix","expand","expanded","parts","Tween","easing","propHooks","run","percent","eased","duration","pos","step","fx","scrollTop","scrollLeft","linear","p","swing","fxNow","inProgress","rfxtypes","rrun","schedule","hidden","requestAnimationFrame","interval","tick","createFxNow","genFx","includeWidth","createTween","Animation","tweeners","defaultPrefilter","opts","oldfire","propTween","restoreDisplay","isBox","anim","dataShow","unqueued","overflow","overflowX","overflowY","propFilter","specialEasing","stopped","prefilters","startTime","tweens","originalProperties","originalOptions","gotoEnd","bind","complete","timer","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","radioValue","boolHook","removeAttr","nType","attrHooks","attrNames","getter","lowercaseName","rfocusable","rclickable","removeProp","propFix","tabindex","parseInt","stripAndCollapse","getClass","classesToArray","addClass","classes","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","isValidValue","classNames","hasClass","rreturn","valHooks","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","parentWindow","simulate","triggerHandler","attaches","rquery","parseXML","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","param","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rlocalProtocol","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","mimeType","getResponseHeader","converters","ajaxConvert","isSuccess","conv2","current","conv","responseFields","dataFilter","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","overrideMimeType","abort","finalText","crossDomain","host","hasContent","ifModified","headers","beforeSend","success","send","nativeStatusText","modified","getJSON","getScript","wrapAll","firstElementChild","wrapInner","htmlIsFunction","unwrap","visible","offsetHeight","xhr","XMLHttpRequest","xhrSuccessStatus","xhrSupported","cors","errorCallback","open","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","scriptAttrs","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","params","animated","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","rect","win","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","hover","fnOver","fnOut","unbind","delegate","undelegate","proxy","holdReady","hold","parseJSON","isNumeric","CursorTip","reduplicate","$","tooltip","ele","_isDestryoed","_target","_text","_position","_handler","ScreenSpaceEventHandler","canvas","setInputAction","updatePosition","endPosition","ScreenSpaceEventType","MOUSE_MOVE","isDestroyed","updateText","destroyObject","throwOnDestroyed","DeveloperError","CustomPrimitive","frameState","DataLoader","loadModel","model","Model","fromGltf","readyPromise","activeAnimations","addAll","loop","ModelAnimationLoop","REPEAT","primitives","rotate","rotation","transform","Matrix3","fromRotationZ","multiplyByMatrix3","translation","multiplyByTranslation","adjustHeight","boundingSphere","surface","fromDegrees","multiply","fromTranslation","adjustLocation","rtcCenterTransform","rtcCenter","getTranslation","rtcMatrix","loadTileset","kwargs","debug","cesium3dtileset","Cesium3DTileset","height0","position0","rotation0","onkeypress","parameters","dateFormat","fmt","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","padStart","register","format","depthTest","depthTestAgainstTerrain","Scene","Globe","DraggableElement","_container","mousedown","ev","_x","_y","mouseup","SceneMode","Rectangle","Camera","DEFAULT_VIEW_RECTANGLE","mode","_mode","MORPHING","_scene","completeMorph","SCENE2D","destination","endTransform","IDENTITY","SCENE3D","getRectangleCameraCoordinates","mag","magnitude","DEFAULT_VIEW_FACTOR","multiplyByScalar","COLUMBUS_VIEW","maxRadii","_projection","maximumRadius","orientation","heading","pitch","acos","pitchScratch","roll","convert","BoundingSphere","flyToBoundingSphere","fxaa","postProcessStages","GraphicType","POINT","POLYLINE","POLYGON","MODEL","LABEL","ARROW","BILLBOARD","MUTIPOINT","getOGCType","ogcName","SkyBoxFS","skyBoxFS","SkyBoxVS","skyBoxVS","GroundSkyBox","DrawCommand","sources","_sources","_command","_cubeMap","_attributeLocations","_useHdr","_isDestroyed","useHdr","BoxGeometry","GeometryPipeline","VertexFormat","BufferUsage","CubeMap","loadCubeMap","RenderState","VertexArray","BlendingState","ShaderProgram","ShaderSource","skyboxMatrix3","passes","render","positiveX","negativeX","positiveY","negativeY","positiveZ","negativeZ","cubeMap","command","_positionWC","vertexArray","uniformMap","u_cubeMap","u_rotateMatrix","getRotation","getMatrix3","fromDimensions","dimensions","vertexFormat","POSITION_ONLY","attributeLocations","createAttributeLocations","fromGeometry","bufferUsage","_DRAW","renderState","fromCache","blending","ALPHA_BLEND","shaderProgram","fs","defines","vertexShaderSource","fragmentShaderSource","logo","numberOfComponentsForType","getAccessorByteStride","IndexDatatype","FeatureDetection","addPipelineExtras","ModelLoadResources","ModelUtility","updateVersion","addDefaults","processPbrMaterials","processModelMaterialsCommon","DracoLoader","ForEach","hasExtension","WebGLConstants","ModelMaterial","ModelMesh","ModelNode","OctahedralProjectedCubeMap","ModelOutlineLoader","JobType","PrimitiveType","Buffer","DepthFunction","combine","ShadowMode","HeightReference","Axis","Cartesian4","ColorBlendMode","ModelState","CesiumMath","updateColor","forceDerive","scene3DOnly","nodeCommands","_nodeCommands","translucentCommand","nodeCommand","deriveTranslucentCommand","command2D","translucentCommand2D","updateBackFaceCulling","backFaceCulling","disableCullingCommand","deriveDisableCullingCommand","disableCullingCommand2D","updateSilhouette","force","hasSilhouette","dirty","alphaDirty","_colorPreviousAlpha","silhouetteColor","_silhouetteColorPreviousAlpha","silhouetteModelCommand","createSilhouetteCommands","recreateProgram","programToCreate","programId","techniqueId","program","_sourcePrograms","shaders","_rendererResources","sourceShaders","quantizedVertexShaders","_quantizedVertexShaders","clippingPlaneCollection","clippingPlanes","addClippingPlaneCode","isClippingEnabled","vs","extensionsUsed","WEB3D_quantized_attributes","_dequantizeInShader","finalFS","isColorShadingEnabled","_modifyShaderForColor","modifyShaderForClippingPlanes","drawVS","modifyShader","_vertexShaderLoaded","drawFS","_fragmentShaderLoaded","_resource","cshader","replaceMain","_uniformMapLoaded","useIBL","_imageBasedLightingFactor","_lightColor","_sourceVersion","_sourceKHRTechniquesWebGL","isSupported","usesSH","_sphericalHarmonicCoefficients","_useDefaultSphericalHarmonics","usesSM","_specularEnvironmentMapAtlas","_useDefaultSpecularMaps","addMatrix","_luminanceAtZenith","createAttributesAndProgram","_clippingPlanes","equals","WHITE","colorBlendMode","HIGHLIGHT","updateClippingPlanes","update","updateWireframe","_debugWireframe","debugWireframe","primitiveType","LINES","TRIANGLES","updateShowBoundingVolume","debugShowBoundingVolume","_debugShowBoundingVolume","updateShadows","_shadows","castShadows","receiveShadows","updatePickIds","pickIds","_pickIds","scratchObjectSpace","applySkins","skinnedNodes","_runtime","transformToRoot","computedJointMatrices","joints","bindShapeMatrix","inverseBindMatrices","inverseBindMatricesLength","multiplyTransformation","getNodeMatrix","publicNode","publicMatrix","useMatrix","fromTranslationQuaternionRotationScale","setMatrix","scratchNodeStack","scratchComputedTranslation","scratchComputedMatrixIn2D","updateNodeHierarchyModelMatrix","modelTransformChanged","justLoaded","projection","maxDirtyNumber","_maxDirtyNumber","rootNodes","nodeStack","computedModelMatrix","_computedModelMatrix","_ignoreCommands","getColumn","UNIT_W","basisTo2D","_rtcCenter","_rtcCenter3D","to2D","wgs84To2DModelMatrix","setTranslation","_rtcCenter2D","commands","dirtyNumber","nodeMatrix","computedMatrix","commandsLength","primitiveCommand","boundingVolume","sign","childrenLength","child","createResources","techniques","_sourceTechniques","programs","resources","_loadRendererResourcesFromCache","_cachedRendererResources","checkSupportedGlExtensions","glExtensions","quantizedVS","modifyShaderForQuantizedAttributes","cachedResources","buffers","vertexArrays","silhouettePrograms","textures","samplers","renderStates","_precreatedAttributes","createVertexArrays","_cachedGeometryByteLength","getGeometryByteLength","_cachedTexturesByteLength","getTexturesByteLength","createBuffers","createPrograms","createSamplers","loadTexturesFromBufferViews","createTextures","createSkins","createRuntimeAnimations","createRenderStates","createUniformMaps","createRuntimeNodes","releaseCachedGltf","_cacheKey","_cachedGltf","gltfCache","updateClamping","_removeUpdateHeightCallback","heightReference","NONE","_clampedModelMatrix","scratchPosition","cartoPosition","cartesianToCartographic","_surface","updateHeight","getUpdateHeightCallback","getHeight","cb","scratchCartographic","cartographicToCartesian","getScale","minimumPixelSize","maxPixelSize","drawingBufferWidth","drawingBufferHeight","mapProjection","project","fromElements","radius","metersPerPixel","scaleInPixels","pixelsPerMeter","diameterInPixels","min","_initialRadius","maximumScale","CreateVertexBufferJob","execute","createVertexBuffer","bufferViewId","loadResources","_loadResources","bufferViews","gltf","bufferView","createdBufferViews","vertexBuffer","typedArray","getBuffer","usage","STATIC_DRAW","vertexArrayDestroyable","_geometryByteLength","sizeInBytes","rendererSamplers","sampler","samplerId","Sampler","wrapS","wrapT","minificationFilter","minFilter","magnificationFilter","magFilter","CreateIndexBufferJob","componentType","createIndexBuffer","indexBuffer","indexDatatype","scratchVertexBufferJob","scratchIndexBufferJob","pendingBufferLoads","vertexBuffersToCreate","indexBuffersToCreate","asynchronous","peek","jobScheduler","BUFFER","CreateProgramJob","createProgram","scratchCreateProgramJob","programsToCreate","pendingShaderLoads","PROGRAM","technique","texturesToCreateFromBufferView","gltfTexture","imageId","getFailedLoadFunction","loadKTX","imageLoad","otherwise","pendingTextureLoads","loadCRN","getOnImageCreatedFromTypedArray","loadImageFromTypedArray","uint8Array","flipY","pendingBufferViewToImage","CreateTextureJob","createTexture","texture","TextureWrap","usesTextureTransform","materials","materialsLength","extensions","KHR_techniques_webgl","valueName","KHR_texture_transform","TextureMinificationFilter","LINEAR","NEAREST","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","textureMinificationFilter","textureMagnificationFilter","internalFormat","mipmap","PixelFormat","isCompressedFormat","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","requiresNpot","MIRRORED_REPEAT","tx","Texture","arrayBufferView","pixelFormat","npot","isPowerOfTwo","nextPowerOfTwo","canvasContext","getContext","drawImage","pixelDatatype","generateMipmap","_texturesByteLength","scratchCreateTextureJob","texturesToCreate","TEXTURE","accessors","runtimeSkins","skin","accessor","ModelAnimationCache","getSkinInverseBindMatrices","createJoints","skins","runtimeNodes","skinnedNodesIds","skinnedNode","runtimeSkin","gltfJoints","jointsLength","nodeId","jointNode","finishedPendingBufferLoads","animations","channels","Number","MAX_VALUE","stopTime","channelsLength","channelEvaluators","channel","path","getAnimationParameterValues","output","spline","getAnimationSpline","getChannelEvaluator","finishedBuffersCreation","finishedProgramCreation","rendererBuffers","rendererVertexArrays","mesh","meshId","meshPrimitive","primitive","primitiveId","attributeLocation","getAttributeLocations","decodedData","_decodedData","meshPrimitiveAttribute","accessorId","attributeName","decodedAttributes","decodedAttribute","componentsPerAttribute","componentDatatype","normalized","offsetInBytes","byteOffset","strideInBytes","byteStride","attribute","precreatedAttributes","indices","materialsById","_technique","programVertexAttributes","vertexAttributes","programAttributeLocations","semantic","materialId","createRenderStateForMaterial","rendererRenderStates","blendEquationSeparate","FUNC_ADD","blendFuncSeparate","ONE","ONE_MINUS_SRC_ALPHA","KHR_blend","blendEquation","blendFactors","enableCulling","doubleSided","blendingEnabled","alphaMode","cull","LESS_OR_EQUAL","depthMask","equationRgb","equationAlpha","functionSourceRgb","functionDestinationRgb","functionSourceAlpha","functionDestinationAlpha","uniformMaps","_uniformMaps","defaultTexture","_defaultTexture","modelMaterial","instanceValues","_values","uniforms","createUniformsForMaterial","u","jointMatrixUniformName","morphWeightsUniformName","a_outlineCoordinates","outlineTexture","u_outlineTexture","uniformValues","techniqueUniform","uniform","uniformName","uv","createUniformFunction","getUniformFunctionFromSource","uniformState","alphaCutoffValue","alphaCutoff","getGltfSemanticUniforms","uv2","finishedEverythingButTextureCreation","scenes","sceneNodes","seen","parentRuntimeNode","gltfNode","runtimeNode","fromColumnMajorArray","fromArray","Quaternion","unpack","createCommand","childId","allowPicking","runtimeMeshesByName","meshesByName","rendererPrograms","gltfMeshes","meshes","ix","_program","positionAccessor","POSITION","minMax","getAccessorMinMax","fromCornerPoints","numberOfIndices","getSizeInBytes","_trianglesLength","triangleCountFromPrimitiveIndices","um","jointUniformMap","createJointMatricesFunction","morphWeightsUniformMap","createMorphWeightsFunction","gltf_color","createColorFunction","gltf_colorBlend","createColorBlendFunction","gltf_clippingPlanes","createClippingPlanesFunction","gltf_clippingPlanesEdgeStyle","createClippingPlanesEdgeStyleFunction","gltf_clippingPlanesMatrix","createClippingPlanesMatrixFunction","gltf_iblFactor","createIBLFactorFunction","gltf_lightColor","createLightColorFunction","gltf_sphericalHarmonicCoefficients","createSphericalHarmonicCoefficientsFunction","gltf_specularMap","createSpecularEnvironmentMapFunction","gltf_specularMapSize","createSpecularEnvironmentMapSizeFunction","gltf_maxSpecularLOD","createSpecularEnvironmentMapLOD","gltf_luminanceAtZenith","createLuminanceAtZenithFunction","quantizedUniformMap","createUniformsForQuantizedAttributes","createUniformsForDracoQuantizedAttributes","rs","isTranslucent","_pickObject","pickId","createPickId","pickUniforms","czm_pickColor","createPickColorFunction","_pickIdLoaded","pass","Pass","TRANSLUCENT","opaquePass","shallowClone","silhouetteModelCommand2D","silhouetteColorCommand","silhouetteColorCommand2D","indicesCount","TRIANGLE_STRIP","TRIANGLE_FAN","getColorBlend","colorBlendAmount","withAlpha","edgeColor","edgeWidth","scratchClippingPlaneMatrix","_specularEnvironmentMaps","_clippingPlaneModelViewMatrix","maximumMipmapLevel","luminanceAtZenith","programName","_programPrimitives","getProgramForPrimitive","_quantizedUniforms","modifyShaderForDracoQuantizedAttributes","isInvisible","silhouetteSupported","stencilBuffer","silhouetteSize","_normalAttributeName","parseShaders","bufferId","buffer","getStringFromTypedArray","extras","_pipeline","byteLength","shaderResource","getDerivedResource","uri","fetchText","shaderLoad","parsePrograms","sourceTechniques","enqueue","parseBufferViews","ARRAY_BUFFER","indexBufferIds","ELEMENT_ARRAY_BUFFER","parseTechniques","sourcePrograms","bufferLoad","arrayBuffer","Uint8Array","CachedRendererResources","cacheKey","addBuffersToLoadResources","ktxRegex","crnRegex","parseArticulations","articulationsByName","articulationsByStageKey","runtimeStagesByKey","stagesByKey","AGI_articulations","gltfArticulations","articulations","numArticulations","articulation","isDirty","numStages","stages","stage","stageKey","parseTextures","supportsWebP","images","EXT_texture_webp","gltfImage","compressedImage3DTiles","crunch","s3tc","pvrtc","pvrtc1","etc1","imageResource","fetchImage","scratchArticulationStageInitialTransform","parseNodes","runtimeNodesByName","computedShow","jointName","weights","getTransform","articulationName","originalMatrix","applyArticulationStageMatrix","nodesByName","parseMaterials","runtimeMaterialsByName","runtimeMaterialsById","materialValue","materialsByName","parseMeshes","programPrimitives","initialized","initialize","_state","NEEDS_LOAD","cachedRendererResources","modelRendererResourceCache","modelCaches","LOADING","FAILED","CESIUM_RTC","ZERO","projectedCart","_rtcCenterEye","parseBuffers","incrementallyLoadTextures","_incrementallyLoadTextures","brdfLutGenerator","checkSupportedExtensions","extensionsRequired","updateForwardAxis","sourceVersion","getAssetVersion","sourceKHRTechniquesWebGL","getUsedExtensions","addBatchIdToGeneratedShaders","_addBatchIdToGeneratedShaders","finishedDecoding","decodeModel","basePath","resourcesParsed","_boundingSphere","computeBoundingSphere","cacheDataForModel","outlinePrimitives","finished","LOADED","getAttributeOrUniformBySemantic","releaseGltfJson","iblSupported","_shouldUpdateSpecularMapAtlas","_shouldRegenerateShaders","recompileWithDefaultAtlas","specularEnvironmentMaps","recompileWithoutDefaultAtlas","recompileWithDefaultSHCoeffs","sphericalHarmonicCoefficients","recompileWithoutDefaultSHCoeffs","silhouette","translucent","invisible","displayConditionPassed","distanceDisplayCondition","distanceDisplayConditionVisible","_cesiumAnimationsDirty","_dirty","modeChanged","_modelMatrix","_scale","_minimumPixelSize","_maximumScale","_heightReference","_heightChanged","multiplyByUniformScale","_upAxis","Y","Y_UP_TO_Z_UP","X","X_UP_TO_Z_UP","forwardAxis","Z","Z_UP_TO_X_UP","_perNodeShowDirty","updatePerNodeShow","currentClippingPlanesState","useClippingPlanes","clippingPlanesOriginMatrix","view3D","clippingPlanesState","shouldRegenerateShaders","_clippingPlanesState","currentlyColorShadingEnabled","_colorShadingEnabled","changed","regenerateShaders","afterRender","_ready","_readyPromise","commandList","nc","idl2D","credit","_credit","creditDisplay","addCredit","resourceCredits","_resourceCredits","creditCount","destroyIfNotCached","rendererResources","visitedPrograms","commandCount","renderProgram","cesiumScriptRegex","tryMakeAbsolute","baseResource","getBaseUrlFromCesiumScript","buildModuleUrlFromRequireToUrl","moduleID","require","toUrl","getCesiumProBaseUrl","baseUrlString","CESIUMPRO_BASE_URL","define","amd","toUrlUndefined","getAbsoluteUri","Resource","appendForwardSlash","buildModuleUrlFromBaseUrl","resource","buildModuleUrl","relativeUrl","URL","formatArgs","startsWith","substring","endsWith","urlstr","PointGraphic","createEntity","billboard","label","Entity","equal","toGeoJson","graphic","graphicType","getGeometry","fromCoordinates","defaultStyle","pixelSize","outlineColor","outlineWidth","CLAMP_TO_GROUND","font","fillColor","showBackground","LabelStyle","FILL_AND_OUTLINE","BOTTOM","pixelOffset","NodeGraphic","nodeGraphic","PolygonGraphic","PolygonGrphic","outline","nodeCount","removeNode","lonlat","fromDegreesArray","flat","fromPoints","getHierarchy","hierarchyValue","polygonHierarchy","centerFromPonits","fromCssColorString","perPositionHeight","ColorMaterialProperty","AQUA","ModelAttachVector","vectorResource","_materail","GOLD","_previewMaterial","_highlightMaterial","highlightMaterial","_vectorResource","feats","entityMap","coordinates2Hierarchy","ajaxCatch","getByKey","highLightByEntity","zoomTo","from","clear","removeAll","setMaterial","coors","cs","ModelGraphic","pickPosition","elliposid","pickPositionSupported","Plotting","_graphics","graphics","PlotUtil","nextIndex","sqrt","pow","percentage","asin","TWO_PI","azimuth","adjustAngle","o","origin","point1","point2","fac","factor","quadricBSplineFactor","factorial","NaN","curves","binomialFactor","pointVisibility","EllipsoidalOccluder","isPointVisible","windowPosition","clientWidth","clientHeight","frustum","positionWC","directionWC","upWC","cullingVolume","computeCullingVolume","bounding","projectTo2D","computeVisibility","Intersect","INSIDE","INERSECTING","PolygonPrimitive","vertex","Float64Array","Uint16Array","scaleMatrix","fromScale","Geometry","GeometryAttribute","ComponentDatatype","FLOAT","fromVertices","defaultRenderState","Appearance","getDefaultRenderState","createVertex","OPAQUE","randomPosition","extent","ArcType","SectorGeometry","fov","_center","_radius","_fov","_vertexFormat","DEFAULT","_arcType","arcType","GEODESIC","_workerName","_rectangle","step1","step1Duration","step2","step2Duration","step3","step3Duration","curHeight","positionCartographic","step1Destination","cur_height","step2Destination","Promise","ViewerParams","_lastFpsSampleTime","_fpsFrameCount","_msFrameCount","_fps","_ms","_lon","_lat","_height","_alt","_heading","_pitch","_roll","addMousemoveEvent","removeMousemoveEvent","coor","terrainProvider","sampleTerrainMostDetailed","updateHeadingPitchRoll","log","removeInputAction","postRenderFunction","postRender","updateFps","removePostRenderEvent","getTimestamp","lastMsSampleTime","fpsElapsedTime","fps","toFixed","msElapsedTime","ms","inWorldCoordinates","unprojectedScratch","rayScratch","Ray","trackedEntity","direction","worldToCameraCoordinatesPoint","unproject","alt","viewerCenter","Framebuffer","Renderbuffer","PassState","BoundingRectangle","RenderbufferFormat","JulianDate","PolygonGeometry","Plane","ClearCommand","executeCommand","passState","debugFramebuffer","_frameState","debugCommandFilter","useLogDepth","derivedCommands","logDepth","_hdr","hdr","picking","pickCommand","depthOnlyCommand","shadowState","lightShadowsEnabled","receiveCommand","WaterFacePrimitive","waterPolygon","_waterColor","waterColor","_refractColor","refractColor","_reflectColor","reflectColor","_waveWidth","waveWidth","_flowDirection","flowDirection","_flowSpeed","flowSpeed","_waterPolygon","_normalMap","normalMap","_normalTexture","_startTime","_reflectCamera","_reflectPassState","_drawCommand","_context","_zFactor","_pointsToCartographic","img","REPAT","_polygonHierarchy","firstCartographic","minX","minY","maxX","maxY","_lonMin","_latMin","framebuffer","colorTextures","RGBA","depthRenderbuffer","DEPTH_COMPONENT16","viewport","computeBoundingRectangle","_fscale","normal","cross","setRow","transpose","transposeCenter","multiplyByVector","invLocalViewMatrix","invWorldViewMatrix","inverseViewMatrix","modelViewMatrix","modelViewProjection","viewMatrix","projectionMatrix","secondsOfDay","_updated","seconds","_fElapse","_frameTime","_flowAngle","me","_uniformMap","u_bgColor","u_texCoordOffset","latMin","u_texCoordScale","u_scale","u_cameraPosition","u_modelViewProjectionMatrix","u_modelViewMatrix","u_clampToGroud","u_invWorldViewMatrix","u_refractMap","u_frameTime","u_normalMap","u_reflectMap","getColorTexture","u_useRefractTex","u_reflection","u_waterColor","u_refractColor","u_reflectColor","u_flowDirection","_waterGeometry","cartographics","Uint32Array","UNSIGNED_INT","createTypedArray","vertexBuffer1","idnex","plane","fromPointNormal","normal1","projectScale","scaleNormal","up","scaleNormal2","cameraPos","worldPos","fat","cartesian4","w","cartesian3","cartesian4_1","cartesian4_2","scaleCartesian4_2","fromBytes","renderColorTexture","reflectCamera","updateCamera","environmentState","_environmentState","isSkyAtmosphereVisible","skyAtmosphereCommand","cmd","GLOBE","CESIUM_3D_TILE","ENVIRONMENT","OVERLAY","updatePass","updateFrustum","draw","release","ImageryProvider","WebMercatorTilingScheme","GeographicProjection","Credit","templateRegex","tags","xTag","yTag","zTag","sTag","reverseX","reverseXTag","reverseY","reverseYTag","reverseZ","reverseZTag","westDegrees","westDegreesTag","southDegrees","southDegreesTag","eastDegrees","eastDegreesTag","northDegrees","northDegreesTag","westProjected","westProjectedTag","southProjected","southProjectedTag","eastProjected","eastProjectedTag","northProjected","northProjectedTag","widthTag","heightTag","pickFeaturesTags","iTag","jTag","reverseI","reverseITag","reverseJ","reverseJTag","longitudeDegrees","longitudeDegreesTag","latitudeDegrees","latitudeDegreesTag","longitudeProjected","longitudeProjectedTag","latitudeProjected","latitudeProjectedTag","formatTag","VectorTileProvider","isPromise","_errorEvent","_urlSchemeZeroPadding","_pickFeaturesResource","_tileWidth","_tileHeight","_maximumLevel","_minimumLevel","_tilingScheme","_tileDiscardPolicy","_hasAlphaChannel","_tags","_pickFeaturesTags","defaultAlpha","defaultNightAlpha","defaultDayAlpha","defaultBrightness","defaultContrast","defaultHue","defaultSaturation","defaultGamma","defaultMinificationFilter","defaultMagnificationFilter","enablePickFeatures","reinitialize","defineProperties","urlSchemeZeroPadding","pickFeaturesUrl","tileWidth","tileHeight","maximumLevel","minimumLevel","tilingScheme","rectangle","tileDiscardPolicy","errorEvent","hasAlphaChannel","customTags","allTags","allPickFeaturesTags","createIfNeeded","pickFeaturesResource","_getFeatureInfoFormats","getFeatureInfoFormats","_subdomains","subdomains","intersection","getTileCredits","level","requestImage","loadImage","buildImageResource","pickFeatures","formatIndex","handleResponse","doRequest","buildPickFeaturesResource","fetchJson","fetchXML","fetch","degreesScratchComputed","degreesScratch","projectedScratchComputed","projectedScratch","getUrlComponent","templateValues","ijScratchComputed","ijScratch","longitudeLatitudeProjectedScratchComputed","padWithZerosIfNecessary","paddingTemplate","paddingTemplateWidth","getNumberOfXTilesAtLevel","getNumberOfYTilesAtLevel","computeDegrees","tileXYToRectangle","west","south","computeProjected","tileXYToNativeRectangle","computeIJ","rectangleScratch","longitudeLatitudeProjectedScratch","computeLongitudeLatitudeProjected","projected","cartographicScratch","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_defineProperty","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","NewTarget","_superPropBase","_get","receiver","desc","getOwnPropertyDescriptor","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","minLen","arr2","ComponentType","HALF_ARROW","BEZIER","SPLINE","SWALLOW_TRAIL","TRAPEZOID","HALF_TRAPEZOID","HALF_SWALLOW_TRAIL","HALF_SPLINE","getLabel","component","lebel","getErrorMsg","controls","controlPointsCount","Component","_controls","_index","createNodes","_controlPointsCount","_nodes","baseLength","mid","_ref","thirdPoint","isClockWise","angleOfThreePoints","quadricBSpline","BezierCurve","HalfArrowComponent","_Component","_super","_this","_heightFactor","heightFactor","_neckHeightFactor","neckHeightFactor","_headWidthFactor","headWidthFactor","_neckWidthFactor","neckWidthFactor","_headMaxHeight","headMaxHeight","_headTailHeightFactor","headTailHeightFactor","neckWidth","neckHeight","tailControl","neckControl","tail","neck","completedNodes","ArrowComponent","_HalfArrowComponent","rightHalf","leftHalf","HalfTrapezoidComponent","_tailWidthFactor","tailWidthFactor","headControl","tailWidth","leftHead","leftTail","linkArrow","arrowNodes","bodyNodes","linkTail","tailNodes","TrapezoidComponent","_HalfTrapezoidCompone","Arrow","_headHeightFactor","headHeightFactor","_tailHeightFactor","tailHeightFactor","_headComponent","_bodyComponent","_tailComponent","_polygon","_polyline","postProcessing","pts","_this$polygon","_this$polyline","headComponent","bodyComponent","tailComponent","tNode","HalfSwallowTail","Infinity","_loop","newKey","StraightArrow","_Arrow","_tail","addControl","control","MIN_CONTROL_COUNT","popControl","updateControl","createHeadComponent","createBodyComponent","createTailComponent","SplineComponent","cts","tmpDis","_spline","SplineComponent$1","_HalfSplineComponent","leftNodes","rightNodes","AttackArrow","lastNode","_head1","_head2","_baseLength","DoubleArrow","MAX_CONTROL_COUNT","getPoints","tempPoint4","controls_","connectPoint","head1","head2","bodyControls","_bodyControls","getArrowControls","getBodyControls","bodyPoints","geoBodyPoints","_bodyControls2","_bodyPoints","connect","body1","body2","body3","neckControl1","neckControl2","d","ArrowType","straightarrow","attackarrow","doublearrow","ArrowGraphic","_arrowType","arrowType","ll","_arrow","updatePositions","updateEntity","PolylineGraphic","clampToGround","formatText","islast","preText","CartometryManager","labelStyle","polylineStyle","polygonStyle","pointStyle","defaultLabelStyle","disableDepthTestDistance","POSITIVE_INFINITY","_labelStyle","_polylineStyle","_polygonStyle","_pointStyle","_startMeasure","_stopMeasure","_addNode","defaultNode","defaultAuxiliary","_nodeMode","nodeMode","_auxiliaryGeometry","auxiliaryGeometry","_tip","_autoDepthTest","autoDepthTest","listening","auxiliarylineMaterial","PolylineDashMaterialProperty","_auxiliarylineMaterial","auxiliaryLineMaterial","auxiliarypolygonMaterial","_depthTestAgainstTerrain","_auxiliaryPolygonMaterial","auxiliaryPolygonMaterial","_listening","modeLabel","showNode","showAuxiliary","onClick","createNode","createAuxiliaryGraphic","addNode","tip","getAngle","createLabel","onrClick","getDistance","getArea","stopMeasure","onMousemove","LEFT_CLICK","RIGHT_CLICK","undefinesd","heights","valid","startMeasure","createPolyline","createPolygon","pointOptions","labelOptions","pg","pl","fromRadians","_createAuxiliaryGraphicforDisgance","_createAuxiliaryGraphicforHeight","_createAuxiliaryGraphicforAngle","isLast","Property","DynamicFadeMaterialProperty","_fadeInColor","fadeInColor","_fadeOutColor","fadeOutColor","_time","_repeat","repeat","_duration","_fadeDirection","fadeDirection","_maximumDistance","maximumDistance","FadeType","other","DynamicScanType","DynamicScanMaterialProperty","_count","DynamicSectorFadeType","_materialCache","addMaterial","fabric","sectorMaterialShaderSource","DynamicSectorFadeMaterialProperty","_image","DynamicSpreadType","gradient","spreadMaterialShaderSource","DynamicSpreadMaterialProperty","_gradient","DynamicSpreadWallType","wrapX","DynamicSpreadWallMaterialProperty","_wrapX","DynamicWareType","dynamicWareMaterialShaderSource","DynamicWareMaterialProperty","clamp","PolylineFlowType","polylineFlowShaderSource","PolylineFlowMaterialProperty","PolylineDynamicGlowType","glowPower","taperPower","polylineGlowMaterialShaderSource","PolylineGlowMaterialProperty","_taperPower","_glowPower","PolylineTrailLinkType","polylineTrailLinkMaterialShaderSource","PolylineTrailLinkMaterialProperty","WaterFaceAppearance","_baseWaterColor","baseWaterColor","_blendColor","blendColor","_frequency","frequency","_animationSpeed","animationSpeed","_amplitude","amplitude","_specularIntensity","specularIntensity","_fadeFactor","fadeFactor","_alpha","_material","WaterType","faceForward","vsTemplate","fsTemplate","BloomPass","kernelSizeArray","nMips","array","selectPass","PostProcessStage","selectFrag","blurX","createBlurPass","blurY","blurUnion","PostProcessStageComposite","bloomPass","bloomFrag","bloomStrength","bloomRadius","blurTexture1","blurTexture2","blurTexture3","blurTexture4","blurTexture5","bloomFactors","bloomTintColors","bloomPassComposite","inputPreviousStageTexture","kernelRadius","size","blurFrag","sampleMode","PostProcessStageSampleMode","PostProcessing","_options","_postProcessStage","createPostStage","CircleScan","cartographicCenter","maxRadius","scanColor","_Cartesian3Center","_Cartesian4Center","_CartographicCenter1","_Cartesian3Center1","_Cartesian4Center1","getTime","_scratchCartesian4Center","_scratchCartesian4Center1","_scratchCartesian3Normal","scanPostStage","_viewMatrix","temp1","RadarScan","cartographicCenter1","center1","cartographicCenter2","center2","rotateQ","rotateM","stratchCartesian3","u_center","u_planeNormal","u_lineNormal","tmp1","tmp2","normal2","time1","fromAxisAngle","fromQuaternion","SpecularReflection","UnrealBloomPass","factory","exports","mod","FileSaver","_global","bom","blob","autoBom","Blob","download","saveAs","corsEnabled","dispatchEvent","MouseEvent","createEvent","initMouseEvent","HTMLAnchorElement","webkitURL","rel","createObjectURL","revokeObjectURL","navigator","msSaveOrOpenBlob","popup","title","innerText","isSafari","HTMLElement","safari","isChromeIOS","userAgent","FileReader","reader","onloadend","readAsDataURL","html2canvas_default","module","html2canvas","this","extendStatics","__extends","__","__assign","assign","__awaiter","thisArg","_arguments","P","generator","fulfilled","rejected","__generator","sent","trys","ops","f","verb","op","Bounds","h","fromClientRect","clientRect","parseBounds","parseDocumentSize","scrollWidth","scrollHeight","toCodePoints","str","codePoints","fromCodePoint","_i","codeUnits","codePoint","chars","lookup","decode","base64","bufferLength","encoded1","encoded2","encoded3","encoded4","ArrayBuffer","bytes","polyUint16Array","polyUint32Array","UTRIE2_SHIFT_2","UTRIE2_SHIFT_1","UTRIE2_INDEX_SHIFT","UTRIE2_SHIFT_1_2","UTRIE2_LSCP_INDEX_2_OFFSET","UTRIE2_DATA_BLOCK_LENGTH","UTRIE2_DATA_MASK","UTRIE2_LSCP_INDEX_2_LENGTH","UTRIE2_INDEX_2_BMP_LENGTH","UTRIE2_UTF8_2B_INDEX_2_OFFSET","UTRIE2_UTF8_2B_INDEX_2_LENGTH","UTRIE2_INDEX_1_OFFSET","UTRIE2_OMITTED_BMP_INDEX_1_LENGTH","UTRIE2_INDEX_2_BLOCK_LENGTH","UTRIE2_INDEX_2_MASK","slice16","slice32","createTrieFromBase64","view32","view16","headerLength","Trie","errorValue","highStart","highValueIndex","LETTER_NUMBER_MODIFIER","BK","CR","LF","CM","NL","WJ","ZW","GL","SP","ZWJ","B2","BA","BB","HY","CB","CL","CP","EX","IN","NS","OP","QU","IS","NU","PO","PR","SY","AI","AL","CJ","EB","EM","H2","H3","HL","JL","JV","JT","RI","SA","XX","BREAK_MANDATORY","BREAK_NOT_ALLOWED","BREAK_ALLOWED","UnicodeTrie","ALPHABETICS","HARD_LINE_BREAKS","SPACE","PREFIX_POSTFIX","LINE_BREAKS","KOREAN_SYLLABLE_BLOCK","HYPHEN","codePointsToCharacterClasses","lineBreak","indicies","categories","classType","isAdjacentWithSpaceIgnored","currentIndex","classTypes","previousNonSpaceClassType","_lineBreakAtIndex","forbiddenBreaks","beforeIndex","afterIndex","prevIndex","cssFormattedClasses","wordBreak","_a","isLetterNumber","forbiddenBreakpoints","letterNumber","Break","required","LineBreaker","lastEnd","TokenType","FLAG_UNRESTRICTED","FLAG_ID","FLAG_INTEGER","FLAG_NUMBER","LINE_FEED","SOLIDUS","REVERSE_SOLIDUS","CHARACTER_TABULATION","SPACE$1","QUOTATION_MARK","EQUALS_SIGN","NUMBER_SIGN","DOLLAR_SIGN","PERCENTAGE_SIGN","APOSTROPHE","LEFT_PARENTHESIS","RIGHT_PARENTHESIS","LOW_LINE","HYPHEN_MINUS","EXCLAMATION_MARK","LESS_THAN_SIGN","GREATER_THAN_SIGN","COMMERCIAL_AT","LEFT_SQUARE_BRACKET","RIGHT_SQUARE_BRACKET","CIRCUMFLEX_ACCENT","LEFT_CURLY_BRACKET","QUESTION_MARK","RIGHT_CURLY_BRACKET","VERTICAL_LINE","TILDE","CONTROL","REPLACEMENT_CHARACTER","ASTERISK","PLUS_SIGN","COMMA","COLON","SEMICOLON","FULL_STOP","NULL","BACKSPACE","LINE_TABULATION","SHIFT_OUT","INFORMATION_SEPARATOR_ONE","DELETE","EOF","A","E","F","U","isDigit","isSurrogateCodePoint","isHex","isLowerCaseLetter","isUpperCaseLetter","isLetter","isNonASCIICodePoint","isWhiteSpace","isNameStartCodePoint","isNameCodePoint","isNonPrintableCodePoint","isValidEscape","c1","c2","isIdentifierStart","c3","isNumberStart","stringToNumber","integers","int","fraction","fracd","frac","expsign","exponent","exp","LEFT_PARENTHESIS_TOKEN","RIGHT_PARENTHESIS_TOKEN","COMMA_TOKEN","SUFFIX_MATCH_TOKEN","PREFIX_MATCH_TOKEN","COLUMN_TOKEN","DASH_MATCH_TOKEN","INCLUDE_MATCH_TOKEN","LEFT_CURLY_BRACKET_TOKEN","RIGHT_CURLY_BRACKET_TOKEN","SUBSTRING_MATCH_TOKEN","BAD_URL_TOKEN","BAD_STRING_TOKEN","CDO_TOKEN","CDC_TOKEN","COLON_TOKEN","SEMICOLON_TOKEN","LEFT_SQUARE_BRACKET_TOKEN","RIGHT_SQUARE_BRACKET_TOKEN","WHITESPACE_TOKEN","EOF_TOKEN","Tokenizer","_value","write","chunk","read","consumeToken","consumeCodePoint","consumeStringToken","peekCodePoint","flags","consumeName","HASH_TOKEN","reconsumeCodePoint","consumeNumericToken","e1","e2","e3","consumeIdentLikeToken","a1","a2","a3","AT_KEYWORD_TOKEN","u1","u2","consumeUnicodeRangeToken","consumeWhiteSpace","DELIM_TOKEN","digits","questionMarks","start_1","digit","UNICODE_RANGE_TOKEN","endDigits","consumeUrlToken","FUNCTION_TOKEN","IDENT_TOKEN","URL_TOKEN","stringToken","STRING_TOKEN","consumeBadUrlRemnants","consumeEscapedCodePoint","consumeStringSlice","SLICE_STACK_SIZE","amount","endingCodePoint","consumeNumber","repr","number","DIMENSION_TOKEN","PERCENTAGE_TOKEN","NUMBER_TOKEN","hex","hexCodePoint","Parser","_tokens","tokenizer","parseValue","parseComponentValue","parseValues","parseComponentValues","SyntaxError","reconsumeToken","consumeComponentValue","consumeSimpleBlock","consumeFunction","block","isEndingTokenFor","functionToken","cssFunction","FUNCTION","isDimensionToken","isNumberToken","isIdentToken","isStringToken","isIdentWithValue","nonWhiteSpace","nonFunctionArgSeparator","parseFunctionArgs","isLength","isLengthPercentage","parseLengthPercentageTuple","ZERO_LENGTH","FIFTY_PERCENT","HUNDRED_PERCENT","getAbsoluteValueForTuple","getAbsoluteValue","DEG","GRAD","RAD","TURN","isAngle","parseNamedSide","sideOrCorner","ident","deg","colorFunction","SUPPORTED_COLOR_FUNCTIONS","pack","namedColor","COLORS","TRANSPARENT","isTransparent","asString","blue","green","red","getTokenColorValue","rgb","_b","hue2rgb","t1","t2","hue","hsl","saturation","lightness","hsla","rgba","ALICEBLUE","ANTIQUEWHITE","AQUAMARINE","AZURE","BEIGE","BISQUE","BLACK","BLANCHEDALMOND","BLUE","BLUEVIOLET","BROWN","BURLYWOOD","CADETBLUE","CHARTREUSE","CHOCOLATE","CORAL","CORNFLOWERBLUE","CORNSILK","CRIMSON","CYAN","DARKBLUE","DARKCYAN","DARKGOLDENROD","DARKGRAY","DARKGREEN","DARKGREY","DARKKHAKI","DARKMAGENTA","DARKOLIVEGREEN","DARKORANGE","DARKORCHID","DARKRED","DARKSALMON","DARKSEAGREEN","DARKSLATEBLUE","DARKSLATEGRAY","DARKSLATEGREY","DARKTURQUOISE","DARKVIOLET","DEEPPINK","DEEPSKYBLUE","DIMGRAY","DIMGREY","DODGERBLUE","FIREBRICK","FLORALWHITE","FORESTGREEN","FUCHSIA","GAINSBORO","GHOSTWHITE","GOLDENROD","GRAY","GREEN","GREENYELLOW","GREY","HONEYDEW","HOTPINK","INDIANRED","INDIGO","IVORY","KHAKI","LAVENDER","LAVENDERBLUSH","LAWNGREEN","LEMONCHIFFON","LIGHTBLUE","LIGHTCORAL","LIGHTCYAN","LIGHTGOLDENRODYELLOW","LIGHTGRAY","LIGHTGREEN","LIGHTGREY","LIGHTPINK","LIGHTSALMON","LIGHTSEAGREEN","LIGHTSKYBLUE","LIGHTSLATEGRAY","LIGHTSLATEGREY","LIGHTSTEELBLUE","LIGHTYELLOW","LIME","LIMEGREEN","LINEN","MAGENTA","MAROON","MEDIUMAQUAMARINE","MEDIUMBLUE","MEDIUMORCHID","MEDIUMPURPLE","MEDIUMSEAGREEN","MEDIUMSLATEBLUE","MEDIUMSPRINGGREEN","MEDIUMTURQUOISE","MEDIUMVIOLETRED","MIDNIGHTBLUE","MINTCREAM","MISTYROSE","MOCCASIN","NAVAJOWHITE","NAVY","OLDLACE","OLIVE","OLIVEDRAB","ORANGE","ORANGERED","ORCHID","PALEGOLDENROD","PALEGREEN","PALETURQUOISE","PALEVIOLETRED","PAPAYAWHIP","PEACHPUFF","PERU","PINK","PLUM","POWDERBLUE","PURPLE","REBECCAPURPLE","ROSYBROWN","ROYALBLUE","SADDLEBROWN","SALMON","SANDYBROWN","SEAGREEN","SEASHELL","SIENNA","SILVER","SKYBLUE","SLATEBLUE","SLATEGRAY","SLATEGREY","SNOW","SPRINGGREEN","STEELBLUE","TAN","TEAL","THISTLE","TOMATO","TURQUOISE","VIOLET","WHEAT","WHITESMOKE","YELLOW","YELLOWGREEN","PropertyDescriptorParsingType","BACKGROUND_CLIP","LIST","PADDING_BOX","CONTENT_BOX","BORDER_BOX","backgroundColor","TYPE_VALUE","parseColorStop","color$1","processColorStops","stops","lineLength","processStops","previous","stop_1","absoluteValue","gapBegin","stop_2","gapLength","beforeGap","gapValue","getAngleFromCorner","corner","centerX","centerY","atan2","calculateGradientDirection","radian","halfWidth","halfHeight","halfLineLength","yDiff","xDiff","findCorner","corners","reduce","stat","cx","cy","optimumDistance","optimumCorner","calculateRadius","rx","ry","CSSRadialExtent","CLOSEST_SIDE","shape","CSSRadialShape","CIRCLE","ELLIPSE","CLOSEST_CORNER","FARTHEST_SIDE","FARTHEST_CORNER","linearGradient","angle$1","firstToken","colorStop","CSSImageType","LINEAR_GRADIENT","prefixLinearGradient","testRangeBounds","TEST_HEIGHT","createRange","range","testElement","selectNode","rangeBounds","rangeHeight","testCORS","Image","crossOrigin","testResponseType","testSVG","ctx","toDataURL","isGreenPixel","testForeignObject","fillStyle","fillRect","greenImageSrc","svg","createForeignObjectSVG","loadSerializedSVG","getImageData","backgroundImage","xmlns","createElementNS","foreignObject","setAttributeNS","XMLSerializer","serializeToString","FEATURES","SUPPORT_RANGE_BOUNDS","SUPPORT_SVG_DRAWING","SUPPORT_FOREIGNOBJECT_DRAWING","SUPPORT_CORS_IMAGES","SUPPORT_RESPONSE_TYPE","SUPPORT_CORS_XHR","Logger","info","instances","getInstance","CacheStorage","_caches","Cache","getOrigin","link","_link","hostname","port","isSameOrigin","_origin","setContext","_current","attachInstance","detachInstance","_cache","addImage","isBlobImage","isRenderable","useCORS","useProxy","isInlineImage","allowTaint","isInlineBase64Image","imageTimeout","reader_1","timeout_1","INLINE_SVG","INLINE_BASE64","INLINE_IMG","isSVG","substr","webkitGradient","RADIAL_GRADIENT","COVER","CONTAIN","radialGradient","isColorStop","isAtPosition_1","acc","prefixRadialGradient","isLinearGradient","background","isRadialGradient","image_1","imageFunction","SUPPORTED_IMAGE_FUNCTIONS","isSupportedImage","backgroundOrigin","backgroundPosition","BACKGROUND_REPEAT","backgroundRepeat","parseBackgroundRepeat","NO_REPEAT","REPEAT_X","REPEAT_Y","BACKGROUND_SIZE","backgroundSize","isBackgroundSizeInfoToken","borderColorForSide","side","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderRadiusForSide","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","BORDER_STYLE","borderStyleForSide","IDENT_VALUE","SOLID","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderWidthForSide","VALUE","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","bit","parseDisplayValue","float","LEFT","RIGHT","INLINE_START","INLINE_END","LINE_BREAK","STRICT","NORMAL","TOKEN_VALUE","computeLineHeight","fontSize","listStyleImage","LIST_STYLE_POSITION","listStylePosition","OUTSIDE","LIST_STYLE_TYPE","listStyleType","DISC","SQUARE","DECIMAL","CJK_DECIMAL","DECIMAL_LEADING_ZERO","LOWER_ROMAN","UPPER_ROMAN","LOWER_GREEK","LOWER_ALPHA","UPPER_ALPHA","ARABIC_INDIC","ARMENIAN","BENGALI","CAMBODIAN","CJK_EARTHLY_BRANCH","CJK_HEAVENLY_STEM","CJK_IDEOGRAPHIC","DEVANAGARI","ETHIOPIC_NUMERIC","GEORGIAN","GUJARATI","GURMUKHI","HEBREW","HIRAGANA","HIRAGANA_IROHA","JAPANESE_FORMAL","JAPANESE_INFORMAL","KANNADA","KATAKANA","KATAKANA_IROHA","KHMER","KOREAN_HANGUL_FORMAL","KOREAN_HANJA_FORMAL","KOREAN_HANJA_INFORMAL","LAO","LOWER_ARMENIAN","MALAYALAM","MONGOLIAN","MYANMAR","ORIYA","PERSIAN","SIMP_CHINESE_FORMAL","SIMP_CHINESE_INFORMAL","TAMIL","TELUGU","THAI","TIBETAN","TRAD_CHINESE_FORMAL","TRAD_CHINESE_INFORMAL","UPPER_ARMENIAN","DISCLOSURE_OPEN","DISCLOSURE_CLOSED","marginForSide","marginTop","marginRight","marginBottom","OVERFLOW","HIDDEN","SCROLL","AUTO","VISIBLE","OVERFLOW_WRAP","overflowWrap","BREAK_WORD","paddingForSide","paddingTop","paddingRight","paddingBottom","paddingLeft","TEXT_ALIGN","textAlign","CENTER","RELATIVE","ABSOLUTE","FIXED","STICKY","STATIC","textShadow","shadow","TEXT_TRANSFORM","textTransform","UPPERCASE","LOWERCASE","CAPITALIZE","transformFunction","SUPPORTED_TRANSFORM_FUNCTIONS","matrix3d","b1","b2","_c","_d","_e","_f","_g","_h","a4","b4","_j","_k","DEFAULT_VALUE","transformOrigin","origins","VISIBILITY","COLLAPSE","WORD_BREAK","BREAK_ALL","KEEP_ALL","auto","textDecorationColor","textDecorationLine","fontFamily","accumulator","fontVariant","FONT_STYLE","fontStyle","OBLIQUE","ITALIC","counterIncrement","increments","filtered","counter","increment","counterReset","resets","quotes","open_1","close_1","close","getQuote","quote","boxShadow","spread","inset","CSSParsedDeclaration","declaration","cssFloat","overflowTuple","isVisible","isTransformed","isPositioned","isPositionedWithZIndex","isFloating","isInlineLevel","CSSParsedPseudoDeclaration","CSSParsedCounterDeclaration","parser","length_1","value_1","ElementContainer","element","textNodes","isHTMLElementNode","bounds","TextBounds","parseTextBounds","textList","breakText","textBounds","getRangeBounds","replacementNode","splitText","getWrapperBounds","wrapper","setStart","setEnd","breakWords","breaker","words","bk","TextContainer","transform$1","capitalize","ImageElementContainer","currentSrc","intrinsicWidth","naturalWidth","intrinsicHeight","naturalHeight","CanvasElementContainer","SVGElementContainer","baseVal","LIElementContainer","OLElementContainer","reversed","CHECKBOX_BORDER_RADIUS","RADIO_BORDER_RADIUS","reformatInputBounds","getInputValue","PASSWORD","placeholder","CHECKBOX","RADIO","INPUT_COLOR","InputElementContainer","SelectElementContainer","TextareaElementContainer","parseColor","IFrameElementContainer","iframe","contentWindow","tree","parseTree","documentBackgroundColor","bodyBackgroundColor","LIST_OWNERS","parseNodeTree","childNode","nextNode","isTextNode","isElementNode","createContainer","createsRealStackingContext","createsStackingContext","tagName","isTextareaElement","isSVGElement","isSelectElement","isImageElement","isCanvasElement","isLIElement","isOLElement","isInputElement","isIFrameElement","isBodyElement","Node","TEXT_NODE","ELEMENT_NODE","isSVGElementNode","isHTMLElement","isStyleElement","isScriptElement","CounterState","counters","getCounterValue","getCounterValues","canReset","entry","counterNames","ROMAN_UPPER","createAdditiveCounter","symbols","fallback","createCounterText","integer","createCounterStyleWithSymbolResolver","codePointRangeLength","resolver","createCounterStyleFromRange","codePointRangeStart","codePointRangeEnd","createCounterStyleFromSymbols","CJK_ZEROS","CJK_TEN_COEFFICIENTS","CJK_TEN_HIGH_COEFFICIENTS","CJK_HUNDRED_COEFFICIENTS","createCJKCounter","numbers","multipliers","negativeSign","coefficient","CHINESE_INFORMAL_MULTIPLIERS","CHINESE_FORMAL_MULTIPLIERS","JAPANESE_NEGATIVE","KOREAN_NEGATIVE","appendSuffix","defaultSuffix","cjkSuffix","koreanSuffix","spaceSuffix","IGNORE_ATTRIBUTE","DocumentCloner","scrolledElements","referenceElement","quoteDepth","toIFrame","windowSize","createIFrameContainer","scrollX","scrollY","cloneWindow","documentClone","iframeLoad","iframeLoader","onclone","restoreNodeScroll","clonedReferenceElement","fonts","serializeDoctype","doctype","restoreOwnerScroll","adoptNode","createElementClone","createCanvasClone","createStyleClone","loading","sheet","cssRules","rule","inlineImages","clonedCanvas","clonedCtx","putImageData","styleBefore","styleAfter","createPseudoHideStyles","resolvePseudoContent","PseudoElementType","BEFORE","hasAttribute","ignoreElements","copyStyles","AFTER","copyCSSStyles","pseudoElt","anonymousReplacedElement","counterStyle","counterState","counterType","delim","counterStates","counterType_1","separator","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","newClassName","baseValue","cloneIframeContainer","scrolling","setInterval","clearInterval","item","internalSubset","publicId","systemId","PSEUDO_BEFORE","PSEUDO_AFTER","PSEUDO_HIDE_ELEMENT_STYLE","createStyles","PathType","equalPath","some","transformPath","deltaX","deltaY","deltaW","deltaH","Vector","VECTOR","lerp","startControl","endControl","BEZIER_CURVE","subdivide","firstHalf","ab","bc","cd","abbc","bccd","isBezierCurve","BoundCurves","tlh","tlv","trh","trv","brh","brv","blh","blv","factors","maxFactor","topWidth","rightHeight","bottomWidth","leftHeight","topLeftBorderBox","getCurvePoints","CORNER","TOP_LEFT","topRightBorderBox","TOP_RIGHT","bottomRightBorderBox","BOTTOM_RIGHT","bottomLeftBorderBox","BOTTOM_LEFT","topLeftPaddingBox","topRightPaddingBox","bottomRightPaddingBox","bottomLeftPaddingBox","topLeftContentBox","topRightContentBox","bottomRightContentBox","bottomLeftContentBox","r1","r2","kappa","ox","oy","xm","ym","calculateBorderBoxPath","calculateContentBoxPath","calculatePaddingBoxPath","TransformEffect","ClipEffect","isTransformEffect","effect","isClipEffect","StackingContext","inlineLevel","nonInlineLevel","negativeZIndex","zeroOrAutoZIndexOrTransformedOrOpacity","positiveZIndex","nonPositionedFloats","nonPositionedInlineLevel","ElementPaint","parentStack","effects","borderBox","paddingBox","getParentEffects","parseStackTree","stackingContext","realStackingContext","listItems","treatAsRealStackingContext","paintContainer","listOwnerItems","order_1","index_1","index_2","processListItems","numbering","listValue","parseStackingContexts","parsePathForBorder","borderSide","createPathFromCurves","outer1","inner1","outer2","inner2","contentBox","calculateBackgroundPositioningArea","calculateBackgroundPaintingArea","calculateBackgroundRendering","intrinsicSize","backgroundPositioningArea","getBackgroundValueForIndex","backgroundPaintingArea","backgroundImageSize","calculateBackgroundSize","sizeWidth","sizeHeight","calculateBackgroundRepeatPath","isAuto","hasIntrinsicValue","intrinsicProportion","hasIntrinsicProportion","targetRatio","hasIntrinsicWidth","hasIntrinsicHeight","hasIntrinsicDimensions","width_1","height_1","width_2","height_2","width_3","height_3","SMALL_IMAGE","SAMPLE_TEXT","FontMetrics","_document","parseMetrics","span","verticalAlign","baseline","offsetTop","middle","getMetrics","MASK_OFFSET","CanvasRenderer","_activeEffects","fontMetrics","textBaseline","applyEffects","popEffect","applyEffect","save","clip","restore","renderStack","globalAlpha","renderStackContent","renderNode","paint","renderNodeBackgroundAndBorders","renderNodeContent","renderTextWithLetterSpacing","fillText","letters","measureText","createFontStyle","variant","renderTextNode","textShadows","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","renderReplacedElement","e_1","e_2","iframeRenderer","e_3","windowWidth","windowHeight","fill","beginPath","arc","isTextInputElement","canvasTextAlign","_l","_m","_o","_p","mask","paths","moveTo","lineTo","formatPath","closePath","bezierCurveTo","renderRepeat","resizeImage","renderBackgroundImage","_loop_1","this_1","e_4","x0","x1","y0","y1","gradient_1","top_1","radialGradient_1","midX","midY","invF","createPattern","createLinearGradient","addColorStop","createRadialGradient","renderBorder","curvePoints","hasBackground","borders","borders_1","calculateBackgroundCurvedPaintingArea","borderBoxArea","maskOffset","shadowPaintingArea","ForeignObjectRenderer","loadSerializedSVG$1","parseColor$1","renderElement","instanceName","defaultResourceOptions","resourceOptions","defaultOptions","windowBounds","documentCloner","clonedElement","bgColor","defaultBackgroundColor","renderOptions","renderer","logging","removeContainer","foreignObjectRendering","devicePixelRatio","innerWidth","innerHeight","bitsToNum","ba","byteToBitArr","bite","Stream","readByte","readBytes","readUnsigned","lzwDecode","minCodeSize","readCode","clearCode","eoiCode","codeSize","dict","parseGIF","st","parseCT","entries","readSubBlocks","parseHeader","sig","ver","bits","gctFlag","colorRes","sorted","gctSize","pixelAspectRatio","gct","parseExt","parseGCExt","blockSize","reserved","disposalMethod","userInput","transparencyGiven","delayTime","transparencyIndex","terminator","gce","parseComExt","comment","com","parsePTExt","ptHeader","ptData","pte","parseAppExt","parseNetscapeExt","unknown","iterations","app","NETSCAPE","parseUnknownAppExt","appData","authCode","parseUnknownExt","extType","parseImg","deinterlace","pixels","newPixels","rows","cpRow","toRow","fromRow","fromPixels","offsets","steps","leftPos","topPos","lctFlag","interlaced","lctSize","lct","lzwMinCodeSize","lzwData","parseBlock","sentinel","eof","SuperGif","vp_l","vp_t","vp_w","vp_h","c_w","c_h","is_vp","stream","loadError","transparency","disposalRestoreFromIdx","lastDisposalMethod","frame","lastImg","playing","ctx_scaled","frames","frameOffsets","gif","auto_play","onEndListener","on_end","loopDelay","loop_delay","overrideLoopMode","loop_mode","drawWhileLoading","draw_while_loading","showProgressBar","show_progress_bar","progressBarHeight","progressbar_height","progressBarBackgroundColor","progressbar_background_color","progressBarForegroundColor","progressbar_foreground_color","doParse","doLoadError","setSizes","get_canvas_scale","toolbar","tmpCanvas","setTransform","setFrameOffset","doShowProgress","originOfError","drawError","strokeStyle","lineWidth","stroke","doHdr","doGCE","pushFrame","doImg","currIdx","clearRect","imgData","player","iterationCount","getNextFrameNo","stepFrame","putFrame","stepping","completeLoop","doStep","nextFrameNo","globalCompositeOperation","play","pause","move_relative","current_frame","move_to","frame_idx","doDecodeProgress","doNothing","withProgress","load_callback","max_width","load_setup","calculateDuration","get_playing","get_canvas","get_loading","get_auto_play","get_length","get_frames","get_duration","get_duration_ms","get_current_frame","load_url","onloadstart","VBArray","onprogress","lengthComputable","loaded","load_raw","set_frame_offset","NetCDFReaderExport","webpackUniversalModuleDefinition","modules","installedModules","__webpack_require__","moduleId","toStringTag","__esModule","ns","getDefault","getModuleExports","notNetcdf","statement","reason","readName","nameLength","readUint32","readChars","stringFromCharCode","ucs2decode","ucs2encode","checkScalarValue","createByte","encodeCodePoint","symbol","utf8encode","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","utf8decode","encode","BYTE","CHAR","SHORT","INT","DOUBLE","num2str","num2bytes","str2num","readNumber","bufferReader","readType","trimNull","readInt16","readInt32","readFloat32","readFloat64","IOBuffer","utils","readHeader","NetCDFReader","setBigEndian","globalAttributes","variableName","variable","getDataVariable","variables","seek","record","recordDimension","nonRecord","__webpack_exports__","utf8__WEBPACK_IMPORTED_MODULE_0__","defaultByteLength","dataIsGiven","lastWrittenByte","dvOffset","isView","littleEndian","DataView","_mark","_marks","available","lengthNeeded","newLength","newArray","readUint8","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","readInt8","readChar","bString","writeUint8","ensureAvailable","setInt8","_updateLastWrittenByte","setUint8","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","writeChars","recordStep","currentOffset","NC_DIMENSION","NC_VARIABLE","NC_ATTRIBUTE","dimList","dimensionsList","recordId","recordName","attributesList","variablesList","NC_UNLIMITED","dimensionSize","dim","gAttList","attributeSize","gAtt","varList","variableSize","dimensionality","dimensionsIds","varSize","padEnd","PBF","Pbf","buf","Bytes","readVarint","realloc","LN2","writeVarint","writeSVarint","writeFloat","writeDouble","writeBoolean","writeFixed32","writeSFixed32","writeFixed64","writeSFixed64","V","M","S","B","Varint","Fixed64","Fixed32","readFields","readMessage","readFixed32","readSFixed32","readFixed64","readSFixed64","readFloat","readDouble","readVarint64","readSVarint","readBoolean","Boolean","readString","subarray","readPackedVarint","readPackedSVarint","readPackedBoolean","readPackedFloat","readPackedDouble","readPackedFixed32","readPackedSFixed32","readPackedFixed64","readPackedSFixed64","writeTag","writeString","writeBytes","writeRawMessage","writeMessage","writePackedVarint","writePackedSVarint","writePackedBoolean","writePackedFloat","writePackedDouble","writePackedFixed32","writePackedSFixed32","writePackedFixed64","writePackedSFixed64","writeBytesField","writeFixed32Field","writeSFixed32Field","writeFixed64Field","writeSFixed64Field","writeVarintField","writeSVarintField","writeStringField","writeFloatField","writeDoubleField","writeBooleanField","ieee754","array_cancel","_array","array_read","ArraySource","cancel","fetchPath","getReader","requestPath","slice_cancel","_source","slice_read","slice_slice","SliceSource","dbf_cancel","readDate","C","D","L","N","dbf_read","_recordLength","_fields","_decode","dbf","decoder","Dbf","parseMultiPoint","parseNull","parsePoint","parsePolygon","polygons","holes","ringClockwise","hole","ringContainsSome","ringContains","pi","xi","yi","pj","xj","yj","segmentContains","p0","x20","y20","x10","y10","parsePolyLine","concat$1","shp_read","_parse","parsers","shp","Shp","prototype$2","shapefile_cancel","_dbf","_shp","shapefile_read","shapefile","shpSource","dbfSource","Shapefile","shp$$1","dbf$$1","prototype$1","encoding","TextDecoder","openShp","openDbf","VERSION"],"mappings":"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"}